Index: app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.adapter.CarouselAdapter;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.adapter.EndlessRecyclerViewScrollListener;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\nimport com.example.agrimart.ui.Explore.ExploreFragment;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\nimport com.example.agrimart.viewmodel.HomeFragmentViewModel;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    private static final String TAG = \"HomeFragment\";\r\n    ImageButton btnSearch;\r\n    TextView search;\r\n    HomeFragmentViewModel viewModel;\r\n    FragmentHomeBinding binding;\r\n    EndlessRecyclerViewScrollListener scrollListener;\r\n    private int totalPages;\r\n    private int currentPage = 1;\r\n    private List<Product> products=new ArrayList<>();\r\n    private DocumentSnapshot lastVisible;\r\n    ProductAdapter productAdapter;\r\n    private boolean isLoading = false;\r\n    private ViewPager2 carouselViewPager;\r\n    private CarouselAdapter carouselAdapter;\r\n    private Handler carouselHandler;\r\n    private Runnable carouselRunnable;\r\n\r\n    public HomeFragment() {\r\n\r\n    }\r\n\r\n    public static HomeFragment newInstance() {\r\n        return new HomeFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        db.collection(\"products\")\r\n                .whereEqualTo(\"status\", \"available\")\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        totalPages= (task.getResult().size()/10)+1;\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_home, container, false);\r\n        viewModel = new ViewModelProvider(this).get(HomeFragmentViewModel.class);\r\n\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding.setViewmodel(viewModel);\r\n        View view = binding.getRoot();\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getActivity().getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        viewModel.getCategories();\r\n//        viewModel.getFirstProducts();\r\n\r\n        viewModel.categories.observe(getViewLifecycleOwner(), categories -> {\r\n            if (categories != null) {\r\n                CategoryAdapter categoryAdapter = new CategoryAdapter(categories, category -> {\r\n                    // Khi chọn một category, chuyển đến ExploreFragment và chọn mục category\r\n                    ExploreFragment newFragment = new ExploreFragment(category.getId());\r\n\r\n                    // Thay đổi mục đã chọn trong BottomNavigationView\r\n                    BottomNavigationView bottomNavigationView = getActivity().findViewById(R.id.bottomNavigation);\r\n                    if (bottomNavigationView != null) {\r\n                        bottomNavigationView.setSelectedItemId(R.id.category); // Chọn mục category\r\n                    }\r\n\r\n                    loadFragment(newFragment);\r\n                });\r\n\r\n                binding.rvCategories.setAdapter(categoryAdapter);\r\n                binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));\r\n                Log.d(TAG, \"Categories loaded: \" + categories.size());\r\n            }\r\n        });\r\n\r\n//        viewModel.products.observe(getViewLifecycleOwner(), products -> {\r\n//            if (products != null) {\r\n//                productAdapter = new ProductAdapter(products, product -> {\r\n//                    try {\r\n//                        Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n//                        intent.putExtra(\"product\", product);\r\n//                        intent.putExtra(\"storeId\", product.getStoreId());\r\n//                        startActivity(intent);\r\n//                    } catch (Exception e) {\r\n//\r\n//                    }\r\n//                });\r\n//                GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(), 2);\r\n//                binding.rvProducts.setLayoutManager(gridLayoutManager);\r\n//                binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n//                binding.rvProducts.setAdapter(productAdapter);\r\n//\r\n//            }\r\n//        });\r\n        getFirstProducts();\r\n        productAdapter= new ProductAdapter(products, product -> {\r\n            try {\r\n                Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n                intent.putExtra(\"product\", product);\r\n                intent.putExtra(\"storeId\", product.getStoreId());\r\n                startActivity(intent);\r\n            } catch (Exception e) {\r\n\r\n            }\r\n        });\r\n        GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(), 2);\r\n        binding.rvProducts.setLayoutManager(gridLayoutManager);\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n\r\n\r\n\r\n\r\n\r\n\r\n        binding.scrollView.setOnScrollChangeListener(new View.OnScrollChangeListener() {\r\n            @Override\r\n            public void onScrollChange(View view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\r\n                int scrollViewHeight = binding.scrollView.getChildAt(0).getMeasuredHeight();\r\n                int scrollViewVisibleHeight = binding.scrollView.getHeight();\r\n\r\n                if (scrollY + scrollViewVisibleHeight >= scrollViewHeight) {\r\n\r\n                    if (!isLoading) {\r\n                        isLoading = true;\r\n                        binding.seeAll1.setVisibility(View.VISIBLE);\r\n\r\n                        new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                getMoreProducts();\r\n                            }\r\n                        }, 2000);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        addControls(view);\r\n        addEvents();\r\n        setupCarousel();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void setupCarousel() {\r\n        carouselViewPager = binding.carouselViewpager;\r\n        carouselAdapter = new CarouselAdapter(getCarouselItems());\r\n        carouselViewPager.setAdapter(carouselAdapter);\r\n\r\n        carouselHandler = new Handler(Looper.getMainLooper());\r\n        carouselRunnable = () -> {\r\n            int currentItem = carouselViewPager.getCurrentItem();\r\n            int nextItem = (currentItem + 1) % carouselAdapter.getItemCount();\r\n            carouselViewPager.setCurrentItem(nextItem, true);\r\n            carouselHandler.postDelayed(carouselRunnable, 10000);\r\n        };\r\n        carouselHandler.postDelayed(carouselRunnable, 10000);\r\n    }\r\n\r\n    private List<String> getCarouselItems() {\r\n        List<String> items = new ArrayList<>();\r\n        items.add(\"https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/categories%2Fgiavi.jpg?alt=media&token=3670aa28-c5ff-483c-bf9a-3325bf48ce9c\");\r\n        items.add(\"https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/categories%2Fgiavi.jpg?alt=media&token=3670aa28-c5ff-483c-bf9a-3325bf48ce9c\");\r\n        items.add(\"https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/categories%2Fgiavi.jpg?alt=media&token=3670aa28-c5ff-483c-bf9a-3325bf48ce9c\");\r\n        return items;\r\n    }\r\n\r\n    private void addEvents() {\r\n        btnSearch.setOnClickListener(v -> {\r\n            Intent intent = new Intent(getActivity(), SearchActivity.class);\r\n            getActivity().startActivity(intent);\r\n        });\r\n\r\n        search.setOnClickListener(v -> {\r\n            Intent intent = new Intent(getContext(), SearchActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void addControls(View view) {\r\n        btnSearch = view.findViewById(R.id.search_icon);\r\n        search = view.findViewById(R.id.search_input);\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getActivity().getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n    public void getFirstProducts(){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        Query first= db.collection(\"products\")\r\n                .whereEqualTo(\"status\", \"available\")\r\n                .limit(10);\r\n\r\n        first.get()\r\n                .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                        List<Product> productList = queryDocumentSnapshots.toObjects(Product.class);\r\n                        products.addAll(productList);\r\n                        productAdapter.notifyDataSetChanged();\r\n\r\n                        lastVisible=queryDocumentSnapshots.getDocuments()\r\n                                .get(queryDocumentSnapshots.size()-1);\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void getMoreProducts(){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        Query next= db.collection(\"products\")\r\n                .whereEqualTo(\"status\", \"available\")\r\n                .startAfter(lastVisible)\r\n                .limit(10);\r\n\r\n        next.get()\r\n                .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n\r\n                        List<Product> newList = queryDocumentSnapshots.toObjects(Product.class);\r\n\r\n                        products.addAll(newList);\r\n                        productAdapter.notifyDataSetChanged();\r\n                        isLoading=false;\r\n\r\n                        if(!newList.isEmpty()){\r\n                            lastVisible=queryDocumentSnapshots.getDocuments()\r\n                                    .get(queryDocumentSnapshots.size()-1);\r\n                        }\r\n                        currentPage+=1;\r\n                        if(currentPage==totalPages){\r\n                            binding.seeAll1.setVisibility(View.GONE);\r\n                        }\r\n                        binding.seeAll1.setVisibility(View.GONE);\r\n\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
--- a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(revision 9b2cfcc895199c4804a498e0a7c51380c063fdbf)
+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(date 1731495017812)
@@ -1,5 +1,6 @@
 package com.example.agrimart.ui.Homepage;
 
+import android.annotation.SuppressLint;
 import android.content.Intent;
 import android.os.Build;
 import android.os.Bundle;
@@ -10,6 +11,7 @@
 import androidx.lifecycle.MutableLiveData;
 import androidx.lifecycle.ViewModelProvider;
 import androidx.recyclerview.widget.GridLayoutManager;
+import androidx.recyclerview.widget.LinearLayoutManager;
 import androidx.recyclerview.widget.RecyclerView;
 import androidx.viewpager2.widget.ViewPager2;
 
@@ -86,6 +88,7 @@
     }
 
 
+    @SuppressLint("NewApi")
     @Override
     public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
         binding = DataBindingUtil.inflate(inflater, R.layout.fragment_home, container, false);
@@ -113,15 +116,14 @@
                     // Thay đổi mục đã chọn trong BottomNavigationView
                     BottomNavigationView bottomNavigationView = getActivity().findViewById(R.id.bottomNavigation);
                     if (bottomNavigationView != null) {
-                        bottomNavigationView.setSelectedItemId(R.id.category); // Chọn mục category
+                        bottomNavigationView.setSelectedItemId(R.id.category);
                     }
 
                     loadFragment(newFragment);
                 });
 
                 binding.rvCategories.setAdapter(categoryAdapter);
-                binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));
-                Log.d(TAG, "Categories loaded: " + categories.size());
+                binding.rvCategories.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.HORIZONTAL, false));
             }
         });
 
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <string name=\"app_name\">AgriMart</string>\r\n    <string name=\"categories\">Danh mục sản phẩm</string>\r\n    <string name=\"see_all\">Xem thêm</string>\r\n    <string name=\"top_selling\">Bán chạy nhất</string>\r\n    <string name=\"home\">Trang chủ</string>\r\n    <string name=\"profile\">Tôi</string>\r\n    <string name=\"order\">Order</string>\r\n    <string name=\"newsfeed\">Tin mới</string>\r\n    <string name=\"post\">Đăng bài</string>\r\n    <string name=\"cart\">Giỏ hàng</string>\r\n    <string name=\"ng_b_n\">Đăng bán</string>\r\n    <string name=\"cho\">Chợ</string>\r\n    <string name=\"search_hint\">tim kiem san pham</string>\r\n    <string name=\"search\">Tìm kiếm sản phẩm</string>\r\n    <string name=\"ng_nh_p\">Đăng nhập</string>\r\n    <string name=\"ch_a_c_t_i_kho_n\"><u>Chưa có tài khoản?</u></string>\r\n    <string name=\"m_t_kh_u\">Mật khẩu</string>\r\n    <string name=\"continue_with_google\"> Đăng nhập bằng Google</string>\r\n    <string name=\"dang_ky\">Chưa có tài khoản? <b>Đăng ký</b></string>\r\n    <string name=\"c_t_i_kho_n\"><u>Đã có tài khoản?</u></string>\r\n    <string name=\"ng_k_b_ng_s_i_n_tho_i\">Đăng ký bằng số điện thoại</string>\r\n    <string name=\"ng_k_b_ng_email\">Đăng ký bằng email</string>\r\n    <string name=\"qu_n_m_t_kh_u\">Quên mật khẩu?</string>\r\n    <string name=\"nh_p_email_ho_c_s_i_n_tho_i\">Nhập email hoặc số điện thoại</string>\r\n    <string name=\"sodienthoai\">Số điện thoại</string>\r\n    <string name=\"g_i_l_i\"><u>Gửi lại</u></string>\r\n\r\n\r\n    <!-- PostProduct -->\r\n    <string name=\"nh_p_s_l_ng_c_n_b_n\">Your desired text here</string>\r\n    <string name=\"desc_vegetable\">Rau củ quả</string>\r\n    <string name=\"desc_fruit\">Trái cây</string>\r\n    <string name=\"desc_meat_eggs\">Trứng, thịt</string>\r\n    <string name=\"desc_milk\">Sữa, bơ, phô mai</string>\r\n    <string name=\"desc_sweets\">Bánh kẹo</string>\r\n    <string name=\"nh_s_n_ph_m_th_c_t\">Ảnh sản phẩm thực tế</string>\r\n    <string name=\"th_m_nh\">Thêm ảnh</string>\r\n    <string name=\"todo\">TODO</string>\r\n    <string name=\"t_n_s_n_ph_m\">Tên sản phẩm</string>\r\n    <string name=\"c_i_t_n_n_i_l_n_t_t_c_s_gi_p_ch_r_t_nhi_u_y\">Cái tên nói lên tất cả sẽ giúp ích rất nhiều đấy</string>\r\n    <string name=\"m_t_s_n_ph_m\">Mô tả sản phẩm</string>\r\n    <string name=\"m_t_o_n_v_n_m_t_y_s_gi_p_s_n_ph_m_c_a_b_n_b_n_d_h_n\">Một đoạn văn mô tả đầy đủ sẽ giúp sản phẩm của bạn bán dễ hơn</string>\r\n    <string name=\"ph_n_lo_i_s_n_ph_m\">Phân loại sản phẩm</string>\r\n    <string name=\"rau_c\">Rau củ</string>\r\n    <string name=\"tr_i_c_y\">Trái cây</string>\r\n    <string name=\"th_t_tr_ng\">Thịt, Trứng</string>\r\n    <string name=\"s_a_b_ph_mai\">Sữa, bơ, phô mai</string>\r\n    <string name=\"ng_t\">Đồ ngọt</string>\r\n    <string name=\"ti_p_t_c\">Tiếp tục</string>\r\n    <string name=\"gi_b_n\">Giá bán</string>\r\n    <string name=\"n_v\">Đơn vị </string>\r\n    <string name=\"hi_n_c\">Hiện có</string>\r\n    <string name=\"nh_p_gi_b_n\">Nhập giá bán</string>\r\n    <string name=\"nh_p_n_v_kg_ch_c_c_i\">Nhập đơn vị (kg, chục, cái)</string>\r\n    <string name=\"_200kg\">200kg</string>\r\n    <string name=\"s_u_ri_ng_lan_t_a\">Sầu riêng lan tỏa</string>\r\n    <string name=\"_20_ng_i_ang_h_i\">20 người đang hỏi</string>\r\n    <string name=\"dang_san_pham\">ĐĂNG SẢN PHẨM</string>\r\n    <string name=\"frash_fruits_vegetable\"><![CDATA[Frash Fruits & Vegetable]]></string>\r\n    <string name=\"add_cart\">Thêm vào giỏ hàng</string>\r\n    <string name=\"product_name\">Tên sản phẩm</string>\r\n    <string name=\"price\">50.000đ</string>\r\n    <string name=\"address\">123 Lê Trọng Tấn, Quận Tân Phú, TP.HCM</string>\r\n    <string name=\"description\">Mô tả chi tiết</string>\r\n    <string name=\"descriptions\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</string>\r\n    <string name=\"user_review\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</string>\r\n    <string name=\"my_cart\">Giỏ hàng</string>\r\n    <string name=\"notification_time\">1 phút trước</string>\r\n    <string name=\"notification_message\">Khánh vừa đặt mua sản phẩm của bạn: Chuối nhà trồng...</string>\r\n    <string name=\"cate\">Gian hàng</string>\r\n    <string name=\"t_m_theo_danh_m_c\">Tìm theo danh mục</string>\r\n    <string name=\"thong_bao\">Thông báo</string>\r\n    <string name=\"n_h_ng\">Đơn hàng</string>\r\n    <string name=\"_0\">0</string>\r\n    <string name=\"ch_l_y_h_ng\">Chờ lấy hàng</string>\r\n    <string name=\"n_h_y\">Đơn hủy</string>\r\n    <string name=\"tr_h_ng_ho_n_ti_n\">Trả hàng/Hoàn tiền</string>\r\n\r\n    <string-array name=\"filter_options\">\r\n        <item>Sort by Price</item>\r\n        <item>Newest</item>\r\n        <item>Oldest</item>\r\n    </string-array>\r\n\r\n    <style name=\"TabTextAppearance\" parent=\"TextAppearance.Design.Tab\">\r\n        <item name=\"android:textSize\">16sp</item>\r\n        <item name=\"android:textColor\">@color/black</item>\r\n        <item name=\"android:textStyle\">bold</item>\r\n    </style>\r\n\r\n    <string name=\"default_web_client_id\">689266518488-dggpokj3cbc4t7hoa53j2vsa6vt59qi4.apps.googleusercontent.com</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n    <string name=\"email\">Email</string>\r\n\r\n    //facebook\r\n    <string name=\"loginwithfacebook\">Đăng nhập bằng Facebook</string>\r\n    <string name=\"facebook_app_id\">456355280794721</string>\r\n    <string name=\"fb_login_protocol_scheme\">fb456355280794721</string>\r\n    <string name=\"facebook_client_token\">fbc7722b3ad7a34dbf443766e81403c1</string>\r\n    <string name=\"facebook_app_secret\">239308944b7f4f13d8ed33f56b79c7cc</string>\r\n    <!-- Strings used for fragments for navigation -->\r\n    <string name=\"first_fragment_label\">First Fragment</string>\r\n    <string name=\"second_fragment_label\">Second Fragment</string>\r\n    <string name=\"next\">Next</string>\r\n    <string name=\"previous\">Previous</string>\r\n\r\n    <string name=\"lorem_ipsum\">\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam in scelerisque sem. Mauris\r\n        volutpat, dolor id interdum ullamcorper, risus dolor egestas lectus, sit amet mattis purus\r\n        dui nec risus. Maecenas non sodales nisi, vel dictum dolor. Class aptent taciti sociosqu ad\r\n        litora torquent per conubia nostra, per inceptos himenaeos. Suspendisse blandit eleifend\r\n        diam, vel rutrum tellus vulputate quis. Aliquam eget libero aliquet, imperdiet nisl a,\r\n        ornare ex. Sed rhoncus est ut libero porta lobortis. Fusce in dictum tellus.\\n\\n\r\n        Suspendisse interdum ornare ante. Aliquam nec cursus lorem. Morbi id magna felis. Vivamus\r\n        egestas, est a condimentum egestas, turpis nisl iaculis ipsum, in dictum tellus dolor sed\r\n        neque. Morbi tellus erat, dapibus ut sem a, iaculis tincidunt dui. Interdum et malesuada\r\n        fames ac ante ipsum primis in faucibus. Curabitur et eros porttitor, ultricies urna vitae,\r\n        molestie nibh. Phasellus at commodo eros, non aliquet metus. Sed maximus nisl nec dolor\r\n        bibendum, vel congue leo egestas.\\n\\n\r\n        Sed interdum tortor nibh, in sagittis risus mollis quis. Curabitur mi odio, condimentum sit\r\n        amet auctor at, mollis non turpis. Nullam pretium libero vestibulum, finibus orci vel,\r\n        molestie quam. Fusce blandit tincidunt nulla, quis sollicitudin libero facilisis et. Integer\r\n        interdum nunc ligula, et fermentum metus hendrerit id. Vestibulum lectus felis, dictum at\r\n        lacinia sit amet, tristique id quam. Cras eu consequat dui. Suspendisse sodales nunc ligula,\r\n        in lobortis sem porta sed. Integer id ultrices magna, in luctus elit. Sed a pellentesque\r\n        est.\\n\\n\r\n        Aenean nunc velit, lacinia sed dolor sed, ultrices viverra nulla. Etiam a venenatis nibh.\r\n        Morbi laoreet, tortor sed facilisis varius, nibh orci rhoncus nulla, id elementum leo dui\r\n        non lorem. Nam mollis ipsum quis auctor varius. Quisque elementum eu libero sed commodo. In\r\n        eros nisl, imperdiet vel imperdiet et, scelerisque a mauris. Pellentesque varius ex nunc,\r\n        quis imperdiet eros placerat ac. Duis finibus orci et est auctor tincidunt. Sed non viverra\r\n        ipsum. Nunc quis augue egestas, cursus lorem at, molestie sem. Morbi a consectetur ipsum, a\r\n        placerat diam. Etiam vulputate dignissim convallis. Integer faucibus mauris sit amet finibus\r\n        convallis.\\n\\n\r\n        Phasellus in aliquet mi. Pellentesque habitant morbi tristique senectus et netus et\r\n        malesuada fames ac turpis egestas. In volutpat arcu ut felis sagittis, in finibus massa\r\n        gravida. Pellentesque id tellus orci. Integer dictum, lorem sed efficitur ullamcorper,\r\n        libero justo consectetur ipsum, in mollis nisl ex sed nisl. Donec maximus ullamcorper\r\n        sodales. Praesent bibendum rhoncus tellus nec feugiat. In a ornare nulla. Donec rhoncus\r\n        libero vel nunc consequat, quis tincidunt nisl eleifend. Cras bibendum enim a justo luctus\r\n        vestibulum. Fusce dictum libero quis erat maximus, vitae volutpat diam dignissim.\r\n    </string>\r\n    <string name=\"verify\">Email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký.</string>\r\n    <string name=\"new_product\">Mới nhất</string>\r\n    <string name=\"goi_y\">Gợi ý cho bạn</string>\r\n    <string name=\"no_reslut\">Không tìm thấy sản phẩm với từ khoá đã nhập</string>\r\n    <string name=\"tim_kiem\">Tìm kiếm sản phẩm</string>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
--- a/app/src/main/res/values/strings.xml	(revision 9b2cfcc895199c4804a498e0a7c51380c063fdbf)
+++ b/app/src/main/res/values/strings.xml	(date 1731494614058)
@@ -40,7 +40,10 @@
     <string name="t_n_s_n_ph_m">Tên sản phẩm</string>
     <string name="c_i_t_n_n_i_l_n_t_t_c_s_gi_p_ch_r_t_nhi_u_y">Cái tên nói lên tất cả sẽ giúp ích rất nhiều đấy</string>
     <string name="m_t_s_n_ph_m">Mô tả sản phẩm</string>
-    <string name="m_t_o_n_v_n_m_t_y_s_gi_p_s_n_ph_m_c_a_b_n_b_n_d_h_n">Một đoạn văn mô tả đầy đủ sẽ giúp sản phẩm của bạn bán dễ hơn</string>
+    <string name="m_t_o_n_v_n_m_t_y_s_gi_p_s_n_ph_m_c_a_b_n_b_n_d_h_n">Một đoạn văn mô tả đầy đủ sẽ giúp sản phẩm của bạn bán dễ hơn
+    -Sản phẩm: Tên, số lượng, xuất xứ
+    -Hạn sử dụng, cách bảo quản
+    -Giá bán/đơn vị</string>
     <string name="ph_n_lo_i_s_n_ph_m">Phân loại sản phẩm</string>
     <string name="rau_c">Rau củ</string>
     <string name="tr_i_c_y">Trái cây</string>
Index: app/src/main/java/com/example/agrimart/data/ApiClient.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/agrimart/data/ApiClient.java b/app/src/main/java/com/example/agrimart/data/API/ApiClient.java
rename from app/src/main/java/com/example/agrimart/data/ApiClient.java
rename to app/src/main/java/com/example/agrimart/data/API/ApiClient.java
--- a/app/src/main/java/com/example/agrimart/data/ApiClient.java	(revision 9b2cfcc895199c4804a498e0a7c51380c063fdbf)
+++ b/app/src/main/java/com/example/agrimart/data/API/ApiClient.java	(date 1731551117091)
@@ -1,12 +1,4 @@
-package com.example.agrimart.data;
-
-import androidx.lifecycle.MutableLiveData;
-
-import com.example.agrimart.data.model.Commune;
-import com.example.agrimart.data.model.District;
-import com.example.agrimart.data.model.Province;
-
-import java.util.List;
+package com.example.agrimart.data.API;
 
 import retrofit2.Retrofit;
 import retrofit2.converter.gson.GsonConverterFactory;
@@ -14,8 +6,6 @@
 public class ApiClient {
     private static Retrofit retrofit=null;
 
-
-
     public static Retrofit getClient(){
         if(retrofit==null){
             retrofit=new Retrofit.Builder()
Index: app/src/main/res/layout/fragment_my_profile.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@android:color/white\"\r\n    android:orientation=\"vertical\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:id=\"@+id/header\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@color/green\"\r\n        android:gravity=\"center_vertical\"\r\n        android:orientation=\"horizontal\"\r\n        android:padding=\"16dp\">\r\n\r\n        <ImageView\r\n            android:id=\"@+id/user_image\"\r\n            android:layout_width=\"48dp\"\r\n            android:layout_height=\"48dp\"\r\n            android:layout_marginEnd=\"16dp\"\r\n            android:contentDescription=\"User Image\"\r\n             />\r\n\r\n        <TextView\r\n        android:id=\"@+id/user_name\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:textColor=\"@android:color/white\"\r\n        android:textSize=\"24sp\"\r\n        android:textStyle=\"bold\"\r\n        android:fontFamily=\"@font/gabarito\"/>\r\n\r\n    </LinearLayout>\r\n\r\n\r\n\r\n    <!-- Order Section -->\r\n\r\n    <ScrollView\r\n        android:id=\"@+id/id_ScrollView_myProject\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_below=\"@+id/header\"\r\n        android:layout_height=\"wrap_content\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\">\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"10dp\"\r\n                android:background=\"@color/background_light_blur_1\" />\r\n\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/purchase_order\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:paddingTop=\"10dp\"\r\n                android:paddingBottom=\"10dp\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/purchase_order_img\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/clipboard\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/purchase_order_text\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:text=\"Đơn hàng của tôi\"\r\n                    android:textSize=\"8pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/purchase_order_next\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"20dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"2dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:background=\"@color/background_light_blur_1\" />\r\n\r\n\r\n            <!-- Order Options (Chờ xác nhận, Chờ lấy hàng, etc.) -->\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n\r\n                android:weightSum=\"4\">\r\n\r\n                <!-- Icon and Label for \"Chờ xác nhận\" -->\r\n\r\n                <!-- Repeat the same pattern for other icons (Chờ lấy hàng, Chờ giao hàng, Đánh giá) -->\r\n                <!-- Icon for Chờ lấy hàng -->\r\n                <LinearLayout\r\n                    android:id=\"@+id/waiting_confirm\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"1\"\r\n                    android:gravity=\"center\"\r\n                    android:orientation=\"vertical\"\r\n                    android:paddingTop=\"15dp\"\r\n                    android:paddingBottom=\"15dp\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"32dp\"\r\n                        android:layout_height=\"32dp\"\r\n                        android:contentDescription=\"Confirm Icon\"\r\n                        android:src=\"@drawable/confirm\" />\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"10dp\"\r\n                        android:gravity=\"center\"\r\n                        android:text=\"Chờ xác nhận\"\r\n                        android:textSize=\"13sp\" />\r\n                </LinearLayout>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/waiting_goods\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"1\"\r\n                    android:gravity=\"center\"\r\n                    android:orientation=\"vertical\"\r\n                    android:paddingTop=\"15dp\"\r\n                    android:paddingBottom=\"15dp\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"32dp\"\r\n                        android:layout_height=\"32dp\"\r\n                        android:contentDescription=\"Pickup Icon\"\r\n                        android:src=\"@drawable/goods\" />\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"10dp\"\r\n                        android:gravity=\"center\"\r\n                        android:text=\"Chờ lấy hàng\"\r\n                        android:textSize=\"13sp\" />\r\n                </LinearLayout>\r\n\r\n                <!-- Icon for Chờ giao hàng -->\r\n                <LinearLayout\r\n                    android:id=\"@+id/waiting_delivery\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"1\"\r\n                    android:gravity=\"center\"\r\n                    android:orientation=\"vertical\"\r\n                    android:paddingTop=\"15dp\"\r\n                    android:paddingBottom=\"15dp\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"42dp\"\r\n                        android:layout_height=\"32dp\"\r\n                        android:contentDescription=\"Delivery Icon\"\r\n                        android:src=\"@drawable/delivery\" />\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"10dp\"\r\n                        android:gravity=\"center\"\r\n                        android:text=\"Chờ giao hàng\"\r\n                        android:textSize=\"13sp\" />\r\n                </LinearLayout>\r\n\r\n                <!-- Icon for Đánh giá -->\r\n                <LinearLayout\r\n                    android:id=\"@+id/evaluate\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"1\"\r\n                    android:gravity=\"center\"\r\n                    android:orientation=\"vertical\"\r\n                    android:paddingTop=\"15dp\"\r\n                    android:paddingBottom=\"15dp\">\r\n\r\n                    <ImageView\r\n                        android:layout_width=\"28dp\"\r\n                        android:layout_height=\"32dp\"\r\n                        android:contentDescription=\"Rating Icon\"\r\n                        android:src=\"@drawable/evaluate\" />\r\n\r\n                    <TextView\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"10dp\"\r\n                        android:gravity=\"center\"\r\n                        android:text=\" Đánh giá \"\r\n                        android:textSize=\"13sp\" />\r\n                </LinearLayout>\r\n\r\n            </LinearLayout>\r\n\r\n\r\n            <!-- My Store Section -->\r\n            <LinearLayout\r\n                android:id=\"@+id/my_store\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:paddingTop=\"10dp\"\r\n                android:paddingBottom=\"10dp\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_store_img\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/store\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/my_store_text\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:text=\"Cửa hàng của tôi\"\r\n                    android:textColor=\"@color/green\"\r\n                    android:textSize=\"8pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_store_next\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"15dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/my_account\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:paddingTop=\"10dp\"\r\n                android:paddingBottom=\"10dp\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_account_img\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/account\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/my_account_text\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:text=\"Tài khoản &amp; Bảo mật\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"8pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_account_next\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"20dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"2dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:background=\"@color/background_light_blur_1\" />\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/my_address\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:paddingTop=\"10dp\"\r\n                android:paddingBottom=\"10dp\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_address_img\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/map\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/my_address_text\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:text=\"Địa chỉ của tôi\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"8pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_address_next\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"20dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"2dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:background=\"@color/background_light_blur_1\" />\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/setting\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:paddingTop=\"10dp\"\r\n                android:paddingBottom=\"10dp\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/setting_img\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/settings\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/setting_text\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:text=\"Cài đặt\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"8pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/setting_next\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"20dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"2dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:background=\"@color/background_light_blur_1\" />\r\n        </LinearLayout>\r\n\r\n\r\n    </ScrollView>\r\n\r\n\r\n    <!-- Settings Section -->\r\n\r\n    <!-- Logout Button -->\r\n\r\n\r\n    <FrameLayout\r\n        android:id=\"@+id/fraglogout\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentBottom=\"true\">\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/logout\"\r\n            android:layout_width=\"350dp\"\r\n            android:layout_height=\"50dp\"\r\n            android:layout_gravity=\"top|center\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:layout_marginEnd=\"10dp\"\r\n            android:layout_marginTop=\"10dp\"\r\n            android:layout_marginBottom=\"10dp\"\r\n            android:background=\"@drawable/rounded_edittext\"\r\n            android:backgroundTint=\"@color/background_light_blur_1\"\r\n            android:orientation=\"horizontal\"> <!-- Thêm sự kiện onClick -->\r\n\r\n\r\n            <ImageView\r\n                android:layout_width=\"10dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"start\"\r\n                android:layout_weight=\"1\"\r\n                android:contentDescription=\"@string/todo\"\r\n                android:paddingTop=\"12dp\"\r\n                android:paddingBottom=\"12dp\"\r\n                android:src=\"@drawable/logout\" /> <!-- Điều chỉnh khoảng cách giữa icon và chữ -->\r\n\r\n            <TextView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center_vertical\"\r\n                android:layout_marginEnd=\"50dp\"\r\n                android:layout_weight=\"3\"\r\n                android:gravity=\"center\"\r\n                android:text=\"Đăng xuất\"\r\n                android:textAllCaps=\"false\"\r\n                android:textColor=\"@color/green\"\r\n                android:textSize=\"11pt\" />\r\n\r\n\r\n        </LinearLayout>\r\n    </FrameLayout>\r\n\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_my_profile.xml b/app/src/main/res/layout/fragment_my_profile.xml
--- a/app/src/main/res/layout/fragment_my_profile.xml	(revision 9b2cfcc895199c4804a498e0a7c51380c063fdbf)
+++ b/app/src/main/res/layout/fragment_my_profile.xml	(date 1731494181222)
@@ -208,8 +208,6 @@
 
             </LinearLayout>
 
-
-            <!-- My Store Section -->
             <LinearLayout
                 android:id="@+id/my_store"
                 android:layout_width="match_parent"
@@ -223,7 +221,7 @@
                     android:layout_width="wrap_content"
                     android:layout_height="30dp"
                     android:layout_gravity="center"
-                    android:src="@drawable/store" />
+                    android:src="@drawable/my_store" />
 
                 <TextView
                     android:id="@+id/my_store_text"
@@ -232,8 +230,8 @@
                     android:layout_gravity="center"
                     android:layout_weight="1"
                     android:text="Cửa hàng của tôi"
-                    android:textColor="@color/green"
-                    android:textSize="8pt" />
+                    android:textSize="8pt"
+                    android:textColor="@color/black" />
 
                 <ImageView
                     android:id="@+id/my_store_next"
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_10_47_PM_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_10_47_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_10_47_PM_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_10_47_PM_[Changes]/shelved.patch	(revision 9b2cfcc895199c4804a498e0a7c51380c063fdbf)
+++ /dev/null	(revision 9b2cfcc895199c4804a498e0a7c51380c063fdbf)
@@ -1,304 +0,0 @@
-Index: app/src/main/java/com/example/agrimart/ui/PostProduct/PostProductPriceFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.ui.PostProduct;\r\n\r\nimport android.app.DatePickerDialog;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.DatePicker;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.widget.AppCompatButton;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.model.AddressRequestProduct;\r\nimport com.example.agrimart.data.model.PostProduct;\r\nimport com.example.agrimart.data.model.ProductRequest;\r\nimport com.example.agrimart.databinding.FragmentPostProductPriceBinding;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class PostProductPriceFragment extends Fragment {\r\n\r\n    private TextView textViewDate;\r\n    private ProductRequest product=new ProductRequest();\r\n    private List<Uri> imageUris;\r\n\r\n    private int count = 0;\r\n    public PostProductPriceFragment() {\r\n    }\r\n    private FragmentPostProductPriceBinding binding;\r\n\r\n    public static PostProductPriceFragment newInstance(String param1, String param2) {\r\n        PostProductPriceFragment fragment = new PostProductPriceFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(\"param1\", param1);\r\n        args.putString(\"param2\", param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            product= (ProductRequest) getArguments().getSerializable(\"postProduct\");\r\n            product.setImageUrls(new ArrayList<>());\r\n            imageUris=getArguments().getParcelableArrayList(\"imageUris\");\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\r\n                             @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_post_product_price, container, false);\r\n        binding = FragmentPostProductPriceBinding.bind(view);\r\n        AppCompatButton btnPostProduct = view.findViewById(R.id.btnPostPro);\r\n\r\n\r\n\r\n\r\n\r\n\r\n        binding.btnPostPro.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                uploadImages();\r\n            }\r\n        });\r\n        return binding.getRoot();\r\n    }\r\n\r\n\r\n\r\n\r\n    private void uploadImages() {\r\n\r\n        for (Uri imageUri : imageUris) {\r\n            StorageReference imageRef = FirebaseStorage.getInstance().getReference().child(\"products\").child(String.valueOf(System.currentTimeMillis()));\r\n            imageRef.putFile(imageUri)\r\n                    .addOnCompleteListener(new OnCompleteListener<UploadTask.TaskSnapshot>() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task<UploadTask.TaskSnapshot> task) {\r\n                            if (task.isSuccessful()) {\r\n                                if (task.isComplete()) {\r\n                                    imageRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener<Uri>() {\r\n                                        @Override\r\n                                        public void onSuccess(Uri uri) {\r\n                                            count++;\r\n                                            product.getImageUrls().add(uri.toString());\r\n                                            if(count==imageUris.size()){\r\n                                                product.setPrice(Double.parseDouble(binding.edtPrice.getText().toString()));\r\n                                                product.setQuantity(Integer.parseInt(binding.edtQuantity.getText().toString()));\r\n                                                product.setStatus(\"pending\");\r\n\r\n                                                SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\r\n                                                String currentDate = sdf.format(new Date());\r\n                                                String createdDate = String.valueOf(currentDate);\r\n                                                product.setCreatedAt(createdDate);\r\n                                                FirebaseFirestore db=FirebaseFirestore.getInstance();\r\n\r\n                                                FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n                                                if(user!=null){\r\n                                                    String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n                                                    product.setStoreId(uid);\r\n                                                }\r\n                                                DocumentReference newProductRef = db.collection(\"products\").document();\r\n                                                String productId = newProductRef.getId();\r\n                                                db.collection(\"users\")\r\n                                                        .whereEqualTo(\"email\", FirebaseAuth.getInstance().getCurrentUser().getEmail())\r\n                                                        .get()\r\n                                                        .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n                                                            @Override\r\n                                                            public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                                                                if(queryDocumentSnapshots.getDocuments().size()>0){\r\n                                                                    DocumentSnapshot document=queryDocumentSnapshots.getDocuments().get(0);\r\n                                                                    Map<String,Object> storeAddress= (Map<String, Object>) document.get(\"store_address\");\r\n\r\n                                                                    if (storeAddress != null) {\r\n                                                                        String city = (String) storeAddress.get(\"city\");\r\n                                                                        String district = (String) storeAddress.get(\"district\");\r\n                                                                        String ward = (String) storeAddress.get(\"ward\");\r\n                                                                        String street = (String) storeAddress.get(\"street\");\r\n                                                                        product.setAddress(new AddressRequestProduct(city, district, ward, street));\r\n                                                                        // Use the retrieved values as needed\r\n                                                                        Log.d(\"Firestore\", \"City: \" + city);\r\n                                                                        Log.d(\"Firestore\", \"District: \" + district);\r\n                                                                        Log.d(\"Firestore\", \"Ward: \" + ward);\r\n                                                                        Log.d(\"Firestore\", \"Street: \" + street);\r\n                                                                        product.setProductId(productId);\r\n                                                                        newProductRef.set(product)\r\n                                                                                .addOnSuccessListener(documentReference -> {\r\n                                                                                    Toast.makeText(requireContext(), \"Tạo sản phẩm thành công\", Toast.LENGTH_SHORT).show();\r\n                                                                                    Intent intent = new Intent(requireContext(), YourProductListingsActivity.class);\r\n                                                                                    startActivity(intent);\r\n                                                                                })\r\n                                                                                .addOnFailureListener(e -> {\r\n                                                                                    Toast.makeText(requireContext(), \"Tạo sản phẩm thất bại\", Toast.LENGTH_SHORT).show();\r\n                                                                                });\r\n                                                                    }\r\n                                                                } else {\r\n                                                                    Log.d(\"Firestore\", \"No such document\");\r\n                                                                }\r\n\r\n                                                            }\r\n                                                        });\r\n\r\n                                            }\r\n\r\n\r\n\r\n                                        }\r\n                                    });\r\n\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n\r\n        }\r\n\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/PostProduct/PostProductPriceFragment.java b/app/src/main/java/com/example/agrimart/ui/PostProduct/PostProductPriceFragment.java
---- a/app/src/main/java/com/example/agrimart/ui/PostProduct/PostProductPriceFragment.java	(revision 5b4c00b78ad02311c82710a3767e4978c137039c)
-+++ b/app/src/main/java/com/example/agrimart/ui/PostProduct/PostProductPriceFragment.java	(date 1730907912935)
-@@ -157,7 +157,10 @@
-                                                                         newProductRef.set(product)
-                                                                                 .addOnSuccessListener(documentReference -> {
-                                                                                     Toast.makeText(requireContext(), "Tạo sản phẩm thành công", Toast.LENGTH_SHORT).show();
--                                                                                    Intent intent = new Intent(requireContext(), YourProductListingsActivity.class);
-+                                                                                    Intent intent = new Intent(requireContext(), ProductPreviewActivity.class);
-+//                                                                                    Bundle bundle = new Bundle();
-+//                                                                                    bundle.putSerializable("product", product);
-+//                                                                                    intent.putExtras(bundle);
-                                                                                     startActivity(intent);
-                                                                                 })
-                                                                                 .addOnFailureListener(e -> {
-Index: app/src/main/AndroidManifest.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <uses-feature\r\n        android:name=\"android.hardware.telephony\"\r\n        android:required=\"false\" />\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.WAKE_LOCK\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n    <uses-permission android:name=\"android.permission.GET_ACCOUNTS\" />\r\n    <uses-permission android:name=\"android.permission.USE_CREDENTIALS\" />\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.READ_MEDIA_IMAGES\" />\r\n    <uses-permission android:name=\"android.permission.SEND_SMS\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\r\n        android:fullBackupContent=\"@xml/backup_rules\"\r\n        android:icon=\"@drawable/logo_icon\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@drawable/logo_icon\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.AgriMart\"\r\n        tools:ignore=\"ExtraText\"\r\n        tools:targetApi=\"31\">\r\n        <activity\r\n            android:name=\".ui.ProductPage.CategoryActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAddress.GetAddressActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAccount.EditNumberPhoneActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAccount.ChangePasswordActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAccount.VerifyWithPasswordActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAccount.EditUserNameActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\"com.yalantis.ucrop.UCropActivity\"\r\n            android:theme=\"@style/Theme.AppCompat.NoActionBar\"\r\n            tools:replace=\"android:theme\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAddress.EditAddressActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAddress.NewAddressActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyStore.RegisterSellerActivity\"\r\n            android:exported=\"false\"\r\n            android:theme=\"@style/Theme.AgriMart\" />\r\n        <activity\r\n            android:name=\".ui.Account.VerifyActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyStore.MyStoreActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.PurchasedOrders.PurchasedOrdersActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAddress.MyAddressActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAccount.MyAccountActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Store.StoreActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyStore.OrderManagementActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Homepage.SearchActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Cart.CheckoutActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.ProductPage.ProductDetailActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.YourProductListingsActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.PostProductActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MainActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.EnterOTPActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.ForgotPasswordActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.SignUpActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Homepage.HomeFragment\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.SignInActivity\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n\r\n        <meta-data\r\n            android:name=\"com.facebook.sdk.ApplicationId\"\r\n            android:value=\"@string/facebook_app_id\" />\r\n        <meta-data\r\n            android:name=\"com.facebook.sdk.ClientToken\"\r\n            android:value=\"@string/facebook_client_token\" />\r\n\r\n        <activity\r\n            android:name=\"com.facebook.FacebookActivity\"\r\n            android:configChanges=\"keyboard|keyboardHidden|screenLayout|screenSize|orientation\"\r\n            android:label=\"@string/app_name\"\r\n            android:screenOrientation=\"portrait\"\r\n            tools:ignore=\"DiscouragedApi\" />\r\n        <activity\r\n            android:name=\"com.facebook.CustomTabActivity\"\r\n            android:exported=\"true\"\r\n            android:screenOrientation=\"portrait\"\r\n            tools:ignore=\"DiscouragedApi\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.VIEW\" />\r\n\r\n                <category android:name=\"android.intent.category.DEFAULT\" />\r\n                <category android:name=\"android.intent.category.BROWSABLE\" />\r\n\r\n                <data android:scheme=\"@string/fb_login_protocol_scheme\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
---- a/app/src/main/AndroidManifest.xml	(revision 5b4c00b78ad02311c82710a3767e4978c137039c)
-+++ b/app/src/main/AndroidManifest.xml	(date 1730902170136)
-@@ -28,6 +28,9 @@
-         tools:ignore="ExtraText"
-         tools:targetApi="31">
-         <activity
-+            android:name=".ui.PostProduct.ProductPreviewActivity"
-+            android:exported="false" />
-+        <activity
-             android:name=".ui.ProductPage.CategoryActivity"
-             android:exported="false" />
-         <activity
-Index: app/src/main/java/com/example/agrimart/viewmodel/ProductReviewViewModel.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/viewmodel/ProductReviewViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/ProductReviewViewModel.java
-new file mode 100644
---- /dev/null	(date 1730907664750)
-+++ b/app/src/main/java/com/example/agrimart/viewmodel/ProductReviewViewModel.java	(date 1730907664750)
-@@ -0,0 +1,29 @@
-+package com.example.agrimart.viewmodel;
-+
-+import androidx.lifecycle.LiveData;
-+import androidx.lifecycle.MutableLiveData;
-+import androidx.lifecycle.Transformations;
-+import androidx.lifecycle.ViewModel;
-+
-+import com.example.agrimart.data.model.ProductRequest;
-+
-+import java.util.List;
-+
-+public class ProductReviewViewModel extends ViewModel {
-+    private MutableLiveData<ProductRequest> products;
-+
-+    public LiveData<String> price;
-+    public ProductReviewViewModel() {
-+        this.products = new MutableLiveData<>();
-+    }
-+
-+    public void setProduct(ProductRequest product) {
-+        products.setValue(product);
-+        price = Transformations.map(products, product1 ->
-+                product1 != null ? String.valueOf(product.getPrice()) : ""
-+        );
-+    }
-+
-+
-+
-+}
-Index: app/src/main/res/layout/activity_product_preview.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/activity_product_preview.xml b/app/src/main/res/layout/activity_product_preview.xml
-new file mode 100644
---- /dev/null	(date 1730907837019)
-+++ b/app/src/main/res/layout/activity_product_preview.xml	(date 1730907837019)
-@@ -0,0 +1,153 @@
-+<?xml version="1.0" encoding="utf-8"?>
-+<layout>
-+
-+    <data>
-+        <variable
-+            name="viewModel"
-+            type= "com.example.agrimart.viewmodel.ProductReviewViewModel"/>
-+    </data>
-+
-+
-+    <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
-+        xmlns:app="http://schemas.android.com/apk/res-auto"
-+        xmlns:tools="http://schemas.android.com/tools"
-+        android:id="@+id/main"
-+        android:layout_width="match_parent"
-+        android:layout_height="match_parent"
-+        android:padding="17dp"
-+        tools:context=".ui.PostProduct.ProductPreviewActivity">
-+
-+        <LinearLayout
-+            android:id="@+id/linearLayout1"
-+            android:layout_width="wrap_content"
-+            android:layout_height="wrap_content"
-+
-+            android:orientation="horizontal">
-+
-+            <androidx.cardview.widget.CardView
-+                android:layout_width="48dp"
-+                android:layout_height="48dp"
-+                app:cardCornerRadius="100dp">
-+
-+                <ImageView
-+                    android:id="@+id/imageView4"
-+                    android:layout_width="match_parent"
-+                    android:layout_height="match_parent"
-+                    android:scaleType="centerCrop"
-+                    app:srcCompat="@drawable/baseline_person_24" />
-+            </androidx.cardview.widget.CardView>
-+
-+            <TextView
-+                android:id="@+id/textView5"
-+                android:layout_width="wrap_content"
-+                android:layout_height="wrap_content"
-+                android:textSize="18sp"
-+                android:textColor="@color/black"
-+                android:layout_gravity="center"
-+                android:layout_marginStart="12dp"
-+                android:text="KaneStore" />
-+
-+
-+        </LinearLayout>
-+
-+        <TextView
-+            android:id="@+id/tvPrice"
-+            android:layout_width="56dp"
-+            android:layout_height="20dp"
-+            android:layout_below="@id/linearLayout1"
-+            android:layout_marginTop="12dp"
-+            android:textColor="#D50000"
-+            android:textSize="14sp"
-+            android:gravity="center"
-+            android:background="#FFA7AD"
-+             />
-+        <View
-+            android:id="@+id/view"
-+            android:layout_width="match_parent"
-+            android:layout_height="2dp"
-+            android:layout_marginTop="15dp"
-+            android:layout_below="@id/tvPrice"
-+            android:background="#65424242" />
-+
-+        <TextView
-+            android:id="@+id/textView7"
-+            android:layout_width="wrap_content"
-+            android:layout_height="wrap_content"
-+            android:layout_below="@id/view"
-+            android:layout_marginTop="12dp"
-+            android:textSize="16sp"
-+            android:textColor="#3A3A3A"
-+            android:text="Mô tả sản phẩm " />
-+
-+        <TextView
-+            android:id="@+id/textView10"
-+            android:layout_width="match_parent"
-+            android:layout_height="wrap_content"
-+            android:layout_below="@id/textView7"
-+            android:layout_marginTop="12dp"
-+            android:textSize="14sp"
-+            android:textColor="#221F1F"/>
-+        <View
-+            android:id="@+id/view2"
-+            android:layout_width="match_parent"
-+            android:layout_height="2dp"
-+            android:layout_marginTop="15dp"
-+            android:layout_below="@id/textView10"
-+            android:background="#65424242" />
-+
-+        <TextView
-+            android:id="@+id/textView11"
-+            android:layout_width="wrap_content"
-+            android:layout_height="wrap_content"
-+            android:textColor="#3A3A3A"
-+            android:textSize="14sp"
-+            android:layout_below="@id/view2"
-+            android:layout_marginTop="15dp"
-+            android:text="Danh mục" />
-+        <TextView
-+            android:id="@+id/tvCategory"
-+            android:layout_width="wrap_content"
-+            android:layout_height="20dp"
-+            android:text="Trái cây"
-+            android:lineSpacingExtra="3sp"
-+            android:gravity="center_vertical"
-+            android:layout_below="@id/view2"
-+            android:layout_marginTop="15dp"
-+            android:layout_alignParentEnd="true"
-+            />
-+
-+        <TextView
-+            android:id="@+id/s_l_ng"
-+            android:layout_width="wrap_content"
-+            android:layout_height="20dp"
-+            android:text="Số lượng"
-+            android:lineSpacingExtra="3sp"
-+            android:layout_below="@id/tvCategory"
-+            android:layout_marginTop="15dp"
-+            android:gravity="center_vertical"
-+            />
-+        <TextView
-+            android:id="@+id/tvStockQuantity"
-+            android:layout_width="71dp"
-+            android:layout_height="20dp"
-+            android:text="Còn 156 sp"
-+            android:lineSpacingExtra="3sp"
-+            android:layout_below="@id/tvCategory"
-+            android:layout_marginTop="15dp"
-+            android:layout_alignParentEnd="true"
-+            android:gravity="center_vertical"
-+            />
-+
-+        <androidx.appcompat.widget.AppCompatButton
-+            android:id="@+id/btnHome"
-+            android:layout_width="match_parent"
-+            android:layout_height="wrap_content"
-+            android:layout_below="@id/tvStockQuantity"
-+            android:layout_centerHorizontal="true"
-+            android:textAllCaps="false"
-+            android:textSize="18sp"
-+            android:layout_marginTop="16dp"
-+            android:text="Về trang chủ" />
-+
-+    </RelativeLayout>
-+</layout>
-\ No newline at end of file
-Index: app/src/main/java/com/example/agrimart/ui/PostProduct/ProductPreviewActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/PostProduct/ProductPreviewActivity.java b/app/src/main/java/com/example/agrimart/ui/PostProduct/ProductPreviewActivity.java
-new file mode 100644
---- /dev/null	(date 1730907186312)
-+++ b/app/src/main/java/com/example/agrimart/ui/PostProduct/ProductPreviewActivity.java	(date 1730907186312)
-@@ -0,0 +1,48 @@
-+package com.example.agrimart.ui.PostProduct;
-+
-+import android.content.Intent;
-+import android.os.Bundle;
-+
-+import androidx.activity.EdgeToEdge;
-+import androidx.appcompat.app.AppCompatActivity;
-+import androidx.core.graphics.Insets;
-+import androidx.core.view.ViewCompat;
-+import androidx.core.view.WindowInsetsCompat;
-+import androidx.lifecycle.ViewModelProvider;
-+
-+import com.example.agrimart.R;
-+import com.example.agrimart.data.model.Product;
-+import com.example.agrimart.data.model.ProductRequest;
-+import com.example.agrimart.databinding.ActivityProductPreviewBinding;
-+import com.example.agrimart.viewmodel.ProductReviewViewModel;
-+
-+public class ProductPreviewActivity extends AppCompatActivity {
-+
-+    private ActivityProductPreviewBinding binding;
-+    private ProductRequest product;
-+    private ProductReviewViewModel viewModel;
-+    @Override
-+    protected void onCreate(Bundle savedInstanceState) {
-+
-+        binding = ActivityProductPreviewBinding.inflate(getLayoutInflater());
-+        viewModel=new ViewModelProvider(this).get(ProductReviewViewModel.class);
-+        binding.setViewModel(viewModel);
-+        super.onCreate(savedInstanceState);
-+        EdgeToEdge.enable(this);
-+        setContentView(binding.getRoot());
-+        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {
-+            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
-+            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
-+            return insets;
-+        });
-+        Intent intent=getIntent();
-+        if(intent!=null)
-+        {
-+            product = (ProductRequest) intent.getSerializableExtra("product");
-+
-+            viewModel.setProduct(product);
-+
-+        }
-+
-+    }
-+}
-\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_10_47_PM__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_10_47_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_10_47_PM__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_10_47_PM__Changes_.xml	(revision 9b2cfcc895199c4804a498e0a7c51380c063fdbf)
+++ /dev/null	(revision 9b2cfcc895199c4804a498e0a7c51380c063fdbf)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_11_6_2024_10_47_PM_[Changes]" date="1730908343102" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_10_47_PM_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/6/2024 10:47 PM [Changes]" />
-</changelist>
\ No newline at end of file
Index: app/src/main/java/com/example/agrimart/viewmodel/RegisterSellerViewModel.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.ApiClient;\r\nimport com.example.agrimart.data.interface1.ApiService;\r\nimport com.example.agrimart.data.model.Commune;\r\nimport com.example.agrimart.data.model.District;\r\nimport com.example.agrimart.data.model.Province;\r\n\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\npublic class RegisterSellerViewModel extends ViewModel {\r\n\r\n    private ApiService apiService;\r\n    public MutableLiveData<List<Province>> provinces = new MutableLiveData<>();\r\n    public MutableLiveData<List<District>> districts = new MutableLiveData<>();\r\n    public MutableLiveData<List<Commune>> wards = new MutableLiveData<>();\r\n\r\n    public RegisterSellerViewModel() {\r\n        apiService = ApiClient.getClient().create(ApiService.class);\r\n    }\r\n\r\n    public void getProvinces() {\r\n        apiService.getAllProvinces().enqueue(new Callback<List<Province>>() {\r\n            @Override\r\n            public void onResponse(Call<List<Province>> call, Response<List<Province>> response) {\r\n                if(response.isSuccessful() && response.body() != null) {\r\n                    Log.d(\"RegisterSellerViewModel\", response.body().toString());\r\n                    provinces.setValue(response.body());\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call<List<Province>> call, Throwable t) {\r\n                Toast.makeText(null, \"Error: \" + t.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void getDistricts(String provinceId) {\r\n        apiService.getAllDistricts().enqueue(new Callback<List<District>>() {\r\n            @Override\r\n            public void onResponse(Call<List<District>> call, Response<List<District>> response) {\r\n                if(response.isSuccessful() && response.body() != null) {\r\n                    Log.d(\"RegisterSellerViewModel\", response.body().toString());\r\n                    List<District> districtList = response.body();\r\n                    List<District> districtList1 = districtList\r\n                            .stream().filter(district->district.getIdProvince().equals(provinceId))\r\n                            .collect(Collectors.toList());\r\n                    districts.setValue(districtList1);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call<List<District>> call, Throwable t) {\r\n                Toast.makeText(null, \"Error: \" + t.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void getWard(String districtId){\r\n            apiService.getAllCommune().enqueue(new Callback<List<Commune>>() {\r\n                @Override\r\n                public void onResponse(Call<List<Commune>> call, Response<List<Commune>> response) {\r\n                    if(response.isSuccessful() && response.body() != null) {\r\n                        List<Commune> communeList = response.body();\r\n                        List<Commune> communeList1 = communeList\r\n                                .stream().filter(commune->commune.getIdDistrict().equals(districtId))\r\n                                .collect(Collectors.toList());\r\n                        wards.setValue(communeList1);\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call<List<Commune>> call, Throwable t) {\r\n                    Toast.makeText(null, \"Error: \" + t.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/agrimart/viewmodel/RegisterSellerViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/RegisterSellerViewModel.java
--- a/app/src/main/java/com/example/agrimart/viewmodel/RegisterSellerViewModel.java	(revision 9b2cfcc895199c4804a498e0a7c51380c063fdbf)
+++ b/app/src/main/java/com/example/agrimart/viewmodel/RegisterSellerViewModel.java	(date 1731551107477)
@@ -6,7 +6,7 @@
 import androidx.lifecycle.MutableLiveData;
 import androidx.lifecycle.ViewModel;
 
-import com.example.agrimart.data.ApiClient;
+import com.example.agrimart.data.API.ApiClient;
 import com.example.agrimart.data.interface1.ApiService;
 import com.example.agrimart.data.model.Commune;
 import com.example.agrimart.data.model.District;
Index: app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.agrimart.ui.MyProfile.MyAccount;\r\n\r\nimport android.app.DatePickerDialog;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Typeface;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.widget.CalendarView;\r\nimport android.widget.DatePicker;\r\nimport android.widget.FrameLayout;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.request.RequestOptions;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.viewmodel.MyAccountViewModel;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.UserInfo;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\nimport com.yalantis.ucrop.UCrop;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Calendar;\r\n\r\npublic class MyAccountActivity extends AppCompatActivity {\r\n\r\n    TextView user_name_text, my_phone_number_text, email_text, user_sex_text, user_date_birth_text;\r\n    ImageButton btn_back;\r\n    ImageView user_image;\r\n    FrameLayout btn_account_img;\r\n    private static final int PICK_IMAGE_REQUEST = 1;\r\n    LinearLayout myUserSex, myUserDateBirth, myUserName, changePassword, myPhoneNumber;\r\n    String[] genderOptions = {\"Nam\", \"Nữ\", \"Khác\"};\r\n    private static final int EDIT_USER_REQUEST_CODE = 1;\r\n    private static final int EDIT_NUMBER_PHONE_REQUEST_CODE = 10;\r\n    private MyAccountViewModel viewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_my_account);\r\n\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        addControl();\r\n\r\n\r\n\r\n        addLoadData();\r\n\r\n        addEvent();\r\n    }\r\n\r\n    void addControl() {\r\n        user_name_text = findViewById(R.id.user_name_text);\r\n        my_phone_number_text = findViewById(R.id.my_phone_number_text);\r\n        email_text = findViewById(R.id.email_text);\r\n        user_date_birth_text = findViewById(R.id.user_date_birth_text);\r\n        user_sex_text = findViewById(R.id.user_sex_text);\r\n        btn_back = findViewById(R.id.btn_back);\r\n        user_image = findViewById(R.id.user_image);\r\n        btn_account_img = findViewById(R.id.fl_my_account_img);\r\n        myUserSex = findViewById(R.id.my_user_sex);\r\n        myUserDateBirth = findViewById(R.id.my_user_date_birth);\r\n        myUserName = findViewById(R.id.my_user_name);\r\n        changePassword = findViewById(R.id.change_password);\r\n        myPhoneNumber = findViewById(R.id.my_phone_number);\r\n        viewModel = new ViewModelProvider(this).get(MyAccountViewModel.class);\r\n    }\r\n\r\n    void addLoadData()\r\n    {\r\n        // lấy thông tin user\r\n        viewModel.getUser().observe(this, user -> {\r\n\r\n            if (user != null) {\r\n                user_name_text.setText(user.getFullName());\r\n                my_phone_number_text.setText(user.getPhoneNumber());\r\n                email_text.setText(user.getEmail());\r\n                user_sex_text.setText(user.getSex());\r\n                user_date_birth_text.setText(user.getBirthDate());\r\n                viewModel.loadImage(MyAccountActivity.this, user_image);\r\n\r\n            }\r\n        });\r\n\r\n        // kiểm tra đăng nhập\r\n        viewModel.getIsChangePassword().observe(this, isChangePassword -> {\r\n            if(isChangePassword)\r\n            {\r\n                changePassword.setVisibility(View.GONE);\r\n            }\r\n        });\r\n    }\r\n\r\n    void addEvent() {\r\n        btn_back.setOnClickListener(v -> back());\r\n        btn_account_img.setOnClickListener(v -> openImageChooser()); // cập nhật ảnh user\r\n        myUserSex.setOnClickListener(v -> openGenderOptions()); // cập nhật giới tính\r\n        myUserDateBirth.setOnClickListener(v -> openDatePicker());\r\n        myUserName.setOnClickListener(v -> openEditUser());\r\n        changePassword.setOnClickListener(v -> openVerifyAccount());\r\n        myPhoneNumber.setOnClickListener(v -> openEditNumberPhone());\r\n    }\r\n\r\n    void openEditNumberPhone()\r\n    {\r\n        Intent intent = new Intent(MyAccountActivity.this, EditNumberPhoneActivity.class);\r\n        startActivityForResult(intent, EDIT_NUMBER_PHONE_REQUEST_CODE);\r\n    }\r\n\r\n    void back()\r\n    {\r\n        setResult(RESULT_OK); // Đặt kết quả trả về\r\n        finish();\r\n    }\r\n\r\n\r\n    private void openVerifyAccount()\r\n    {\r\n        Intent intent = new Intent(MyAccountActivity.this, VerifyWithPasswordActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void openEditUser()\r\n    {\r\n        Intent intent = new Intent(MyAccountActivity.this, EditUserNameActivity.class);\r\n        startActivityForResult(intent, EDIT_USER_REQUEST_CODE);\r\n    }\r\n\r\n    private void openDatePicker() {\r\n        // Tạo AlertDialog\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\r\n        // Inflate layout tùy chỉnh\r\n        LayoutInflater inflater = getLayoutInflater();\r\n        View dialogView = inflater.inflate(R.layout.dialog_calendar, null);\r\n        DatePicker datePicker = dialogView.findViewById(R.id.datePicker);\r\n\r\n        // Đặt ngày cho DatePicker\r\n        final Calendar calendar = Calendar.getInstance();\r\n        datePicker.init(calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get(Calendar.DAY_OF_MONTH), null);\r\n\r\n        builder.setView(dialogView)\r\n                .setPositiveButton(\"Hoàn thành\", (dialog, which) -> {\r\n                    // Lấy ngày đã chọn\r\n                    int day = datePicker.getDayOfMonth();\r\n                    int month = datePicker.getMonth() + 1; // Month is 0-based\r\n                    int year = datePicker.getYear();\r\n                    String selectedDate = day + \"/\" + month + \"/\" + year;\r\n\r\n                    // Cập nhật TextView với ngày đã chọn\r\n                    user_date_birth_text.setText(selectedDate);\r\n                    viewModel.saveBirthDateToFirestore(selectedDate);\r\n                })\r\n                .setNegativeButton(\"Hủy\", (dialog, which) -> dialog.dismiss());\r\n\r\n        // Giới hạn ngày phải bé hơn hoặc bằng ngày hiện hành\r\n        datePicker.setMaxDate(calendar.getTimeInMillis());\r\n\r\n        // Hiển thị AlertDialog\r\n        builder.show();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private void openGenderOptions() {\r\n        // Tạo một TextView cho tiêu đề và tùy chỉnh nó\r\n        TextView title = new TextView(this);\r\n        title.setText(\"Giới tính\");\r\n        title.setPadding(0, 30, 0, 30); // Khoảng cách trên và dưới\r\n        title.setGravity(Gravity.CENTER); // Căn giữa\r\n        title.setTextSize(20); // Kích thước chữ\r\n        title.setTypeface(null, Typeface.BOLD); // Đặt kiểu chữ đậm nếu cần\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setCustomTitle(title); // Đặt tiêu đề tùy chỉnh\r\n\r\n        // Kiểm tra nếu genderOptions không null\r\n        if (genderOptions != null) {\r\n            // Thiết lập danh sách tùy chọn\r\n            builder.setItems(genderOptions, (dialog, which) -> {\r\n                user_sex_text.setText(genderOptions[which]);\r\n                // Gọi phương thức trong ViewModel để lưu giới tính\r\n                viewModel.saveGenderToFirestore(genderOptions[which]);\r\n            });\r\n        } else {\r\n            Toast.makeText(this, \"Không có tùy chọn giới tính\", Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        // Hiển thị dialog\r\n        builder.show();\r\n    }\r\n\r\n\r\n    private void openImageChooser() {\r\n        Intent intent = new Intent();\r\n        intent.setType(\"image/*\");\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(Intent.createChooser(intent, \"Select Picture\"), PICK_IMAGE_REQUEST);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == EDIT_NUMBER_PHONE_REQUEST_CODE && resultCode == RESULT_OK) {\r\n            viewModel.loadUserInfo(); // Gọi phương thức để tải lại thông tin người dùng\r\n        }\r\n        // Kiểm tra nếu kết quả trả về từ EditUserActivity\r\n        if (requestCode == EDIT_USER_REQUEST_CODE && resultCode == RESULT_OK) {\r\n            viewModel.loadUserInfo(); // Gọi phương thức để tải lại thông tin người dùng\r\n        }\r\n\r\n        if (requestCode == PICK_IMAGE_REQUEST && resultCode == RESULT_OK && data != null && data.getData() != null) {\r\n            Uri imageUri = data.getData();\r\n\r\n            // Crop ảnh trước khi tải lên\r\n            Uri destinationUri = Uri.fromFile(new File(getCacheDir(), \"cropped_image.jpg\"));\r\n            UCrop.of(imageUri, destinationUri)\r\n                    .withAspectRatio(1, 1) // Tỉ lệ khung hình 1:1\r\n                    .withMaxResultSize(512, 512) // Kích thước tối đa\r\n                    .start(this);\r\n        }\r\n\r\n        if (requestCode == UCrop.REQUEST_CROP) {\r\n            final int resultCodeCrop = resultCode;\r\n            final Intent resultData = data;\r\n            if (resultCodeCrop == RESULT_OK) {\r\n                Uri croppedImageUri = UCrop.getOutput(resultData);\r\n\r\n                // Tải ảnh đã crop lên Firebase\r\n                viewModel.uploadImageToFirebase(MyAccountActivity.this, croppedImageUri, new MyAccountViewModel.ImageUploadCallback() {\r\n                    @Override\r\n                    public void onSuccess(String imageUrl) {\r\n                        // Gọi loadUserInfo và loadImage sau khi ảnh đã được tải lên thành công\r\n                        viewModel.loadUserInfo();\r\n                        viewModel.loadImage(MyAccountActivity.this, user_image);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure() {\r\n                        Toast.makeText(MyAccountActivity.this, \"Error uploading image\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n            } else if (resultCodeCrop == UCrop.RESULT_ERROR) {\r\n                Toast.makeText(this, \"Error cropping image\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java
--- a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java	(revision 9b2cfcc895199c4804a498e0a7c51380c063fdbf)
+++ b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java	(date 1731493419509)
@@ -22,6 +22,7 @@
 import androidx.activity.EdgeToEdge;
 import androidx.appcompat.app.AlertDialog;
 import androidx.appcompat.app.AppCompatActivity;
+import androidx.appcompat.widget.Toolbar;
 import androidx.core.graphics.Insets;
 import androidx.core.view.ViewCompat;
 import androidx.core.view.WindowInsetsCompat;
@@ -48,7 +49,7 @@
 public class MyAccountActivity extends AppCompatActivity {
 
     TextView user_name_text, my_phone_number_text, email_text, user_sex_text, user_date_birth_text;
-    ImageButton btn_back;
+    //ImageButton btn_back;
     ImageView user_image;
     FrameLayout btn_account_img;
     private static final int PICK_IMAGE_REQUEST = 1;
@@ -57,6 +58,7 @@
     private static final int EDIT_USER_REQUEST_CODE = 1;
     private static final int EDIT_NUMBER_PHONE_REQUEST_CODE = 10;
     private MyAccountViewModel viewModel;
+    private Toolbar toolbar;
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
@@ -85,7 +87,8 @@
         email_text = findViewById(R.id.email_text);
         user_date_birth_text = findViewById(R.id.user_date_birth_text);
         user_sex_text = findViewById(R.id.user_sex_text);
-        btn_back = findViewById(R.id.btn_back);
+        //btn_back = findViewById(R.id.btn_back);
+        toolbar = findViewById(R.id.header_toolbar);
         user_image = findViewById(R.id.user_image);
         btn_account_img = findViewById(R.id.fl_my_account_img);
         myUserSex = findViewById(R.id.my_user_sex);
@@ -122,7 +125,8 @@
     }
 
     void addEvent() {
-        btn_back.setOnClickListener(v -> back());
+        //btn_back.setOnClickListener(v -> back());
+        toolbar.setNavigationOnClickListener(v -> back());
         btn_account_img.setOnClickListener(v -> openImageChooser()); // cập nhật ảnh user
         myUserSex.setOnClickListener(v -> openGenderOptions()); // cập nhật giới tính
         myUserDateBirth.setOnClickListener(v -> openDatePicker());
Index: .idea/deploymentTargetSelector.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/deploymentTargetSelector.xml b/.idea/deploymentTargetSelector.xml
new file mode 100644
--- /dev/null	(date 1731551003174)
+++ b/.idea/deploymentTargetSelector.xml	(date 1731551003174)
@@ -0,0 +1,10 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project version="4">
+  <component name="deploymentTargetSelector">
+    <selectionStates>
+      <SelectionState runConfigName="app">
+        <option name="selectionMode" value="DROPDOWN" />
+      </SelectionState>
+    </selectionStates>
+  </component>
+</project>
\ No newline at end of file
Index: app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.data.model.Store;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.text.Normalizer;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class SearchViewModel extends ViewModel {\r\n\r\n    private MutableLiveData<List<Product>> filteredProducts = new MutableLiveData<>(new ArrayList<>());\r\n    private List<Product> originalProductList = new ArrayList<>();\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n    public LiveData<List<Product>> getFilteredProducts() {\r\n        return filteredProducts;\r\n    }\r\n\r\n    public void searchProductsByName(String query) {\r\n        db.collection(\"products\")\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Product> products = task.getResult().toObjects(Product.class);\r\n                        List<Product> filteredList = new ArrayList<>();\r\n                        List<Product> remainingList = new ArrayList<>();\r\n\r\n                        for (Product product : products) {\r\n                            if (product.getName() != null) {\r\n                                String productName = product.getName().toLowerCase();\r\n                                String lowerCaseQuery = query.toLowerCase();\r\n                                if (productName.startsWith(lowerCaseQuery)) {\r\n                                    filteredList.add(product);\r\n                                } else if (productName.contains(lowerCaseQuery)) {\r\n                                    remainingList.add(product);\r\n                                }\r\n                            }\r\n                        }\r\n                        filteredList.addAll(remainingList);\r\n                        originalProductList = new ArrayList<>(filteredList);\r\n                        filteredProducts.setValue(filteredList);\r\n                    } else {\r\n                        filteredProducts.setValue(new ArrayList<>());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void searchProductsByCategory(String categoryId) {\r\n        db.collection(\"products\")\r\n                .whereEqualTo(\"category_id\", categoryId)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Product> products = task.getResult().toObjects(Product.class);\r\n                        originalProductList = new ArrayList<>(products);\r\n                        filteredProducts.setValue(products);\r\n                    } else {\r\n                        filteredProducts.setValue(new ArrayList<>());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void searchProductsByStoreName(String storeName) {\r\n        db.collection(\"users\")\r\n                .whereEqualTo(\"store_name\", storeName)\r\n                .get()\r\n                .addOnCompleteListener(storeTask -> {\r\n                    if (storeTask.isSuccessful() && !storeTask.getResult().isEmpty()) {\r\n                        String storeId = storeTask.getResult().getDocuments().get(0).getId();\r\n                        db.collection(\"products\")\r\n                                .whereEqualTo(\"storeId\", storeId)\r\n                                .get()\r\n                                .addOnCompleteListener(productTask -> {\r\n                                    if (productTask.isSuccessful()) {\r\n                                        List<Product> products = productTask.getResult().toObjects(Product.class);\r\n                                        originalProductList = new ArrayList<>(products);\r\n                                        filteredProducts.setValue(products);\r\n                                    } else {\r\n                                        filteredProducts.setValue(new ArrayList<>());\r\n                                    }\r\n                                });\r\n                    } else {\r\n                        filteredProducts.setValue(new ArrayList<>());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void sortProducts(String sortBy) {\r\n        List<Product> currentProducts = filteredProducts.getValue() != null ? new ArrayList<>(filteredProducts.getValue()) : new ArrayList<>();\r\n\r\n        switch (sortBy) {\r\n            case \"Liên quan nhất\":\r\n                currentProducts = new ArrayList<>(originalProductList);\r\n                break;\r\n            case \"Mới nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> p2.getCreated_at().compareTo(p1.getCreated_at()));\r\n                break;\r\n            case \"Cũ nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> p1.getCreated_at().compareTo(p2.getCreated_at()));\r\n                break;\r\n            case \"Giá cao nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> Double.compare(p2.getPrice(), p1.getPrice()));\r\n                break;\r\n            case \"Giá thấp nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> Double.compare(p1.getPrice(), p2.getPrice()));\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        filteredProducts.setValue(currentProducts);\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java
--- a/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java	(revision 9b2cfcc895199c4804a498e0a7c51380c063fdbf)
+++ b/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java	(date 1731493419518)
@@ -7,11 +7,8 @@
 import androidx.lifecycle.ViewModel;
 
 import com.example.agrimart.data.model.Product;
-import com.example.agrimart.data.model.Store;
-import com.google.firebase.firestore.DocumentSnapshot;
 import com.google.firebase.firestore.FirebaseFirestore;
 
-import java.text.Normalizer;
 import java.util.ArrayList;
 import java.util.Collections;
 import java.util.List;
@@ -36,7 +33,7 @@
                         List<Product> remainingList = new ArrayList<>();
 
                         for (Product product : products) {
-                            if (product.getName() != null) {
+                            if (product.getName() != null && "available".equals(product.getActive())) {
                                 String productName = product.getName().toLowerCase();
                                 String lowerCaseQuery = query.toLowerCase();
                                 if (productName.startsWith(lowerCaseQuery)) {
@@ -62,8 +59,14 @@
                 .addOnCompleteListener(task -> {
                     if (task.isSuccessful()) {
                         List<Product> products = task.getResult().toObjects(Product.class);
-                        originalProductList = new ArrayList<>(products);
-                        filteredProducts.setValue(products);
+                        List<Product> availableProducts = new ArrayList<>();
+                        for (Product product : products) {
+                            if ("available".equals(product.getActive())) {
+                                availableProducts.add(product);
+                            }
+                        }
+                        originalProductList = new ArrayList<>(availableProducts);
+                        filteredProducts.setValue(availableProducts);
                     } else {
                         filteredProducts.setValue(new ArrayList<>());
                     }
@@ -83,8 +86,14 @@
                                 .addOnCompleteListener(productTask -> {
                                     if (productTask.isSuccessful()) {
                                         List<Product> products = productTask.getResult().toObjects(Product.class);
-                                        originalProductList = new ArrayList<>(products);
-                                        filteredProducts.setValue(products);
+                                        List<Product> availableProducts = new ArrayList<>();
+                                        for (Product product : products) {
+                                            if ("available".equals(product.getActive())) {
+                                                availableProducts.add(product);
+                                            }
+                                        }
+                                        originalProductList = new ArrayList<>(availableProducts);
+                                        filteredProducts.setValue(availableProducts);
                                     } else {
                                         filteredProducts.setValue(new ArrayList<>());
                                     }
@@ -121,4 +130,4 @@
         filteredProducts.setValue(currentProducts);
     }
 
-}
+}
\ No newline at end of file
Index: app/src/main/res/layout/activity_my_account.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.MyProfile.MyAccount.MyAccountActivity\">\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"vertical\"\r\n        tools:ignore=\"MissingConstraints\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:paddingStart=\"12dp\"\r\n            android:paddingEnd=\"12dp\"\r\n            android:paddingTop=\"10dp\"\r\n            android:paddingBottom=\"10dp\"\r\n            android:background=\"@color/white\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/btn_back\"\r\n                android:layout_width=\"30dp\"\r\n                android:layout_height=\"35dp\"\r\n                android:src=\"@drawable/ic_left\"\r\n                android:scaleType=\"fitCenter\"\r\n                android:layout_marginStart=\"5dp\"\r\n                android:layout_gravity=\"center_vertical\"\r\n                android:background=\"@color/white\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textView1\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"35dp\"\r\n                android:layout_weight=\"1\"\r\n                android:gravity=\"start\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:text=\"Tài khoản &amp; Bảo mật\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"11pt\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"5dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/ll_my_account\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"140dp\"\r\n            android:background=\"@color/green\"\r\n            android:gravity=\"center_vertical\"\r\n            android:orientation=\"vertical\"\r\n            android:padding=\"16dp\">\r\n\r\n            <FrameLayout\r\n                android:id=\"@+id/fl_my_account_img\"\r\n                android:layout_width=\"78dp\"\r\n                android:layout_height=\"78dp\"\r\n                android:background=\"@drawable/rounded_frame\"\r\n                android:clipToOutline=\"true\"\r\n                android:layout_gravity=\"center\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/user_image\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:scaleType=\"centerCrop\"\r\n                    />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/overlay_text\"\r\n                    android:layout_width=\"78dp\"\r\n                    android:layout_height=\"39dp\"\r\n                    android:layout_gravity=\"bottom\"\r\n                    android:gravity=\"center\"\r\n                    android:background=\"@drawable/rounded_text\"\r\n                    android:text=\"Sửa\"\r\n                    android:textColor=\"@android:color/white\"\r\n                    android:textSize=\"18sp\" />\r\n\r\n            </FrameLayout>\r\n        </LinearLayout>\r\n\r\n\r\n\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/my_user_name\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_name\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Tên\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_name_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n            <ImageView\r\n                android:id=\"@+id/my_profile_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/my_user_sex\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_sex\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Giới tính\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_sex_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n            <ImageView\r\n                android:id=\"@+id/user_sex_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/my_user_date_birth\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_date_birth\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Ngày sinh\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_date_birth_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n            <ImageView\r\n                android:id=\"@+id/my_date_birth_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/my_phone_number\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/my_phone_number_text1\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Điện thoại\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/my_phone_number_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/my_phone_number_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/my_email\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/email\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Email\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/email_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/my_email_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                 />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/change_password\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/change_password_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"2\"\r\n\r\n                android:text=\"Đổi mật khẩu\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/change_password_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n\r\n    </LinearLayout>\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_my_account.xml b/app/src/main/res/layout/activity_my_account.xml
--- a/app/src/main/res/layout/activity_my_account.xml	(revision 9b2cfcc895199c4804a498e0a7c51380c063fdbf)
+++ b/app/src/main/res/layout/activity_my_account.xml	(date 1731493419549)
@@ -12,37 +12,20 @@
         android:orientation="vertical"
         tools:ignore="MissingConstraints">
 
-        <LinearLayout
+        <androidx.appcompat.widget.Toolbar
+            android:id="@+id/header_toolbar"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
+            android:background="@color/white"
             android:paddingStart="12dp"
             android:paddingEnd="12dp"
             android:paddingTop="10dp"
             android:paddingBottom="10dp"
-            android:background="@color/white"
-            android:orientation="horizontal">
+            app:title="Tài khoản &amp; Bảo mật"
+            app:titleTextColor="@color/black"
+            app:titleTextAppearance="@style/TextAppearance.AppCompat.Large"
+            app:navigationIcon="@drawable/chevron_left" />
 
-            <ImageButton
-                android:id="@+id/btn_back"
-                android:layout_width="30dp"
-                android:layout_height="35dp"
-                android:src="@drawable/ic_left"
-                android:scaleType="fitCenter"
-                android:layout_marginStart="5dp"
-                android:layout_gravity="center_vertical"
-                android:background="@color/white" />
-
-            <TextView
-                android:id="@+id/textView1"
-                android:layout_width="0dp"
-                android:layout_height="35dp"
-                android:layout_weight="1"
-                android:gravity="start"
-                android:layout_marginStart="15dp"
-                android:text="Tài khoản &amp; Bảo mật"
-                android:textColor="@color/black"
-                android:textSize="11pt" />
-        </LinearLayout>
         <View
             android:layout_width="match_parent"
             android:layout_height="5dp"
Index: app/src/main/java/com/example/agrimart/viewmodel/EditProfileStoreViewModel.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.net.Uri;\r\nimport android.util.Log;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.ApiClient;\r\nimport com.example.agrimart.data.interface1.ApiService;\r\nimport com.example.agrimart.data.model.Commune;\r\nimport com.example.agrimart.data.model.District;\r\nimport com.example.agrimart.data.model.Province;\r\nimport com.example.agrimart.data.model.User;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\n\r\n\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\npublic class EditProfileStoreViewModel extends ViewModel {\r\n    public MutableLiveData<String> nameStore = new MutableLiveData<>(\"Kaha\");\r\n    public MutableLiveData<String> phoneNumber = new MutableLiveData<>(\"gưgrwg\");\r\n\r\n    public MutableLiveData<List<Province>> provinces = new MutableLiveData<>();\r\n    public MutableLiveData<List<District>> districts = new MutableLiveData<>();\r\n    public MutableLiveData<List<Commune>> wards = new MutableLiveData<>();\r\n\r\n    public MutableLiveData<String> province = new MutableLiveData<>();\r\n    public MutableLiveData<String> district = new MutableLiveData<>();\r\n    public MutableLiveData<String> ward = new MutableLiveData<>();\r\n    public MutableLiveData<String> street = new MutableLiveData<>(\"\");\r\n    public MutableLiveData<String> storeImage = new MutableLiveData<>();\r\n    private final ApiService apiService;\r\n\r\n    public EditProfileStoreViewModel() {\r\n        apiService = ApiClient.getClient().create(ApiService.class);\r\n//        getProfileStore();\r\n    }\r\n\r\n    public void getProvinces() {\r\n        apiService.getAllProvinces().enqueue(new Callback<List<Province>>() {\r\n            @Override\r\n            public void onResponse(Call<List<Province>> call, Response<List<Province>> response) {\r\n                if(response.isSuccessful() && response.body() != null) {\r\n                    Log.d(\"RegisterSellerViewModel\", response.body().toString());\r\n                    provinces.setValue(response.body());\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call<List<Province>> call, Throwable t) {\r\n                Toast.makeText(null, \"Error: \" + t.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void getDistricts(String provinceId) {\r\n        apiService.getAllDistricts().enqueue(new Callback<List<District>>() {\r\n            @Override\r\n            public void onResponse(Call<List<District>> call, Response<List<District>> response) {\r\n                if(response.isSuccessful() && response.body() != null) {\r\n                    Log.d(\"RegisterSellerViewModel\", response.body().toString());\r\n                    List<District> districtList = response.body();\r\n                    List<District> districtList1 = districtList\r\n                            .stream().filter(district->district.getIdProvince().equals(provinceId))\r\n                            .collect(Collectors.toList());\r\n                    districts.setValue(districtList1);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call<List<District>> call, Throwable t) {\r\n                Toast.makeText(null, \"Error: \" + t.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void getWard(String districtId){\r\n        apiService.getAllCommune().enqueue(new Callback<List<Commune>>() {\r\n            @Override\r\n            public void onResponse(Call<List<Commune>> call, Response<List<Commune>> response) {\r\n                if(response.isSuccessful() && response.body() != null) {\r\n                    List<Commune> communeList = response.body();\r\n                    List<Commune> communeList1 = communeList\r\n                            .stream().filter(commune->commune.getIdDistrict().equals(districtId))\r\n                            .collect(Collectors.toList());\r\n                    wards.setValue(communeList1);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call<List<Commune>> call, Throwable t) {\r\n                Toast.makeText(null, \"Error: \" + t.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    public MutableLiveData<String> getNameStore() {\r\n        return nameStore;\r\n    }\r\n\r\n    public void setNameStore(MutableLiveData<String> nameStore) {\r\n        this.nameStore = nameStore;\r\n    }\r\n\r\n    public MutableLiveData<String> getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(MutableLiveData<String> phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public MutableLiveData<String> getStreet() {\r\n        return street;\r\n    }\r\n\r\n    public void setStreet(MutableLiveData<String> street) {\r\n        this.street = street;\r\n    }\r\n\r\n\r\n    public void getProfileStore(){ {\r\n        FirebaseFirestore db=FirebaseFirestore.getInstance();\r\n        FirebaseUser user= FirebaseAuth.getInstance().getCurrentUser();\r\n        if(user!=null){\r\n            db.collection(\"users\").document(user.getUid())\r\n                    .get()\r\n                    .addOnSuccessListener(documentSnapshot -> {\r\n                        if(documentSnapshot.exists()){\r\n                                User user1=documentSnapshot.toObject(User.class);\r\n                                nameStore.setValue(user1.getStoreName());\r\n                                phoneNumber.setValue(user1.getPhoneNumberStore());\r\n                                street.setValue(user1.getStoreAddress().getStreet());\r\n                                province.setValue(user1.getStoreAddress().getCity());\r\n                                district.setValue(user1.getStoreAddress().getDistrict());\r\n                                ward.setValue(user1.getStoreAddress().getWard());\r\n                                storeImage.setValue(user1.getStoreImage());\r\n                                Log.d(\"EditProfileStoreViewModel123\", \"getProfileStore: \"+user1.getStoreName());\r\n\r\n                        }\r\n                    });\r\n                    }\r\n        }\r\n    }\r\n\r\n\r\n    public void updateProfile(String storeName, String phoneNumber, String street, String selectedProvinceName, String selectedDistrictName, String selectedWardName, Uri imageUri) {\r\n        FirebaseFirestore db=FirebaseFirestore.getInstance();\r\n        FirebaseUser user= FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n        if(!storeName.isEmpty() && !storeName.equals(this.storeImage.getValue())){\r\n            db.collection(\"users\").document(user.getUid())\r\n                    .update(\"store_name\",storeName);\r\n        }\r\n        if(!phoneNumber.isEmpty() && !phoneNumber.equals(this.phoneNumber.getValue())){\r\n            db.collection(\"users\").document(user.getUid())\r\n                    .update(\"store_phone_number\",phoneNumber);\r\n        }\r\n\r\n        if(imageUri!=null ){\r\n\r\n            StorageReference storageRefDel= FirebaseStorage.getInstance().getReference().child(\"users\").child(user.getUid()).child(this.nameStore.getValue());\r\n            storageRefDel.delete()\r\n                    .addOnSuccessListener(aVoid -> {\r\n                        Log.d(\"EditProfileStoreViewModel123\", \"updateProfile: \"+\"Delete success\");\r\n                    })\r\n                    .addOnFailureListener(e -> {\r\n                        Log.d(\"EditProfileStoreViewModel123\", \"updateProfile: \"+e.getMessage());\r\n                    });\r\n\r\n            StorageReference storageRef= FirebaseStorage.getInstance().getReference().child(\"users\").child(user.getUid()).child(storeName);\r\n            storageRef.putFile(imageUri)\r\n                    .addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {\r\n                        @Override\r\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                            storageRef.getDownloadUrl().addOnSuccessListener(uri -> {\r\n                                db.collection(\"users\").document(user.getUid())\r\n                                        .update(\"store_avatar\",uri.toString());\r\n                            });\r\n                        }\r\n                    })\r\n                    .addOnFailureListener(e -> {\r\n                        Log.d(\"EditProfileStoreViewModel123\", \"updateProfile: \"+e.getMessage());\r\n                    });\r\n        }\r\n//        if (imageUri == null ) {\r\n//            StorageReference storageRefDel= FirebaseStorage.getInstance().getReference().child(\"users\").child(user.getUid()).child(this.nameStore.getValue());\r\n//            storageRefDel.delete()\r\n//                    .addOnSuccessListener(aVoid -> {\r\n//                        Log.d(\"EditProfileStoreViewModel123\", \"updateProfile: \"+\"Delete success\");\r\n//                    })\r\n//                    .addOnFailureListener(e -> {\r\n//                        Log.d(\"EditProfileStoreViewModel123\", \"updateProfile: \"+e.getMessage());\r\n//                    });\r\n//            StorageReference storageRef= FirebaseStorage.getInstance().getReference().child(\"users\").child(user.getUid()).child(storeName);\r\n//            Uri newImageUri = Uri.parse();\r\n//\r\n//            storageRef.putFile(Uri.parse(this.storeImage.getValue()))\r\n//                    .addOnSuccessListener(taskSnapshot -> {\r\n//                        storageRef.getDownloadUrl().addOnSuccessListener(uri -> {\r\n//                            db.collection(\"users\").document(user.getUid())\r\n//                                    .update(\"store_avatar\",uri.toString());\r\n//                        });\r\n//                    });\r\n//        }\r\n\r\n        if(!street.isEmpty() && !street.equals(this.street.getValue())){\r\n            db.collection(\"users\").document(user.getUid())\r\n                    .update(\"store_address.street\",street);\r\n        }\r\n\r\n        if(!selectedProvinceName.isEmpty() && !selectedProvinceName.equals(this.province.getValue())){\r\n            db.collection(\"users\").document(user.getUid())\r\n                    .update(\"store_address.city\",selectedProvinceName);\r\n        }\r\n\r\n        if(!selectedDistrictName.isEmpty() && !selectedDistrictName.equals(this.district.getValue())){\r\n            db.collection(\"users\").document(user.getUid())\r\n                    .update(\"store_address.district\",selectedDistrictName);\r\n        }\r\n\r\n\r\n        if(!selectedWardName.isEmpty() && !selectedWardName.equals(this.ward.getValue())){\r\n            db.collection(\"users\").document(user.getUid())\r\n                    .update(\"store_address.ward\",selectedWardName);\r\n        }\r\n\r\n\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/agrimart/viewmodel/EditProfileStoreViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/EditProfileStoreViewModel.java
--- a/app/src/main/java/com/example/agrimart/viewmodel/EditProfileStoreViewModel.java	(revision 9b2cfcc895199c4804a498e0a7c51380c063fdbf)
+++ b/app/src/main/java/com/example/agrimart/viewmodel/EditProfileStoreViewModel.java	(date 1731551107501)
@@ -7,7 +7,7 @@
 import androidx.lifecycle.MutableLiveData;
 import androidx.lifecycle.ViewModel;
 
-import com.example.agrimart.data.ApiClient;
+import com.example.agrimart.data.API.ApiClient;
 import com.example.agrimart.data.interface1.ApiService;
 import com.example.agrimart.data.model.Commune;
 import com.example.agrimart.data.model.District;
Index: app/build.gradle.kts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\r\n    id(\"com.android.application\")\r\n    id(\"com.google.gms.google-services\")\r\n}\r\n\r\nandroid {\r\n    namespace = \"com.example.agrimart\"\r\n    compileSdk = 34\r\n\r\n    defaultConfig {\r\n        applicationId = \"com.example.agrimart\"\r\n        minSdk = 30\r\n        targetSdk = 34\r\n        versionCode = 1\r\n        versionName = \"1.0\"\r\n\r\n        testInstrumentationRunner = \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            isMinifyEnabled = false\r\n            proguardFiles(getDefaultProguardFile(\"proguard-android-optimize.txt\"), \"proguard-rules.pro\")\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility = JavaVersion.VERSION_1_8\r\n        targetCompatibility = JavaVersion.VERSION_1_8\r\n    }\r\n    sourceSets {\r\n        getByName(\"main\") {\r\n            res {\r\n                srcDirs(\"src\\\\main\\\\res\", \"src\\\\main\\\\res\\\\animator\")\r\n            }\r\n        }\r\n    }\r\n    buildFeatures{\r\n        viewBinding=true;\r\n        dataBinding=true;\r\n    }\r\n}\r\ndependencies {\r\n    implementation(\"com.squareup.retrofit2:retrofit:2.9.0\")\r\n    implementation(\"com.squareup.retrofit2:converter-gson:2.9.0\")\r\n    implementation(\"com.google.code.gson:gson:2.10.1\")\r\n    implementation(\"com.github.yalantis:ucrop:2.2.6\")\r\n    implementation(\"androidx.core:core-ktx:1.12.0\")\r\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib:1.8.22\")\r\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.22\")\r\n    implementation(\"androidx.viewpager:viewpager:1.0.0\")\r\n    implementation(\"androidx.appcompat:appcompat:1.6.1\")\r\n    implementation(\"androidx.constraintlayout:constraintlayout:2.1.4\")\r\n    implementation(\"androidx.activity:activity:1.9.1\")\r\n    implementation (\"com.github.denzcoskun:ImageSlideshow:0.1.2\")\r\n    implementation (\"de.hdodenhof:circleimageview:3.1.0\")\r\n    implementation (\"com.squareup.picasso:picasso:2.71828\")\r\n    implementation(\"androidx.lifecycle:lifecycle-livedata-ktx:2.8.7\")\r\n    implementation(\"androidx.lifecycle:lifecycle-viewmodel-ktx:2.8.7\")\r\n    implementation(\"androidx.recyclerview:recyclerview:1.3.2\")\r\n    implementation (\"com.google.android.material:material:1.12.0\")\r\n    implementation(\"com.google.firebase:firebase-firestore:25.1.1\")\r\n    implementation(\"com.google.firebase:firebase-auth:23.1.0\")\r\n    implementation(\"com.google.firebase:firebase-storage:21.0.1\")\r\n    implementation(\"com.google.firebase:firebase-messaging:24.0.3\")\r\n    implementation(\"com.google.firebase:firebase-inappmessaging-display:21.0.1\")\r\n    implementation(\"androidx.navigation:navigation-fragment:2.8.3\")\r\n    implementation(\"androidx.navigation:navigation-ui:2.8.3\")\r\n    testImplementation(\"junit:junit:4.13.2\")\r\n    androidTestImplementation(\"androidx.test.ext:junit:1.2.1\")\r\n    androidTestImplementation(\"androidx.test.espresso:espresso-core:3.6.1\")\r\n    implementation(\"com.google.android.gms:play-services-auth:21.2.0\")\r\n    implementation(platform(\"com.google.firebase:firebase-bom:33.5.1\"))\r\n    implementation (\"com.github.bumptech.glide:glide:4.16.0\")\r\n    implementation (\"com.github.dhaval2404:imagepicker:2.1\")\r\n//  implementation (\"io.github.ParkSangGwon:tedimagepicker:1.6.1\")\r\n    // ViewModel\r\n//    implementation(\"androidx.lifecycle:lifecycle-viewmodel:2.8.5\")\r\n    implementation (\"com.facebook.android:facebook-login:latest.release\")\r\n    implementation(\"androidx.browser:browser:1.8.0\")\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/build.gradle.kts b/app/build.gradle.kts
--- a/app/build.gradle.kts	(revision 9b2cfcc895199c4804a498e0a7c51380c063fdbf)
+++ b/app/build.gradle.kts	(date 1731493419536)
@@ -65,6 +65,12 @@
     implementation("com.google.firebase:firebase-inappmessaging-display:21.0.1")
     implementation("androidx.navigation:navigation-fragment:2.8.3")
     implementation("androidx.navigation:navigation-ui:2.8.3")
+    //ZaloPay
+    implementation(fileTree(mapOf(
+        "dir" to "D:\\Data\\Android\\DoAn\\ZaloPay",
+        "include" to listOf("*.aar", "*.jar"),
+        "exclude" to listOf("")
+    )))
     testImplementation("junit:junit:4.13.2")
     androidTestImplementation("androidx.test.ext:junit:1.2.1")
     androidTestImplementation("androidx.test.espresso:espresso-core:3.6.1")
