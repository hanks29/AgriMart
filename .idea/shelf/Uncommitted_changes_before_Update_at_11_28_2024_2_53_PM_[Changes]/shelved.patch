Index: app/src/main/java/com/example/agrimart/ui/Payment/VnpayRefund.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.agrimart.ui.Payment;\r\n\r\nimport com.example.agrimart.data.API.Config_VNPAY;\r\n\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.io.OutputStream;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.*;\r\nimport javax.crypto.Mac;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\npublic class VnpayRefund {\r\n\r\n    public static String createRefundRequest(String transactionNo, int amount, String transactionDate, String orderInfo, String createBy) throws Exception {\r\n        String vnp_Version = Config_VNPAY.VNP_VERSION;\r\n        String vnp_Command = \"refund\";\r\n        String vnp_TmnCode = Config_VNPAY.VNP_TMNCODE;\r\n        String vnp_HashSecret = Config_VNPAY.VNP_HASH_SECRET;\r\n        String vnp_IpAddr = \"127.0.0.1\";\r\n        String vnp_CreateDate = new SimpleDateFormat(\"yyyyMMddHHmmss\").format(new Date());\r\n\r\n        // Tạo tham số cho yêu cầu hoàn tiền\r\n        Map<String, String> vnp_Params = new HashMap<>();\r\n        vnp_Params.put(\"vnp_Version\", vnp_Version);\r\n        vnp_Params.put(\"vnp_Command\", vnp_Command);\r\n        vnp_Params.put(\"vnp_TmnCode\", vnp_TmnCode);\r\n        vnp_Params.put(\"vnp_TransactionNo\", transactionNo);\r\n        vnp_Params.put(\"vnp_Amount\", String.valueOf(amount * 100));\r\n        vnp_Params.put(\"vnp_TransactionDate\", transactionDate);\r\n        vnp_Params.put(\"vnp_OrderInfo\", orderInfo);\r\n        vnp_Params.put(\"vnp_CreateBy\", createBy);\r\n        vnp_Params.put(\"vnp_CreateDate\", vnp_CreateDate);\r\n        vnp_Params.put(\"vnp_IpAddr\", vnp_IpAddr);\r\n\r\n        // Tạo checksum (vnp_SecureHash)\r\n        List<String> fieldNames = new ArrayList<>(vnp_Params.keySet());\r\n        Collections.sort(fieldNames);\r\n        StringBuilder hashData = new StringBuilder();\r\n        StringBuilder query = new StringBuilder();\r\n        for (String fieldName : fieldNames) {\r\n            String fieldValue = vnp_Params.get(fieldName);\r\n            if (fieldValue != null && fieldValue.length() > 0) {\r\n                hashData.append(fieldName).append(\"=\").append(fieldValue).append(\"&\");\r\n                query.append(fieldName).append(\"=\").append(fieldValue).append(\"&\");\r\n            }\r\n        }\r\n\r\n        // Xóa ký tự `&` cuối cùng\r\n        hashData.setLength(hashData.length() - 1);\r\n        query.setLength(query.length() - 1);\r\n\r\n        // Tạo vnp_SecureHash bằng HMAC SHA512\r\n        String vnp_SecureHash = hmacSHA512(vnp_HashSecret, hashData.toString());\r\n        query.append(\"&vnp_SecureHash=\").append(vnp_SecureHash);\r\n\r\n        // Gửi yêu cầu POST đến VNPAY\r\n        URL url = new URL(Config_VNPAY.VNPAY_SANDBOX_REFUND_URL);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setRequestMethod(\"POST\");\r\n        connection.setDoOutput(true);\r\n        connection.setRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n\r\n        OutputStream os = connection.getOutputStream();\r\n        os.write(query.toString().getBytes(\"UTF-8\"));\r\n        os.close();\r\n\r\n        // Nhận phản hồi từ VNPAY\r\n        int responseCode = connection.getResponseCode();\r\n        if (responseCode == HttpURLConnection.HTTP_OK) {\r\n            Scanner scanner = new Scanner(connection.getInputStream());\r\n            StringBuilder response = new StringBuilder();\r\n            while (scanner.hasNext()) {\r\n                response.append(scanner.nextLine());\r\n            }\r\n            scanner.close();\r\n            return response.toString(); // Trả về kết quả từ API\r\n        } else {\r\n            return \"Lỗi: \" + responseCode;\r\n        }\r\n    }\r\n\r\n    // Hàm tạo HMAC SHA512\r\n    public static String hmacSHA512(String key, String data) throws Exception {\r\n        Mac hmacSha512 = Mac.getInstance(\"HmacSHA512\");\r\n        SecretKeySpec secretKeySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"HmacSHA512\");\r\n        hmacSha512.init(secretKeySpec);\r\n        byte[] hashBytes = hmacSha512.doFinal(data.getBytes(\"UTF-8\"));\r\n        StringBuilder result = new StringBuilder();\r\n        for (byte b : hashBytes) {\r\n            result.append(String.format(\"%02x\", b));\r\n        }\r\n        return result.toString();\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/agrimart/ui/Payment/VnpayRefund.java b/app/src/main/java/com/example/agrimart/ui/Payment/VnpayRefund.java
--- a/app/src/main/java/com/example/agrimart/ui/Payment/VnpayRefund.java	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ b/app/src/main/java/com/example/agrimart/ui/Payment/VnpayRefund.java	(date 1732464100607)
@@ -74,7 +74,7 @@
                 response.append(scanner.nextLine());
             }
             scanner.close();
-            return response.toString(); // Trả về kết quả từ API
+            return response.toString();
         } else {
             return "Lỗi: " + responseCode;
         }
Index: app/src/main/res/layout/item_notification.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:layout_marginTop=\"8dp\"\r\n    android:paddingStart=\"10dp\"\r\n    android:paddingEnd=\"10dp\"\r\n    android:paddingTop=\"8dp\"\r\n    android:paddingBottom=\"8dp\"\r\n    android:background=\"@drawable/round_border\">\r\n\r\n    <de.hdodenhof.circleimageview.CircleImageView\r\n        android:id=\"@+id/notification_image\"\r\n        android:layout_width=\"40dp\"\r\n        android:layout_height=\"40dp\"\r\n        android:src=\"@drawable/banana\"\r\n        android:layout_marginEnd=\"8dp\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/notification_title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"31dp\"\r\n        android:layout_marginStart=\"12dp\"\r\n        android:text=\"Tiêu đề\"\r\n        android:textSize=\"16sp\"\r\n        android:textStyle=\"bold\"\r\n\r\n        app:layout_constraintBottom_toTopOf=\"@+id/notification_message\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/notification_image\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.5\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/notification_message\"\r\n        android:layout_width=\"264dp\"\r\n        android:layout_height=\"38dp\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"4dp\"\r\n        android:layout_marginBottom=\"4dp\"\r\n        android:text=\"nội dung.\"\r\n        android:textColor=\"@android:color/black\"\r\n        android:textSize=\"14sp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toStartOf=\"@id/notification_time\"\r\n        app:layout_constraintHorizontal_bias=\"0\"\r\n        app:layout_constraintStart_toEndOf=\"@id/notification_image\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/notification_title\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/notification_time\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"@string/notification_time\"\r\n        android:textColor=\"@android:color/darker_gray\"\r\n        android:textSize=\"12sp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toEndOf=\"@id/notification_message\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.967\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_notification.xml b/app/src/main/res/layout/item_notification.xml
--- a/app/src/main/res/layout/item_notification.xml	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ b/app/src/main/res/layout/item_notification.xml	(date 1732453651949)
@@ -25,44 +25,40 @@
     <TextView
         android:id="@+id/notification_title"
         android:layout_width="wrap_content"
-        android:layout_height="31dp"
+        android:layout_height="23dp"
         android:layout_marginStart="12dp"
         android:text="Tiêu đề"
+        android:textColor="@color/green"
         android:textSize="16sp"
         android:textStyle="bold"
-
         app:layout_constraintBottom_toTopOf="@+id/notification_message"
         app:layout_constraintStart_toEndOf="@+id/notification_image"
-        app:layout_constraintTop_toTopOf="parent"
-        app:layout_constraintVertical_bias="0.5" />
+        app:layout_constraintTop_toTopOf="parent" />
 
     <TextView
         android:id="@+id/notification_message"
-        android:layout_width="264dp"
-        android:layout_height="38dp"
-        android:layout_marginStart="8dp"
+        android:layout_width="0dp"
+        android:layout_height="wrap_content"
+        android:layout_marginStart="12dp"
         android:layout_marginTop="4dp"
-        android:layout_marginBottom="4dp"
         android:text="nội dung."
         android:textColor="@android:color/black"
         android:textSize="14sp"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintEnd_toStartOf="@id/notification_time"
-        app:layout_constraintHorizontal_bias="0"
+        app:layout_constraintBottom_toTopOf="@+id/notification_time"
+        app:layout_constraintEnd_toEndOf="parent"
         app:layout_constraintStart_toEndOf="@id/notification_image"
-        app:layout_constraintTop_toBottomOf="@id/notification_title" />
+        app:layout_constraintTop_toBottomOf="@+id/notification_title" />
 
     <TextView
         android:id="@+id/notification_time"
-        android:layout_width="wrap_content"
+        android:layout_width="0dp"
         android:layout_height="wrap_content"
+        android:layout_marginTop="4dp"
+        android:layout_marginEnd="4dp"
         android:text="@string/notification_time"
         android:textColor="@android:color/darker_gray"
         android:textSize="12sp"
-        app:layout_constraintBottom_toBottomOf="parent"
         app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintStart_toEndOf="@id/notification_message"
-        app:layout_constraintTop_toTopOf="parent"
-        app:layout_constraintVertical_bias="0.967" />
+        app:layout_constraintTop_toBottomOf="@+id/notification_message" />
 
 </androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_9_23_PM__Changes_1.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_9_23_PM__Changes_1.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_9_23_PM__Changes_1.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_9_23_PM__Changes_1.xml	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ /dev/null	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_11_20_2024_9_23_PM_[Changes]1" date="1732112654444" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_9_23_PM_[Changes]1/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/20/2024 9:23 PM [Changes]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_5_19_PM__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_5_19_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_5_19_PM__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_5_19_PM__Changes_.xml	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ /dev/null	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_11_20_2024_5_19_PM_[Changes]" date="1732097966330" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_5_19_PM_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/20/2024 5:19 PM [Changes]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_18_2024_9_43_PM__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_18_2024_9_43_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_18_2024_9_43_PM__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_18_2024_9_43_PM__Changes_.xml	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ /dev/null	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
@@ -1,74 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_11_18_2024_9_43_PM_[Changes]" date="1731941118699" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_18_2024_9_43_PM_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/18/2024 9:43 PM [Changes]" />
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_1.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" />
-    <option name="AFTER_PATH" value="app/src/main/res/drawable/next_ic.png" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_18_2024_9_43_PM_[Changes]/next_ic.png" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_3_22_PM_[Changes]/add.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_6.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_8.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_3.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_4.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/error_image.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/placeholder_image.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_2.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_7.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_3_22_PM_[Changes]/subtract.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_5.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_11_14_PM_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_11_14_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_11_14_PM_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_11_14_PM_[Changes]/shelved.patch	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ /dev/null	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
@@ -1,26 +0,0 @@
-Index: app/src/main/res/menu/menu.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/menu/menu.xml b/app/src/main/res/menu/menu.xml
-new file mode 100644
---- /dev/null	(date 1731854757854)
-+++ b/app/src/main/res/menu/menu.xml	(date 1731854757854)
-@@ -0,0 +1,15 @@
-+<!-- res/menu/menu_product_detail.xml -->
-+<menu xmlns:android="http://schemas.android.com/apk/res/android">
-+    <item
-+        android:id="@+id/action_report"
-+        android:title="Báo cáo sản phẩm"
-+        android:orderInCategory="100"
-+        android:icon="@drawable/error"
-+        android:showAsAction="never" />
-+    <item
-+        android:id="@+id/action_home"
-+        android:title="Trở về trang chủ"
-+        android:icon="@drawable/home"
-+        android:orderInCategory="101"
-+        android:showAsAction="never" />
-+</menu>
-\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_9_45_PM_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_9_45_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_9_45_PM_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_9_45_PM_[Changes]/shelved.patch	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ /dev/null	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
@@ -1,26 +0,0 @@
-Index: app/src/main/res/menu/menu.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/menu/menu.xml b/app/src/main/res/menu/menu.xml
-new file mode 100644
---- /dev/null	(date 1731831161408)
-+++ b/app/src/main/res/menu/menu.xml	(date 1731831161408)
-@@ -0,0 +1,15 @@
-+<!-- res/menu/menu_product_detail.xml -->
-+<menu xmlns:android="http://schemas.android.com/apk/res/android">
-+    <item
-+        android:id="@+id/action_report"
-+        android:title="Báo cáo sản phẩm"
-+        android:orderInCategory="100"
-+        android:icon="@drawable/error"
-+        android:showAsAction="never" />
-+    <item
-+        android:id="@+id/action_home"
-+        android:title="Trở về trang chủ"
-+        android:icon="@drawable/home"
-+        android:orderInCategory="101"
-+        android:showAsAction="never" />
-+</menu>
-\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_18_2024_9_43_PM_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_18_2024_9_43_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_18_2024_9_43_PM_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_18_2024_9_43_PM_[Changes]/shelved.patch	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ /dev/null	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
@@ -1,5642 +0,0 @@
-Index: app/src/main/java/com/example/agrimart/ui/ProductPage/ProductRatingFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.ui.ProductPage;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.Observer;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.adapter.RatingAdapter;\r\nimport com.example.agrimart.data.model.Rating;\r\nimport com.example.agrimart.viewmodel.ProductRatingFragmentViewModel;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class ProductRatingFragment extends Fragment {\r\n\r\n    private RecyclerView ratingRecyclerView;\r\n    private RatingAdapter ratingAdapter;\r\n    private List<Rating> ratingList = new ArrayList<>();\r\n    private String productId;\r\n    private ProductRatingFragmentViewModel productRatingFragmentViewModel;\r\n\r\n    public ProductRatingFragment(String productId) {\r\n        this.productId = productId;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_product_rating, container, false);\r\n\r\n        // Ánh xạ RecyclerView\r\n        ratingRecyclerView = view.findViewById(R.id.ratingProduct);\r\n\r\n        // Khởi tạo ViewModel\r\n        productRatingFragmentViewModel = new ProductRatingFragmentViewModel();\r\n\r\n        // Lắng nghe sự thay đổi của LiveData từ ViewModel\r\n        productRatingFragmentViewModel.getRatingsLiveData().observe(getViewLifecycleOwner(), new Observer<List<Map<String, Object>>>() {\r\n            @Override\r\n            public void onChanged(List<Map<String, Object>> ratingsData) {\r\n                if (ratingsData != null) {\r\n                    // Chuyển đổi danh sách Map thành danh sách Rating\r\n                    ratingList.clear();\r\n                    for (Map<String, Object> data : ratingsData) {\r\n                        Rating rating = new Rating(\r\n                                (String) data.get(\"userId\"),\r\n                                (String) data.get(\"rating\"),\r\n                                (String) data.get(\"review\"),\r\n                                (String) data.get(\"updatedAt\")\r\n                        );\r\n                        ratingList.add(rating);\r\n                    }\r\n                    // Cập nhật lại adapter\r\n                    ratingAdapter.notifyDataSetChanged();\r\n                }\r\n            }\r\n        });\r\n\r\n        // Fetch dữ liệu đánh giá từ Firestore\r\n        productRatingFragmentViewModel.fetchProductRatings(productId);\r\n\r\n        // Khởi tạo RatingAdapter với danh sách Rating\r\n        ratingAdapter = new RatingAdapter(requireContext(), ratingList, productRatingFragmentViewModel);\r\n\r\n        // Thiết lập RecyclerView với LayoutManager và Adapter\r\n        ratingRecyclerView.setLayoutManager(new LinearLayoutManager(requireContext()));\r\n        ratingRecyclerView.setAdapter(ratingAdapter);\r\n\r\n        return view;\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductRatingFragment.java b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductRatingFragment.java
---- a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductRatingFragment.java	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductRatingFragment.java	(date 1731759971020)
-@@ -1,9 +1,13 @@
- package com.example.agrimart.ui.ProductPage;
- 
-+import android.annotation.SuppressLint;
-+import android.content.Intent;
- import android.os.Bundle;
- import android.view.LayoutInflater;
- import android.view.View;
- import android.view.ViewGroup;
-+import android.widget.LinearLayout;
-+import android.widget.TextView;
- 
- import androidx.annotation.NonNull;
- import androidx.annotation.Nullable;
-@@ -12,15 +16,20 @@
- import androidx.recyclerview.widget.LinearLayoutManager;
- import androidx.recyclerview.widget.RecyclerView;
- 
-+import com.bumptech.glide.Glide;
-+import com.bumptech.glide.request.RequestOptions;
- import com.example.agrimart.R;
- import com.example.agrimart.adapter.RatingAdapter;
- import com.example.agrimart.data.model.Rating;
- import com.example.agrimart.viewmodel.ProductRatingFragmentViewModel;
-+import com.google.firebase.Timestamp;
- 
- import java.util.ArrayList;
- import java.util.List;
- import java.util.Map;
- 
-+import per.wsj.library.AndRatingBar;
-+
- public class ProductRatingFragment extends Fragment {
- 
-     private RecyclerView ratingRecyclerView;
-@@ -28,11 +37,15 @@
-     private List<Rating> ratingList = new ArrayList<>();
-     private String productId;
-     private ProductRatingFragmentViewModel productRatingFragmentViewModel;
-+    private TextView numberReviews, numberRating, allRating;
-+    private AndRatingBar rating;
-+    private LinearLayout nextAllRating;
- 
-     public ProductRatingFragment(String productId) {
-         this.productId = productId;
-     }
- 
-+    @SuppressLint("MissingInflatedId")
-     @Nullable
-     @Override
-     public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
-@@ -41,10 +54,16 @@
- 
-         // Ánh xạ RecyclerView
-         ratingRecyclerView = view.findViewById(R.id.ratingProduct);
-+        numberRating = view.findViewById(R.id.numberRating);
-+        numberReviews = view.findViewById(R.id.numberReviews);
-+        rating = view.findViewById(R.id.rating);
-+        allRating = view.findViewById(R.id.allRating);
-+        nextAllRating = view.findViewById(R.id.nextAllRating);
- 
-         // Khởi tạo ViewModel
-         productRatingFragmentViewModel = new ProductRatingFragmentViewModel();
- 
-+
-         // Lắng nghe sự thay đổi của LiveData từ ViewModel
-         productRatingFragmentViewModel.getRatingsLiveData().observe(getViewLifecycleOwner(), new Observer<List<Map<String, Object>>>() {
-             @Override
-@@ -52,15 +71,45 @@
-                 if (ratingsData != null) {
-                     // Chuyển đổi danh sách Map thành danh sách Rating
-                     ratingList.clear();
--                    for (Map<String, Object> data : ratingsData) {
-+
-+                    Integer quantity = 0;
-+                    Double averageRating = 0.0;
-+
-+                    if (!ratingsData.isEmpty()) {
-+                        Map<String, Object> firstItem = ratingsData.get(0);
-+
-+                        // Sử dụng cast an toàn với kiểm tra null
-+                        if (firstItem.get("quantity") != null) {
-+                            quantity = (Integer) firstItem.get("quantity");
-+                        }
-+
-+                        if (firstItem.get("rating") != null) {
-+                            averageRating = ((Double) firstItem.get("rating"));
-+                        }
-+                    }
-+
-+                    numberReviews.setText("("+quantity+")");
-+                    numberRating.setText(String.format("%.1f", averageRating));
-+                    rating.setRating((float) (averageRating*1.0));
-+
-+
-+                    // Giới hạn chỉ lấy 3 đánh giá đầu tiên
-+                    for (int i = 1; i < Math.min(ratingsData.size(), 4); i++) {
-+                        Map<String, Object> data = ratingsData.get(i);
-+                        String userId = (String) data.get("userId");
-+
-                         Rating rating = new Rating(
--                                (String) data.get("userId"),
-+                                userId,
-                                 (String) data.get("rating"),
-                                 (String) data.get("review"),
--                                (String) data.get("updatedAt")
-+                                (Timestamp) data.get("updatedAt"),
-+                                (String) data.get("userImage"),
-+                                (String) data.get("fullName")
-                         );
-+
-                         ratingList.add(rating);
-                     }
-+
-                     // Cập nhật lại adapter
-                     ratingAdapter.notifyDataSetChanged();
-                 }
-@@ -77,6 +126,21 @@
-         ratingRecyclerView.setLayoutManager(new LinearLayoutManager(requireContext()));
-         ratingRecyclerView.setAdapter(ratingAdapter);
- 
-+        allRating.setOnClickListener(v -> nextAllRating());
-+        nextAllRating.setOnClickListener(v -> nextAllRating());
-+
-         return view;
-     }
-+
-+    void nextAllRating() {
-+        // Create an Intent to start ProductRatingActivity
-+        Intent intent = new Intent(requireActivity(), ProductRatingActivity.class);
-+
-+        // Pass the productId as an extra to the intent
-+        intent.putExtra("productId", productId);
-+
-+        // Start the activity
-+        startActivity(intent);
-+    }
-+
- }
-Index: app/src/main/res/layout/fragment_product_rating.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"vertical\"\r\n    android:padding=\"10dp\"\r\n    tools:context=\".ui.ProductPage.ProductRatingFragment\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"30dp\"\r\n        android:orientation=\"horizontal\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/textView5\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"30dp\"\r\n\r\n            android:text=\"Đánh giá \"\r\n            android:textColor=\"@color/black\"\r\n            android:textSize=\"20sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/numberReviews\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_weight=\"1\"\r\n            android:text=\"(100)\"\r\n            android:textSize=\"20sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <Space\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/numberRating\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_marginEnd=\"5dp\"\r\n            android:layout_weight=\"1\"\r\n            android:gravity=\"center|end\"\r\n            android:text=\"4.2\"\r\n            android:textColor=\"@color/black\"\r\n            android:textSize=\"20sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <per.wsj.library.AndRatingBar\r\n            android:id=\"@+id/rating\"\r\n            android:layout_width=\"130dp\"\r\n            android:layout_height=\"30dp\"\r\n            android:rating=\"4.2\"\r\n            app:bgColor=\"#C0C0C0\"\r\n            android:isIndicator=\"true\"\r\n            app:keepOriginColor=\"true\"\r\n            app:starColor=\"#FFD700\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/textView15\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_marginStart=\"5dp\"\r\n            android:gravity=\"center|end\"\r\n            android:text=\">\"\r\n            android:textSize=\"20sp\" />\r\n    </LinearLayout>\r\n\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:id=\"@+id/ratingProduct\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_weight=\"1\"\r\n        android:layout_height=\"match_parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView16\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:textColor=\"@color/green\"\r\n        android:text=\"Xem tất cả bài đánh giá\" />\r\n</LinearLayout>\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/fragment_product_rating.xml b/app/src/main/res/layout/fragment_product_rating.xml
---- a/app/src/main/res/layout/fragment_product_rating.xml	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ b/app/src/main/res/layout/fragment_product_rating.xml	(date 1731759535441)
-@@ -9,8 +9,11 @@
-     tools:context=".ui.ProductPage.ProductRatingFragment">
- 
-     <LinearLayout
-+        android:id="@+id/nextAllRating"
-         android:layout_width="match_parent"
-         android:layout_height="30dp"
-+        android:layout_marginTop="10dp"
-+        android:layout_marginBottom="10dp"
-         android:orientation="horizontal">
- 
-         <TextView
-@@ -28,6 +31,7 @@
-             android:layout_width="wrap_content"
-             android:layout_height="match_parent"
-             android:layout_weight="1"
-+            android:gravity="start|center"
-             android:text="(100)"
-             android:textSize="20sp"
-             android:textStyle="bold" />
-@@ -58,13 +62,14 @@
-             app:keepOriginColor="true"
-             app:starColor="#FFD700" />
- 
--        <TextView
-+        <ImageView
-             android:id="@+id/textView15"
-             android:layout_width="wrap_content"
--            android:layout_height="match_parent"
-+            android:layout_height="11dp"
-             android:layout_marginStart="5dp"
-+            android:layout_gravity="center"
-             android:gravity="center|end"
--            android:text=">"
-+            android:src="@drawable/next_ic"
-             android:textSize="20sp" />
-     </LinearLayout>
- 
-@@ -75,7 +80,7 @@
-         android:layout_height="match_parent" />
- 
-     <TextView
--        android:id="@+id/textView16"
-+        android:id="@+id/allRating"
-         android:layout_width="match_parent"
-         android:layout_height="wrap_content"
-         android:textColor="@color/green"
-Index: app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.data.model.Cart;\r\nimport com.example.agrimart.data.model.ProductCart;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.FieldValue;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.Query;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Map;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class CartFragmentViewModel extends ViewModel {\r\n    private final FirebaseAuth auth;\r\n    private final FirebaseFirestore firestore;\r\n    private String userId;\r\n    private List<Cart> storeCartList = new ArrayList<>();\r\n\r\n    // Constructor\r\n    public CartFragmentViewModel() {\r\n        this.auth = FirebaseAuth.getInstance();\r\n        this.firestore = FirebaseFirestore.getInstance();\r\n    }\r\n\r\n    // Hàm để lấy danh sách các StoreCart theo userId, sắp xếp theo ngày\r\n    public void getStoreCartsByUserId(final OnDataFetchedListener listener) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .orderBy(\"updatedAt\", Query.Direction.DESCENDING)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Cart> storeCartList = new ArrayList<>();\r\n                        for (DocumentSnapshot document : task.getResult()) {\r\n                            Cart storeCart = document.toObject(Cart.class);\r\n                            if (storeCart != null) {\r\n                                storeCartList.add(storeCart);\r\n\r\n                            }\r\n                        }\r\n\r\n                        fetchProductDetailsAndStore(storeCartList, listener);\r\n                    } else {\r\n                        Log.e(\"CartFragmentViewModel\", \"Failed to fetch data:\" + task.getException().getMessage());\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n\r\n    // Hàm để lấy thông tin sản phẩm từ productId\r\n\r\n    private void fetchProductDetailsAndStore(List<Cart> storeCartList, final OnDataFetchedListener listener) {\r\n        // Khởi tạo danh sách với kích thước bằng storeCartList để đảm bảo thứ tự\r\n        List<Cart> updatedStoreCartList = new ArrayList<>(storeCartList.size());\r\n        for (int i = 0; i < storeCartList.size(); i++) {\r\n            updatedStoreCartList.add(i, null); // Đảm bảo mỗi vị trí trong danh sách là null trước khi cập nhật\r\n        }\r\n\r\n        AtomicInteger remainingRequests = new AtomicInteger(storeCartList.size());  // Đếm số lượng yêu cầu còn lại\r\n\r\n        for (int i = 0; i < storeCartList.size(); i++) {\r\n            Cart storeCart = storeCartList.get(i);\r\n            List<Product> products = storeCart.getProducts();\r\n            AtomicInteger productRequests = new AtomicInteger(products.size());  // Đếm số lượng yêu cầu cho từng sản phẩm\r\n\r\n            for (Product product : products) {\r\n                int finalI = i;\r\n                firestore.collection(\"products\")\r\n                        .document(product.getProduct_id())\r\n                        .get()\r\n                        .addOnCompleteListener(productTask -> {\r\n                            if (productTask.isSuccessful()) {\r\n                                DocumentSnapshot productDoc = productTask.getResult();\r\n                                if (productDoc.exists()) {\r\n                                    product.setName(productDoc.getString(\"name\"));\r\n                                    product.setPrice(productDoc.getDouble(\"price\"));\r\n                                    product.setImages((List<String>) productDoc.get(\"images\"));\r\n                                    product.setStoreId(productDoc.getString(\"storeId\"));\r\n                                    product.setUnit(productDoc.getString(\"unit\"));\r\n                                }\r\n                            } else {\r\n                                listener.onError(\"Lấy thông tin sản phẩm thất bại: \" + productTask.getException().getMessage());\r\n                            }\r\n\r\n                            // Sau khi tất cả sản phẩm của giỏ hàng đã được cập nhật\r\n                            if (productRequests.decrementAndGet() == 0) {\r\n                                firestore.collection(\"users\")\r\n                                        .document(storeCart.getStoreId())\r\n                                        .get()\r\n                                        .addOnCompleteListener(userTask -> {\r\n                                            if (userTask.isSuccessful()) {\r\n                                                DocumentSnapshot storeDoc = userTask.getResult();\r\n                                                if (storeDoc.exists()) {\r\n                                                    storeCart.setStore_name(storeDoc.getString(\"store_name\"));\r\n                                                }\r\n                                            } else {\r\n                                                listener.onError(\"Lấy thông tin cửa hàng thất bại: \" + userTask.getException().getMessage());\r\n                                            }\r\n\r\n                                            // Đặt storeCart đã được cập nhật vào đúng vị trí\r\n                                            updatedStoreCartList.set(finalI, storeCart);\r\n\r\n                                            // Sau khi tất cả các yêu cầu đã hoàn thành\r\n                                            if (remainingRequests.decrementAndGet() == 0) {\r\n                                                listener.onDataFetched(updatedStoreCartList); // Gọi listener khi tất cả dữ liệu đã được lấy về\r\n                                            }\r\n                                        });\r\n                            }\r\n                        });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    public void updateProductQuantityInFirebase(String productId, String storeId, int newQuantity) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .whereEqualTo(\"storeId\", storeId)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful() && !task.getResult().isEmpty()) {\r\n                        DocumentSnapshot document = task.getResult().getDocuments().get(0);\r\n                        Cart storeCart = document.toObject(Cart.class);\r\n\r\n                        if (storeCart != null) {\r\n                            List<ProductCart> updatedProductList = new ArrayList<>();\r\n                            boolean productFound = false;\r\n\r\n                            for (Product product : storeCart.getProducts()) {\r\n                                int quantity = product.getProduct_id().equals(productId) ? newQuantity : product.getQuantity();\r\n                                updatedProductList.add(new ProductCart(product.getProduct_id(), quantity));\r\n\r\n                                if (product.getProduct_id().equals(productId)) {\r\n                                    productFound = true;\r\n                                }\r\n                            }\r\n\r\n                            if (productFound) {\r\n                                storeCart.setProductCart(updatedProductList);\r\n\r\n                                firestore.collection(\"cart\")\r\n                                        .document(document.getId())\r\n                                        .update(\"products\", storeCart.getProductCart())\r\n                                        .addOnSuccessListener(aVoid -> Log.d(\"Firebase\", \"Giỏ hàng đã được cập nhật.\"))\r\n                                        .addOnFailureListener(e -> Log.e(\"Firebase\", \"Lỗi khi cập nhật giỏ hàng: \" + e.getMessage()));\r\n                            } else {\r\n                                Log.e(\"Firebase\", \"Không tìm thấy sản phẩm trong giỏ hàng.\");\r\n                            }\r\n                        }\r\n                    } else {\r\n                        Log.e(\"Firebase\", \"Không tìm thấy giỏ hàng hoặc có lỗi xảy ra: \" + (task.getException() != null ? task.getException().getMessage() : \"\"));\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n\r\n    public void addProductToCart(String storeId, Product productToAdd, int quantity) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        // Query the user's cart based on userId and storeId\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .whereEqualTo(\"storeId\", storeId)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        if (!task.getResult().isEmpty()) {\r\n                            // Retrieve the existing cart if available\r\n                            DocumentSnapshot document = task.getResult().getDocuments().get(0);\r\n                            Cart storeCart = document.toObject(Cart.class);\r\n\r\n                            if (storeCart != null) {\r\n                                List<Product> products = storeCart.getProducts();\r\n                                List<ProductCart> productCarts = new ArrayList<>();\r\n\r\n                                if (products == null) {\r\n                                    products = new ArrayList<>(); // Initialize if null\r\n                                }\r\n\r\n                                // Check if the product already exists in the cart\r\n                                boolean productExists = false;\r\n                                for (Product product : products) {\r\n                                    ProductCart pro = new ProductCart();\r\n                                    pro.setProduct_id(product.getProduct_id());\r\n                                    pro.setQuantity(product.getQuantity());\r\n                                    if (product.getProduct_id().equals(productToAdd.getProduct_id())) {\r\n                                        productExists = true;\r\n                                        pro.setQuantity(product.getQuantity() + quantity);\r\n                                    }\r\n                                    productCarts.add(pro);\r\n                                }\r\n\r\n                                // If the product doesn't exist, add it as a new product\r\n                                if (!productExists) {\r\n                                    ProductCart pro = new ProductCart();\r\n                                    pro.setProduct_id(productToAdd.getProduct_id());\r\n                                    pro.setQuantity(quantity);\r\n                                    productCarts.add(pro);\r\n                                }\r\n\r\n                                storeCart.setProduct(products); // Update the cart with the new product list\r\n                                String updatedAt = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\", Locale.getDefault()).format(new Date());\r\n                                storeCart.setUpdatedAt(updatedAt); // Update the timestamp\r\n\r\n                                // Update Firestore\r\n                                firestore.collection(\"cart\")\r\n                                        .document(document.getId())\r\n                                        .update(\r\n                                                \"products\", productCarts,\r\n                                                \"updatedAt\", updatedAt\r\n                                        )\r\n                                        .addOnSuccessListener(aVoid -> Log.d(\"Firebase\", \"Product has been added to the cart.\"))\r\n                                        .addOnFailureListener(e -> Log.e(\"Firebase\", \"Error adding product to cart: \" + e.getMessage()));\r\n                            }\r\n                        } else {\r\n                            // Define a new cart\r\n                            Map<String, Object> newCart = new HashMap<>();\r\n                            newCart.put(\"userId\", userId);\r\n                            newCart.put(\"storeId\", storeId);\r\n                            String updatedAt = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\", Locale.getDefault()).format(new Date());\r\n                            newCart.put(\"updatedAt\", updatedAt);\r\n\r\n                            // Create the initial list of products\r\n                            List<Map<String, Object>> productCarts = new ArrayList<>();\r\n                            Map<String, Object> productData = new HashMap<>();\r\n                            productData.put(\"product_id\", productToAdd.getProduct_id());\r\n                            productData.put(\"quantity\", quantity);\r\n                            productCarts.add(productData);\r\n                            newCart.put(\"products\", productCarts);\r\n\r\n                            // Add the new cart to Firestore\r\n                            firestore.collection(\"cart\")\r\n                                    .add(newCart)\r\n                                    .addOnSuccessListener(documentReference -> Log.d(\"Firebase\", \"New cart has been created.\"))\r\n                                    .addOnFailureListener(e -> Log.e(\"Firebase\", \"Error creating new cart: \" + e.getMessage()));\r\n                        }\r\n                    } else {\r\n                        Log.e(\"Firebase\", \"Error retrieving cart: \" + task.getException());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void updateProductCheckedStatusInFirebase(String productId, String storeId, boolean isChecked) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        // Tạo Map để lưu trạng thái vào Firestore\r\n        Map<String, Object> updates = new HashMap<>();\r\n        updates.put(\"checked\", isChecked);\r\n\r\n        // Truy vấn giỏ hàng theo userId và storeId\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .whereEqualTo(\"storeId\", storeId)\r\n                .get()  // Lấy tất cả các tài liệu phù hợp\r\n                .addOnSuccessListener(querySnapshot -> {\r\n                    if (!querySnapshot.isEmpty()) {\r\n                        // Nếu có tài liệu giỏ hàng phù hợp, tiến hành cập nhật\r\n                        DocumentSnapshot cartDoc = querySnapshot.getDocuments().get(0);\r\n                        // Lấy mảng sản phẩm trong giỏ hàng\r\n                        List<Map<String, Object>> products = (List<Map<String, Object>>) cartDoc.get(\"products\");\r\n\r\n                        // Kiểm tra và cập nhật sản phẩm trong mảng\r\n                        for (Map<String, Object> product : products) {\r\n                            if (product.get(\"product_id\").equals(productId)) {\r\n                                // Cập nhật trạng thái của sản phẩm trong mảng\r\n                                product.put(\"checked\", isChecked);\r\n                                break; // Dừng lại sau khi cập nhật sản phẩm\r\n                            }\r\n                        }\r\n\r\n                        // Cập nhật lại toàn bộ mảng products\r\n                        Map<String, Object> updatedCart = new HashMap<>();\r\n                        updatedCart.put(\"products\", products);\r\n\r\n                        // Cập nhật lại tài liệu giỏ hàng\r\n                        firestore.collection(\"cart\")\r\n                                .document(cartDoc.getId())  // Lấy ID của tài liệu cart phù hợp\r\n                                .update(updatedCart)\r\n                                .addOnSuccessListener(aVoid -> {\r\n                                    Log.d(\"Cart\", \"Trạng thái checkbox đã được cập nhật\");\r\n                                    // Làm mới dữ liệu UI sau khi cập nhật\r\n                                })\r\n                                .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi cập nhật trạng thái checkbox\", e));\r\n                    } else {\r\n                        // Không tìm thấy tài liệu giỏ hàng phù hợp\r\n                        Log.e(\"Cart\", \"Không tìm thấy giỏ hàng của người dùng với storeId \" + storeId);\r\n                    }\r\n                })\r\n                .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi truy vấn Firestore\", e));\r\n    }\r\n\r\n\r\n    public void updateStoreCheckedStatusInFirebase(String storeId, boolean isChecked) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        // Tạo Map để lưu trạng thái vào Firestore\r\n        Map<String, Object> updates = new HashMap<>();\r\n        updates.put(\"checked\", isChecked);  // Thêm trường 'checked' vào tài liệu giỏ hàng\r\n\r\n        // Truy vấn giỏ hàng theo userId và storeId\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .whereEqualTo(\"storeId\", storeId)\r\n                .get()  // Lấy tất cả các tài liệu phù hợp\r\n                .addOnSuccessListener(querySnapshot -> {\r\n                    if (!querySnapshot.isEmpty()) {\r\n                        // Duyệt qua tất cả các tài liệu giỏ hàng\r\n                        for (DocumentSnapshot cartDoc : querySnapshot.getDocuments()) {\r\n                            // Lấy mảng sản phẩm trong giỏ hàng\r\n                            List<Map<String, Object>> products = (List<Map<String, Object>>) cartDoc.get(\"products\");\r\n\r\n                            if (products != null) {\r\n                                // Cập nhật trạng thái checked cho tất cả sản phẩm trong giỏ hàng\r\n                                for (Map<String, Object> product : products) {\r\n                                    product.put(\"checked\", isChecked);\r\n                                }\r\n\r\n                                // Cập nhật lại toàn bộ mảng products\r\n                                Map<String, Object> updatedCart = new HashMap<>();\r\n                                updatedCart.put(\"products\", products);\r\n                                updatedCart.put(\"checked\", isChecked);  // Thêm trường checked vào giỏ hàng\r\n\r\n                                // Cập nhật lại tài liệu giỏ hàng\r\n                                firestore.collection(\"cart\")\r\n                                        .document(cartDoc.getId())  // Lấy ID của tài liệu cart phù hợp\r\n                                        .update(updatedCart)\r\n                                        .addOnSuccessListener(aVoid -> Log.d(\"Cart\", \"Trạng thái checkbox đã được cập nhật 1\"))\r\n                                        .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi cập nhật trạng thái checkbox\", e));\r\n                            }\r\n                        }\r\n                    } else {\r\n                        // Không tìm thấy tài liệu giỏ hàng phù hợp\r\n                        Log.e(\"Cart\", \"Không tìm thấy giỏ hàng của người dùng với storeId \" + storeId);\r\n                    }\r\n                })\r\n                .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi truy vấn Firestore\", e));\r\n    }\r\n\r\n    public void onlyUpdateStoreCheckedStatusInFirebase(String storeId, boolean isChecked) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        // Tạo Map để lưu trạng thái vào Firestore\r\n        Map<String, Object> updates = new HashMap<>();\r\n        updates.put(\"checked\", isChecked);  // Thêm trường 'checked' vào tài liệu giỏ hàng\r\n\r\n        // Truy vấn giỏ hàng theo userId và storeId\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .whereEqualTo(\"storeId\", storeId)\r\n                .get()  // Lấy tất cả các tài liệu phù hợp\r\n                .addOnSuccessListener(querySnapshot -> {\r\n                    if (!querySnapshot.isEmpty()) {\r\n                        // Duyệt qua tất cả các tài liệu giỏ hàng\r\n                        for (DocumentSnapshot cartDoc : querySnapshot.getDocuments()) {\r\n                            // Lấy mảng sản phẩm trong giỏ hàng\r\n                            List<Map<String, Object>> products = (List<Map<String, Object>>) cartDoc.get(\"products\");\r\n\r\n                            if (products != null) {\r\n\r\n                                // Cập nhật lại toàn bộ mảng products\r\n                                Map<String, Object> updatedCart = new HashMap<>();\r\n                                //updatedCart.put(\"products\", products);\r\n                                updatedCart.put(\"checked\", isChecked);  // Thêm trường checked vào giỏ hàng\r\n\r\n                                // Cập nhật lại tài liệu giỏ hàng\r\n                                firestore.collection(\"cart\")\r\n                                        .document(cartDoc.getId())  // Lấy ID của tài liệu cart phù hợp\r\n                                        .update(updatedCart)\r\n                                        .addOnSuccessListener(aVoid -> Log.d(\"Cart\", \"Trạng thái checkbox đã được cập nhật 1\"))\r\n                                        .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi cập nhật trạng thái checkbox\", e));\r\n                            }\r\n                        }\r\n                    } else {\r\n                        // Không tìm thấy tài liệu giỏ hàng phù hợp\r\n                        Log.e(\"Cart\", \"Không tìm thấy giỏ hàng của người dùng với storeId \" + storeId);\r\n                    }\r\n                })\r\n                .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi truy vấn Firestore\", e));\r\n    }\r\n\r\n    public void removeCheckedProductsOrCart(OnDeleteCompletedListener listener) {\r\n        String userId = auth.getCurrentUser().getUid();\r\n\r\n        // Truy vấn tất cả giỏ hàng của người dùng\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .get()\r\n                .addOnSuccessListener(querySnapshot -> {\r\n                    if (!querySnapshot.isEmpty()) {\r\n                        // Duyệt qua tất cả các giỏ hàng của người dùng\r\n                        for (DocumentSnapshot cartDoc : querySnapshot.getDocuments()) {\r\n                            List<Map<String, Object>> products = (List<Map<String, Object>>) cartDoc.get(\"products\");\r\n\r\n                            boolean allChecked = true;  // Biến kiểm tra tất cả sản phẩm có checked = true hay không\r\n\r\n                            // Kiểm tra các sản phẩm có checked = true không\r\n                            for (Map<String, Object> product : products) {\r\n                                if (product.get(\"checked\") == null || !(boolean) product.get(\"checked\")) {\r\n                                    allChecked = false;  // Nếu có sản phẩm không được chọn, set allChecked = false\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            if (allChecked) {\r\n                                // Nếu tất cả sản phẩm đều được chọn (checked = true), xóa giỏ hàng\r\n                                firestore.collection(\"cart\")\r\n                                        .document(cartDoc.getId())\r\n                                        .delete()\r\n                                        .addOnSuccessListener(aVoid -> {\r\n                                            Log.d(\"Cart\", \"Giỏ hàng đã bị xóa vì tất cả sản phẩm đều được chọn.\");\r\n                                            // Gọi callback khi việc xóa hoàn tất\r\n                                            listener.onDeleteCompleted();\r\n                                        })\r\n                                        .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi xóa giỏ hàng\", e));\r\n                            } else {\r\n                                // Nếu không phải tất cả sản phẩm đều được chọn, chỉ xóa những sản phẩm được chọn\r\n                                List<Map<String, Object>> updatedProducts = new ArrayList<>();\r\n\r\n                                // Giữ lại những sản phẩm chưa được chọn (checked = false)\r\n                                for (Map<String, Object> product : products) {\r\n                                    if (product.get(\"checked\") == null || !(boolean) product.get(\"checked\")) {\r\n                                        updatedProducts.add(product);  // Giữ lại sản phẩm không được chọn\r\n                                    }\r\n                                }\r\n\r\n                                // Cập nhật lại giỏ hàng với các sản phẩm chưa được chọn\r\n                                Map<String, Object> updatedCart = new HashMap<>();\r\n                                updatedCart.put(\"products\", updatedProducts);\r\n\r\n                                firestore.collection(\"cart\")\r\n                                        .document(cartDoc.getId())\r\n                                        .update(updatedCart)\r\n                                        .addOnSuccessListener(aVoid -> {\r\n                                            Log.d(\"Cart\", \"Các sản phẩm được chọn đã được xóa khỏi giỏ hàng.\");\r\n                                            // Gọi callback khi việc xóa hoàn tất\r\n                                            listener.onDeleteCompleted();\r\n                                        })\r\n                                        .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi xóa sản phẩm khỏi giỏ hàng\", e));\r\n                            }\r\n                        }\r\n                    } else {\r\n                        // Nếu không có giỏ hàng cho người dùng\r\n                        Log.e(\"Cart\", \"Không tìm thấy giỏ hàng của người dùng.\");\r\n                    }\r\n                })\r\n                .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi truy vấn Firestore\", e));\r\n    }\r\n\r\n\r\n    public interface OnDeleteCompletedListener {\r\n        void onDeleteCompleted();\r\n    }\r\n\r\n\r\n    // Listener để callback khi lấy dữ liệu xong\r\n    public interface OnDataFetchedListener {\r\n        void onDataFetched(List<Cart> storeCarts);\r\n\r\n        void onError(String errorMessage);\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java
---- a/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ b/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java	(date 1731940031716)
-@@ -240,6 +240,7 @@
-                             newCart.put("storeId", storeId);
-                             String updatedAt = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss", Locale.getDefault()).format(new Date());
-                             newCart.put("updatedAt", updatedAt);
-+                            newCart.put("checked", false);
- 
-                             // Create the initial list of products
-                             List<Map<String, Object>> productCarts = new ArrayList<>();
-Index: app/src/main/java/com/example/agrimart/data/model/Rating.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.data.model;\r\n\r\npublic class Rating {\r\n    private String userId;\r\n    private String rating;\r\n    private String review;\r\n    private String updatedAt;\r\n\r\n    // Constructor mặc định (bắt buộc)\r\n    public Rating() {}\r\n\r\n    // Constructor đầy đủ\r\n    public Rating(String userId, String rating, String review, String updatedAt) {\r\n        this.userId = userId;\r\n        this.rating = rating;\r\n        this.review = review;\r\n        this.updatedAt = updatedAt;\r\n    }\r\n\r\n    // Getter và Setter\r\n\r\n\r\n    public String getRating() {\r\n        return  rating;\r\n    }\r\n\r\n    public void setRating(String rating) {\r\n        this.rating = rating;\r\n    }\r\n\r\n    public String getReview() {\r\n        return review;\r\n    }\r\n\r\n    public void setReview(String review) {\r\n        this.review = review;\r\n    }\r\n\r\n    public String getUpdatedAt() {\r\n        return updatedAt;\r\n    }\r\n\r\n    public void setUpdatedAt(String updatedAt) {\r\n        this.updatedAt = updatedAt;\r\n    }\r\n\r\n    public String getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(String userId) {\r\n        this.userId = userId;\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/data/model/Rating.java b/app/src/main/java/com/example/agrimart/data/model/Rating.java
---- a/app/src/main/java/com/example/agrimart/data/model/Rating.java	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ b/app/src/main/java/com/example/agrimart/data/model/Rating.java	(date 1731755069946)
-@@ -1,19 +1,30 @@
- package com.example.agrimart.data.model;
- 
-+
-+import com.google.firebase.Timestamp;
-+
- public class Rating {
-     private String userId;
-     private String rating;
-     private String review;
--    private String updatedAt;
-+    private String userImage;
-+    private String fullName;
-+    private Timestamp updatedAt;
- 
-     // Constructor mặc định (bắt buộc)
-     public Rating() {}
- 
-     // Constructor đầy đủ
-     public Rating(String userId, String rating, String review, String updatedAt) {
-+
-+    }
-+
-+    public Rating(String userId, String rating, String review, Timestamp updatedAt, String userImage, String fullName) {
-         this.userId = userId;
-         this.rating = rating;
-         this.review = review;
-+        this.userImage = userImage;
-+        this.fullName = fullName;
-         this.updatedAt = updatedAt;
-     }
- 
-@@ -36,13 +47,7 @@
-         this.review = review;
-     }
- 
--    public String getUpdatedAt() {
--        return updatedAt;
--    }
- 
--    public void setUpdatedAt(String updatedAt) {
--        this.updatedAt = updatedAt;
--    }
- 
-     public String getUserId() {
-         return userId;
-@@ -51,4 +56,28 @@
-     public void setUserId(String userId) {
-         this.userId = userId;
-     }
-+
-+    public String getUserImage() {
-+        return userImage;
-+    }
-+
-+    public void setUserImage(String userImage) {
-+        this.userImage = userImage;
-+    }
-+
-+    public String getFullName() {
-+        return fullName;
-+    }
-+
-+    public void setFullName(String fullName) {
-+        this.fullName = fullName;
-+    }
-+
-+    public Timestamp getUpdatedAt() {
-+        return updatedAt;
-+    }
-+
-+    public void setUpdatedAt(Timestamp updatedAt) {
-+        this.updatedAt = updatedAt;
-+    }
- }
-Index: app/src/main/java/com/example/agrimart/adapter/RatingAdapter.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.adapter;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.request.RequestOptions;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.model.Rating;\r\nimport com.example.agrimart.viewmodel.ProductRatingFragmentViewModel;\r\n\r\nimport java.util.List;\r\n\r\nimport per.wsj.library.AndRatingBar;\r\n\r\npublic class RatingAdapter extends RecyclerView.Adapter<RatingAdapter.RatingViewHolder> {\r\n\r\n    private final Context context;\r\n    private final List<Rating> ratings;\r\n    private ProductRatingFragmentViewModel productRatingFragmentViewModel;\r\n\r\n    // Constructor\r\n    public RatingAdapter(Context context, List<Rating> ratings, ProductRatingFragmentViewModel productRatingFragmentViewModel) {\r\n        this.context = context;\r\n        this.ratings = ratings;\r\n        this.productRatingFragmentViewModel = productRatingFragmentViewModel;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RatingViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.item_rating_product, parent, false);\r\n        return new RatingViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RatingViewHolder holder, int position) {\r\n        Rating rating = ratings.get(position);\r\n\r\n        productRatingFragmentViewModel.fetchUserProfile(rating.getUserId());\r\n\r\n        productRatingFragmentViewModel.getFullNameLiveData().observeForever(fullName -> {\r\n            holder.userName.setText(fullName);  // Update full name\r\n        });\r\n\r\n        productRatingFragmentViewModel.getUserImageLiveData().observeForever(userImage -> {\r\n            if (userImage != null && !userImage.isEmpty()) {\r\n                Glide.with(holder.itemView.getContext())\r\n                        .load(userImage)\r\n                        .apply(RequestOptions.circleCropTransform()) // Bo tròn ảnh khi tải lên\r\n                        .placeholder(R.drawable.user_img) // ảnh mặc định khi đang tải\r\n                        .error(R.drawable.user_img) // ảnh mặc định nếu URL không tồn tại hoặc tải ảnh lỗi\r\n                        .into(holder.userImage);\r\n            } else {\r\n                Glide.with(holder.itemView.getContext())\r\n                        .load(R.drawable.error_image)\r\n                        .apply(RequestOptions.circleCropTransform()) // Bo tròn ảnh mặc định\r\n                        .into(holder.userImage);\r\n            }\r\n        });\r\n\r\n        if (rating.getRating() != null) {\r\n            holder.ratingBar.setRating(Float.parseFloat(rating.getRating()));\r\n        } else {\r\n            holder.ratingBar.setRating(0);  // Gán giá trị mặc định là 0 nếu null\r\n        }\r\n\r\n\r\n        holder.date.setText(rating.getUpdatedAt());\r\n        holder.review.setText(rating.getReview());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return ratings.size();\r\n    }\r\n\r\n    // ViewHolder cho Adapter\r\n    public static class RatingViewHolder extends RecyclerView.ViewHolder {\r\n        TextView userName;\r\n        AndRatingBar ratingBar;\r\n        TextView date;\r\n        TextView review;\r\n        ImageView userImage;\r\n\r\n        public RatingViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            // Ánh xạ các thành phần từ layout item\r\n            userName = itemView.findViewById(R.id.itemName);\r\n            ratingBar = itemView.findViewById(R.id.itemRatingBar);\r\n            date = itemView.findViewById(R.id.itemDate);\r\n            review = itemView.findViewById(R.id.itemReview);\r\n            userImage = itemView.findViewById(R.id.userImage);\r\n        }\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/adapter/RatingAdapter.java b/app/src/main/java/com/example/agrimart/adapter/RatingAdapter.java
---- a/app/src/main/java/com/example/agrimart/adapter/RatingAdapter.java	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ b/app/src/main/java/com/example/agrimart/adapter/RatingAdapter.java	(date 1731755609643)
-@@ -16,7 +16,10 @@
- import com.example.agrimart.data.model.Rating;
- import com.example.agrimart.viewmodel.ProductRatingFragmentViewModel;
- 
-+import java.text.SimpleDateFormat;
-+import java.util.Date;
- import java.util.List;
-+import java.util.Locale;
- 
- import per.wsj.library.AndRatingBar;
- 
-@@ -44,27 +47,23 @@
-     public void onBindViewHolder(@NonNull RatingViewHolder holder, int position) {
-         Rating rating = ratings.get(position);
- 
--        productRatingFragmentViewModel.fetchUserProfile(rating.getUserId());
-+        holder.userName.setText(rating.getFullName());
- 
--        productRatingFragmentViewModel.getFullNameLiveData().observeForever(fullName -> {
--            holder.userName.setText(fullName);  // Update full name
--        });
- 
--        productRatingFragmentViewModel.getUserImageLiveData().observeForever(userImage -> {
--            if (userImage != null && !userImage.isEmpty()) {
--                Glide.with(holder.itemView.getContext())
--                        .load(userImage)
--                        .apply(RequestOptions.circleCropTransform()) // Bo tròn ảnh khi tải lên
--                        .placeholder(R.drawable.user_img) // ảnh mặc định khi đang tải
--                        .error(R.drawable.user_img) // ảnh mặc định nếu URL không tồn tại hoặc tải ảnh lỗi
--                        .into(holder.userImage);
--            } else {
--                Glide.with(holder.itemView.getContext())
--                        .load(R.drawable.error_image)
--                        .apply(RequestOptions.circleCropTransform()) // Bo tròn ảnh mặc định
--                        .into(holder.userImage);
--            }
--        });
-+        if (rating.getUserImage() != null && !rating.getUserImage().isEmpty()) {
-+            Glide.with(holder.itemView.getContext())
-+                    .load(rating.getUserImage())
-+                    .apply(RequestOptions.circleCropTransform()) // Bo tròn ảnh khi tải lên
-+                    .placeholder(R.drawable.user_img) // ảnh mặc định khi đang tải
-+                    .error(R.drawable.user_img) // ảnh mặc định nếu URL không tồn tại hoặc tải ảnh lỗi
-+                    .into(holder.userImage);
-+        } else {
-+            Glide.with(holder.itemView.getContext())
-+                    .load(R.drawable.error_image)
-+                    .apply(RequestOptions.circleCropTransform()) // Bo tròn ảnh mặc định
-+                    .into(holder.userImage);
-+        }
-+
- 
-         if (rating.getRating() != null) {
-             holder.ratingBar.setRating(Float.parseFloat(rating.getRating()));
-@@ -73,7 +72,18 @@
-         }
- 
- 
--        holder.date.setText(rating.getUpdatedAt());
-+        // Chuyển đổi và định dạng ngày tháng
-+        if (rating.getUpdatedAt() != null) {
-+            com.google.firebase.Timestamp timestamp = (com.google.firebase.Timestamp) rating.getUpdatedAt();
-+            Date date = timestamp.toDate();
-+
-+            // Định dạng ngày theo kiểu dd-MM-yyyy
-+            SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yyyy", Locale.getDefault());
-+            String formattedDate = sdf.format(date);
-+
-+            holder.date.setText(formattedDate);  // Hiển thị ngày đã định dạng
-+        }
-+
-         holder.review.setText(rating.getReview());
-     }
- 
-Index: app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.ui.ProductPage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.lifecycle.Observer;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.denzcoskun.imageslider.ImageSlider;\r\nimport com.denzcoskun.imageslider.constants.ScaleTypes;\r\nimport com.denzcoskun.imageslider.models.SlideModel;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.data.model.Store;\r\nimport com.example.agrimart.ui.Cart.CheckoutActivity;\r\nimport com.example.agrimart.ui.MainActivity;\r\nimport com.example.agrimart.ui.Store.StoreActivity;\r\nimport com.example.agrimart.viewmodel.CartFragmentViewModel;\r\nimport com.example.agrimart.viewmodel.ProductDetailViewModel;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\r\n\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class ProductDetailActivity extends AppCompatActivity {\r\n    private static final String TAG = \"ProductDetailActivity\";\r\n    private ImageButton btn_back, btnExpand, btnCart;\r\n    private TextView description, productName, productPrice, storeName, storeAddress, storePhoneNumber;\r\n    private ImageView storeAvatar;\r\n    private boolean isExpanded = false;\r\n    private LinearLayout store;\r\n    private ProductDetailViewModel viewModel;\r\n    private Button add_cart, buy_now;\r\n    private Product product;\r\n    private CartFragmentViewModel cartFragmentViewModel;\r\n    LinearLayout reviewsLayout;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_product_detail);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        viewModel = new ViewModelProvider(this).get(ProductDetailViewModel.class);\r\n\r\n        description = findViewById(R.id.description);\r\n        productName = findViewById(R.id.product_name);\r\n        productPrice = findViewById(R.id.product_price);\r\n        btnExpand = findViewById(R.id.btn_expand);\r\n        btn_back = findViewById(R.id.btn_back);\r\n        store = findViewById(R.id.store);\r\n        storeName = findViewById(R.id.store_name);\r\n        storeAddress = findViewById(R.id.address);\r\n        storeAvatar = findViewById(R.id.store_img);\r\n        add_cart = findViewById(R.id.add_cart);\r\n        buy_now = findViewById(R.id.buy_now);\r\n        btnCart = findViewById(R.id.btn_cart);\r\n        reviewsLayout = findViewById(R.id.reviews);\r\n\r\n\r\n        btn_back.setOnClickListener(v -> finish());\r\n\r\n        Intent intent = getIntent();\r\n        product = (Product) intent.getSerializableExtra(\"product\");\r\n\r\n        if (product != null) {\r\n            productName.setText(product.getName());\r\n            productPrice.setText(String.format(\"%,.0f đ\", product.getPrice()));\r\n            description.setText(product.getDescription());\r\n\r\n            ArrayList<SlideModel> imgList = new ArrayList<>();\r\n            if (product.getImages() != null) {\r\n                for (String url : product.getImages()) {\r\n                    imgList.add(new SlideModel(url, \"\", ScaleTypes.FIT));\r\n                }\r\n            }\r\n            ImageSlider imageSlider = findViewById(R.id.product_image);\r\n            imageSlider.setImageList(imgList, ScaleTypes.FIT);\r\n\r\n            viewModel.loadStoreInfo(product.getStoreId());\r\n        }\r\n\r\n        viewModel.getStoreInfo().observe(this, new Observer<Store>() {\r\n            @Override\r\n            public void onChanged(Store storeInfo) {\r\n                if (storeInfo != null) {\r\n                    storeName.setText(storeInfo.getName());\r\n                    storeAddress.setText(storeInfo.getFullAddress());\r\n                    Glide.with(ProductDetailActivity.this).load(storeInfo.getAvatarUrl()).into(storeAvatar);\r\n                }\r\n            }\r\n        });\r\n\r\n        btnExpand.setOnClickListener(v -> {\r\n            if (isExpanded) {\r\n                description.setMaxLines(3);\r\n                btnExpand.setImageResource(R.drawable.down);\r\n            } else {\r\n                description.setMaxLines(Integer.MAX_VALUE);\r\n                btnExpand.setImageResource(R.drawable.arrowhead_up);\r\n            }\r\n            isExpanded = !isExpanded;\r\n        });\r\n\r\n        store.setOnClickListener(v -> {\r\n            Intent storeIntent = new Intent(ProductDetailActivity.this, StoreActivity.class);\r\n            storeIntent.putExtra(\"storeId\", product.getStoreId());\r\n            startActivity(storeIntent);\r\n        });\r\n\r\n        cartFragmentViewModel = new ViewModelProvider(this).get(CartFragmentViewModel.class);\r\n        add_cart.setOnClickListener(v -> showBottomSheetDialog(false));\r\n\r\n        buy_now.setOnClickListener(v -> showBottomSheetDialog(true));\r\n\r\n        btnCart.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // Create Intent to open MainActivity\r\n                Intent intent = new Intent(ProductDetailActivity.this, MainActivity.class);\r\n                intent.putExtra(\"selected_item_id\", R.id.cart);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\n        ProductRatingFragment productRatingFragment = new ProductRatingFragment(product.getProduct_id());\r\n        getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.reviews, productRatingFragment)\r\n                .commit();\r\n    }\r\n\r\n    private void showBottomSheetDialog(boolean isBuyNow) {\r\n        BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(this);\r\n        View bottomSheetView = getLayoutInflater().inflate(R.layout.bottom_sheet_dialog, null);\r\n\r\n        Button continueShoppingButton = bottomSheetView.findViewById(R.id.continue_shopping);\r\n        ImageView img_product = bottomSheetView.findViewById(R.id.img_product);\r\n        TextView tvPrice = bottomSheetView.findViewById(R.id.tvPrice);\r\n        TextView quantity = bottomSheetView.findViewById(R.id.quantity);\r\n        ImageView btn_decrease = bottomSheetView.findViewById(R.id.btn_decrease);\r\n        TextView warehouse = bottomSheetView.findViewById(R.id.warehouse);\r\n        ImageView btn_increase = bottomSheetView.findViewById(R.id.btn_increase);\r\n\r\n        if (product.getImages() != null && !product.getImages().isEmpty()) {\r\n            Glide.with(this)\r\n                    .load(product.getImages().get(0)) // lấy URL đầu tiên từ danh sách ảnh\r\n                    .into(img_product);\r\n        }\r\n\r\n        tvPrice.setText(productPrice.getText());\r\n        warehouse.setText(\"Kho: \" + product.getQuantity());\r\n\r\n        // Thiết lập sự kiện cho nút \"Thêm vào giỏ\"\r\n        continueShoppingButton.setOnClickListener(v -> {\r\n            if (product != null) {\r\n                int q = Integer.parseInt((String) quantity.getText());\r\n                cartFragmentViewModel.addProductToCart(product.getStoreId(), product , q);\r\n                Toast.makeText(this, \"Đã thêm sản phẩm vào giỏ hàng\", Toast.LENGTH_SHORT).show();\r\n            }\r\n            bottomSheetDialog.dismiss();\r\n        });\r\n\r\n        AtomicInteger dem = new AtomicInteger(1);\r\n        quantity.setText(String.valueOf(dem.get()));\r\n\r\n        btn_decrease.setOnClickListener(v -> {\r\n            int currentQuantity = Integer.parseInt(quantity.getText().toString());\r\n            if (currentQuantity > 1) {\r\n                dem.getAndDecrement();\r\n                quantity.setText(String.valueOf(dem.get()));\r\n            }\r\n        });\r\n\r\n        btn_increase.setOnClickListener(v -> {\r\n            if (dem.get() < product.getQuantity()) {\r\n                dem.getAndIncrement();\r\n                quantity.setText(String.valueOf(dem.get()));\r\n            }\r\n        });\r\n\r\n        continueShoppingButton.setOnClickListener(v -> {\r\n            if (product != null) {\r\n                int q = Integer.parseInt(quantity.getText().toString());\r\n                if (isBuyNow) {\r\n                    Intent checkoutIntent = new Intent(ProductDetailActivity.this, CheckoutActivity.class);\r\n                    ArrayList<Product> selectedProducts = new ArrayList<>();\r\n                    product.setQuantity(q);\r\n                    selectedProducts.add(product);\r\n                    checkoutIntent.putParcelableArrayListExtra(\"selectedProducts\", selectedProducts);\r\n                    checkoutIntent.putExtra(\"storeName\", storeName.getText().toString());\r\n                    startActivity(checkoutIntent);\r\n                } else {\r\n                    cartFragmentViewModel.addProductToCart(product.getStoreId(), product, q);\r\n                }\r\n            }\r\n            bottomSheetDialog.dismiss();\r\n        });\r\n\r\n        bottomSheetDialog.setContentView(bottomSheetView);\r\n        bottomSheetDialog.show();\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java
---- a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java	(date 1731940706447)
-@@ -153,7 +153,7 @@
-         BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(this);
-         View bottomSheetView = getLayoutInflater().inflate(R.layout.bottom_sheet_dialog, null);
- 
--        Button continueShoppingButton = bottomSheetView.findViewById(R.id.continue_shopping);
-+        Button addToCart = bottomSheetView.findViewById(R.id.continue_shopping);
-         ImageView img_product = bottomSheetView.findViewById(R.id.img_product);
-         TextView tvPrice = bottomSheetView.findViewById(R.id.tvPrice);
-         TextView quantity = bottomSheetView.findViewById(R.id.quantity);
-@@ -169,16 +169,7 @@
- 
-         tvPrice.setText(productPrice.getText());
-         warehouse.setText("Kho: " + product.getQuantity());
--
-         // Thiết lập sự kiện cho nút "Thêm vào giỏ"
--        continueShoppingButton.setOnClickListener(v -> {
--            if (product != null) {
--                int q = Integer.parseInt((String) quantity.getText());
--                cartFragmentViewModel.addProductToCart(product.getStoreId(), product , q);
--                Toast.makeText(this, "Đã thêm sản phẩm vào giỏ hàng", Toast.LENGTH_SHORT).show();
--            }
--            bottomSheetDialog.dismiss();
--        });
- 
-         AtomicInteger dem = new AtomicInteger(1);
-         quantity.setText(String.valueOf(dem.get()));
-@@ -198,7 +189,7 @@
-             }
-         });
- 
--        continueShoppingButton.setOnClickListener(v -> {
-+         addToCart.setOnClickListener(v -> {
-             if (product != null) {
-                 int q = Integer.parseInt(quantity.getText().toString());
-                 if (isBuyNow) {
-@@ -211,6 +202,7 @@
-                     startActivity(checkoutIntent);
-                 } else {
-                     cartFragmentViewModel.addProductToCart(product.getStoreId(), product, q);
-+                    Toast.makeText(this, "Đã thêm sản phẩm vào giỏ hàng", Toast.LENGTH_SHORT).show();
-                 }
-             }
-             bottomSheetDialog.dismiss();
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_11_49_PM__Changes_.xml
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_11_49_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_11_49_PM__Changes_.xml
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_11_49_PM__Changes_.xml	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ /dev/null	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_11_10_2024_11_49_PM_[Changes]" date="1731257341358" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_11_49_PM_[Changes]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/10/2024 11:49 PM [Changes]" />
--</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_9_28_PM__Changes_.xml
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_9_28_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_9_28_PM__Changes_.xml
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_9_28_PM__Changes_.xml	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ /dev/null	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-@@ -1,9 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_11_10_2024_9_28_PM_[Changes]" date="1731248899324" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_9_28_PM_[Changes]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/10/2024 9:28 PM [Changes]" />
--  <binary>
--    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/email.png" />
--    <option name="AFTER_PATH" />
--    <option name="SHELVED_PATH" />
--  </binary>
--</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM__Changes_.xml
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM__Changes_.xml
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM__Changes_.xml	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ /dev/null	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-@@ -1,64 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]" date="1731152909863" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/9/2024 6:47 PM [Changes]" />
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_5.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_5.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_2.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_2.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_3.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_3.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_6.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_6.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/placeholder_image.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/placeholder_image.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/email.png" />
--    <option name="AFTER_PATH" />
--    <option name="SHELVED_PATH" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_7.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_7.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/error_image.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/error_image.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_1.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_1.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_4.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_4.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_8.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_8.png" />
--  </binary>
--</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_3_22_PM__Changes_.xml
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_3_22_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_3_22_PM__Changes_.xml
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_3_22_PM__Changes_.xml	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ /dev/null	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-@@ -1,19 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_11_10_2024_3_22_PM_[Changes]" date="1731226970399" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_3_22_PM_[Changes]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/10/2024 3:22 PM [Changes]" />
--  <binary>
--    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/email.png" />
--    <option name="AFTER_PATH" />
--    <option name="SHELVED_PATH" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/subtract.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_3_22_PM_[Changes]/subtract.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/add.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_3_22_PM_[Changes]/add.png" />
--  </binary>
--</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_3_22_PM_[Changes]/shelved.patch
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_3_22_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_3_22_PM_[Changes]/shelved.patch
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_3_22_PM_[Changes]/shelved.patch	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ /dev/null	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-@@ -1,961 +0,0 @@
--Index: app/src/main/res/values/colors.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><resources>\r\n    <color name=\"black\">#FF000000</color>\r\n    <color name=\"white\">#FFFFFF</color>\r\n    <color name=\"green\">#53B175</color>\r\n    <color name=\"gray\">#808080</color>\r\n    <color name=\"background_green\">#006623</color>\r\n    <color name=\"background_light\">#ECECEC</color>\r\n    <color name=\"backgound_dark\">#0D1F29</color>\r\n    <color name=\"color_item_selected\">#FF5722</color>\r\n    <color name=\"color_item_unselected\">#ffffff</color>\r\n    <color name=\"account_my_project\">#60c46c</color>\r\n    <color name=\"status_bar_color\">#F4F4F4</color>\r\n    <color name=\"background_color\">#F5F5F5</color>\r\n    <color name=\"transparent\">#00000000</color>\r\n    <color name=\"background_light_blur\">#0D424242</color>\r\n    <color name=\"background_light_blur_1\">#0D424242</color>\r\n</resources>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/values/colors.xml b/app/src/main/res/values/colors.xml
----- a/app/src/main/res/values/colors.xml	(revision 1d66152bf766a9392a343c3105caea9b1a9478a9)
--+++ b/app/src/main/res/values/colors.xml	(date 1731220350050)
--@@ -14,4 +14,5 @@
--     <color name="transparent">#00000000</color>
--     <color name="background_light_blur">#0D424242</color>
--     <color name="background_light_blur_1">#0D424242</color>
--+    <color name="red">#FF0000</color>
-- </resources>
--\ No newline at end of file
--Index: app/src/main/res/layout/item_cart.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><androidx.cardview.widget.CardView\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:layout_margin=\"10dp\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    app:cardCornerRadius=\"8dp\"\r\n    app:cardElevation=\"4dp\"\r\n    app:cardBackgroundColor=\"@android:color/white\">\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:padding=\"10dp\">\r\n\r\n        <CheckBox\r\n            android:id=\"@+id/checkbox_select\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\" />\r\n\r\n        <com.google.android.material.imageview.ShapeableImageView\r\n            android:id=\"@+id/img_product\"\r\n            android:layout_width=\"60dp\"\r\n            android:layout_height=\"60dp\"\r\n            android:scaleType=\"centerCrop\"\r\n            android:src=\"@drawable/apple\"\r\n            app:layout_constraintStart_toEndOf=\"@id/checkbox_select\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            android:background=\"@drawable/round_border\"/>\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_product_name\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginTop=\"12dp\"\r\n            android:text=\"@string/product_name\"\r\n            android:textColor=\"@android:color/black\"\r\n            android:textSize=\"18sp\"\r\n            android:textStyle=\"bold\"\r\n            app:layout_constraintEnd_toStartOf=\"@id/tv_product_price\"\r\n            app:layout_constraintStart_toEndOf=\"@id/img_product\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/quantity\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:text=\"1kg\"\r\n            app:layout_constraintEnd_toStartOf=\"@id/tv_product_price\"\r\n            app:layout_constraintHorizontal_bias=\"0.093\"\r\n            app:layout_constraintStart_toEndOf=\"@id/img_product\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/tv_product_name\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_product_price\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginEnd=\"4dp\"\r\n            android:text=\"50.000đ\"\r\n            android:textColor=\"@android:color/black\"\r\n            android:textSize=\"16sp\"\r\n            android:textStyle=\"bold\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"1.0\" />\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/btn_remove\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginEnd=\"4dp\"\r\n            android:background=\"@android:color/transparent\"\r\n            android:contentDescription=\"Remove Product\"\r\n            android:src=\"@drawable/delete\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"0.0\" />\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n</androidx.cardview.widget.CardView>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/item_cart.xml b/app/src/main/res/layout/item_cart.xml
----- a/app/src/main/res/layout/item_cart.xml	(revision 1d66152bf766a9392a343c3105caea9b1a9478a9)
--+++ b/app/src/main/res/layout/item_cart.xml	(date 1731220001794)
--@@ -18,20 +18,20 @@
--             android:id="@+id/checkbox_select"
--             android:layout_width="wrap_content"
--             android:layout_height="wrap_content"
--+            app:layout_constraintBottom_toBottomOf="parent"
--             app:layout_constraintStart_toStartOf="parent"
---            app:layout_constraintTop_toTopOf="parent"
---            app:layout_constraintBottom_toBottomOf="parent" />
--+            app:layout_constraintTop_toTopOf="parent" />
-- 
--         <com.google.android.material.imageview.ShapeableImageView
--             android:id="@+id/img_product"
--             android:layout_width="60dp"
--             android:layout_height="60dp"
--+            android:background="@drawable/round_border"
--             android:scaleType="centerCrop"
--             android:src="@drawable/apple"
---            app:layout_constraintStart_toEndOf="@id/checkbox_select"
---            app:layout_constraintTop_toTopOf="parent"
--             app:layout_constraintBottom_toBottomOf="parent"
---            android:background="@drawable/round_border"/>
--+            app:layout_constraintStart_toEndOf="@id/checkbox_select"
--+            app:layout_constraintTop_toTopOf="parent" />
-- 
--         <TextView
--             android:id="@+id/tv_product_name"
--@@ -43,7 +43,6 @@
--             android:textColor="@android:color/black"
--             android:textSize="18sp"
--             android:textStyle="bold"
---            app:layout_constraintEnd_toStartOf="@id/tv_product_price"
--             app:layout_constraintStart_toEndOf="@id/img_product"
--             app:layout_constraintTop_toTopOf="parent" />
-- 
--@@ -51,38 +50,11 @@
--             android:id="@+id/quantity"
--             android:layout_width="wrap_content"
--             android:layout_height="wrap_content"
---            android:layout_marginTop="20dp"
--+            android:layout_marginStart="32dp"
--+            android:layout_marginTop="12dp"
--             android:text="1kg"
---            app:layout_constraintEnd_toStartOf="@id/tv_product_price"
---            app:layout_constraintHorizontal_bias="0.093"
--             app:layout_constraintStart_toEndOf="@id/img_product"
--             app:layout_constraintTop_toBottomOf="@id/tv_product_name" />
-- 
---        <TextView
---            android:id="@+id/tv_product_price"
---            android:layout_width="wrap_content"
---            android:layout_height="wrap_content"
---            android:layout_marginEnd="4dp"
---            android:text="50.000đ"
---            android:textColor="@android:color/black"
---            android:textSize="16sp"
---            android:textStyle="bold"
---            app:layout_constraintBottom_toBottomOf="parent"
---            app:layout_constraintEnd_toEndOf="parent"
---            app:layout_constraintTop_toTopOf="parent"
---            app:layout_constraintVertical_bias="1.0" />
---
---        <ImageButton
---            android:id="@+id/btn_remove"
---            android:layout_width="wrap_content"
---            android:layout_height="wrap_content"
---            android:layout_marginEnd="4dp"
---            android:background="@android:color/transparent"
---            android:contentDescription="Remove Product"
---            android:src="@drawable/delete"
---            app:layout_constraintBottom_toBottomOf="parent"
---            app:layout_constraintEnd_toEndOf="parent"
---            app:layout_constraintTop_toTopOf="parent"
---            app:layout_constraintVertical_bias="0.0" />
--     </androidx.constraintlayout.widget.ConstraintLayout>
-- </androidx.cardview.widget.CardView>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml	(revision 1d66152bf766a9392a343c3105caea9b1a9478a9)
--+++ /dev/null	(revision 1d66152bf766a9392a343c3105caea9b1a9478a9)
--@@ -1,9 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]" date="1730455722172" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/1/2024 5:08 PM [Changes]" />
---  <binary>
---    <option name="BEFORE_PATH" />
---    <option name="AFTER_PATH" value="app/src/main/res/drawable/email.png" />
---    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/email.png" />
---  </binary>
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch	(revision 1d66152bf766a9392a343c3105caea9b1a9478a9)
--+++ /dev/null	(revision 1d66152bf766a9392a343c3105caea9b1a9478a9)
--@@ -1,736 +0,0 @@
---Index: app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.app.Application;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.lifecycle.AndroidViewModel;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class SignUpViewModel extends AndroidViewModel {\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseFirestore firestore;\r\n    private MutableLiveData<Boolean> signUpSuccess;\r\n    private MutableLiveData<Boolean> emailVerificationSent;\r\n\r\n    public SignUpViewModel(@NonNull Application application) {\r\n        super(application);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        firestore = FirebaseFirestore.getInstance();\r\n        signUpSuccess = new MutableLiveData<>();\r\n        emailVerificationSent = new MutableLiveData<>();\r\n    }\r\n\r\n    public MutableLiveData<Boolean> getSignUpSuccess() {\r\n        return signUpSuccess;\r\n    }\r\n\r\n    public MutableLiveData<Boolean> getEmailVerificationSent() {\r\n        return emailVerificationSent;\r\n    }\r\n\r\n    public void signUpWithEmail(String email, String password) {\r\n        mAuth.createUserWithEmailAndPassword(email, password)\r\n            .addOnCompleteListener(task -> {\r\n                if (task.isSuccessful()) {\r\n                    FirebaseUser user = mAuth.getCurrentUser();\r\n                    if (user != null) {\r\n                        sendEmailVerification(user);\r\n                    }\r\n                    signUpSuccess.setValue(true);\r\n                } else {\r\n                    signUpSuccess.setValue(false);\r\n                }\r\n            });\r\n    }\r\n\r\n    public void sendEmailVerification(FirebaseUser user) { // Changed to public\r\n        user.sendEmailVerification()\r\n            .addOnCompleteListener(task -> {\r\n                if (task.isSuccessful()) {\r\n                    emailVerificationSent.setValue(true);\r\n                } else {\r\n                    emailVerificationSent.setValue(false);\r\n                }\r\n            });\r\n    }\r\n\r\n    public void saveUserToFirestore(FirebaseUser firebaseUser) {\r\n        firestore.collection(\"users\").document(firebaseUser.getUid())\r\n            .get()\r\n            .addOnSuccessListener(documentSnapshot -> {\r\n                String role = \"customer\";\r\n                if (documentSnapshot.exists() && documentSnapshot.contains(\"role\")) {\r\n                    role = documentSnapshot.getString(\"role\");\r\n                }\r\n\r\n                Map<String, Object> userMap = new HashMap<>();\r\n                userMap.put(\"userId\", firebaseUser.getUid());\r\n                userMap.put(\"role\", role);\r\n                if (firebaseUser.getDisplayName() != null) {\r\n                    userMap.put(\"fullName\", firebaseUser.getDisplayName());\r\n                }\r\n                if (firebaseUser.getEmail() != null) {\r\n                    userMap.put(\"email\", firebaseUser.getEmail());\r\n                }\r\n                if (firebaseUser.getPhoneNumber() != null) {\r\n                    userMap.put(\"phoneNumber\", firebaseUser.getPhoneNumber());\r\n                }\r\n                userMap.put(\"createdAt\", new Date());\r\n                userMap.put(\"updatedAt\", new Date());\r\n\r\n                firestore.collection(\"users\").document(firebaseUser.getUid())\r\n                    .set(userMap)\r\n                    .addOnSuccessListener(aVoid -> {\r\n                    })\r\n                    .addOnFailureListener(e -> {\r\n                    });\r\n            })\r\n            .addOnFailureListener(e -> {\r\n            });\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java
------ a/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java	(date 1730453351683)
---@@ -1,10 +1,13 @@
--- package com.example.agrimart.viewmodel;
--- 
--- import android.app.Application;
---+import android.widget.Toast;
---+
--- import androidx.annotation.NonNull;
--- import androidx.lifecycle.AndroidViewModel;
--- import androidx.lifecycle.MutableLiveData;
--- import com.google.firebase.auth.FirebaseAuth;
---+import com.google.firebase.auth.FirebaseAuthUserCollisionException;
--- import com.google.firebase.auth.FirebaseUser;
--- import com.google.firebase.firestore.FirebaseFirestore;
--- 
---@@ -34,64 +37,68 @@
---         return emailVerificationSent;
---     }
--- 
----    public void signUpWithEmail(String email, String password) {
---+    public void signUpWithEmail(String email, String password, String fullName) {
---         mAuth.createUserWithEmailAndPassword(email, password)
----            .addOnCompleteListener(task -> {
----                if (task.isSuccessful()) {
----                    FirebaseUser user = mAuth.getCurrentUser();
----                    if (user != null) {
----                        sendEmailVerification(user);
----                    }
----                    signUpSuccess.setValue(true);
----                } else {
----                    signUpSuccess.setValue(false);
----                }
----            });
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        FirebaseUser user = mAuth.getCurrentUser();
---+                        if (user != null) {
---+                            sendEmailVerification(user);
---+                            saveUserToFirestore(user, fullName);
---+                        }
---+                        signUpSuccess.setValue(true);
---+                    } else {
---+                        if (task.getException() instanceof FirebaseAuthUserCollisionException) {
---+                            Toast.makeText(getApplication(), "Email đã tồn tại", Toast.LENGTH_SHORT).show();
---+                        } else {
---+                            signUpSuccess.setValue(false);
---+                        }
---+                    }
---+                });
---     }
--- 
----    public void sendEmailVerification(FirebaseUser user) { // Changed to public
---+    public void sendEmailVerification(FirebaseUser user) {
---         user.sendEmailVerification()
----            .addOnCompleteListener(task -> {
----                if (task.isSuccessful()) {
----                    emailVerificationSent.setValue(true);
----                } else {
----                    emailVerificationSent.setValue(false);
----                }
----            });
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        emailVerificationSent.setValue(true);
---+                    } else {
---+                        emailVerificationSent.setValue(false);
---+                    }
---+                });
---     }
--- 
----    public void saveUserToFirestore(FirebaseUser firebaseUser) {
---+    public void saveUserToFirestore(FirebaseUser firebaseUser, String fullName) {
---         firestore.collection("users").document(firebaseUser.getUid())
----            .get()
----            .addOnSuccessListener(documentSnapshot -> {
----                String role = "customer";
----                if (documentSnapshot.exists() && documentSnapshot.contains("role")) {
----                    role = documentSnapshot.getString("role");
----                }
---+                .get()
---+                .addOnSuccessListener(documentSnapshot -> {
---+                    String role = "customer";
---+                    if (documentSnapshot.exists() && documentSnapshot.contains("role")) {
---+                        role = documentSnapshot.getString("role");
---+                    }
--- 
----                Map<String, Object> userMap = new HashMap<>();
----                userMap.put("userId", firebaseUser.getUid());
----                userMap.put("role", role);
----                if (firebaseUser.getDisplayName() != null) {
----                    userMap.put("fullName", firebaseUser.getDisplayName());
----                }
----                if (firebaseUser.getEmail() != null) {
----                    userMap.put("email", firebaseUser.getEmail());
----                }
----                if (firebaseUser.getPhoneNumber() != null) {
----                    userMap.put("phoneNumber", firebaseUser.getPhoneNumber());
----                }
----                userMap.put("createdAt", new Date());
----                userMap.put("updatedAt", new Date());
---+                    Map<String, Object> userMap = new HashMap<>();
---+                    userMap.put("userId", firebaseUser.getUid());
---+                    userMap.put("role", role);
---+                    userMap.put("fullName", fullName);
---+                    if (firebaseUser.getEmail() != null) {
---+                        userMap.put("email", firebaseUser.getEmail());
---+                    }
---+                    if (firebaseUser.getPhoneNumber() != null) {
---+                        userMap.put("phoneNumber", firebaseUser.getPhoneNumber());
---+                    }
---+                    userMap.put("createdAt", new Date());
---+                    userMap.put("updatedAt", new Date());
--- 
----                firestore.collection("users").document(firebaseUser.getUid())
----                    .set(userMap)
----                    .addOnSuccessListener(aVoid -> {
----                    })
----                    .addOnFailureListener(e -> {
----                    });
----            })
----            .addOnFailureListener(e -> {
----            });
---+                    firestore.collection("users").document(firebaseUser.getUid())
---+                            .set(userMap)
---+                            .addOnSuccessListener(aVoid -> {
---+                            })
---+                            .addOnFailureListener(e -> {
---+                            });
---+                })
---+                .addOnFailureListener(e -> {
---+                });
---     }
---+
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/utils/Valid.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.utils;\r\n\r\nimport android.widget.TextView;\r\nimport android.util.Patterns;\r\n\r\npublic class Valid {\r\n    public static boolean isValidEmail(String email) {\r\n        return !email.isEmpty() && Patterns.EMAIL_ADDRESS.matcher(email).matches();\r\n    }\r\n\r\n    public static boolean isValidPassword(String password) {\r\n        return !password.isEmpty() && password.length() >= 8 && password.matches(\".*[A-Z].*\") && password.matches(\".*\\\\d.*\");\r\n    }\r\n\r\n    public static boolean isValidName(String name) {\r\n        return !name.isEmpty() && name.length() >= 3 && !name.matches(\".*\\\\d.*\");\r\n    }\r\n\r\n    public static boolean validateInputs(String email, String password, String name, TextView tvEmailError, TextView tvPasswordError, TextView tvNameError) {\r\n        boolean isValid = true;\r\n\r\n        if (!isValidEmail(email)) {\r\n            tvEmailError.setText(\"Email không hợp lệ\");\r\n            isValid = false;\r\n        } else {\r\n            tvEmailError.setText(\"\");\r\n        }\r\n\r\n        if (!isValidPassword(password)) {\r\n            tvPasswordError.setText(\"Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa và số\");\r\n            isValid = false;\r\n        } else {\r\n            tvPasswordError.setText(\"\");\r\n        }\r\n\r\n        if (!isValidName(name)) {\r\n            tvNameError.setText(\"Tên phải có ít nhất 3 ký tự và không được chứa số\");\r\n            isValid = false;\r\n        } else {\r\n            tvNameError.setText(\"\");\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/utils/Valid.java b/app/src/main/java/com/example/agrimart/utils/Valid.java
------ a/app/src/main/java/com/example/agrimart/utils/Valid.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/utils/Valid.java	(date 1730455032461)
---@@ -16,30 +16,7 @@
---         return !name.isEmpty() && name.length() >= 3 && !name.matches(".*\\d.*");
---     }
--- 
----    public static boolean validateInputs(String email, String password, String name, TextView tvEmailError, TextView tvPasswordError, TextView tvNameError) {
----        boolean isValid = true;
----
----        if (!isValidEmail(email)) {
----            tvEmailError.setText("Email không hợp lệ");
----            isValid = false;
----        } else {
----            tvEmailError.setText("");
----        }
----
----        if (!isValidPassword(password)) {
----            tvPasswordError.setText("Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa và số");
----            isValid = false;
----        } else {
----            tvPasswordError.setText("");
----        }
----
----        if (!isValidName(name)) {
----            tvNameError.setText("Tên phải có ít nhất 3 ký tự và không được chứa số");
----            isValid = false;
----        } else {
----            tvNameError.setText("");
----        }
----
----        return isValid;
----    }
----}
---\ No newline at end of file
---+    public static boolean isPasswordMatching(String password, String confirmPassword) {
---+        return password.equals(confirmPassword);
---+    }
---+}
---Index: app/src/main/res/layout/activity_forgot_password.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main1\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/white\"\r\n    tools:context=\".ui.Account.ForgotPasswordActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:background=\"@color/white\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.077\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        style=\"@style/title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"96dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"Đặt lại mật khẩu\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.15\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"30dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n        app:boxBackgroundColor=\"@color/white\"\r\n        app:startIconDrawable=\"@drawable/telephone\"\r\n        app:boxBackgroundMode=\"outline\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"Nhập số điện thoại của bạn\"\r\n            android:inputType=\"phone\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_continue\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"36dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"Tiếp tục\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.905\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/activity_forgot_password.xml b/app/src/main/res/layout/activity_forgot_password.xml
------ a/app/src/main/res/layout/activity_forgot_password.xml	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/res/layout/activity_forgot_password.xml	(date 1730450605012)
---@@ -45,16 +45,16 @@
---         app:layout_constraintStart_toStartOf="parent"
---         app:layout_constraintTop_toBottomOf="@+id/textView2"
---         app:boxBackgroundColor="@color/white"
----        app:startIconDrawable="@drawable/telephone"
---+        app:startIconDrawable="@drawable/email"
---         app:boxBackgroundMode="outline">
--- 
---         <com.google.android.material.textfield.TextInputEditText
----            android:id="@+id/edtPhoneNumber"
---+            android:id="@+id/edtEmail"
---             android:layout_width="match_parent"
---             android:layout_height="wrap_content"
---             android:background="@null"
----            android:hint="Nhập số điện thoại của bạn"
----            android:inputType="phone" />
---+            android:hint="Nhập email của bạn"
---+            android:inputType="textEmailAddress" />
---     </com.google.android.material.textfield.TextInputLayout>
--- 
---     <Button
---Index: app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\n\r\nimport com.example.agrimart.R;\r\n\r\npublic class ForgotPasswordActivity extends AppCompatActivity {\r\n    Button btnContinue;\r\n    ImageButton btnBack;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_forgot_password);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        addControls();\r\n        addEvents();\r\n    }\r\n\r\n    public void addControls() {\r\n        btnContinue = findViewById(R.id.btn_continue);\r\n        btnBack = findViewById(R.id.btn_back);\r\n    }\r\n\r\n    public void addEvents() {\r\n        btnContinue.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(ForgotPasswordActivity.this, EnterOTPActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        btnBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java	(date 1730438788971)
---@@ -4,7 +4,9 @@
--- import android.os.Bundle;
--- import android.view.View;
--- import android.widget.Button;
---+import android.widget.EditText;
--- import android.widget.ImageButton;
---+import android.widget.Toast;
--- 
--- import androidx.activity.EdgeToEdge;
--- import androidx.appcompat.app.AppCompatActivity;
---@@ -13,10 +15,13 @@
--- import androidx.core.view.WindowInsetsCompat;
--- 
--- import com.example.agrimart.R;
---+import com.google.firebase.auth.FirebaseAuth;
--- 
--- public class ForgotPasswordActivity extends AppCompatActivity {
---     Button btnContinue;
---     ImageButton btnBack;
---+    EditText edtEmail;
---+    private FirebaseAuth mAuth;
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---         super.onCreate(savedInstanceState);
---@@ -27,7 +32,7 @@
---             v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
---             return insets;
---         });
----
---+        mAuth = FirebaseAuth.getInstance();
---     }
--- 
---     @Override
---@@ -40,14 +45,20 @@
---     public void addControls() {
---         btnContinue = findViewById(R.id.btn_continue);
---         btnBack = findViewById(R.id.btn_back);
---+        edtEmail = findViewById(R.id.edtEmail);
---     }
--- 
---     public void addEvents() {
---         btnContinue.setOnClickListener(new View.OnClickListener() {
---             @Override
---             public void onClick(View v) {
----                Intent intent = new Intent(ForgotPasswordActivity.this, EnterOTPActivity.class);
----                startActivity(intent);
---+                String email = edtEmail.getText().toString().trim();
---+                if (email.isEmpty()) {
---+                    Toast.makeText(ForgotPasswordActivity.this, "Hãy nhập email của bạn", Toast.LENGTH_SHORT).show();
---+                } else {
---+                    sendPasswordResetEmail(email);
---+                    finish();
---+                }
---             }
---         });
---         btnBack.setOnClickListener(new View.OnClickListener() {
---@@ -59,5 +70,15 @@
--- 
---     }
--- 
---+    private void sendPasswordResetEmail(String email) {
---+        mAuth.sendPasswordResetEmail(email)
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        Toast.makeText(ForgotPasswordActivity.this, "Email đặt lại mật khẩu đã được gửi", Toast.LENGTH_SHORT).show();
---+                    } else {
---+                        Toast.makeText(ForgotPasswordActivity.this, "Gửi email thất bại", Toast.LENGTH_SHORT).show();
---+                    }
---+                });
---+    }
--- 
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.utils.Valid;\r\nimport com.example.agrimart.viewmodel.SignUpViewModel;\r\n\r\npublic class SignUpActivity extends AppCompatActivity {\r\n    private EditText edtEmail, edtPassword, edtName;\r\n    private TextView tvEmailError, tvPasswordError, tvNameError;\r\n    private Button btnSignUp;\r\n    private ImageButton btnBack;\r\n    private TextView tvHaveAccount;\r\n    private ProgressBar progressBar;\r\n\r\n    private SignUpViewModel viewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_up);\r\n\r\n        initViews();\r\n        initViewModel();\r\n    }\r\n\r\n    private void initViews() {\r\n        edtEmail = findViewById(R.id.edtEmail);\r\n        edtPassword = findViewById(R.id.edtPassword);\r\n        edtName = findViewById(R.id.edtUsername);\r\n        tvEmailError = findViewById(R.id.tvEmailError);\r\n        tvPasswordError = findViewById(R.id.tvPasswordError);\r\n        tvNameError = findViewById(R.id.tvNameError);\r\n        btnSignUp = findViewById(R.id.btn_signin);\r\n        btnBack = findViewById(R.id.btn_back);\r\n        tvHaveAccount = findViewById(R.id.haveAccount);\r\n        progressBar = findViewById(R.id.progressBar);\r\n    }\r\n\r\n    private void initViewModel() {\r\n        viewModel = new ViewModelProvider(this).get(SignUpViewModel.class);\r\n\r\n        viewModel.getSignUpSuccess().observe(this, success -> {\r\n            if (success) {\r\n                Toast.makeText(this, \"Đăng ký thành công. Vui lòng kiểm tra email để xác nhận tài khoản.\", Toast.LENGTH_SHORT).show();\r\n                startActivity(new Intent(SignUpActivity.this, VerifyActivity.class));\r\n                finish();\r\n            } else {\r\n                Toast.makeText(this, \"Lỗi khi đăng ký\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        viewModel.getEmailVerificationSent().observe(this, sent -> {\r\n            if (sent) {\r\n                Toast.makeText(this, \"Mail xác nhận đã được gửi đến email của bạn\", Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, \"Lỗi khi gửi mail\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        btnSignUp.setOnClickListener(v -> {\r\n            String email = edtEmail.getText().toString().trim();\r\n            String password = edtPassword.getText().toString().trim();\r\n            String name = edtName.getText().toString().trim();\r\n            if (Valid.validateInputs(email, password, name, tvEmailError, tvPasswordError, tvNameError)) {\r\n                viewModel.signUpWithEmail(email, password);\r\n            } else {\r\n                Toast.makeText(this, \"Thông tin không hợp lệ\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        tvHaveAccount.setOnClickListener(v -> {\r\n            Intent intent = new Intent(SignUpActivity.this, SignInActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        btnBack.setOnClickListener(v -> finish());\r\n    }\r\n}\r\n
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java	(date 1730455099523)
---@@ -2,6 +2,8 @@
--- 
--- import android.content.Intent;
--- import android.os.Bundle;
---+import android.util.Patterns;
---+import android.view.View;
--- import android.widget.Button;
--- import android.widget.EditText;
--- import android.widget.ImageButton;
---@@ -17,8 +19,8 @@
--- import com.example.agrimart.viewmodel.SignUpViewModel;
--- 
--- public class SignUpActivity extends AppCompatActivity {
----    private EditText edtEmail, edtPassword, edtName;
----    private TextView tvEmailError, tvPasswordError, tvNameError;
---+    private EditText edtEmail, edtPassword, edtName, edtConfirmPassword;
---+    private TextView tvEmailError, tvPasswordError, tvNameError, tvConfirmPasswordError;
---     private Button btnSignUp;
---     private ImageButton btnBack;
---     private TextView tvHaveAccount;
---@@ -31,24 +33,26 @@
---         super.onCreate(savedInstanceState);
---         setContentView(R.layout.activity_sign_up);
--- 
----        initViews();
----        initViewModel();
---+        addControls();
---+        addEvents();
---     }
--- 
----    private void initViews() {
---+    private void addControls() {
---         edtEmail = findViewById(R.id.edtEmail);
---         edtPassword = findViewById(R.id.edtPassword);
---         edtName = findViewById(R.id.edtUsername);
---+        edtConfirmPassword = findViewById(R.id.edtConfirmPassword);
---         tvEmailError = findViewById(R.id.tvEmailError);
---         tvPasswordError = findViewById(R.id.tvPasswordError);
---         tvNameError = findViewById(R.id.tvNameError);
---+        tvConfirmPasswordError = findViewById(R.id.tvConfirmPasswordError);
---         btnSignUp = findViewById(R.id.btn_signin);
---         btnBack = findViewById(R.id.btn_back);
---         tvHaveAccount = findViewById(R.id.haveAccount);
---         progressBar = findViewById(R.id.progressBar);
---     }
--- 
----    private void initViewModel() {
---+    private void addEvents() {
---         viewModel = new ViewModelProvider(this).get(SignUpViewModel.class);
--- 
---         viewModel.getSignUpSuccess().observe(this, success -> {
---@@ -61,20 +65,14 @@
---             }
---         });
--- 
----        viewModel.getEmailVerificationSent().observe(this, sent -> {
----            if (sent) {
----                Toast.makeText(this, "Mail xác nhận đã được gửi đến email của bạn", Toast.LENGTH_SHORT).show();
----            } else {
----                Toast.makeText(this, "Lỗi khi gửi mail", Toast.LENGTH_SHORT).show();
----            }
----        });
----
---         btnSignUp.setOnClickListener(v -> {
----            String email = edtEmail.getText().toString().trim();
----            String password = edtPassword.getText().toString().trim();
----            String name = edtName.getText().toString().trim();
----            if (Valid.validateInputs(email, password, name, tvEmailError, tvPasswordError, tvNameError)) {
----                viewModel.signUpWithEmail(email, password);
---+            if (validateInputs()) {
---+                progressBar.setVisibility(View.VISIBLE);
---+                String email = edtEmail.getText().toString().trim();
---+                String password = edtPassword.getText().toString().trim();
---+                String name = edtName.getText().toString().trim();
---+
---+                viewModel.signUpWithEmail(email, password, name);
---             } else {
---                 Toast.makeText(this, "Thông tin không hợp lệ", Toast.LENGTH_SHORT).show();
---             }
---@@ -87,4 +85,61 @@
--- 
---         btnBack.setOnClickListener(v -> finish());
---     }
---+
---+    private boolean validateInputs() {
---+        boolean isValid = true;
---+
---+        tvEmailError.setVisibility(View.GONE);
---+        tvPasswordError.setVisibility(View.GONE);
---+        tvNameError.setVisibility(View.GONE);
---+        tvConfirmPasswordError.setVisibility(View.GONE);
---+
---+        String email = edtEmail.getText().toString().trim();
---+        String password = edtPassword.getText().toString().trim();
---+        String confirmPassword = edtConfirmPassword.getText().toString().trim();
---+        String name = edtName.getText().toString().trim();
---+
---+        if (email.isEmpty()) {
---+            tvEmailError.setText("Email không được để trống");
---+            tvEmailError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (!Patterns.EMAIL_ADDRESS.matcher(email).matches()) {
---+            tvEmailError.setText("Email không hợp lệ");
---+            tvEmailError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        if (password.isEmpty()) {
---+            tvPasswordError.setText("Mật khẩu không được để trống");
---+            tvPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (password.length() < 8 || !password.matches(".*[A-Z].*") || !password.matches(".*\\d.*")) {
---+            tvPasswordError.setText("Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa và số");
---+            tvPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        if (confirmPassword.isEmpty()) {
---+            tvConfirmPasswordError.setText("Không được để trống");
---+            tvConfirmPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (!confirmPassword.equals(password)) {
---+            tvConfirmPasswordError.setText("Mật khẩu xác nhận không khớp");
---+            tvConfirmPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        if (name.isEmpty()) {
---+            tvNameError.setText("Tên không được để trống");
---+            tvNameError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (name.length() < 3 || name.matches(".*\\d.*")) {
---+            tvNameError.setText("Tên phải có ít nhất 3 ký tự và không được chứa số");
---+            tvNameError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        return isValid;
---+    }
---+
--- }
---Index: app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.MainActivity;\r\nimport com.example.agrimart.viewmodel.SignInViewModel;\r\nimport com.facebook.AccessToken;\r\nimport com.facebook.CallbackManager;\r\nimport com.facebook.FacebookCallback;\r\nimport com.facebook.FacebookException;\r\nimport com.facebook.FacebookSdk;\r\nimport com.facebook.login.LoginManager;\r\nimport com.facebook.login.LoginResult;\r\nimport com.facebook.login.widget.LoginButton;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.auth.FacebookAuthProvider;\r\nimport com.google.firebase.auth.GoogleAuthProvider;\r\n\r\npublic class SignInActivity extends AppCompatActivity {\r\n    private static final String TAG = \"SignInActivity\";\r\n    private SignInViewModel signInViewModel;\r\n    private ActivityResultLauncher<Intent> googleSignInLauncher;\r\n    private GoogleSignInOptions gso;\r\n    private SharedPreferences sharedPreferences;\r\n    private FirebaseAuth mAuth;\r\n    private CallbackManager callbackManager;\r\n\r\n    private TextView tvDonthaveAccount;\r\n    private TextView forgotPass;\r\n    private Button btnSignIn;\r\n    private Button btnSignInGoogle, btnSignInFacebook;\r\n    private TextView edtEmail, edtPassword;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_in);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        sharedPreferences = getSharedPreferences(\"user_prefs\", MODE_PRIVATE);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        if (sharedPreferences.getBoolean(\"is_logged_in\", false)) {\r\n            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n            if (currentUser != null) {\r\n                navigateToMain();\r\n                return;\r\n            }\r\n        }\r\n\r\n        signInViewModel = new ViewModelProvider(this).get(SignInViewModel.class);\r\n\r\n        gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n            .requestIdToken(getString(R.string.default_web_client_id))\r\n            .requestEmail()\r\n            .build();\r\n\r\n        googleSignInLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            result -> {\r\n                if (result.getResultCode() == RESULT_OK) {\r\n                    Intent data = result.getData();\r\n                    Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n                    try {\r\n                        GoogleSignInAccount account = task.getResult(ApiException.class);\r\n                        handleGoogleAccessToken(account);\r\n                    } catch (ApiException e) {\r\n                        Toast.makeText(this, \"Đăng nhập thất bại\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } else {\r\n                    Toast.makeText(this, \"Đăng nhập bị từ chối\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\n        FacebookSdk.sdkInitialize(getApplicationContext());\r\n        callbackManager = CallbackManager.Factory.create();\r\n\r\n        addControls();\r\n        addEvents();\r\n    }\r\n\r\n    public void addControls() {\r\n        tvDonthaveAccount = findViewById(R.id.dontHaveAccount);\r\n        forgotPass = findViewById(R.id.forgotPassword);\r\n        btnSignIn = findViewById(R.id.btnSignIn);\r\n        btnSignInGoogle = findViewById(R.id.btnSignInGoogle);\r\n        edtEmail = findViewById(R.id.edtEmail);\r\n        edtPassword = findViewById(R.id.edtPassword);\r\n        btnSignInFacebook = findViewById(R.id.btnSignInFacebook);\r\n    }\r\n\r\n    public void addEvents() {\r\n        tvDonthaveAccount.setOnClickListener(v -> {\r\n            Intent intent = new Intent(SignInActivity.this, SignUpActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        forgotPass.setOnClickListener(v -> {\r\n            Intent intent = new Intent(SignInActivity.this, ForgotPasswordActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        btnSignIn.setOnClickListener(v -> {\r\n            String email = edtEmail.getText().toString().trim();\r\n            String password = edtPassword.getText().toString().trim();\r\n            if (!email.isEmpty() && !password.isEmpty()) {\r\n                signInViewModel.signInWithEmail(email, password, this::navigateToMain);\r\n            } else {\r\n                Toast.makeText(SignInActivity.this, \"Email hoặc mật khẩu không hợp lệ\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        btnSignInGoogle.setOnClickListener(v -> {\r\n            Intent signInIntent = GoogleSignIn.getClient(this, gso).getSignInIntent();\r\n            googleSignInLauncher.launch(signInIntent);\r\n        });\r\n\r\n        btnSignInFacebook.setOnClickListener(v -> {\r\n            LoginButton loginButton = new LoginButton(this);\r\n            loginButton.setPermissions(\"email\", \"public_profile\");\r\n            loginButton.registerCallback(callbackManager, new FacebookCallback<LoginResult>() {\r\n                @Override\r\n                public void onSuccess(LoginResult loginResult) {\r\n                    handleFacebookAccessToken(loginResult.getAccessToken());\r\n                }\r\n\r\n                @Override\r\n                public void onCancel() {\r\n                    Toast.makeText(SignInActivity.this, \"Facebook login canceled\", Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                @Override\r\n                public void onError(FacebookException error) {\r\n                    Toast.makeText(SignInActivity.this, \"Facebook login failed\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n            loginButton.performClick();\r\n        });\r\n    }\r\n\r\n    private boolean isUserDataExists() {\r\n        String email = sharedPreferences.getString(\"user_email\", null);\r\n        return email != null;\r\n    }\r\n\r\n    private void saveUserData(FirebaseUser user) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"user_email\", user.getEmail());\r\n        editor.putString(\"user_name\", user.getDisplayName());\r\n        editor.apply();\r\n    }\r\n\r\n    private void handleGoogleAccessToken(GoogleSignInAccount account) {\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(account.getIdToken(), null);\r\n        signInViewModel.signInWithGoogle(credential, () -> {\r\n            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n            if (user != null) {\r\n                if (!isUserDataExists()) {\r\n                    saveUserData(user);\r\n                }\r\n                setLoginState(true);\r\n            } else {\r\n            }\r\n            navigateToMain();\r\n        });\r\n    }\r\n\r\nprivate void handleFacebookAccessToken(AccessToken token) {\r\n    AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());\r\n    signInViewModel.signInWithFacebook(credential, () -> {\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (user != null) {\r\n            if (!isUserDataExists()) {\r\n                saveUserData(user);\r\n            }\r\n            setLoginState(true);\r\n        } else {\r\n            Log.w(TAG, \"Facebook login successful but user is null\");\r\n        }\r\n        navigateToMain();\r\n    });\r\n}\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        callbackManager.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n    private void navigateToMain() {\r\n        Intent intent = new Intent(SignInActivity.this, MainActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    public void signOutFromFacebook() {\r\n    LoginManager.getInstance().logOut();\r\n    FirebaseAuth.getInstance().signOut();\r\n    setLoginState(false);\r\n    navigateToSignIn();\r\n}\r\n\r\n    private void navigateToSignIn() {\r\n        Intent intent = new Intent(SignInActivity.this, SignInActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    private void setLoginState(boolean isLoggedIn) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putBoolean(\"is_logged_in\", isLoggedIn);\r\n        editor.apply();\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java	(date 1730455530347)
---@@ -77,26 +77,26 @@
---         signInViewModel = new ViewModelProvider(this).get(SignInViewModel.class);
--- 
---         gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)
----            .requestIdToken(getString(R.string.default_web_client_id))
----            .requestEmail()
----            .build();
---+                .requestIdToken(getString(R.string.default_web_client_id))
---+                .requestEmail()
---+                .build();
--- 
---         googleSignInLauncher = registerForActivityResult(
----            new ActivityResultContracts.StartActivityForResult(),
----            result -> {
----                if (result.getResultCode() == RESULT_OK) {
----                    Intent data = result.getData();
----                    Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);
----                    try {
----                        GoogleSignInAccount account = task.getResult(ApiException.class);
----                        handleGoogleAccessToken(account);
----                    } catch (ApiException e) {
----                        Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
----                    }
----                } else {
----                    Toast.makeText(this, "Đăng nhập bị từ chối", Toast.LENGTH_SHORT).show();
----                }
----            });
---+                new ActivityResultContracts.StartActivityForResult(),
---+                result -> {
---+                    if (result.getResultCode() == RESULT_OK) {
---+                        Intent data = result.getData();
---+                        Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);
---+                        try {
---+                            GoogleSignInAccount account = task.getResult(ApiException.class);
---+                            handleGoogleAccessToken(account);
---+                        } catch (ApiException e) {
---+                            Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---+                        }
---+                    } else {
---+                        Toast.makeText(this, "Đăng nhập bị từ chối", Toast.LENGTH_SHORT).show();
---+                    }
---+                });
--- 
---         FacebookSdk.sdkInitialize(getApplicationContext());
---         callbackManager = CallbackManager.Factory.create();
---@@ -130,7 +130,7 @@
---             String email = edtEmail.getText().toString().trim();
---             String password = edtPassword.getText().toString().trim();
---             if (!email.isEmpty() && !password.isEmpty()) {
----                signInViewModel.signInWithEmail(email, password, this::navigateToMain);
---+                signInViewModel.signInWithEmail(email, password, () -> checkEmailVerification(true));
---             } else {
---                 Toast.makeText(SignInActivity.this, "Email hoặc mật khẩu không hợp lệ", Toast.LENGTH_SHORT).show();
---             }
---@@ -148,22 +148,40 @@
---                 @Override
---                 public void onSuccess(LoginResult loginResult) {
---                     handleFacebookAccessToken(loginResult.getAccessToken());
---+                    Toast.makeText(SignInActivity.this, "Đăng nhập thành công", Toast.LENGTH_SHORT).show();
---                 }
--- 
---                 @Override
---                 public void onCancel() {
----                    Toast.makeText(SignInActivity.this, "Facebook login canceled", Toast.LENGTH_SHORT).show();
---+                    Toast.makeText(SignInActivity.this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---                 }
--- 
---                 @Override
---                 public void onError(FacebookException error) {
----                    Toast.makeText(SignInActivity.this, "Facebook login failed", Toast.LENGTH_SHORT).show();
---+                    Toast.makeText(SignInActivity.this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---                 }
---             });
---             loginButton.performClick();
---         });
---     }
--- 
---+    private void checkEmailVerification(boolean isEmailSignIn) {
---+        FirebaseUser user = mAuth.getCurrentUser();
---+        if (user != null) {
---+            if (!isEmailSignIn || user.isEmailVerified()) {
---+                navigateToMain();
---+            } else {
---+                Toast.makeText(SignInActivity.this, "Vui lòng xác thực email của bạn trước khi đăng nhập", Toast.LENGTH_SHORT).show();
---+                signOut();
---+            }
---+        }
---+    }
---+
---+    private void signOut() {
---+        mAuth.signOut();
---+        setLoginState(false);
---+    }
---+
---     private boolean isUserDataExists() {
---         String email = sharedPreferences.getString("user_email", null);
---         return email != null;
---@@ -183,29 +201,30 @@
---             if (user != null) {
---                 if (!isUserDataExists()) {
---                     saveUserData(user);
---+                    Toast.makeText(this, "Đăng nhập thành công", Toast.LENGTH_SHORT).show();
---                 }
----                setLoginState(true);
---+                checkEmailVerification(false);
---             } else {
---+                Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---             }
----            navigateToMain();
---         });
---     }
--- 
----private void handleFacebookAccessToken(AccessToken token) {
----    AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());
----    signInViewModel.signInWithFacebook(credential, () -> {
----        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
----        if (user != null) {
----            if (!isUserDataExists()) {
----                saveUserData(user);
----            }
----            setLoginState(true);
----        } else {
----            Log.w(TAG, "Facebook login successful but user is null");
----        }
----        navigateToMain();
----    });
----}
---+    private void handleFacebookAccessToken(AccessToken token) {
---+        AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());
---+        signInViewModel.signInWithFacebook(credential, () -> {
---+            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
---+            if (user != null) {
---+                if (!isUserDataExists()) {
---+                    saveUserData(user);
---+                    Toast.makeText(this, "Đăng nhập thành công", Toast.LENGTH_SHORT).show();
---+                }
---+                checkEmailVerification(false);
---+            } else {
---+                Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---+            }
---+        });
---+    }
--- 
---     @Override
---     protected void onActivityResult(int requestCode, int resultCode, Intent data) {
---@@ -218,23 +237,10 @@
---         startActivity(intent);
---         finish();
---     }
----
----    public void signOutFromFacebook() {
----    LoginManager.getInstance().logOut();
----    FirebaseAuth.getInstance().signOut();
----    setLoginState(false);
----    navigateToSignIn();
----}
----
----    private void navigateToSignIn() {
----        Intent intent = new Intent(SignInActivity.this, SignInActivity.class);
----        startActivity(intent);
----        finish();
----    }
--- 
---     private void setLoginState(boolean isLoggedIn) {
---         SharedPreferences.Editor editor = sharedPreferences.edit();
---         editor.putBoolean("is_logged_in", isLoggedIn);
---         editor.apply();
---     }
----}
---\ No newline at end of file
---+}
---Index: app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.MainActivity;\r\nimport com.example.agrimart.viewmodel.SignUpViewModel;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class VerifyActivity extends AppCompatActivity {\r\n    private SignUpViewModel viewModel;\r\n    private FirebaseAuth mAuth;\r\n    private Handler handler;\r\n    private Runnable checkEmailVerifiedRunnable;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_verify);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        viewModel = new ViewModelProvider(this).get(SignUpViewModel.class);\r\n        handler = new Handler();\r\n\r\n        Button btnResendEmail = findViewById(R.id.btnResendEmail);\r\n        Button btnBackToLogin = findViewById(R.id.btnBackToLogin);\r\n\r\n        btnResendEmail.setOnClickListener(v -> {\r\n            FirebaseUser user = mAuth.getCurrentUser();\r\n            if (user != null) {\r\n                viewModel.sendEmailVerification(user);\r\n                Toast.makeText(this, \"Email xác nhận đã được gửi lại\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        btnBackToLogin.setOnClickListener(v -> {\r\n            startActivity(new Intent(VerifyActivity.this, SignInActivity.class));\r\n            finish();\r\n        });\r\n\r\n        checkEmailVerification();\r\n    }\r\n\r\n    private void checkEmailVerification() {\r\n        checkEmailVerifiedRunnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                FirebaseUser user = mAuth.getCurrentUser();\r\n                if (user != null) {\r\n                    user.reload().addOnCompleteListener(task -> {\r\n                        if (user.isEmailVerified()) {\r\n                            viewModel.saveUserToFirestore(user);\r\n                            Toast.makeText(VerifyActivity.this, \"Đăng kí thành công\", Toast.LENGTH_SHORT).show();\r\n                            startActivity(new Intent(VerifyActivity.this, MainActivity.class));\r\n                            finish();\r\n                        } else {\r\n                            handler.postDelayed(checkEmailVerifiedRunnable, 3000);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        handler.post(checkEmailVerifiedRunnable);\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        handler.removeCallbacks(checkEmailVerifiedRunnable);\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java	(date 1730452246225)
---@@ -20,6 +20,7 @@
---     private FirebaseAuth mAuth;
---     private Handler handler;
---     private Runnable checkEmailVerifiedRunnable;
---+    private String fullname;
--- 
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---@@ -33,6 +34,8 @@
---         Button btnResendEmail = findViewById(R.id.btnResendEmail);
---         Button btnBackToLogin = findViewById(R.id.btnBackToLogin);
--- 
---+        fullname = getIntent().getStringExtra("fullname");
---+
---         btnResendEmail.setOnClickListener(v -> {
---             FirebaseUser user = mAuth.getCurrentUser();
---             if (user != null) {
---@@ -57,7 +60,7 @@
---                 if (user != null) {
---                     user.reload().addOnCompleteListener(task -> {
---                         if (user.isEmailVerified()) {
----                            viewModel.saveUserToFirestore(user);
---+                            viewModel.saveUserToFirestore(user, fullname);
---                             Toast.makeText(VerifyActivity.this, "Đăng kí thành công", Toast.LENGTH_SHORT).show();
---                             startActivity(new Intent(VerifyActivity.this, MainActivity.class));
---                             finish();
---Index: app/src/main/java/com/example/agrimart/ui/MainActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.Account.SignInActivity;\r\nimport com.example.agrimart.ui.Cart.CartFragment;\r\nimport com.example.agrimart.ui.Explore.ExploreFragment;\r\nimport com.example.agrimart.ui.Homepage.HomeFragment;\r\nimport com.example.agrimart.ui.MyProfile.MyProfileFragment;\r\nimport com.example.agrimart.ui.Notification.NotificationFragment;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private SharedPreferences sharedPreferences;\r\n    private FirebaseAuth mAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_main);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, 0);\r\n            return insets;\r\n        });\r\n\r\n        sharedPreferences = getSharedPreferences(\"user_prefs\", MODE_PRIVATE);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        if (sharedPreferences.getBoolean(\"is_logged_in\", false)) {\r\n            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n            if (currentUser != null) {\r\n                navigateToHome();\r\n                fetchUserRoleAndSave(currentUser);\r\n            } else {\r\n                clearLoginState();\r\n                navigateToLogin();\r\n            }\r\n        } else {\r\n            navigateToLogin();\r\n        }\r\n\r\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigation);\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(this::onNavigationItemSelected);\r\n\r\n        if (savedInstanceState == null) {\r\n            loadFragment(new HomeFragment());\r\n            bottomNavigationView.setSelectedItemId(R.id.home);\r\n        }\r\n    }\r\n\r\n    private void navigateToHome() {\r\n        loadFragment(new HomeFragment());\r\n    }\r\n\r\n    private void navigateToLogin() {\r\n        Intent intent = new Intent(MainActivity.this, SignInActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    private void clearLoginState() {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.clear();\r\n        editor.apply();\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n\r\n    private boolean onNavigationItemSelected(MenuItem item) {\r\n        Fragment selectedFragment = null;\r\n\r\n        if (item.getItemId() == R.id.home) {\r\n            selectedFragment = new HomeFragment();\r\n        } else if (item.getItemId() == R.id.category) {\r\n            selectedFragment = new ExploreFragment();\r\n        } else if (item.getItemId() == R.id.notification) {\r\n            selectedFragment = new NotificationFragment();\r\n        } else if (item.getItemId() == R.id.profile) {\r\n            selectedFragment = new MyProfileFragment();\r\n        } else if (item.getItemId() == R.id.cart) {\r\n            selectedFragment = new CartFragment();\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n        if (selectedFragment != null) {\r\n            loadFragment(selectedFragment);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private void fetchUserRoleAndSave(FirebaseUser user) {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        DocumentReference docRef = db.collection(\"users\").document(user.getUid());\r\n        docRef.get().addOnSuccessListener(documentSnapshot -> {\r\n            if (documentSnapshot.exists()) {\r\n                String role = documentSnapshot.getString(\"role\");\r\n                if (role != null) {\r\n                    saveUserToSharedPreferences(role);\r\n                }\r\n            }\r\n        }).addOnFailureListener(e -> {\r\n        });\r\n    }\r\n\r\n    private void saveUserToSharedPreferences(String role) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"user_role\", role);\r\n        editor.apply();\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/MainActivity.java b/app/src/main/java/com/example/agrimart/ui/MainActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/MainActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/MainActivity.java	(date 1730377522637)
---@@ -46,7 +46,7 @@
---             FirebaseUser currentUser = mAuth.getCurrentUser();
---             if (currentUser != null) {
---                 navigateToHome();
----                fetchUserRoleAndSave(currentUser);
---+                getUserRole(currentUser);
---             } else {
---                 clearLoginState();
---                 navigateToLogin();
---@@ -110,7 +110,7 @@
---         return true;
---     }
--- 
----    private void fetchUserRoleAndSave(FirebaseUser user) {
---+    private void getUserRole(FirebaseUser user) {
---         FirebaseFirestore db = FirebaseFirestore.getInstance();
---         DocumentReference docRef = db.collection("users").document(user.getUid());
---         docRef.get().addOnSuccessListener(documentSnapshot -> {
---Index: app/src/main/res/values/strings.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><resources>\r\n    <string name=\"app_name\">AgriMart</string>\r\n    <string name=\"categories\">Danh mục sản phẩm</string>\r\n    <string name=\"see_all\">Xem thêm</string>\r\n    <string name=\"top_selling\">Bán chạy nhất</string>\r\n    <string name=\"home\">Trang chủ</string>\r\n    <string name=\"profile\">Tôi</string>\r\n    <string name=\"order\">Order</string>\r\n    <string name=\"newsfeed\">Tin mới</string>\r\n    <string name=\"post\">Đăng bài</string>\r\n    <string name=\"cart\">Giỏ hàng</string>\r\n    <string name=\"ng_b_n\">Đăng bán</string>\r\n    <string name=\"cho\">Chợ</string>\r\n    <string name=\"search_hint\">tim kiem san pham</string>\r\n    <string name=\"search\">Tìm kiếm sản phẩm</string>\r\n    <string name=\"ng_nh_p\">Đăng nhập</string>\r\n    <string name=\"ch_a_c_t_i_kho_n\"><u>Chưa có tài khoản?</u></string>\r\n    <string name=\"m_t_kh_u\">Mật khẩu</string>\r\n    <string name=\"continue_with_google\"> Đăng nhập bằng Google</string>\r\n    <string name=\"dang_ky\">Chưa có tài khoản? <b>Đăng ký</b></string>\r\n    <string name=\"c_t_i_kho_n\"><u>Đã có tài khoản?</u></string>\r\n    <string name=\"ng_k_b_ng_s_i_n_tho_i\">Đăng ký bằng số điện thoại</string>\r\n    <string name=\"ng_k_b_ng_email\">Đăng ký bằng email</string>\r\n    <string name=\"qu_n_m_t_kh_u\">Quên mật khẩu?</string>\r\n    <string name=\"nh_p_email_ho_c_s_i_n_tho_i\">Nhập email hoặc số điện thoại</string>\r\n    <string name=\"sodienthoai\">Số điện thoại</string>\r\n    <string name=\"g_i_l_i\"><u>Gửi lại</u></string>\r\n\r\n\r\n    <!-- PostProduct -->\r\n    <string name=\"nh_p_s_l_ng_c_n_b_n\">Your desired text here</string>\r\n    <string name=\"desc_vegetable\">Rau củ quả</string>\r\n    <string name=\"desc_fruit\">Trái cây</string>\r\n    <string name=\"desc_meat_eggs\">Trứng, thịt</string>\r\n    <string name=\"desc_milk\">Sữa, bơ, phô mai</string>\r\n    <string name=\"desc_sweets\">Bánh kẹo</string>\r\n    <string name=\"nh_s_n_ph_m_th_c_t\">Ảnh sản phẩm thực tế</string>\r\n    <string name=\"th_m_nh\">Thêm ảnh</string>\r\n    <string name=\"todo\">TODO</string>\r\n    <string name=\"t_n_s_n_ph_m\">Tên sản phẩm</string>\r\n    <string name=\"c_i_t_n_n_i_l_n_t_t_c_s_gi_p_ch_r_t_nhi_u_y\">Cái tên nói lên tất cả sẽ giúp ích rất nhiều đấy</string>\r\n    <string name=\"m_t_s_n_ph_m\">Mô tả sản phẩm</string>\r\n    <string name=\"m_t_o_n_v_n_m_t_y_s_gi_p_s_n_ph_m_c_a_b_n_b_n_d_h_n\">Một đoạn văn mô tả đầy đủ sẽ giúp sản phẩm của bạn bán dễ hơn</string>\r\n    <string name=\"ph_n_lo_i_s_n_ph_m\">Phân loại sản phẩm</string>\r\n    <string name=\"rau_c\">Rau củ</string>\r\n    <string name=\"tr_i_c_y\">Trái cây</string>\r\n    <string name=\"th_t_tr_ng\">Thịt, Trứng</string>\r\n    <string name=\"s_a_b_ph_mai\">Sữa, bơ, phô mai</string>\r\n    <string name=\"ng_t\">Đồ ngọt</string>\r\n    <string name=\"ti_p_t_c\">Tiếp tục</string>\r\n    <string name=\"gi_b_n\">Giá bán</string>\r\n    <string name=\"n_v\">Đơn vị </string>\r\n    <string name=\"hi_n_c\">Hiện có</string>\r\n    <string name=\"nh_p_gi_b_n\">Nhập giá bán</string>\r\n    <string name=\"nh_p_n_v_kg_ch_c_c_i\">Nhập đơn vị (kg, chục, cái)</string>\r\n    <string name=\"_200kg\">200kg</string>\r\n    <string name=\"s_u_ri_ng_lan_t_a\">Sầu riêng lan tỏa</string>\r\n    <string name=\"_20_ng_i_ang_h_i\">20 người đang hỏi</string>\r\n    <string name=\"dang_san_pham\">ĐĂNG SẢN PHẨM</string>\r\n    <string name=\"frash_fruits_vegetable\"><![CDATA[Frash Fruits & Vegetable]]></string>\r\n    <string name=\"add_cart\">Thêm vào giỏ hàng</string>\r\n    <string name=\"product_name\">Tên sản phẩm</string>\r\n    <string name=\"price\">50.000đ</string>\r\n    <string name=\"address\">123 Lê Trọng Tấn, Quận Tân Phú, TP.HCM</string>\r\n    <string name=\"description\">Mô tả chi tiết</string>\r\n    <string name=\"descriptions\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</string>\r\n    <string name=\"user_review\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</string>\r\n    <string name=\"my_cart\">Giỏ hàng</string>\r\n    <string name=\"notification_time\">1 phút trước</string>\r\n    <string name=\"notification_message\">Khánh vừa đặt mua sản phẩm của bạn: Chuối nhà trồng...</string>\r\n    <string name=\"cate\">Gian hàng</string>\r\n    <string name=\"t_m_theo_danh_m_c\">Tìm theo danh mục</string>\r\n    <string name=\"thong_bao\">Thông báo</string>\r\n    <string name=\"n_h_ng\">Đơn hàng</string>\r\n    <string name=\"_0\">0</string>\r\n    <string name=\"ch_l_y_h_ng\">Chờ lấy hàng</string>\r\n    <string name=\"n_h_y\">Đơn hủy</string>\r\n    <string name=\"tr_h_ng_ho_n_ti_n\">Trả hàng/Hoàn tiền</string>\r\n\r\n    <string-array name=\"filter_options\">\r\n        <item>Sort by Price</item>\r\n        <item>Newest</item>\r\n        <item>Oldest</item>\r\n    </string-array>\r\n\r\n    <style name=\"TabTextAppearance\" parent=\"TextAppearance.Design.Tab\">\r\n        <item name=\"android:textSize\">16sp</item>\r\n        <item name=\"android:textColor\">@color/black</item>\r\n        <item name=\"android:textStyle\">bold</item>\r\n    </style>\r\n\r\n    <string name=\"default_web_client_id\">689266518488-dggpokj3cbc4t7hoa53j2vsa6vt59qi4.apps.googleusercontent.com</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n    <string name=\"email\">Email</string>\r\n\r\n    //facebook\r\n    <string name=\"loginwithfacebook\">Đăng nhập bằng Facebook</string>\r\n    <string name=\"facebook_app_id\">456355280794721</string>\r\n    <string name=\"fb_login_protocol_scheme\">fb456355280794721</string>\r\n    <string name=\"facebook_client_token\">fbc7722b3ad7a34dbf443766e81403c1</string>\r\n    <string name=\"facebook_app_secret\">239308944b7f4f13d8ed33f56b79c7cc</string>\r\n    <!-- Strings used for fragments for navigation -->\r\n    <string name=\"first_fragment_label\">First Fragment</string>\r\n    <string name=\"second_fragment_label\">Second Fragment</string>\r\n    <string name=\"next\">Next</string>\r\n    <string name=\"previous\">Previous</string>\r\n\r\n    <string name=\"lorem_ipsum\">\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam in scelerisque sem. Mauris\r\n        volutpat, dolor id interdum ullamcorper, risus dolor egestas lectus, sit amet mattis purus\r\n        dui nec risus. Maecenas non sodales nisi, vel dictum dolor. Class aptent taciti sociosqu ad\r\n        litora torquent per conubia nostra, per inceptos himenaeos. Suspendisse blandit eleifend\r\n        diam, vel rutrum tellus vulputate quis. Aliquam eget libero aliquet, imperdiet nisl a,\r\n        ornare ex. Sed rhoncus est ut libero porta lobortis. Fusce in dictum tellus.\\n\\n\r\n        Suspendisse interdum ornare ante. Aliquam nec cursus lorem. Morbi id magna felis. Vivamus\r\n        egestas, est a condimentum egestas, turpis nisl iaculis ipsum, in dictum tellus dolor sed\r\n        neque. Morbi tellus erat, dapibus ut sem a, iaculis tincidunt dui. Interdum et malesuada\r\n        fames ac ante ipsum primis in faucibus. Curabitur et eros porttitor, ultricies urna vitae,\r\n        molestie nibh. Phasellus at commodo eros, non aliquet metus. Sed maximus nisl nec dolor\r\n        bibendum, vel congue leo egestas.\\n\\n\r\n        Sed interdum tortor nibh, in sagittis risus mollis quis. Curabitur mi odio, condimentum sit\r\n        amet auctor at, mollis non turpis. Nullam pretium libero vestibulum, finibus orci vel,\r\n        molestie quam. Fusce blandit tincidunt nulla, quis sollicitudin libero facilisis et. Integer\r\n        interdum nunc ligula, et fermentum metus hendrerit id. Vestibulum lectus felis, dictum at\r\n        lacinia sit amet, tristique id quam. Cras eu consequat dui. Suspendisse sodales nunc ligula,\r\n        in lobortis sem porta sed. Integer id ultrices magna, in luctus elit. Sed a pellentesque\r\n        est.\\n\\n\r\n        Aenean nunc velit, lacinia sed dolor sed, ultrices viverra nulla. Etiam a venenatis nibh.\r\n        Morbi laoreet, tortor sed facilisis varius, nibh orci rhoncus nulla, id elementum leo dui\r\n        non lorem. Nam mollis ipsum quis auctor varius. Quisque elementum eu libero sed commodo. In\r\n        eros nisl, imperdiet vel imperdiet et, scelerisque a mauris. Pellentesque varius ex nunc,\r\n        quis imperdiet eros placerat ac. Duis finibus orci et est auctor tincidunt. Sed non viverra\r\n        ipsum. Nunc quis augue egestas, cursus lorem at, molestie sem. Morbi a consectetur ipsum, a\r\n        placerat diam. Etiam vulputate dignissim convallis. Integer faucibus mauris sit amet finibus\r\n        convallis.\\n\\n\r\n        Phasellus in aliquet mi. Pellentesque habitant morbi tristique senectus et netus et\r\n        malesuada fames ac turpis egestas. In volutpat arcu ut felis sagittis, in finibus massa\r\n        gravida. Pellentesque id tellus orci. Integer dictum, lorem sed efficitur ullamcorper,\r\n        libero justo consectetur ipsum, in mollis nisl ex sed nisl. Donec maximus ullamcorper\r\n        sodales. Praesent bibendum rhoncus tellus nec feugiat. In a ornare nulla. Donec rhoncus\r\n        libero vel nunc consequat, quis tincidunt nisl eleifend. Cras bibendum enim a justo luctus\r\n        vestibulum. Fusce dictum libero quis erat maximus, vitae volutpat diam dignissim.\r\n    </string>\r\n</resources>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
------ a/app/src/main/res/values/strings.xml	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/res/values/strings.xml	(date 1730448311644)
---@@ -142,4 +142,5 @@
---         libero vel nunc consequat, quis tincidunt nisl eleifend. Cras bibendum enim a justo luctus
---         vestibulum. Fusce dictum libero quis erat maximus, vitae volutpat diam dignissim.
---     </string>
---+    <string name="verify">Email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký.</string>
--- </resources>
---\ No newline at end of file
---Index: app/src/main/res/layout/activity_verify.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Account.VerifyActivity\">\r\n\r\n    <TextView\r\n        android:id=\"@+id/tvVerifyTitle\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:text=\"Xác nhận Email\"\r\n        android:textSize=\"24sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/tvVerifyMessage\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:text=\"Một email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký.\"\r\n        android:textSize=\"16sp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tvVerifyTitle\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btnResendEmail\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"24dp\"\r\n        android:text=\"Gửi lại email\"\r\n        android:backgroundTint=\"@color/green\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tvVerifyMessage\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btnBackToLogin\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"12dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"Quay lại đăng nhập\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/btnResendEmail\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/activity_verify.xml b/app/src/main/res/layout/activity_verify.xml
------ a/app/src/main/res/layout/activity_verify.xml	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/res/layout/activity_verify.xml	(date 1730448311653)
---@@ -26,7 +26,7 @@
---         android:layout_marginTop="16dp"
---         android:layout_marginStart="24dp"
---         android:layout_marginEnd="24dp"
----        android:text="Một email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký."
---+        android:text="@string/verify"
---         android:textSize="16sp"
---         app:layout_constraintEnd_toEndOf="parent"
---         app:layout_constraintStart_toStartOf="parent"
--Index: app/src/main/res/layout/item_cart_product.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/item_cart_product.xml b/app/src/main/res/layout/item_cart_product.xml
--new file mode 100644
----- /dev/null	(date 1731226938025)
--+++ b/app/src/main/res/layout/item_cart_product.xml	(date 1731226938025)
--@@ -0,0 +1,88 @@
--+<androidx.cardview.widget.CardView
--+    xmlns:android="http://schemas.android.com/apk/res/android"
--+    android:layout_width="match_parent"
--+    android:layout_height="wrap_content"
--+    android:layout_margin="10dp"
--+    xmlns:app="http://schemas.android.com/apk/res-auto"
--+    xmlns:tools="http://schemas.android.com/tools"
--+    app:cardCornerRadius="8dp"
--+    app:cardElevation="4dp"
--+    app:cardBackgroundColor="@android:color/white">
--+
--+    <LinearLayout
--+        android:layout_width="match_parent"
--+        android:layout_height="wrap_content"
--+        android:padding="10dp">
--+
--+        <CheckBox
--+            android:id="@+id/checkbox_select"
--+            android:layout_width="wrap_content"
--+            android:layout_height="wrap_content" />
--+
--+        <com.google.android.material.imageview.ShapeableImageView
--+            android:id="@+id/img_product"
--+            android:layout_width="80dp"
--+            android:layout_height="80dp"
--+            android:background="@drawable/round_border"
--+            android:scaleType="centerCrop"
--+            android:src="@drawable/apple" />
--+
--+        <LinearLayout
--+            android:layout_width="match_parent"
--+            android:layout_height="match_parent"
--+            android:orientation="vertical">
--+
--+            <TextView
--+                android:id="@+id/tv_product_name"
--+                android:layout_width="wrap_content"
--+                android:layout_height="wrap_content"
--+                android:layout_marginStart="16dp"
--+                android:layout_marginTop="12dp"
--+                android:text="@string/product_name"
--+                android:textColor="@android:color/black"
--+                android:textSize="18sp"
--+                android:textStyle="bold" />
--+
--+            <TextView
--+                android:id="@+id/price"
--+                android:layout_width="wrap_content"
--+                android:layout_height="wrap_content"
--+                android:layout_marginStart="32dp"
--+                android:layout_marginTop="12dp"
--+                android:text="99.999 đ"
--+                android:textColor="@color/red"
--+                android:textSize="9pt" />
--+        </LinearLayout>
--+
--+        <!-- Nút giảm số lượng -->
--+        <ImageView
--+            android:id="@+id/btn_decrease"
--+            android:layout_width="35dp"
--+            android:layout_height="35dp"
--+            android:layout_marginStart="16dp"
--+            android:background="#F9F8FD"
--+            android:padding="8dp"
--+            android:src="@drawable/subtract" />
--+
--+        <!-- Hiển thị số lượng -->
--+        <TextView
--+            android:id="@+id/quantity"
--+            android:layout_width="wrap_content"
--+            android:layout_height="wrap_content"
--+            android:layout_marginStart="8dp"
--+            android:layout_marginTop="3dp"
--+            android:text="10"
--+            android:textSize="20sp" />
--+
--+        <!-- Nút tăng số lượng -->
--+        <ImageView
--+            android:id="@+id/btn_increase"
--+            android:layout_width="35dp"
--+            android:layout_height="35dp"
--+            android:layout_marginStart="8dp"
--+            android:background="#F9F8FD"
--+            android:padding="8dp"
--+            android:src="@drawable/add" />
--+
--+    </LinearLayout>
--+</androidx.cardview.widget.CardView>
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_11_49_PM_[Changes]/shelved.patch
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_11_49_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_11_49_PM_[Changes]/shelved.patch
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_11_49_PM_[Changes]/shelved.patch	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ /dev/null	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-@@ -1,435 +0,0 @@
--Index: app/src/main/java/com/example/agrimart/data/model/Store.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.data.model;\r\n\r\nimport java.util.List;\r\n\r\npublic class Store {\r\n    private String id;\r\n    private String name;\r\n    private String avatarUrl;\r\n    private String street;\r\n    private String ward;\r\n    private String district;\r\n    private String city;\r\n    private String phoneNumber;\r\n    private String userId;\r\n    private List<Product> products;\r\n\r\n    public Store() {\r\n    }\r\n\r\n    public Store(String id, String name, String avatarUrl, String street, String ward, String district, String city, String phoneNumber) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.avatarUrl = avatarUrl;\r\n        this.street = street;\r\n        this.ward = ward;\r\n        this.district = district;\r\n        this.city = city;\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    // Getters and setters for all fields\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getAvatarUrl() {\r\n        return avatarUrl;\r\n    }\r\n\r\n    public void setAvatarUrl(String avatarUrl) {\r\n        this.avatarUrl = avatarUrl;\r\n    }\r\n\r\n    public String getStreet() {\r\n        return street;\r\n    }\r\n\r\n    public void setStreet(String street) {\r\n        this.street = street;\r\n    }\r\n\r\n    public String getWard() {\r\n        return ward;\r\n    }\r\n\r\n    public void setWard(String ward) {\r\n        this.ward = ward;\r\n    }\r\n\r\n    public String getDistrict() {\r\n        return district;\r\n    }\r\n\r\n    public void setDistrict(String district) {\r\n        this.district = district;\r\n    }\r\n\r\n    public String getCity() {\r\n        return city;\r\n    }\r\n\r\n    public void setCity(String city) {\r\n        this.city = city;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(String userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public List<Product> getProducts() {\r\n        return products;\r\n    }\r\n\r\n    public void setProducts(List<Product> products) {\r\n        this.products = products;\r\n    }\r\n\r\n    public String getFullAddress() {\r\n        return street + \", \" + ward + \", \" + district + \", \" + city;\r\n    }\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/data/model/Store.java b/app/src/main/java/com/example/agrimart/data/model/Store.java
----- a/app/src/main/java/com/example/agrimart/data/model/Store.java	(revision 6c06cc6d4b5c05fe0e2dc4ab0e437df3c4ba74ed)
--+++ b/app/src/main/java/com/example/agrimart/data/model/Store.java	(date 1731256723527)
--@@ -4,8 +4,8 @@
-- 
-- public class Store {
--     private String id;
---    private String name;
---    private String avatarUrl;
--+    private String store_name;
--+    private String store_avatar;
--     private String street;
--     private String ward;
--     private String district;
--@@ -19,8 +19,8 @@
-- 
--     public Store(String id, String name, String avatarUrl, String street, String ward, String district, String city, String phoneNumber) {
--         this.id = id;
---        this.name = name;
---        this.avatarUrl = avatarUrl;
--+        this.store_name = name;
--+        this.store_avatar = avatarUrl;
--         this.street = street;
--         this.ward = ward;
--         this.district = district;
--@@ -38,19 +38,19 @@
--     }
-- 
--     public String getName() {
---        return name;
--+        return store_name;
--     }
-- 
--     public void setName(String name) {
---        this.name = name;
--+        this.store_name = name;
--     }
-- 
--     public String getAvatarUrl() {
---        return avatarUrl;
--+        return store_avatar;
--     }
-- 
--     public void setAvatarUrl(String avatarUrl) {
---        this.avatarUrl = avatarUrl;
--+        this.store_avatar = avatarUrl;
--     }
-- 
--     public String getStreet() {
--Index: app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.viewmodel;\r\n\r\nimport com.example.agrimart.data.model.StoreCart;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CartFragmentViewModel {\r\n    private final FirebaseAuth auth;\r\n    private final FirebaseFirestore firestore;\r\n\r\n    // Constructor\r\n    public CartFragmentViewModel() {\r\n        this.auth = FirebaseAuth.getInstance();\r\n        this.firestore = FirebaseFirestore.getInstance();\r\n    }\r\n\r\n    // Hàm để lấy danh sách các StoreCart theo userId\r\n    public void getStoreCartsByUserId( final OnDataFetchedListener listener) {\r\n        String userId = auth.getCurrentUser().getUid();\r\n\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId) // Tìm các StoreCart có userId trùng với tham số\r\n                .get() // Lấy dữ liệu\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<StoreCart> storeCartList = new ArrayList<>();\r\n                        for (DocumentSnapshot document : task.getResult()) {\r\n                            StoreCart storeCart = document.toObject(StoreCart.class);\r\n                            if (storeCart != null) {\r\n                                storeCartList.add(storeCart);\r\n                            }\r\n                        }\r\n                        // Gọi callback để trả về dữ liệu\r\n                        listener.onDataFetched(storeCartList);\r\n                    } else {\r\n                        listener.onError(\"Failed to fetch data: \" + task.getException().getMessage());\r\n                    }\r\n                });\r\n    }\r\n\r\n    // Listener để callback khi lấy dữ liệu xong\r\n    public interface OnDataFetchedListener {\r\n        void onDataFetched(List<StoreCart> storeCarts);\r\n        void onError(String errorMessage);\r\n    }\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java
----- a/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java	(revision 6c06cc6d4b5c05fe0e2dc4ab0e437df3c4ba74ed)
--+++ b/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java	(date 1731257327954)
--@@ -1,9 +1,10 @@
-- package com.example.agrimart.viewmodel;
-- 
---import com.example.agrimart.data.model.StoreCart;
--+import com.example.agrimart.data.model.Product;
--+import com.example.agrimart.data.model.Cart;
--+import com.example.agrimart.data.model.Store;
-- import com.google.firebase.auth.FirebaseAuth;
-- import com.google.firebase.firestore.FirebaseFirestore;
---import com.google.firebase.firestore.Query;
-- import com.google.firebase.firestore.DocumentSnapshot;
-- 
-- import java.util.ArrayList;
--@@ -20,7 +21,7 @@
--     }
-- 
--     // Hàm để lấy danh sách các StoreCart theo userId
---    public void getStoreCartsByUserId( final OnDataFetchedListener listener) {
--+    public void getStoreCartsByUserId(final OnDataFetchedListener listener) {
--         String userId = auth.getCurrentUser().getUid();
-- 
--         firestore.collection("cart")
--@@ -28,24 +29,86 @@
--                 .get() // Lấy dữ liệu
--                 .addOnCompleteListener(task -> {
--                     if (task.isSuccessful()) {
---                        List<StoreCart> storeCartList = new ArrayList<>();
--+                        List<Cart> storeCartList = new ArrayList<>();
--                         for (DocumentSnapshot document : task.getResult()) {
---                            StoreCart storeCart = document.toObject(StoreCart.class);
--+                            Cart storeCart = document.toObject(Cart.class);
--                             if (storeCart != null) {
--                                 storeCartList.add(storeCart);
--                             }
--                         }
---                        // Gọi callback để trả về dữ liệu
---                        listener.onDataFetched(storeCartList);
--+                        // Sau khi lấy danh sách StoreCart, tiếp tục truy vấn thông tin sản phẩm tương ứng
--+                        fetchProductDetailsAndStore(storeCartList, listener);
--                     } else {
--                         listener.onError("Failed to fetch data: " + task.getException().getMessage());
--                     }
--                 });
--     }
-- 
--+    // Hàm để lấy thông tin sản phẩm từ productId
--+    private void fetchProductDetailsAndStore(List<Cart> storeCartList, final OnDataFetchedListener listener) {
--+        List<Cart> updatedStoreCartList = new ArrayList<>();
--+        int[] remainingRequests = {storeCartList.size()}; // Đếm số yêu cầu cần xử lý
--+
--+        for (Cart storeCart : storeCartList) {
--+            // Bắt đầu lấy thông tin sản phẩm cho từng storeCart
--+            List<Product> products = new ArrayList<>();
--+            List<String> productIds = storeCart.getProductIds();
--+
--+            for (String productId : productIds) {
--+                firestore.collection("products")
--+                        .document(productId)
--+                        .get()
--+                        .addOnCompleteListener(productTask -> {
--+                            if (productTask.isSuccessful()) {
--+                                DocumentSnapshot productDoc = productTask.getResult();
--+                                if (productDoc.exists()) {
--+                                    Product product = productDoc.toObject(Product.class);
--+                                    if (product != null) {
--+                                        products.add(product); // Thêm sản phẩm vào danh sách
--+                                    }
--+                                }
--+                            } else {
--+                                listener.onError("Failed to fetch product: " + productTask.getException().getMessage());
--+                            }
--+
--+                            // Khi đã hoàn thành việc lấy sản phẩm, tiếp tục lấy Store nếu sản phẩm đủ
--+                            if (products.size() == productIds.size()) {
--+                                storeCart.setProduct(products); // Cập nhật sản phẩm vào storeCart
--+
--+                                // Lấy thông tin store dựa trên storeId
--+                                firestore.collection("users")
--+                                        .document("hwLQHydEyPX0Wuk6kIR4l5hhW1e2")
--+                                        .get()
--+                                        .addOnCompleteListener(userTask -> {
--+                                            if (userTask.isSuccessful()) {
--+                                                DocumentSnapshot storeDoc = userTask.getResult();
--+                                                if (storeDoc.exists()) {
--+                                                    Store store = storeDoc.toObject(Store.class);
--+                                                    if (store != null) {
--+                                                        storeCart.setStore(store); // Cập nhật Store vào storeCart
--+                                                    }
--+                                                }
--+                                            } else {
--+                                                listener.onError("Failed to fetch store: " + userTask.getException().getMessage());
--+                                            }
--+
--+                                            // Giảm đếm và kiểm tra nếu đã hoàn thành tất cả yêu cầu
--+                                            remainingRequests[0]--;
--+                                            if (remainingRequests[0] == 0) {
--+                                                listener.onDataFetched(updatedStoreCartList);
--+                                            }
--+                                        });
--+                            }
--+                        });
--+            }
--+            updatedStoreCartList.add(storeCart); // Thêm storeCart vào danh sách cập nhật
--+        }
--+    }
--+
--+
--     // Listener để callback khi lấy dữ liệu xong
--     public interface OnDataFetchedListener {
---        void onDataFetched(List<StoreCart> storeCarts);
--+        void onDataFetched(List<Cart> storeCarts);
--         void onError(String errorMessage);
--     }
-- }
--Index: app/src/main/java/com/example/agrimart/adapter/StoreCartAdapter.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.model.StoreCart;\r\n\r\nimport java.util.List;\r\n\r\npublic class StoreCartAdapter extends RecyclerView.Adapter<StoreCartAdapter.StoreCartViewHolder> {\r\n\r\n    private List<StoreCart> storeCartList;\r\n\r\n    public StoreCartAdapter(List<StoreCart> storeCartList) {\r\n        this.storeCartList = storeCartList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public StoreCartViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.item_cart_store, parent, false);\r\n        return new StoreCartViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull StoreCartViewHolder holder, int position) {\r\n        StoreCart storeCart = storeCartList.get(position);\r\n        holder.tvStoreName.setText(storeCart.getStoreId());\r\n\r\n        // Cài đặt RecyclerView con cho danh sách sản phẩm\r\n        ProductCartAdapter productAdapter = new ProductCartAdapter((storeCart.getProducts()));\r\n        holder.rvProducts.setAdapter(productAdapter);\r\n        holder.rvProducts.setLayoutManager(new LinearLayoutManager(holder.itemView.getContext()));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return storeCartList.size();\r\n    }\r\n\r\n    static class StoreCartViewHolder extends RecyclerView.ViewHolder {\r\n        TextView tvStoreName;\r\n        RecyclerView rvProducts;\r\n\r\n        public StoreCartViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            tvStoreName = itemView.findViewById(R.id.tv_store_name);\r\n            rvProducts = itemView.findViewById(R.id.rv_products);\r\n        }\r\n    }\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/adapter/StoreCartAdapter.java b/app/src/main/java/com/example/agrimart/adapter/StoreCartAdapter.java
----- a/app/src/main/java/com/example/agrimart/adapter/StoreCartAdapter.java	(revision 6c06cc6d4b5c05fe0e2dc4ab0e437df3c4ba74ed)
--+++ b/app/src/main/java/com/example/agrimart/adapter/StoreCartAdapter.java	(date 1731254209703)
--@@ -10,15 +10,16 @@
-- import androidx.recyclerview.widget.RecyclerView;
-- 
-- import com.example.agrimart.R;
---import com.example.agrimart.data.model.StoreCart;
--+import com.example.agrimart.data.model.Cart;
--+import com.example.agrimart.data.model.Product;
-- 
-- import java.util.List;
-- 
-- public class StoreCartAdapter extends RecyclerView.Adapter<StoreCartAdapter.StoreCartViewHolder> {
-- 
---    private List<StoreCart> storeCartList;
--+    private List<Cart> storeCartList;
-- 
---    public StoreCartAdapter(List<StoreCart> storeCartList) {
--+    public StoreCartAdapter(List<Cart> storeCartList) {
--         this.storeCartList = storeCartList;
--     }
-- 
--@@ -32,11 +33,12 @@
-- 
--     @Override
--     public void onBindViewHolder(@NonNull StoreCartViewHolder holder, int position) {
---        StoreCart storeCart = storeCartList.get(position);
---        holder.tvStoreName.setText(storeCart.getStoreId());
--+        Cart storeCart = storeCartList.get(position);
--+        holder.tvStoreName.setText(storeCart.getStore().getName());
-- 
--         // Cài đặt RecyclerView con cho danh sách sản phẩm
---        ProductCartAdapter productAdapter = new ProductCartAdapter((storeCart.getProducts()));
--+        List<Product> products = storeCart.getProducts(); // Giả sử `getProducts()` trả về danh sách sản phẩm
--+        ProductCartAdapter productAdapter = new ProductCartAdapter(products);
--         holder.rvProducts.setAdapter(productAdapter);
--         holder.rvProducts.setLayoutManager(new LinearLayoutManager(holder.itemView.getContext()));
--     }
--Index: app/src/main/java/com/example/agrimart/adapter/ProductCartAdapter.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.data.model.ProductCart;\r\n\r\nimport java.util.List;\r\n\r\npublic class ProductCartAdapter extends RecyclerView.Adapter<ProductCartAdapter.ProductViewHolder> {\r\n\r\n    private List<ProductCart> productList;\r\n\r\n    public ProductCartAdapter(List<ProductCart> productList) {\r\n        this.productList = productList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ProductViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.item_cart_product, parent, false);\r\n        return new ProductViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ProductViewHolder holder, int position) {\r\n        ProductCart product = productList.get(position);\r\n        holder.tvProductName.setText(product.getName());\r\n        holder.tvPrice.setText(String.format(\"%,.2f đ\", product.getPrice()));\r\n\r\n        // Set thêm các giá trị khác nếu có\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return productList.size();\r\n    }\r\n\r\n    static class ProductViewHolder extends RecyclerView.ViewHolder {\r\n        TextView tvProductName, tvPrice;\r\n\r\n        public ProductViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            tvProductName = itemView.findViewById(R.id.tv_product_name);\r\n            tvPrice = itemView.findViewById(R.id.price);\r\n        }\r\n    }\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/adapter/ProductCartAdapter.java b/app/src/main/java/com/example/agrimart/adapter/ProductCartAdapter.java
----- a/app/src/main/java/com/example/agrimart/adapter/ProductCartAdapter.java	(revision 6c06cc6d4b5c05fe0e2dc4ab0e437df3c4ba74ed)
--+++ b/app/src/main/java/com/example/agrimart/adapter/ProductCartAdapter.java	(date 1731254193259)
--@@ -10,15 +10,15 @@
-- 
-- import com.example.agrimart.R;
-- import com.example.agrimart.data.model.Product;
---import com.example.agrimart.data.model.ProductCart;
--+
-- 
-- import java.util.List;
-- 
-- public class ProductCartAdapter extends RecyclerView.Adapter<ProductCartAdapter.ProductViewHolder> {
-- 
---    private List<ProductCart> productList;
--+    private List<Product> productList;
-- 
---    public ProductCartAdapter(List<ProductCart> productList) {
--+    public ProductCartAdapter(List<Product> productList) {
--         this.productList = productList;
--     }
-- 
--@@ -32,7 +32,7 @@
-- 
--     @Override
--     public void onBindViewHolder(@NonNull ProductViewHolder holder, int position) {
---        ProductCart product = productList.get(position);
--+        Product product = productList.get(position);
--         holder.tvProductName.setText(product.getName());
--         holder.tvPrice.setText(String.format("%,.2f đ", product.getPrice()));
-- 
--Index: app/src/main/java/com/example/agrimart/data/model/StoreCart.java
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/data/model/StoreCart.java b/app/src/main/java/com/example/agrimart/data/model/StoreCart.java
--deleted file mode 100644
----- a/app/src/main/java/com/example/agrimart/data/model/StoreCart.java	(revision 6c06cc6d4b5c05fe0e2dc4ab0e437df3c4ba74ed)
--+++ /dev/null	(revision 6c06cc6d4b5c05fe0e2dc4ab0e437df3c4ba74ed)
--@@ -1,31 +0,0 @@
---package com.example.agrimart.data.model;
---
---import java.util.List;
---
---public class StoreCart {
---    private String storeId;
---    private String updatedAt;
---    private String userId;
---    private List<ProductCart> products;
---
---    public StoreCart() {
---        // Constructor rỗng
---    }
---
---    public StoreCart(String storeId, String updatedAt, String userId, List<ProductCart> products) {
---        this.storeId = storeId;
---        this.updatedAt = updatedAt;
---        this.userId = userId;
---        this.products = products;
---    }
---
---    // Getter và Setter
---    public String getStoreId() { return storeId; }
---    public void setStoreId(String storeId) { this.storeId = storeId; }
---    public String getUpdatedAt() { return updatedAt; }
---    public void setUpdatedAt(String updatedAt) { this.updatedAt = updatedAt; }
---    public String getUserId() { return userId; }
---    public void setUserId(String userId) { this.userId = userId; }
---    public List<ProductCart> getProducts() { return products; }
---    public void setProducts(List<ProductCart> products) { this.products = products; }
---}
--Index: app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.ui.Cart;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.adapter.StoreCartAdapter;\r\nimport com.example.agrimart.data.model.StoreCart;\r\nimport com.example.agrimart.viewmodel.CartFragmentViewModel;\r\n\r\nimport java.util.List;\r\n\r\npublic class CartFragment extends Fragment {\r\n    private RecyclerView rvCarts;\r\n    private StoreCartAdapter storeCartAdapter;\r\n    private CartFragmentViewModel viewModel;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_cart, container, false);\r\n\r\n        // Cập nhật màu status bar\r\n        if (getActivity() != null) {\r\n            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        // Khởi tạo RecyclerView\r\n        rvCarts = view.findViewById(R.id.rv_cart);\r\n        rvCarts.setLayoutManager(new LinearLayoutManager(requireActivity()));\r\n\r\n        // Khởi tạo ViewModel\r\n        viewModel = new CartFragmentViewModel();\r\n\r\n\r\n\r\n        // Lấy dữ liệu từ Firestore và cập nhật RecyclerView\r\n        viewModel.getStoreCartsByUserId(new CartFragmentViewModel.OnDataFetchedListener() {\r\n            @Override\r\n            public void onDataFetched(List<StoreCart> storeCarts) {\r\n                // Cập nhật RecyclerView với danh sách StoreCart\r\n                storeCartAdapter = new StoreCartAdapter(storeCarts);\r\n                rvCarts.setAdapter(storeCartAdapter);\r\n            }\r\n\r\n            @Override\r\n            public void onError(String errorMessage) {\r\n                // Xử lý lỗi nếu không lấy được dữ liệu\r\n                Toast.makeText(getContext(), errorMessage, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java b/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java
----- a/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java	(revision 6c06cc6d4b5c05fe0e2dc4ab0e437df3c4ba74ed)
--+++ b/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java	(date 1731252314958)
--@@ -13,7 +13,7 @@
-- 
-- import com.example.agrimart.R;
-- import com.example.agrimart.adapter.StoreCartAdapter;
---import com.example.agrimart.data.model.StoreCart;
--+import com.example.agrimart.data.model.Cart;
-- import com.example.agrimart.viewmodel.CartFragmentViewModel;
-- 
-- import java.util.List;
--@@ -45,7 +45,7 @@
--         // Lấy dữ liệu từ Firestore và cập nhật RecyclerView
--         viewModel.getStoreCartsByUserId(new CartFragmentViewModel.OnDataFetchedListener() {
--             @Override
---            public void onDataFetched(List<StoreCart> storeCarts) {
--+            public void onDataFetched(List<Cart> storeCarts) {
--                 // Cập nhật RecyclerView với danh sách StoreCart
--                 storeCartAdapter = new StoreCartAdapter(storeCarts);
--                 rvCarts.setAdapter(storeCartAdapter);
--Index: app/src/main/java/com/example/agrimart/data/model/Cart.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/data/model/Cart.java b/app/src/main/java/com/example/agrimart/data/model/Cart.java
--new file mode 100644
----- /dev/null	(date 1731255208237)
--+++ b/app/src/main/java/com/example/agrimart/data/model/Cart.java	(date 1731255208237)
--@@ -0,0 +1,76 @@
--+package com.example.agrimart.data.model;
--+
--+import java.util.ArrayList;
--+import java.util.List;
--+
--+public class Cart {
--+    private List<Product> products;
--+    private String storeId;
--+    private Store store;
--+    private String updated_at;
--+    private String userId;
--+
--+    // Hàm thêm sản phẩm vào StoreCart
--+    public void addProduct(Product product) {
--+        if (products == null) {
--+            products = new ArrayList<>();
--+        }
--+        products.add(product);
--+    }
--+
--+    public List<String> getProductIds() {
--+        List<String> productIds = new ArrayList<>();
--+        if (products != null) {
--+            for (Product product : products) {
--+                productIds.add(product.getProductId());
--+            }
--+        }
--+        return productIds;
--+    }
--+
--+
--+    public void setProduct(List<Product> product) {
--+
--+        this.products = product;
--+    }
--+
--+    public List<Product> getProducts() {
--+        if (products == null)
--+        {
--+            products = new ArrayList<>();
--+        }
--+        return products;
--+    }
--+
--+    public String getStoreId() {
--+        return storeId;
--+    }
--+
--+    public void setStoreId(String storeId) {
--+        this.storeId = storeId;
--+    }
--+
--+    public String getUpdated_at() {
--+        return updated_at;
--+    }
--+
--+    public void setUpdated_at(String updated_at) {
--+        this.updated_at = updated_at;
--+    }
--+
--+    public String getUserId() {
--+        return userId;
--+    }
--+
--+    public void setUserId(String userId) {
--+        this.userId = userId;
--+    }
--+
--+    public Store getStore() {
--+        return store;
--+    }
--+
--+    public void setStore(Store store) {
--+        this.store = store;
--+    }
--+}
--Index: app/src/main/res/layout/fragment_cart.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main1\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/white\"\r\n    tools:context=\"com.example.agrimart.ui.Cart.CartFragment\">\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/header\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@color/green\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_title\"\r\n            android:layout_width=\"126dp\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_gravity=\"center\"\r\n            android:layout_marginStart=\"145dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:layout_marginEnd=\"140dp\"\r\n            android:layout_marginBottom=\"8dp\"\r\n            android:gravity=\"center\"\r\n            android:text=\"GIỎ HÀNG\"\r\n            android:textSize=\"18sp\"\r\n            android:textStyle=\"bold\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/btn_delete\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_centerVertical=\"true\"\r\n            android:layout_marginEnd=\"16dp\"\r\n            android:background=\"@android:color/transparent\"\r\n            android:contentDescription=\"Remove Product\"\r\n            android:src=\"@drawable/delete\" />\r\n    </RelativeLayout>\r\n\r\n    <FrameLayout\r\n        android:id=\"@+id/container\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@+id/header\"\r\n        android:layout_above=\"@+id/footer\">\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_margin=\"10dp\"\r\n            app:cardCornerRadius=\"8dp\"\r\n            app:cardElevation=\"4dp\"\r\n            app:cardBackgroundColor=\"@android:color/white\">\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/rv_cart\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"514dp\"\r\n                android:layout_marginTop=\"10dp\" />\r\n        </androidx.cardview.widget.CardView>\r\n    </FrameLayout>\r\n\r\n    <RelativeLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_above=\"@id/footer\">\r\n        <TextView\r\n            android:id=\"@+id/tv_total_price\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"Tổng tiền: 0đ\"\r\n            android:textSize=\"18sp\"\r\n            android:textStyle=\"bold\"\r\n            android:layout_margin=\"16dp\"/>\r\n    </RelativeLayout>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/footer\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentBottom=\"true\">\r\n\r\n        <Button\r\n            android:id=\"@+id/btn_checkout\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_marginStart=\"48dp\"\r\n            android:layout_marginEnd=\"48dp\"\r\n            android:backgroundTint=\"@color/green\"\r\n            app:cornerRadius=\"24dp\"\r\n            android:text=\"Thanh toán\"/>\r\n    </RelativeLayout>\r\n\r\n</RelativeLayout>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/fragment_cart.xml b/app/src/main/res/layout/fragment_cart.xml
----- a/app/src/main/res/layout/fragment_cart.xml	(revision 6c06cc6d4b5c05fe0e2dc4ab0e437df3c4ba74ed)
--+++ b/app/src/main/res/layout/fragment_cart.xml	(date 1731255718225)
--@@ -51,7 +51,7 @@
-- 
--         <androidx.cardview.widget.CardView
--             android:layout_width="match_parent"
---            android:layout_height="wrap_content"
--+            android:layout_height="match_parent"
--             android:layout_margin="10dp"
--             app:cardCornerRadius="8dp"
--             app:cardElevation="4dp"
-Index: .idea/deploymentTargetSelector.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/.idea/deploymentTargetSelector.xml b/.idea/deploymentTargetSelector.xml
-deleted file mode 100644
---- a/.idea/deploymentTargetSelector.xml	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ /dev/null	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-@@ -1,10 +0,0 @@
--<?xml version="1.0" encoding="UTF-8"?>
--<project version="4">
--  <component name="deploymentTargetSelector">
--    <selectionStates>
--      <SelectionState runConfigName="app">
--        <option name="selectionMode" value="DROPDOWN" />
--      </SelectionState>
--    </selectionStates>
--  </component>
--</project>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_9_28_PM_[Changes]/shelved.patch
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_9_28_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_9_28_PM_[Changes]/shelved.patch
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_10_2024_9_28_PM_[Changes]/shelved.patch	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ /dev/null	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-@@ -1,792 +0,0 @@
--Index: app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.adapter.EndlessRecyclerViewScrollListener;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\nimport com.example.agrimart.viewmodel.HomeFragmentViewModel;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    private static final String TAG = \"HomeFragment\";\r\n    ImageButton btnSearch;\r\n    TextView search;\r\n    HomeFragmentViewModel viewModel;\r\n    FragmentHomeBinding binding;\r\n    EndlessRecyclerViewScrollListener scrollListener;\r\n    private int totalPages;\r\n    private int currentPage = 1;\r\n    private List<Product> products=new ArrayList<>();\r\n    private DocumentSnapshot lastVisible;\r\n    ProductAdapter productAdapter;\r\n    private boolean isLoading = false;\r\n\r\n    public HomeFragment() {\r\n\r\n    }\r\n\r\n    public static HomeFragment newInstance() {\r\n        return new HomeFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        db.collection(\"products\")\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        totalPages= (task.getResult().size()/10)+1;\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_home, container, false);\r\n        viewModel = new ViewModelProvider(this).get(HomeFragmentViewModel.class);\r\n\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding.setViewmodel(viewModel);\r\n        View view = binding.getRoot();\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getActivity().getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        viewModel.getData();\r\n        viewModel.getFirstProducts();\r\n\r\n        viewModel.categories.observe(getViewLifecycleOwner(), categories -> {\r\n            if (categories != null) {\r\n                CategoryAdapter categoryAdapter = new CategoryAdapter(categories);\r\n                binding.rvCategories.setAdapter(categoryAdapter);\r\n                binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));\r\n                Log.d(TAG, \"Categories loaded: \" + categories.size());\r\n            }\r\n        });\r\n\r\n//        viewModel.products.observe(getViewLifecycleOwner(), products -> {\r\n//            if (products != null) {\r\n//                productAdapter = new ProductAdapter(products, product -> {\r\n//                    try {\r\n//                        Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n//                        intent.putExtra(\"product\", product);\r\n//                        intent.putExtra(\"storeId\", product.getStoreId());\r\n//                        startActivity(intent);\r\n//                    } catch (Exception e) {\r\n//\r\n//                    }\r\n//                });\r\n//                GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(), 2);\r\n//                binding.rvProducts.setLayoutManager(gridLayoutManager);\r\n//                binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n//                binding.rvProducts.setAdapter(productAdapter);\r\n//\r\n//            }\r\n//        });\r\n        getFirstProducts();\r\n        productAdapter= new ProductAdapter(products, product -> {\r\n            try {\r\n                Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n                intent.putExtra(\"product\", product);\r\n                intent.putExtra(\"storeId\", product.getStoreId());\r\n                startActivity(intent);\r\n            } catch (Exception e) {\r\n\r\n            }\r\n        });\r\n        GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(), 2);\r\n        binding.rvProducts.setLayoutManager(gridLayoutManager);\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n\r\n\r\n        binding.seeAll1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                getMoreProducts();\r\n            }\r\n        });\r\n\r\n\r\n\r\n        binding.scrollView.setOnScrollChangeListener(new View.OnScrollChangeListener() {\r\n            @Override\r\n            public void onScrollChange(View view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\r\n                int scrollViewHeight = binding.scrollView.getChildAt(0).getMeasuredHeight();\r\n                int scrollViewVisibleHeight = binding.scrollView.getHeight();\r\n\r\n                if (scrollY + scrollViewVisibleHeight >= scrollViewHeight) {\r\n\r\n                    if (!isLoading) {\r\n                        isLoading = true;\r\n                        binding.seeAll1.setVisibility(View.VISIBLE);\r\n\r\n                        new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                getMoreProducts();\r\n                            }\r\n                        }, 2000);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        addControls(view);\r\n        addEvents();\r\n\r\n\r\n        return view;\r\n    }\r\n\r\n    private void addEvents() {\r\n        btnSearch.setOnClickListener(v -> {\r\n            Intent intent = new Intent(getActivity(), SearchActivity.class);\r\n            getActivity().startActivity(intent);\r\n        });\r\n\r\n        search.setOnClickListener(v -> {\r\n            Intent intent = new Intent(getContext(), SearchActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void addControls(View view) {\r\n        btnSearch = view.findViewById(R.id.search_icon);\r\n        search = view.findViewById(R.id.search_input);\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getActivity().getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n    public void getFirstProducts(){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        Query first= db.collection(\"products\")\r\n                .orderBy(\"product_id\")\r\n                .limit(10);\r\n\r\n        first.get()\r\n                .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                        List<Product> productList = queryDocumentSnapshots.toObjects(Product.class);\r\n                        products.addAll(productList);\r\n                        productAdapter.notifyDataSetChanged();\r\n\r\n                        lastVisible=queryDocumentSnapshots.getDocuments()\r\n                                .get(queryDocumentSnapshots.size()-1);\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void getMoreProducts(){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        Query next= db.collection(\"products\")\r\n                .orderBy(\"product_id\")\r\n                .startAfter(lastVisible)\r\n                .limit(10);\r\n\r\n        next.get()\r\n                .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n\r\n                        List<Product> newList = queryDocumentSnapshots.toObjects(Product.class);\r\n\r\n                        products.addAll(newList);\r\n                        productAdapter.notifyDataSetChanged();\r\n                        isLoading=false;\r\n\r\n                        if(!newList.isEmpty()){\r\n                            lastVisible=queryDocumentSnapshots.getDocuments()\r\n                                    .get(queryDocumentSnapshots.size()-1);\r\n                        }\r\n                        currentPage+=1;\r\n                        if(currentPage==totalPages){\r\n                            binding.seeAll1.setVisibility(View.GONE);\r\n                        }\r\n\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
----- a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(revision a3cdf937850f3e876b8c4b346f23b1d458484b02)
--+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(date 1731081251319)
--@@ -140,12 +140,7 @@
--         binding.rvProducts.setAdapter(productAdapter);
-- 
-- 
---        binding.seeAll1.setOnClickListener(new View.OnClickListener() {
---            @Override
---            public void onClick(View view) {
---                getMoreProducts();
---            }
---        });
--+
-- 
-- 
-- 
--@@ -246,6 +241,7 @@
--                         if(currentPage==totalPages){
--                             binding.seeAll1.setVisibility(View.GONE);
--                         }
--+                        binding.seeAll1.setVisibility(View.GONE);
-- 
--                     }
--                 });
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml	(revision a3cdf937850f3e876b8c4b346f23b1d458484b02)
--+++ /dev/null	(revision a3cdf937850f3e876b8c4b346f23b1d458484b02)
--@@ -1,9 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]" date="1730455722172" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/1/2024 5:08 PM [Changes]" />
---  <binary>
---    <option name="BEFORE_PATH" />
---    <option name="AFTER_PATH" value="app/src/main/res/drawable/email.png" />
---    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/email.png" />
---  </binary>
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch	(revision a3cdf937850f3e876b8c4b346f23b1d458484b02)
--+++ /dev/null	(revision a3cdf937850f3e876b8c4b346f23b1d458484b02)
--@@ -1,736 +0,0 @@
---Index: app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.app.Application;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.lifecycle.AndroidViewModel;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class SignUpViewModel extends AndroidViewModel {\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseFirestore firestore;\r\n    private MutableLiveData<Boolean> signUpSuccess;\r\n    private MutableLiveData<Boolean> emailVerificationSent;\r\n\r\n    public SignUpViewModel(@NonNull Application application) {\r\n        super(application);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        firestore = FirebaseFirestore.getInstance();\r\n        signUpSuccess = new MutableLiveData<>();\r\n        emailVerificationSent = new MutableLiveData<>();\r\n    }\r\n\r\n    public MutableLiveData<Boolean> getSignUpSuccess() {\r\n        return signUpSuccess;\r\n    }\r\n\r\n    public MutableLiveData<Boolean> getEmailVerificationSent() {\r\n        return emailVerificationSent;\r\n    }\r\n\r\n    public void signUpWithEmail(String email, String password) {\r\n        mAuth.createUserWithEmailAndPassword(email, password)\r\n            .addOnCompleteListener(task -> {\r\n                if (task.isSuccessful()) {\r\n                    FirebaseUser user = mAuth.getCurrentUser();\r\n                    if (user != null) {\r\n                        sendEmailVerification(user);\r\n                    }\r\n                    signUpSuccess.setValue(true);\r\n                } else {\r\n                    signUpSuccess.setValue(false);\r\n                }\r\n            });\r\n    }\r\n\r\n    public void sendEmailVerification(FirebaseUser user) { // Changed to public\r\n        user.sendEmailVerification()\r\n            .addOnCompleteListener(task -> {\r\n                if (task.isSuccessful()) {\r\n                    emailVerificationSent.setValue(true);\r\n                } else {\r\n                    emailVerificationSent.setValue(false);\r\n                }\r\n            });\r\n    }\r\n\r\n    public void saveUserToFirestore(FirebaseUser firebaseUser) {\r\n        firestore.collection(\"users\").document(firebaseUser.getUid())\r\n            .get()\r\n            .addOnSuccessListener(documentSnapshot -> {\r\n                String role = \"customer\";\r\n                if (documentSnapshot.exists() && documentSnapshot.contains(\"role\")) {\r\n                    role = documentSnapshot.getString(\"role\");\r\n                }\r\n\r\n                Map<String, Object> userMap = new HashMap<>();\r\n                userMap.put(\"userId\", firebaseUser.getUid());\r\n                userMap.put(\"role\", role);\r\n                if (firebaseUser.getDisplayName() != null) {\r\n                    userMap.put(\"fullName\", firebaseUser.getDisplayName());\r\n                }\r\n                if (firebaseUser.getEmail() != null) {\r\n                    userMap.put(\"email\", firebaseUser.getEmail());\r\n                }\r\n                if (firebaseUser.getPhoneNumber() != null) {\r\n                    userMap.put(\"phoneNumber\", firebaseUser.getPhoneNumber());\r\n                }\r\n                userMap.put(\"createdAt\", new Date());\r\n                userMap.put(\"updatedAt\", new Date());\r\n\r\n                firestore.collection(\"users\").document(firebaseUser.getUid())\r\n                    .set(userMap)\r\n                    .addOnSuccessListener(aVoid -> {\r\n                    })\r\n                    .addOnFailureListener(e -> {\r\n                    });\r\n            })\r\n            .addOnFailureListener(e -> {\r\n            });\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java
------ a/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java	(date 1730453351683)
---@@ -1,10 +1,13 @@
--- package com.example.agrimart.viewmodel;
--- 
--- import android.app.Application;
---+import android.widget.Toast;
---+
--- import androidx.annotation.NonNull;
--- import androidx.lifecycle.AndroidViewModel;
--- import androidx.lifecycle.MutableLiveData;
--- import com.google.firebase.auth.FirebaseAuth;
---+import com.google.firebase.auth.FirebaseAuthUserCollisionException;
--- import com.google.firebase.auth.FirebaseUser;
--- import com.google.firebase.firestore.FirebaseFirestore;
--- 
---@@ -34,64 +37,68 @@
---         return emailVerificationSent;
---     }
--- 
----    public void signUpWithEmail(String email, String password) {
---+    public void signUpWithEmail(String email, String password, String fullName) {
---         mAuth.createUserWithEmailAndPassword(email, password)
----            .addOnCompleteListener(task -> {
----                if (task.isSuccessful()) {
----                    FirebaseUser user = mAuth.getCurrentUser();
----                    if (user != null) {
----                        sendEmailVerification(user);
----                    }
----                    signUpSuccess.setValue(true);
----                } else {
----                    signUpSuccess.setValue(false);
----                }
----            });
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        FirebaseUser user = mAuth.getCurrentUser();
---+                        if (user != null) {
---+                            sendEmailVerification(user);
---+                            saveUserToFirestore(user, fullName);
---+                        }
---+                        signUpSuccess.setValue(true);
---+                    } else {
---+                        if (task.getException() instanceof FirebaseAuthUserCollisionException) {
---+                            Toast.makeText(getApplication(), "Email đã tồn tại", Toast.LENGTH_SHORT).show();
---+                        } else {
---+                            signUpSuccess.setValue(false);
---+                        }
---+                    }
---+                });
---     }
--- 
----    public void sendEmailVerification(FirebaseUser user) { // Changed to public
---+    public void sendEmailVerification(FirebaseUser user) {
---         user.sendEmailVerification()
----            .addOnCompleteListener(task -> {
----                if (task.isSuccessful()) {
----                    emailVerificationSent.setValue(true);
----                } else {
----                    emailVerificationSent.setValue(false);
----                }
----            });
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        emailVerificationSent.setValue(true);
---+                    } else {
---+                        emailVerificationSent.setValue(false);
---+                    }
---+                });
---     }
--- 
----    public void saveUserToFirestore(FirebaseUser firebaseUser) {
---+    public void saveUserToFirestore(FirebaseUser firebaseUser, String fullName) {
---         firestore.collection("users").document(firebaseUser.getUid())
----            .get()
----            .addOnSuccessListener(documentSnapshot -> {
----                String role = "customer";
----                if (documentSnapshot.exists() && documentSnapshot.contains("role")) {
----                    role = documentSnapshot.getString("role");
----                }
---+                .get()
---+                .addOnSuccessListener(documentSnapshot -> {
---+                    String role = "customer";
---+                    if (documentSnapshot.exists() && documentSnapshot.contains("role")) {
---+                        role = documentSnapshot.getString("role");
---+                    }
--- 
----                Map<String, Object> userMap = new HashMap<>();
----                userMap.put("userId", firebaseUser.getUid());
----                userMap.put("role", role);
----                if (firebaseUser.getDisplayName() != null) {
----                    userMap.put("fullName", firebaseUser.getDisplayName());
----                }
----                if (firebaseUser.getEmail() != null) {
----                    userMap.put("email", firebaseUser.getEmail());
----                }
----                if (firebaseUser.getPhoneNumber() != null) {
----                    userMap.put("phoneNumber", firebaseUser.getPhoneNumber());
----                }
----                userMap.put("createdAt", new Date());
----                userMap.put("updatedAt", new Date());
---+                    Map<String, Object> userMap = new HashMap<>();
---+                    userMap.put("userId", firebaseUser.getUid());
---+                    userMap.put("role", role);
---+                    userMap.put("fullName", fullName);
---+                    if (firebaseUser.getEmail() != null) {
---+                        userMap.put("email", firebaseUser.getEmail());
---+                    }
---+                    if (firebaseUser.getPhoneNumber() != null) {
---+                        userMap.put("phoneNumber", firebaseUser.getPhoneNumber());
---+                    }
---+                    userMap.put("createdAt", new Date());
---+                    userMap.put("updatedAt", new Date());
--- 
----                firestore.collection("users").document(firebaseUser.getUid())
----                    .set(userMap)
----                    .addOnSuccessListener(aVoid -> {
----                    })
----                    .addOnFailureListener(e -> {
----                    });
----            })
----            .addOnFailureListener(e -> {
----            });
---+                    firestore.collection("users").document(firebaseUser.getUid())
---+                            .set(userMap)
---+                            .addOnSuccessListener(aVoid -> {
---+                            })
---+                            .addOnFailureListener(e -> {
---+                            });
---+                })
---+                .addOnFailureListener(e -> {
---+                });
---     }
---+
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/utils/Valid.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.utils;\r\n\r\nimport android.widget.TextView;\r\nimport android.util.Patterns;\r\n\r\npublic class Valid {\r\n    public static boolean isValidEmail(String email) {\r\n        return !email.isEmpty() && Patterns.EMAIL_ADDRESS.matcher(email).matches();\r\n    }\r\n\r\n    public static boolean isValidPassword(String password) {\r\n        return !password.isEmpty() && password.length() >= 8 && password.matches(\".*[A-Z].*\") && password.matches(\".*\\\\d.*\");\r\n    }\r\n\r\n    public static boolean isValidName(String name) {\r\n        return !name.isEmpty() && name.length() >= 3 && !name.matches(\".*\\\\d.*\");\r\n    }\r\n\r\n    public static boolean validateInputs(String email, String password, String name, TextView tvEmailError, TextView tvPasswordError, TextView tvNameError) {\r\n        boolean isValid = true;\r\n\r\n        if (!isValidEmail(email)) {\r\n            tvEmailError.setText(\"Email không hợp lệ\");\r\n            isValid = false;\r\n        } else {\r\n            tvEmailError.setText(\"\");\r\n        }\r\n\r\n        if (!isValidPassword(password)) {\r\n            tvPasswordError.setText(\"Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa và số\");\r\n            isValid = false;\r\n        } else {\r\n            tvPasswordError.setText(\"\");\r\n        }\r\n\r\n        if (!isValidName(name)) {\r\n            tvNameError.setText(\"Tên phải có ít nhất 3 ký tự và không được chứa số\");\r\n            isValid = false;\r\n        } else {\r\n            tvNameError.setText(\"\");\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/utils/Valid.java b/app/src/main/java/com/example/agrimart/utils/Valid.java
------ a/app/src/main/java/com/example/agrimart/utils/Valid.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/utils/Valid.java	(date 1730455032461)
---@@ -16,30 +16,7 @@
---         return !name.isEmpty() && name.length() >= 3 && !name.matches(".*\\d.*");
---     }
--- 
----    public static boolean validateInputs(String email, String password, String name, TextView tvEmailError, TextView tvPasswordError, TextView tvNameError) {
----        boolean isValid = true;
----
----        if (!isValidEmail(email)) {
----            tvEmailError.setText("Email không hợp lệ");
----            isValid = false;
----        } else {
----            tvEmailError.setText("");
----        }
----
----        if (!isValidPassword(password)) {
----            tvPasswordError.setText("Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa và số");
----            isValid = false;
----        } else {
----            tvPasswordError.setText("");
----        }
----
----        if (!isValidName(name)) {
----            tvNameError.setText("Tên phải có ít nhất 3 ký tự và không được chứa số");
----            isValid = false;
----        } else {
----            tvNameError.setText("");
----        }
----
----        return isValid;
----    }
----}
---\ No newline at end of file
---+    public static boolean isPasswordMatching(String password, String confirmPassword) {
---+        return password.equals(confirmPassword);
---+    }
---+}
---Index: app/src/main/res/layout/activity_forgot_password.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main1\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/white\"\r\n    tools:context=\".ui.Account.ForgotPasswordActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:background=\"@color/white\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.077\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        style=\"@style/title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"96dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"Đặt lại mật khẩu\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.15\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"30dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n        app:boxBackgroundColor=\"@color/white\"\r\n        app:startIconDrawable=\"@drawable/telephone\"\r\n        app:boxBackgroundMode=\"outline\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"Nhập số điện thoại của bạn\"\r\n            android:inputType=\"phone\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_continue\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"36dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"Tiếp tục\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.905\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/activity_forgot_password.xml b/app/src/main/res/layout/activity_forgot_password.xml
------ a/app/src/main/res/layout/activity_forgot_password.xml	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/res/layout/activity_forgot_password.xml	(date 1730450605012)
---@@ -45,16 +45,16 @@
---         app:layout_constraintStart_toStartOf="parent"
---         app:layout_constraintTop_toBottomOf="@+id/textView2"
---         app:boxBackgroundColor="@color/white"
----        app:startIconDrawable="@drawable/telephone"
---+        app:startIconDrawable="@drawable/email"
---         app:boxBackgroundMode="outline">
--- 
---         <com.google.android.material.textfield.TextInputEditText
----            android:id="@+id/edtPhoneNumber"
---+            android:id="@+id/edtEmail"
---             android:layout_width="match_parent"
---             android:layout_height="wrap_content"
---             android:background="@null"
----            android:hint="Nhập số điện thoại của bạn"
----            android:inputType="phone" />
---+            android:hint="Nhập email của bạn"
---+            android:inputType="textEmailAddress" />
---     </com.google.android.material.textfield.TextInputLayout>
--- 
---     <Button
---Index: app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\n\r\nimport com.example.agrimart.R;\r\n\r\npublic class ForgotPasswordActivity extends AppCompatActivity {\r\n    Button btnContinue;\r\n    ImageButton btnBack;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_forgot_password);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        addControls();\r\n        addEvents();\r\n    }\r\n\r\n    public void addControls() {\r\n        btnContinue = findViewById(R.id.btn_continue);\r\n        btnBack = findViewById(R.id.btn_back);\r\n    }\r\n\r\n    public void addEvents() {\r\n        btnContinue.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(ForgotPasswordActivity.this, EnterOTPActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        btnBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java	(date 1730438788971)
---@@ -4,7 +4,9 @@
--- import android.os.Bundle;
--- import android.view.View;
--- import android.widget.Button;
---+import android.widget.EditText;
--- import android.widget.ImageButton;
---+import android.widget.Toast;
--- 
--- import androidx.activity.EdgeToEdge;
--- import androidx.appcompat.app.AppCompatActivity;
---@@ -13,10 +15,13 @@
--- import androidx.core.view.WindowInsetsCompat;
--- 
--- import com.example.agrimart.R;
---+import com.google.firebase.auth.FirebaseAuth;
--- 
--- public class ForgotPasswordActivity extends AppCompatActivity {
---     Button btnContinue;
---     ImageButton btnBack;
---+    EditText edtEmail;
---+    private FirebaseAuth mAuth;
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---         super.onCreate(savedInstanceState);
---@@ -27,7 +32,7 @@
---             v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
---             return insets;
---         });
----
---+        mAuth = FirebaseAuth.getInstance();
---     }
--- 
---     @Override
---@@ -40,14 +45,20 @@
---     public void addControls() {
---         btnContinue = findViewById(R.id.btn_continue);
---         btnBack = findViewById(R.id.btn_back);
---+        edtEmail = findViewById(R.id.edtEmail);
---     }
--- 
---     public void addEvents() {
---         btnContinue.setOnClickListener(new View.OnClickListener() {
---             @Override
---             public void onClick(View v) {
----                Intent intent = new Intent(ForgotPasswordActivity.this, EnterOTPActivity.class);
----                startActivity(intent);
---+                String email = edtEmail.getText().toString().trim();
---+                if (email.isEmpty()) {
---+                    Toast.makeText(ForgotPasswordActivity.this, "Hãy nhập email của bạn", Toast.LENGTH_SHORT).show();
---+                } else {
---+                    sendPasswordResetEmail(email);
---+                    finish();
---+                }
---             }
---         });
---         btnBack.setOnClickListener(new View.OnClickListener() {
---@@ -59,5 +70,15 @@
--- 
---     }
--- 
---+    private void sendPasswordResetEmail(String email) {
---+        mAuth.sendPasswordResetEmail(email)
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        Toast.makeText(ForgotPasswordActivity.this, "Email đặt lại mật khẩu đã được gửi", Toast.LENGTH_SHORT).show();
---+                    } else {
---+                        Toast.makeText(ForgotPasswordActivity.this, "Gửi email thất bại", Toast.LENGTH_SHORT).show();
---+                    }
---+                });
---+    }
--- 
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.utils.Valid;\r\nimport com.example.agrimart.viewmodel.SignUpViewModel;\r\n\r\npublic class SignUpActivity extends AppCompatActivity {\r\n    private EditText edtEmail, edtPassword, edtName;\r\n    private TextView tvEmailError, tvPasswordError, tvNameError;\r\n    private Button btnSignUp;\r\n    private ImageButton btnBack;\r\n    private TextView tvHaveAccount;\r\n    private ProgressBar progressBar;\r\n\r\n    private SignUpViewModel viewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_up);\r\n\r\n        initViews();\r\n        initViewModel();\r\n    }\r\n\r\n    private void initViews() {\r\n        edtEmail = findViewById(R.id.edtEmail);\r\n        edtPassword = findViewById(R.id.edtPassword);\r\n        edtName = findViewById(R.id.edtUsername);\r\n        tvEmailError = findViewById(R.id.tvEmailError);\r\n        tvPasswordError = findViewById(R.id.tvPasswordError);\r\n        tvNameError = findViewById(R.id.tvNameError);\r\n        btnSignUp = findViewById(R.id.btn_signin);\r\n        btnBack = findViewById(R.id.btn_back);\r\n        tvHaveAccount = findViewById(R.id.haveAccount);\r\n        progressBar = findViewById(R.id.progressBar);\r\n    }\r\n\r\n    private void initViewModel() {\r\n        viewModel = new ViewModelProvider(this).get(SignUpViewModel.class);\r\n\r\n        viewModel.getSignUpSuccess().observe(this, success -> {\r\n            if (success) {\r\n                Toast.makeText(this, \"Đăng ký thành công. Vui lòng kiểm tra email để xác nhận tài khoản.\", Toast.LENGTH_SHORT).show();\r\n                startActivity(new Intent(SignUpActivity.this, VerifyActivity.class));\r\n                finish();\r\n            } else {\r\n                Toast.makeText(this, \"Lỗi khi đăng ký\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        viewModel.getEmailVerificationSent().observe(this, sent -> {\r\n            if (sent) {\r\n                Toast.makeText(this, \"Mail xác nhận đã được gửi đến email của bạn\", Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, \"Lỗi khi gửi mail\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        btnSignUp.setOnClickListener(v -> {\r\n            String email = edtEmail.getText().toString().trim();\r\n            String password = edtPassword.getText().toString().trim();\r\n            String name = edtName.getText().toString().trim();\r\n            if (Valid.validateInputs(email, password, name, tvEmailError, tvPasswordError, tvNameError)) {\r\n                viewModel.signUpWithEmail(email, password);\r\n            } else {\r\n                Toast.makeText(this, \"Thông tin không hợp lệ\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        tvHaveAccount.setOnClickListener(v -> {\r\n            Intent intent = new Intent(SignUpActivity.this, SignInActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        btnBack.setOnClickListener(v -> finish());\r\n    }\r\n}\r\n
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java	(date 1730455099523)
---@@ -2,6 +2,8 @@
--- 
--- import android.content.Intent;
--- import android.os.Bundle;
---+import android.util.Patterns;
---+import android.view.View;
--- import android.widget.Button;
--- import android.widget.EditText;
--- import android.widget.ImageButton;
---@@ -17,8 +19,8 @@
--- import com.example.agrimart.viewmodel.SignUpViewModel;
--- 
--- public class SignUpActivity extends AppCompatActivity {
----    private EditText edtEmail, edtPassword, edtName;
----    private TextView tvEmailError, tvPasswordError, tvNameError;
---+    private EditText edtEmail, edtPassword, edtName, edtConfirmPassword;
---+    private TextView tvEmailError, tvPasswordError, tvNameError, tvConfirmPasswordError;
---     private Button btnSignUp;
---     private ImageButton btnBack;
---     private TextView tvHaveAccount;
---@@ -31,24 +33,26 @@
---         super.onCreate(savedInstanceState);
---         setContentView(R.layout.activity_sign_up);
--- 
----        initViews();
----        initViewModel();
---+        addControls();
---+        addEvents();
---     }
--- 
----    private void initViews() {
---+    private void addControls() {
---         edtEmail = findViewById(R.id.edtEmail);
---         edtPassword = findViewById(R.id.edtPassword);
---         edtName = findViewById(R.id.edtUsername);
---+        edtConfirmPassword = findViewById(R.id.edtConfirmPassword);
---         tvEmailError = findViewById(R.id.tvEmailError);
---         tvPasswordError = findViewById(R.id.tvPasswordError);
---         tvNameError = findViewById(R.id.tvNameError);
---+        tvConfirmPasswordError = findViewById(R.id.tvConfirmPasswordError);
---         btnSignUp = findViewById(R.id.btn_signin);
---         btnBack = findViewById(R.id.btn_back);
---         tvHaveAccount = findViewById(R.id.haveAccount);
---         progressBar = findViewById(R.id.progressBar);
---     }
--- 
----    private void initViewModel() {
---+    private void addEvents() {
---         viewModel = new ViewModelProvider(this).get(SignUpViewModel.class);
--- 
---         viewModel.getSignUpSuccess().observe(this, success -> {
---@@ -61,20 +65,14 @@
---             }
---         });
--- 
----        viewModel.getEmailVerificationSent().observe(this, sent -> {
----            if (sent) {
----                Toast.makeText(this, "Mail xác nhận đã được gửi đến email của bạn", Toast.LENGTH_SHORT).show();
----            } else {
----                Toast.makeText(this, "Lỗi khi gửi mail", Toast.LENGTH_SHORT).show();
----            }
----        });
----
---         btnSignUp.setOnClickListener(v -> {
----            String email = edtEmail.getText().toString().trim();
----            String password = edtPassword.getText().toString().trim();
----            String name = edtName.getText().toString().trim();
----            if (Valid.validateInputs(email, password, name, tvEmailError, tvPasswordError, tvNameError)) {
----                viewModel.signUpWithEmail(email, password);
---+            if (validateInputs()) {
---+                progressBar.setVisibility(View.VISIBLE);
---+                String email = edtEmail.getText().toString().trim();
---+                String password = edtPassword.getText().toString().trim();
---+                String name = edtName.getText().toString().trim();
---+
---+                viewModel.signUpWithEmail(email, password, name);
---             } else {
---                 Toast.makeText(this, "Thông tin không hợp lệ", Toast.LENGTH_SHORT).show();
---             }
---@@ -87,4 +85,61 @@
--- 
---         btnBack.setOnClickListener(v -> finish());
---     }
---+
---+    private boolean validateInputs() {
---+        boolean isValid = true;
---+
---+        tvEmailError.setVisibility(View.GONE);
---+        tvPasswordError.setVisibility(View.GONE);
---+        tvNameError.setVisibility(View.GONE);
---+        tvConfirmPasswordError.setVisibility(View.GONE);
---+
---+        String email = edtEmail.getText().toString().trim();
---+        String password = edtPassword.getText().toString().trim();
---+        String confirmPassword = edtConfirmPassword.getText().toString().trim();
---+        String name = edtName.getText().toString().trim();
---+
---+        if (email.isEmpty()) {
---+            tvEmailError.setText("Email không được để trống");
---+            tvEmailError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (!Patterns.EMAIL_ADDRESS.matcher(email).matches()) {
---+            tvEmailError.setText("Email không hợp lệ");
---+            tvEmailError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        if (password.isEmpty()) {
---+            tvPasswordError.setText("Mật khẩu không được để trống");
---+            tvPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (password.length() < 8 || !password.matches(".*[A-Z].*") || !password.matches(".*\\d.*")) {
---+            tvPasswordError.setText("Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa và số");
---+            tvPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        if (confirmPassword.isEmpty()) {
---+            tvConfirmPasswordError.setText("Không được để trống");
---+            tvConfirmPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (!confirmPassword.equals(password)) {
---+            tvConfirmPasswordError.setText("Mật khẩu xác nhận không khớp");
---+            tvConfirmPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        if (name.isEmpty()) {
---+            tvNameError.setText("Tên không được để trống");
---+            tvNameError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (name.length() < 3 || name.matches(".*\\d.*")) {
---+            tvNameError.setText("Tên phải có ít nhất 3 ký tự và không được chứa số");
---+            tvNameError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        return isValid;
---+    }
---+
--- }
---Index: app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.MainActivity;\r\nimport com.example.agrimart.viewmodel.SignInViewModel;\r\nimport com.facebook.AccessToken;\r\nimport com.facebook.CallbackManager;\r\nimport com.facebook.FacebookCallback;\r\nimport com.facebook.FacebookException;\r\nimport com.facebook.FacebookSdk;\r\nimport com.facebook.login.LoginManager;\r\nimport com.facebook.login.LoginResult;\r\nimport com.facebook.login.widget.LoginButton;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.auth.FacebookAuthProvider;\r\nimport com.google.firebase.auth.GoogleAuthProvider;\r\n\r\npublic class SignInActivity extends AppCompatActivity {\r\n    private static final String TAG = \"SignInActivity\";\r\n    private SignInViewModel signInViewModel;\r\n    private ActivityResultLauncher<Intent> googleSignInLauncher;\r\n    private GoogleSignInOptions gso;\r\n    private SharedPreferences sharedPreferences;\r\n    private FirebaseAuth mAuth;\r\n    private CallbackManager callbackManager;\r\n\r\n    private TextView tvDonthaveAccount;\r\n    private TextView forgotPass;\r\n    private Button btnSignIn;\r\n    private Button btnSignInGoogle, btnSignInFacebook;\r\n    private TextView edtEmail, edtPassword;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_in);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        sharedPreferences = getSharedPreferences(\"user_prefs\", MODE_PRIVATE);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        if (sharedPreferences.getBoolean(\"is_logged_in\", false)) {\r\n            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n            if (currentUser != null) {\r\n                navigateToMain();\r\n                return;\r\n            }\r\n        }\r\n\r\n        signInViewModel = new ViewModelProvider(this).get(SignInViewModel.class);\r\n\r\n        gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n            .requestIdToken(getString(R.string.default_web_client_id))\r\n            .requestEmail()\r\n            .build();\r\n\r\n        googleSignInLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            result -> {\r\n                if (result.getResultCode() == RESULT_OK) {\r\n                    Intent data = result.getData();\r\n                    Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n                    try {\r\n                        GoogleSignInAccount account = task.getResult(ApiException.class);\r\n                        handleGoogleAccessToken(account);\r\n                    } catch (ApiException e) {\r\n                        Toast.makeText(this, \"Đăng nhập thất bại\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } else {\r\n                    Toast.makeText(this, \"Đăng nhập bị từ chối\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\n        FacebookSdk.sdkInitialize(getApplicationContext());\r\n        callbackManager = CallbackManager.Factory.create();\r\n\r\n        addControls();\r\n        addEvents();\r\n    }\r\n\r\n    public void addControls() {\r\n        tvDonthaveAccount = findViewById(R.id.dontHaveAccount);\r\n        forgotPass = findViewById(R.id.forgotPassword);\r\n        btnSignIn = findViewById(R.id.btnSignIn);\r\n        btnSignInGoogle = findViewById(R.id.btnSignInGoogle);\r\n        edtEmail = findViewById(R.id.edtEmail);\r\n        edtPassword = findViewById(R.id.edtPassword);\r\n        btnSignInFacebook = findViewById(R.id.btnSignInFacebook);\r\n    }\r\n\r\n    public void addEvents() {\r\n        tvDonthaveAccount.setOnClickListener(v -> {\r\n            Intent intent = new Intent(SignInActivity.this, SignUpActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        forgotPass.setOnClickListener(v -> {\r\n            Intent intent = new Intent(SignInActivity.this, ForgotPasswordActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        btnSignIn.setOnClickListener(v -> {\r\n            String email = edtEmail.getText().toString().trim();\r\n            String password = edtPassword.getText().toString().trim();\r\n            if (!email.isEmpty() && !password.isEmpty()) {\r\n                signInViewModel.signInWithEmail(email, password, this::navigateToMain);\r\n            } else {\r\n                Toast.makeText(SignInActivity.this, \"Email hoặc mật khẩu không hợp lệ\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        btnSignInGoogle.setOnClickListener(v -> {\r\n            Intent signInIntent = GoogleSignIn.getClient(this, gso).getSignInIntent();\r\n            googleSignInLauncher.launch(signInIntent);\r\n        });\r\n\r\n        btnSignInFacebook.setOnClickListener(v -> {\r\n            LoginButton loginButton = new LoginButton(this);\r\n            loginButton.setPermissions(\"email\", \"public_profile\");\r\n            loginButton.registerCallback(callbackManager, new FacebookCallback<LoginResult>() {\r\n                @Override\r\n                public void onSuccess(LoginResult loginResult) {\r\n                    handleFacebookAccessToken(loginResult.getAccessToken());\r\n                }\r\n\r\n                @Override\r\n                public void onCancel() {\r\n                    Toast.makeText(SignInActivity.this, \"Facebook login canceled\", Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                @Override\r\n                public void onError(FacebookException error) {\r\n                    Toast.makeText(SignInActivity.this, \"Facebook login failed\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n            loginButton.performClick();\r\n        });\r\n    }\r\n\r\n    private boolean isUserDataExists() {\r\n        String email = sharedPreferences.getString(\"user_email\", null);\r\n        return email != null;\r\n    }\r\n\r\n    private void saveUserData(FirebaseUser user) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"user_email\", user.getEmail());\r\n        editor.putString(\"user_name\", user.getDisplayName());\r\n        editor.apply();\r\n    }\r\n\r\n    private void handleGoogleAccessToken(GoogleSignInAccount account) {\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(account.getIdToken(), null);\r\n        signInViewModel.signInWithGoogle(credential, () -> {\r\n            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n            if (user != null) {\r\n                if (!isUserDataExists()) {\r\n                    saveUserData(user);\r\n                }\r\n                setLoginState(true);\r\n            } else {\r\n            }\r\n            navigateToMain();\r\n        });\r\n    }\r\n\r\nprivate void handleFacebookAccessToken(AccessToken token) {\r\n    AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());\r\n    signInViewModel.signInWithFacebook(credential, () -> {\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (user != null) {\r\n            if (!isUserDataExists()) {\r\n                saveUserData(user);\r\n            }\r\n            setLoginState(true);\r\n        } else {\r\n            Log.w(TAG, \"Facebook login successful but user is null\");\r\n        }\r\n        navigateToMain();\r\n    });\r\n}\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        callbackManager.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n    private void navigateToMain() {\r\n        Intent intent = new Intent(SignInActivity.this, MainActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    public void signOutFromFacebook() {\r\n    LoginManager.getInstance().logOut();\r\n    FirebaseAuth.getInstance().signOut();\r\n    setLoginState(false);\r\n    navigateToSignIn();\r\n}\r\n\r\n    private void navigateToSignIn() {\r\n        Intent intent = new Intent(SignInActivity.this, SignInActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    private void setLoginState(boolean isLoggedIn) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putBoolean(\"is_logged_in\", isLoggedIn);\r\n        editor.apply();\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java	(date 1730455530347)
---@@ -77,26 +77,26 @@
---         signInViewModel = new ViewModelProvider(this).get(SignInViewModel.class);
--- 
---         gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)
----            .requestIdToken(getString(R.string.default_web_client_id))
----            .requestEmail()
----            .build();
---+                .requestIdToken(getString(R.string.default_web_client_id))
---+                .requestEmail()
---+                .build();
--- 
---         googleSignInLauncher = registerForActivityResult(
----            new ActivityResultContracts.StartActivityForResult(),
----            result -> {
----                if (result.getResultCode() == RESULT_OK) {
----                    Intent data = result.getData();
----                    Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);
----                    try {
----                        GoogleSignInAccount account = task.getResult(ApiException.class);
----                        handleGoogleAccessToken(account);
----                    } catch (ApiException e) {
----                        Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
----                    }
----                } else {
----                    Toast.makeText(this, "Đăng nhập bị từ chối", Toast.LENGTH_SHORT).show();
----                }
----            });
---+                new ActivityResultContracts.StartActivityForResult(),
---+                result -> {
---+                    if (result.getResultCode() == RESULT_OK) {
---+                        Intent data = result.getData();
---+                        Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);
---+                        try {
---+                            GoogleSignInAccount account = task.getResult(ApiException.class);
---+                            handleGoogleAccessToken(account);
---+                        } catch (ApiException e) {
---+                            Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---+                        }
---+                    } else {
---+                        Toast.makeText(this, "Đăng nhập bị từ chối", Toast.LENGTH_SHORT).show();
---+                    }
---+                });
--- 
---         FacebookSdk.sdkInitialize(getApplicationContext());
---         callbackManager = CallbackManager.Factory.create();
---@@ -130,7 +130,7 @@
---             String email = edtEmail.getText().toString().trim();
---             String password = edtPassword.getText().toString().trim();
---             if (!email.isEmpty() && !password.isEmpty()) {
----                signInViewModel.signInWithEmail(email, password, this::navigateToMain);
---+                signInViewModel.signInWithEmail(email, password, () -> checkEmailVerification(true));
---             } else {
---                 Toast.makeText(SignInActivity.this, "Email hoặc mật khẩu không hợp lệ", Toast.LENGTH_SHORT).show();
---             }
---@@ -148,22 +148,40 @@
---                 @Override
---                 public void onSuccess(LoginResult loginResult) {
---                     handleFacebookAccessToken(loginResult.getAccessToken());
---+                    Toast.makeText(SignInActivity.this, "Đăng nhập thành công", Toast.LENGTH_SHORT).show();
---                 }
--- 
---                 @Override
---                 public void onCancel() {
----                    Toast.makeText(SignInActivity.this, "Facebook login canceled", Toast.LENGTH_SHORT).show();
---+                    Toast.makeText(SignInActivity.this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---                 }
--- 
---                 @Override
---                 public void onError(FacebookException error) {
----                    Toast.makeText(SignInActivity.this, "Facebook login failed", Toast.LENGTH_SHORT).show();
---+                    Toast.makeText(SignInActivity.this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---                 }
---             });
---             loginButton.performClick();
---         });
---     }
--- 
---+    private void checkEmailVerification(boolean isEmailSignIn) {
---+        FirebaseUser user = mAuth.getCurrentUser();
---+        if (user != null) {
---+            if (!isEmailSignIn || user.isEmailVerified()) {
---+                navigateToMain();
---+            } else {
---+                Toast.makeText(SignInActivity.this, "Vui lòng xác thực email của bạn trước khi đăng nhập", Toast.LENGTH_SHORT).show();
---+                signOut();
---+            }
---+        }
---+    }
---+
---+    private void signOut() {
---+        mAuth.signOut();
---+        setLoginState(false);
---+    }
---+
---     private boolean isUserDataExists() {
---         String email = sharedPreferences.getString("user_email", null);
---         return email != null;
---@@ -183,29 +201,30 @@
---             if (user != null) {
---                 if (!isUserDataExists()) {
---                     saveUserData(user);
---+                    Toast.makeText(this, "Đăng nhập thành công", Toast.LENGTH_SHORT).show();
---                 }
----                setLoginState(true);
---+                checkEmailVerification(false);
---             } else {
---+                Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---             }
----            navigateToMain();
---         });
---     }
--- 
----private void handleFacebookAccessToken(AccessToken token) {
----    AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());
----    signInViewModel.signInWithFacebook(credential, () -> {
----        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
----        if (user != null) {
----            if (!isUserDataExists()) {
----                saveUserData(user);
----            }
----            setLoginState(true);
----        } else {
----            Log.w(TAG, "Facebook login successful but user is null");
----        }
----        navigateToMain();
----    });
----}
---+    private void handleFacebookAccessToken(AccessToken token) {
---+        AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());
---+        signInViewModel.signInWithFacebook(credential, () -> {
---+            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
---+            if (user != null) {
---+                if (!isUserDataExists()) {
---+                    saveUserData(user);
---+                    Toast.makeText(this, "Đăng nhập thành công", Toast.LENGTH_SHORT).show();
---+                }
---+                checkEmailVerification(false);
---+            } else {
---+                Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---+            }
---+        });
---+    }
--- 
---     @Override
---     protected void onActivityResult(int requestCode, int resultCode, Intent data) {
---@@ -218,23 +237,10 @@
---         startActivity(intent);
---         finish();
---     }
----
----    public void signOutFromFacebook() {
----    LoginManager.getInstance().logOut();
----    FirebaseAuth.getInstance().signOut();
----    setLoginState(false);
----    navigateToSignIn();
----}
----
----    private void navigateToSignIn() {
----        Intent intent = new Intent(SignInActivity.this, SignInActivity.class);
----        startActivity(intent);
----        finish();
----    }
--- 
---     private void setLoginState(boolean isLoggedIn) {
---         SharedPreferences.Editor editor = sharedPreferences.edit();
---         editor.putBoolean("is_logged_in", isLoggedIn);
---         editor.apply();
---     }
----}
---\ No newline at end of file
---+}
---Index: app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.MainActivity;\r\nimport com.example.agrimart.viewmodel.SignUpViewModel;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class VerifyActivity extends AppCompatActivity {\r\n    private SignUpViewModel viewModel;\r\n    private FirebaseAuth mAuth;\r\n    private Handler handler;\r\n    private Runnable checkEmailVerifiedRunnable;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_verify);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        viewModel = new ViewModelProvider(this).get(SignUpViewModel.class);\r\n        handler = new Handler();\r\n\r\n        Button btnResendEmail = findViewById(R.id.btnResendEmail);\r\n        Button btnBackToLogin = findViewById(R.id.btnBackToLogin);\r\n\r\n        btnResendEmail.setOnClickListener(v -> {\r\n            FirebaseUser user = mAuth.getCurrentUser();\r\n            if (user != null) {\r\n                viewModel.sendEmailVerification(user);\r\n                Toast.makeText(this, \"Email xác nhận đã được gửi lại\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        btnBackToLogin.setOnClickListener(v -> {\r\n            startActivity(new Intent(VerifyActivity.this, SignInActivity.class));\r\n            finish();\r\n        });\r\n\r\n        checkEmailVerification();\r\n    }\r\n\r\n    private void checkEmailVerification() {\r\n        checkEmailVerifiedRunnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                FirebaseUser user = mAuth.getCurrentUser();\r\n                if (user != null) {\r\n                    user.reload().addOnCompleteListener(task -> {\r\n                        if (user.isEmailVerified()) {\r\n                            viewModel.saveUserToFirestore(user);\r\n                            Toast.makeText(VerifyActivity.this, \"Đăng kí thành công\", Toast.LENGTH_SHORT).show();\r\n                            startActivity(new Intent(VerifyActivity.this, MainActivity.class));\r\n                            finish();\r\n                        } else {\r\n                            handler.postDelayed(checkEmailVerifiedRunnable, 3000);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        handler.post(checkEmailVerifiedRunnable);\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        handler.removeCallbacks(checkEmailVerifiedRunnable);\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java	(date 1730452246225)
---@@ -20,6 +20,7 @@
---     private FirebaseAuth mAuth;
---     private Handler handler;
---     private Runnable checkEmailVerifiedRunnable;
---+    private String fullname;
--- 
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---@@ -33,6 +34,8 @@
---         Button btnResendEmail = findViewById(R.id.btnResendEmail);
---         Button btnBackToLogin = findViewById(R.id.btnBackToLogin);
--- 
---+        fullname = getIntent().getStringExtra("fullname");
---+
---         btnResendEmail.setOnClickListener(v -> {
---             FirebaseUser user = mAuth.getCurrentUser();
---             if (user != null) {
---@@ -57,7 +60,7 @@
---                 if (user != null) {
---                     user.reload().addOnCompleteListener(task -> {
---                         if (user.isEmailVerified()) {
----                            viewModel.saveUserToFirestore(user);
---+                            viewModel.saveUserToFirestore(user, fullname);
---                             Toast.makeText(VerifyActivity.this, "Đăng kí thành công", Toast.LENGTH_SHORT).show();
---                             startActivity(new Intent(VerifyActivity.this, MainActivity.class));
---                             finish();
---Index: app/src/main/java/com/example/agrimart/ui/MainActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.Account.SignInActivity;\r\nimport com.example.agrimart.ui.Cart.CartFragment;\r\nimport com.example.agrimart.ui.Explore.ExploreFragment;\r\nimport com.example.agrimart.ui.Homepage.HomeFragment;\r\nimport com.example.agrimart.ui.MyProfile.MyProfileFragment;\r\nimport com.example.agrimart.ui.Notification.NotificationFragment;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private SharedPreferences sharedPreferences;\r\n    private FirebaseAuth mAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_main);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, 0);\r\n            return insets;\r\n        });\r\n\r\n        sharedPreferences = getSharedPreferences(\"user_prefs\", MODE_PRIVATE);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        if (sharedPreferences.getBoolean(\"is_logged_in\", false)) {\r\n            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n            if (currentUser != null) {\r\n                navigateToHome();\r\n                fetchUserRoleAndSave(currentUser);\r\n            } else {\r\n                clearLoginState();\r\n                navigateToLogin();\r\n            }\r\n        } else {\r\n            navigateToLogin();\r\n        }\r\n\r\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigation);\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(this::onNavigationItemSelected);\r\n\r\n        if (savedInstanceState == null) {\r\n            loadFragment(new HomeFragment());\r\n            bottomNavigationView.setSelectedItemId(R.id.home);\r\n        }\r\n    }\r\n\r\n    private void navigateToHome() {\r\n        loadFragment(new HomeFragment());\r\n    }\r\n\r\n    private void navigateToLogin() {\r\n        Intent intent = new Intent(MainActivity.this, SignInActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    private void clearLoginState() {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.clear();\r\n        editor.apply();\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n\r\n    private boolean onNavigationItemSelected(MenuItem item) {\r\n        Fragment selectedFragment = null;\r\n\r\n        if (item.getItemId() == R.id.home) {\r\n            selectedFragment = new HomeFragment();\r\n        } else if (item.getItemId() == R.id.category) {\r\n            selectedFragment = new ExploreFragment();\r\n        } else if (item.getItemId() == R.id.notification) {\r\n            selectedFragment = new NotificationFragment();\r\n        } else if (item.getItemId() == R.id.profile) {\r\n            selectedFragment = new MyProfileFragment();\r\n        } else if (item.getItemId() == R.id.cart) {\r\n            selectedFragment = new CartFragment();\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n        if (selectedFragment != null) {\r\n            loadFragment(selectedFragment);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private void fetchUserRoleAndSave(FirebaseUser user) {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        DocumentReference docRef = db.collection(\"users\").document(user.getUid());\r\n        docRef.get().addOnSuccessListener(documentSnapshot -> {\r\n            if (documentSnapshot.exists()) {\r\n                String role = documentSnapshot.getString(\"role\");\r\n                if (role != null) {\r\n                    saveUserToSharedPreferences(role);\r\n                }\r\n            }\r\n        }).addOnFailureListener(e -> {\r\n        });\r\n    }\r\n\r\n    private void saveUserToSharedPreferences(String role) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"user_role\", role);\r\n        editor.apply();\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/MainActivity.java b/app/src/main/java/com/example/agrimart/ui/MainActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/MainActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/MainActivity.java	(date 1730377522637)
---@@ -46,7 +46,7 @@
---             FirebaseUser currentUser = mAuth.getCurrentUser();
---             if (currentUser != null) {
---                 navigateToHome();
----                fetchUserRoleAndSave(currentUser);
---+                getUserRole(currentUser);
---             } else {
---                 clearLoginState();
---                 navigateToLogin();
---@@ -110,7 +110,7 @@
---         return true;
---     }
--- 
----    private void fetchUserRoleAndSave(FirebaseUser user) {
---+    private void getUserRole(FirebaseUser user) {
---         FirebaseFirestore db = FirebaseFirestore.getInstance();
---         DocumentReference docRef = db.collection("users").document(user.getUid());
---         docRef.get().addOnSuccessListener(documentSnapshot -> {
---Index: app/src/main/res/values/strings.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><resources>\r\n    <string name=\"app_name\">AgriMart</string>\r\n    <string name=\"categories\">Danh mục sản phẩm</string>\r\n    <string name=\"see_all\">Xem thêm</string>\r\n    <string name=\"top_selling\">Bán chạy nhất</string>\r\n    <string name=\"home\">Trang chủ</string>\r\n    <string name=\"profile\">Tôi</string>\r\n    <string name=\"order\">Order</string>\r\n    <string name=\"newsfeed\">Tin mới</string>\r\n    <string name=\"post\">Đăng bài</string>\r\n    <string name=\"cart\">Giỏ hàng</string>\r\n    <string name=\"ng_b_n\">Đăng bán</string>\r\n    <string name=\"cho\">Chợ</string>\r\n    <string name=\"search_hint\">tim kiem san pham</string>\r\n    <string name=\"search\">Tìm kiếm sản phẩm</string>\r\n    <string name=\"ng_nh_p\">Đăng nhập</string>\r\n    <string name=\"ch_a_c_t_i_kho_n\"><u>Chưa có tài khoản?</u></string>\r\n    <string name=\"m_t_kh_u\">Mật khẩu</string>\r\n    <string name=\"continue_with_google\"> Đăng nhập bằng Google</string>\r\n    <string name=\"dang_ky\">Chưa có tài khoản? <b>Đăng ký</b></string>\r\n    <string name=\"c_t_i_kho_n\"><u>Đã có tài khoản?</u></string>\r\n    <string name=\"ng_k_b_ng_s_i_n_tho_i\">Đăng ký bằng số điện thoại</string>\r\n    <string name=\"ng_k_b_ng_email\">Đăng ký bằng email</string>\r\n    <string name=\"qu_n_m_t_kh_u\">Quên mật khẩu?</string>\r\n    <string name=\"nh_p_email_ho_c_s_i_n_tho_i\">Nhập email hoặc số điện thoại</string>\r\n    <string name=\"sodienthoai\">Số điện thoại</string>\r\n    <string name=\"g_i_l_i\"><u>Gửi lại</u></string>\r\n\r\n\r\n    <!-- PostProduct -->\r\n    <string name=\"nh_p_s_l_ng_c_n_b_n\">Your desired text here</string>\r\n    <string name=\"desc_vegetable\">Rau củ quả</string>\r\n    <string name=\"desc_fruit\">Trái cây</string>\r\n    <string name=\"desc_meat_eggs\">Trứng, thịt</string>\r\n    <string name=\"desc_milk\">Sữa, bơ, phô mai</string>\r\n    <string name=\"desc_sweets\">Bánh kẹo</string>\r\n    <string name=\"nh_s_n_ph_m_th_c_t\">Ảnh sản phẩm thực tế</string>\r\n    <string name=\"th_m_nh\">Thêm ảnh</string>\r\n    <string name=\"todo\">TODO</string>\r\n    <string name=\"t_n_s_n_ph_m\">Tên sản phẩm</string>\r\n    <string name=\"c_i_t_n_n_i_l_n_t_t_c_s_gi_p_ch_r_t_nhi_u_y\">Cái tên nói lên tất cả sẽ giúp ích rất nhiều đấy</string>\r\n    <string name=\"m_t_s_n_ph_m\">Mô tả sản phẩm</string>\r\n    <string name=\"m_t_o_n_v_n_m_t_y_s_gi_p_s_n_ph_m_c_a_b_n_b_n_d_h_n\">Một đoạn văn mô tả đầy đủ sẽ giúp sản phẩm của bạn bán dễ hơn</string>\r\n    <string name=\"ph_n_lo_i_s_n_ph_m\">Phân loại sản phẩm</string>\r\n    <string name=\"rau_c\">Rau củ</string>\r\n    <string name=\"tr_i_c_y\">Trái cây</string>\r\n    <string name=\"th_t_tr_ng\">Thịt, Trứng</string>\r\n    <string name=\"s_a_b_ph_mai\">Sữa, bơ, phô mai</string>\r\n    <string name=\"ng_t\">Đồ ngọt</string>\r\n    <string name=\"ti_p_t_c\">Tiếp tục</string>\r\n    <string name=\"gi_b_n\">Giá bán</string>\r\n    <string name=\"n_v\">Đơn vị </string>\r\n    <string name=\"hi_n_c\">Hiện có</string>\r\n    <string name=\"nh_p_gi_b_n\">Nhập giá bán</string>\r\n    <string name=\"nh_p_n_v_kg_ch_c_c_i\">Nhập đơn vị (kg, chục, cái)</string>\r\n    <string name=\"_200kg\">200kg</string>\r\n    <string name=\"s_u_ri_ng_lan_t_a\">Sầu riêng lan tỏa</string>\r\n    <string name=\"_20_ng_i_ang_h_i\">20 người đang hỏi</string>\r\n    <string name=\"dang_san_pham\">ĐĂNG SẢN PHẨM</string>\r\n    <string name=\"frash_fruits_vegetable\"><![CDATA[Frash Fruits & Vegetable]]></string>\r\n    <string name=\"add_cart\">Thêm vào giỏ hàng</string>\r\n    <string name=\"product_name\">Tên sản phẩm</string>\r\n    <string name=\"price\">50.000đ</string>\r\n    <string name=\"address\">123 Lê Trọng Tấn, Quận Tân Phú, TP.HCM</string>\r\n    <string name=\"description\">Mô tả chi tiết</string>\r\n    <string name=\"descriptions\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</string>\r\n    <string name=\"user_review\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</string>\r\n    <string name=\"my_cart\">Giỏ hàng</string>\r\n    <string name=\"notification_time\">1 phút trước</string>\r\n    <string name=\"notification_message\">Khánh vừa đặt mua sản phẩm của bạn: Chuối nhà trồng...</string>\r\n    <string name=\"cate\">Gian hàng</string>\r\n    <string name=\"t_m_theo_danh_m_c\">Tìm theo danh mục</string>\r\n    <string name=\"thong_bao\">Thông báo</string>\r\n    <string name=\"n_h_ng\">Đơn hàng</string>\r\n    <string name=\"_0\">0</string>\r\n    <string name=\"ch_l_y_h_ng\">Chờ lấy hàng</string>\r\n    <string name=\"n_h_y\">Đơn hủy</string>\r\n    <string name=\"tr_h_ng_ho_n_ti_n\">Trả hàng/Hoàn tiền</string>\r\n\r\n    <string-array name=\"filter_options\">\r\n        <item>Sort by Price</item>\r\n        <item>Newest</item>\r\n        <item>Oldest</item>\r\n    </string-array>\r\n\r\n    <style name=\"TabTextAppearance\" parent=\"TextAppearance.Design.Tab\">\r\n        <item name=\"android:textSize\">16sp</item>\r\n        <item name=\"android:textColor\">@color/black</item>\r\n        <item name=\"android:textStyle\">bold</item>\r\n    </style>\r\n\r\n    <string name=\"default_web_client_id\">689266518488-dggpokj3cbc4t7hoa53j2vsa6vt59qi4.apps.googleusercontent.com</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n    <string name=\"email\">Email</string>\r\n\r\n    //facebook\r\n    <string name=\"loginwithfacebook\">Đăng nhập bằng Facebook</string>\r\n    <string name=\"facebook_app_id\">456355280794721</string>\r\n    <string name=\"fb_login_protocol_scheme\">fb456355280794721</string>\r\n    <string name=\"facebook_client_token\">fbc7722b3ad7a34dbf443766e81403c1</string>\r\n    <string name=\"facebook_app_secret\">239308944b7f4f13d8ed33f56b79c7cc</string>\r\n    <!-- Strings used for fragments for navigation -->\r\n    <string name=\"first_fragment_label\">First Fragment</string>\r\n    <string name=\"second_fragment_label\">Second Fragment</string>\r\n    <string name=\"next\">Next</string>\r\n    <string name=\"previous\">Previous</string>\r\n\r\n    <string name=\"lorem_ipsum\">\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam in scelerisque sem. Mauris\r\n        volutpat, dolor id interdum ullamcorper, risus dolor egestas lectus, sit amet mattis purus\r\n        dui nec risus. Maecenas non sodales nisi, vel dictum dolor. Class aptent taciti sociosqu ad\r\n        litora torquent per conubia nostra, per inceptos himenaeos. Suspendisse blandit eleifend\r\n        diam, vel rutrum tellus vulputate quis. Aliquam eget libero aliquet, imperdiet nisl a,\r\n        ornare ex. Sed rhoncus est ut libero porta lobortis. Fusce in dictum tellus.\\n\\n\r\n        Suspendisse interdum ornare ante. Aliquam nec cursus lorem. Morbi id magna felis. Vivamus\r\n        egestas, est a condimentum egestas, turpis nisl iaculis ipsum, in dictum tellus dolor sed\r\n        neque. Morbi tellus erat, dapibus ut sem a, iaculis tincidunt dui. Interdum et malesuada\r\n        fames ac ante ipsum primis in faucibus. Curabitur et eros porttitor, ultricies urna vitae,\r\n        molestie nibh. Phasellus at commodo eros, non aliquet metus. Sed maximus nisl nec dolor\r\n        bibendum, vel congue leo egestas.\\n\\n\r\n        Sed interdum tortor nibh, in sagittis risus mollis quis. Curabitur mi odio, condimentum sit\r\n        amet auctor at, mollis non turpis. Nullam pretium libero vestibulum, finibus orci vel,\r\n        molestie quam. Fusce blandit tincidunt nulla, quis sollicitudin libero facilisis et. Integer\r\n        interdum nunc ligula, et fermentum metus hendrerit id. Vestibulum lectus felis, dictum at\r\n        lacinia sit amet, tristique id quam. Cras eu consequat dui. Suspendisse sodales nunc ligula,\r\n        in lobortis sem porta sed. Integer id ultrices magna, in luctus elit. Sed a pellentesque\r\n        est.\\n\\n\r\n        Aenean nunc velit, lacinia sed dolor sed, ultrices viverra nulla. Etiam a venenatis nibh.\r\n        Morbi laoreet, tortor sed facilisis varius, nibh orci rhoncus nulla, id elementum leo dui\r\n        non lorem. Nam mollis ipsum quis auctor varius. Quisque elementum eu libero sed commodo. In\r\n        eros nisl, imperdiet vel imperdiet et, scelerisque a mauris. Pellentesque varius ex nunc,\r\n        quis imperdiet eros placerat ac. Duis finibus orci et est auctor tincidunt. Sed non viverra\r\n        ipsum. Nunc quis augue egestas, cursus lorem at, molestie sem. Morbi a consectetur ipsum, a\r\n        placerat diam. Etiam vulputate dignissim convallis. Integer faucibus mauris sit amet finibus\r\n        convallis.\\n\\n\r\n        Phasellus in aliquet mi. Pellentesque habitant morbi tristique senectus et netus et\r\n        malesuada fames ac turpis egestas. In volutpat arcu ut felis sagittis, in finibus massa\r\n        gravida. Pellentesque id tellus orci. Integer dictum, lorem sed efficitur ullamcorper,\r\n        libero justo consectetur ipsum, in mollis nisl ex sed nisl. Donec maximus ullamcorper\r\n        sodales. Praesent bibendum rhoncus tellus nec feugiat. In a ornare nulla. Donec rhoncus\r\n        libero vel nunc consequat, quis tincidunt nisl eleifend. Cras bibendum enim a justo luctus\r\n        vestibulum. Fusce dictum libero quis erat maximus, vitae volutpat diam dignissim.\r\n    </string>\r\n</resources>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
------ a/app/src/main/res/values/strings.xml	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/res/values/strings.xml	(date 1730448311644)
---@@ -142,4 +142,5 @@
---         libero vel nunc consequat, quis tincidunt nisl eleifend. Cras bibendum enim a justo luctus
---         vestibulum. Fusce dictum libero quis erat maximus, vitae volutpat diam dignissim.
---     </string>
---+    <string name="verify">Email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký.</string>
--- </resources>
---\ No newline at end of file
---Index: app/src/main/res/layout/activity_verify.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Account.VerifyActivity\">\r\n\r\n    <TextView\r\n        android:id=\"@+id/tvVerifyTitle\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:text=\"Xác nhận Email\"\r\n        android:textSize=\"24sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/tvVerifyMessage\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:text=\"Một email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký.\"\r\n        android:textSize=\"16sp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tvVerifyTitle\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btnResendEmail\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"24dp\"\r\n        android:text=\"Gửi lại email\"\r\n        android:backgroundTint=\"@color/green\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tvVerifyMessage\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btnBackToLogin\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"12dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"Quay lại đăng nhập\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/btnResendEmail\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/activity_verify.xml b/app/src/main/res/layout/activity_verify.xml
------ a/app/src/main/res/layout/activity_verify.xml	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/res/layout/activity_verify.xml	(date 1730448311653)
---@@ -26,7 +26,7 @@
---         android:layout_marginTop="16dp"
---         android:layout_marginStart="24dp"
---         android:layout_marginEnd="24dp"
----        android:text="Một email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký."
---+        android:text="@string/verify"
---         android:textSize="16sp"
---         app:layout_constraintEnd_toEndOf="parent"
---         app:layout_constraintStart_toStartOf="parent"
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/shelved.patch
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/shelved.patch
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/shelved.patch	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ /dev/null	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-@@ -1,2276 +0,0 @@
--Index: app/src/main/java/com/example/agrimart/data/model/Store.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.data.model;\r\n\r\npublic class Store {\r\n    private String name;\r\n    private String avatarUrl;\r\n    private String street;\r\n    private String ward;\r\n    private String district;\r\n    private String city;\r\n    private String phoneNumber;\r\n\r\n    public Store() {\r\n    }\r\n\r\n    public Store(String name, String avatarUrl, String street, String ward, String district, String city, String phoneNumber) {\r\n        this.name = name;\r\n        this.avatarUrl = avatarUrl;\r\n        this.street = street;\r\n        this.ward = ward;\r\n        this.district = district;\r\n        this.city = city;\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getAvatarUrl() {\r\n        return avatarUrl;\r\n    }\r\n\r\n    public String getFullAddress() {\r\n        return street + \", \" + ward + \", \" + district + \", \" + city;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/data/model/Store.java b/app/src/main/java/com/example/agrimart/data/model/Store.java
----- a/app/src/main/java/com/example/agrimart/data/model/Store.java	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/java/com/example/agrimart/data/model/Store.java	(date 1731057706441)
--@@ -1,6 +1,9 @@
-- package com.example.agrimart.data.model;
-- 
--+import java.util.List;
--+
-- public class Store {
--+    private String id;
--     private String name;
--     private String avatarUrl;
--     private String street;
--@@ -8,11 +11,14 @@
--     private String district;
--     private String city;
--     private String phoneNumber;
--+    private String userId;
--+    private List<Product> products;
-- 
--     public Store() {
--     }
-- 
---    public Store(String name, String avatarUrl, String street, String ward, String district, String city, String phoneNumber) {
--+    public Store(String id, String name, String avatarUrl, String street, String ward, String district, String city, String phoneNumber) {
--+        this.id = id;
--         this.name = name;
--         this.avatarUrl = avatarUrl;
--         this.street = street;
--@@ -22,19 +28,88 @@
--         this.phoneNumber = phoneNumber;
--     }
-- 
--+    // Getters and setters for all fields
--+    public String getId() {
--+        return id;
--+    }
--+
--+    public void setId(String id) {
--+        this.id = id;
--+    }
--+
--     public String getName() {
--         return name;
--     }
-- 
--+    public void setName(String name) {
--+        this.name = name;
--+    }
--+
--     public String getAvatarUrl() {
--         return avatarUrl;
--     }
-- 
--+    public void setAvatarUrl(String avatarUrl) {
--+        this.avatarUrl = avatarUrl;
--+    }
--+
--+    public String getStreet() {
--+        return street;
--+    }
--+
--+    public void setStreet(String street) {
--+        this.street = street;
--+    }
--+
--+    public String getWard() {
--+        return ward;
--+    }
--+
--+    public void setWard(String ward) {
--+        this.ward = ward;
--+    }
--+
--+    public String getDistrict() {
--+        return district;
--+    }
--+
--+    public void setDistrict(String district) {
--+        this.district = district;
--+    }
--+
--+    public String getCity() {
--+        return city;
--+    }
--+
--+    public void setCity(String city) {
--+        this.city = city;
--+    }
--+
--+    public String getPhoneNumber() {
--+        return phoneNumber;
--+    }
--+
--+    public void setPhoneNumber(String phoneNumber) {
--+        this.phoneNumber = phoneNumber;
--+    }
--+
--+    public String getUserId() {
--+        return userId;
--+    }
--+
--+    public void setUserId(String userId) {
--+        this.userId = userId;
--+    }
--+
--+    public List<Product> getProducts() {
--+        return products;
--+    }
--+
--+    public void setProducts(List<Product> products) {
--+        this.products = products;
--+    }
--+
--     public String getFullAddress() {
--         return street + ", " + ward + ", " + district + ", " + city;
--     }
---
---    public String getPhoneNumber() {
---        return phoneNumber;
---    }
---}
--+}
--\ No newline at end of file
--Index: app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.viewmodel;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Store;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.ListenerRegistration;\r\n\r\npublic class ProductDetailViewModel extends ViewModel {\r\n    private final FirebaseFirestore db;\r\n    private ListenerRegistration storeListener;\r\n    private final MutableLiveData<Store> storeInfo = new MutableLiveData<>();\r\n\r\n    public ProductDetailViewModel() {\r\n        db = FirebaseFirestore.getInstance();\r\n    }\r\n\r\n    public LiveData<Store> getStoreInfo() {\r\n        return storeInfo;\r\n    }\r\n\r\n    public void loadStoreInfo(String storeId) {\r\n        if (storeListener != null) {\r\n            storeListener.remove();\r\n        }\r\n\r\n        storeListener = db.collection(\"users\").document(storeId)\r\n                .addSnapshotListener((snapshot, e) -> {\r\n                    if (e != null || snapshot == null || !snapshot.exists()) {\r\n                        return;\r\n                    }\r\n                    String name = snapshot.getString(\"store_name\");\r\n                    String avatarUrl = snapshot.getString(\"store_avatar\");\r\n                    String street = snapshot.getString(\"store_address.street\");\r\n                    String ward = snapshot.getString(\"store_address.ward\");\r\n                    String district = snapshot.getString(\"store_address.district\");\r\n                    String city = snapshot.getString(\"store_address.city\");\r\n                    String phoneNumber = snapshot.getString(\"store_phone_number\");\r\n\r\n                    Store info = new Store(name, avatarUrl, street, ward, district, city, phoneNumber);\r\n                    storeInfo.setValue(info);\r\n                });\r\n    }\r\n\r\n    @Override\r\n    protected void onCleared() {\r\n        super.onCleared();\r\n        if (storeListener != null) {\r\n            storeListener.remove();\r\n        }\r\n    }\r\n\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java
----- a/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java	(date 1731055914569)
--@@ -22,7 +22,7 @@
--         return storeInfo;
--     }
-- 
---    public void loadStoreInfo(String storeId) {
--+   public void loadStoreInfo(String storeId) {
--         if (storeListener != null) {
--             storeListener.remove();
--         }
--@@ -40,11 +40,10 @@
--                     String city = snapshot.getString("store_address.city");
--                     String phoneNumber = snapshot.getString("store_phone_number");
-- 
---                    Store info = new Store(name, avatarUrl, street, ward, district, city, phoneNumber);
--+                    Store info = new Store(storeId, name, avatarUrl, street, ward, district, city, phoneNumber);
--                     storeInfo.setValue(info);
--                 });
--     }
---
--     @Override
--     protected void onCleared() {
--         super.onCleared();
--Index: app/src/main/res/layout/activity_search.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <data>\r\n        <import type=\"android.view.View\"/>\r\n        <variable\r\n            name=\"search\"\r\n            type=\"com.example.agrimart.viewmodel.SearchViewModel\" />\r\n    </data>\r\n\r\n\r\n    <RelativeLayout\r\n\r\n        android:id=\"@+id/main1\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\">\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/header\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@color/green\"\r\n            android:orientation=\"horizontal\"\r\n            android:padding=\"16dp\">\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/btnBack\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"40dp\"\r\n                android:layout_marginEnd=\"10dp\"\r\n                android:background=\"@null\"\r\n                android:layout_gravity=\"center_vertical\"\r\n                android:src=\"@drawable/chevron_left\" />\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:id=\"@+id/search_card\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"1\"\r\n                app:cardCornerRadius=\"8dp\"\r\n                app:cardElevation=\"4dp\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\"\r\n                    android:padding=\"8dp\"\r\n                    android:id=\"@+id/search_bar\">\r\n\r\n                    <ImageButton\r\n                        android:id=\"@+id/search_icon\"\r\n                        android:layout_width=\"32dp\"\r\n                        android:layout_height=\"32dp\"\r\n                        android:src=\"@drawable/ic_search\"\r\n                        android:tint=\"@color/black\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginEnd=\"8dp\"\r\n                        android:background=\"@color/white\"/>\r\n\r\n                    <EditText\r\n                        android:id=\"@+id/search_input\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_weight=\"1\"\r\n                        android:hint=\"@string/search\"\r\n                        android:background=\"@null\"\r\n                        android:padding=\"8dp\"\r\n                        android:textColor=\"@android:color/black\"\r\n                        android:textColorHint=\"@android:color/darker_gray\" />\r\n                </LinearLayout>\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/filter_icon\"\r\n                android:layout_width=\"32dp\"\r\n                android:layout_height=\"32dp\"\r\n                android:layout_gravity=\"center_vertical\"\r\n                android:layout_marginStart=\"10dp\"\r\n                android:layout_marginEnd=\"4dp\"\r\n                android:background=\"@color/green\"\r\n                android:src=\"@drawable/filter\"\r\n                app:tint=\"@color/black\" />\r\n\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/ln1\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/header\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/textView3\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:textSize=\"20sp\"\r\n                android:layout_marginStart=\"24dp\"\r\n                android:textStyle=\"bold\"\r\n                android:textColor=\"#272727\"\r\n                android:fontFamily=\"@font/circular_std\"\r\n                android:text=\"@string/t_m_theo_danh_m_c\" />\r\n\r\n            <ScrollView\r\n                android:id=\"@+id/sc\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:layout_height=\"wrap_content\">\r\n\r\n                <androidx.recyclerview.widget.RecyclerView\r\n                    android:id=\"@+id/rvCategories\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    >\r\n\r\n                </androidx.recyclerview.widget.RecyclerView>\r\n            </ScrollView>\r\n        </LinearLayout>\r\n\r\n        <ScrollView\r\n            android:id=\"@+id/sc2\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"24dp\"\r\n            android:layout_below=\"@id/ln1\"\r\n            android:visibility=\"@{search.isProductsEmpty() ? View.VISIBLE : View.GONE}\">\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/rvProducts\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n            />\r\n        </ScrollView>\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvNotFound\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/sc2\"\r\n            android:layout_centerHorizontal=\"true\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:visibility=\"@{search.isProductsEmpty() ? View.VISIBLE : View.GONE}\"\r\n            android:text=\"Không tìm thấy kết quả đã nhập\" />\r\n\r\n\r\n    </RelativeLayout>\r\n</layout>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/activity_search.xml b/app/src/main/res/layout/activity_search.xml
----- a/app/src/main/res/layout/activity_search.xml	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/res/layout/activity_search.xml	(date 1731061603486)
--@@ -1,151 +1,118 @@
-- <?xml version="1.0" encoding="utf-8"?>
---<layout
---    xmlns:android="http://schemas.android.com/apk/res/android"
--+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
--     xmlns:app="http://schemas.android.com/apk/res-auto"
---    xmlns:tools="http://schemas.android.com/tools">
---
---    <data>
---        <import type="android.view.View"/>
---        <variable
---            name="search"
---            type="com.example.agrimart.viewmodel.SearchViewModel" />
---    </data>
---
---
---    <RelativeLayout
---
---        android:id="@+id/main1"
---        android:layout_width="match_parent"
---        android:layout_height="match_parent">
--+    android:id="@+id/main1"
--+    android:layout_width="match_parent"
--+    android:layout_height="match_parent">
-- 
---        <LinearLayout
---            android:id="@+id/header"
---            android:layout_width="match_parent"
---            android:layout_height="wrap_content"
---            android:background="@color/green"
---            android:orientation="horizontal"
---            android:padding="16dp">
--+    <LinearLayout
--+        android:id="@+id/header"
--+        android:layout_width="match_parent"
--+        android:layout_height="wrap_content"
--+        android:background="@color/green"
--+        android:orientation="horizontal"
--+        android:padding="16dp">
-- 
---            <ImageButton
---                android:id="@+id/btnBack"
---                android:layout_width="wrap_content"
---                android:layout_height="40dp"
---                android:layout_marginEnd="10dp"
---                android:background="@null"
---                android:layout_gravity="center_vertical"
---                android:src="@drawable/chevron_left" />
--+        <ImageButton
--+            android:id="@+id/btnBack"
--+            android:layout_width="wrap_content"
--+            android:layout_height="40dp"
--+            android:layout_marginEnd="10dp"
--+            android:background="@null"
--+            android:layout_gravity="center_vertical"
--+            android:src="@drawable/chevron_left" />
-- 
---            <androidx.cardview.widget.CardView
---                android:id="@+id/search_card"
---                android:layout_width="0dp"
---                android:layout_height="wrap_content"
---                android:layout_weight="1"
---                app:cardCornerRadius="8dp"
---                app:cardElevation="4dp">
--+        <androidx.cardview.widget.CardView
--+            android:id="@+id/search_card"
--+            android:layout_width="0dp"
--+            android:layout_height="wrap_content"
--+            android:layout_weight="1"
--+            app:cardCornerRadius="8dp"
--+            app:cardElevation="4dp">
-- 
---                <LinearLayout
---                    android:layout_width="match_parent"
---                    android:layout_height="wrap_content"
---                    android:orientation="horizontal"
---                    android:padding="8dp"
---                    android:id="@+id/search_bar">
--+            <LinearLayout
--+                android:layout_width="match_parent"
--+                android:layout_height="wrap_content"
--+                android:orientation="horizontal"
--+                android:id="@+id/search_bar">
-- 
---                    <ImageButton
---                        android:id="@+id/search_icon"
---                        android:layout_width="32dp"
---                        android:layout_height="32dp"
---                        android:src="@drawable/ic_search"
---                        android:tint="@color/black"
---                        android:layout_gravity="center_vertical"
---                        android:layout_marginEnd="8dp"
---                        android:background="@color/white"/>
---
---                    <EditText
---                        android:id="@+id/search_input"
---                        android:layout_width="0dp"
---                        android:layout_height="wrap_content"
---                        android:layout_weight="1"
---                        android:hint="@string/search"
---                        android:background="@null"
---                        android:padding="8dp"
---                        android:textColor="@android:color/black"
---                        android:textColorHint="@android:color/darker_gray" />
---                </LinearLayout>
---            </androidx.cardview.widget.CardView>
--+                <androidx.appcompat.widget.SearchView
--+                    android:id="@+id/search_input"
--+                    android:layout_width="match_parent"
--+                    android:layout_height="wrap_content"
--+                    android:background="@drawable/search_view_bg"
--+                    app:iconifiedByDefault="false"
--+                    app:queryHint="Tìm kiếm sản phẩm, cửa hàng"/>
--+            </LinearLayout>
--+        </androidx.cardview.widget.CardView>
-- 
---            <ImageButton
---                android:id="@+id/filter_icon"
---                android:layout_width="32dp"
---                android:layout_height="32dp"
---                android:layout_gravity="center_vertical"
---                android:layout_marginStart="10dp"
---                android:layout_marginEnd="4dp"
---                android:background="@color/green"
---                android:src="@drawable/filter"
---                app:tint="@color/black" />
---
---        </LinearLayout>
--+        <!-- Filter Button -->
--+        <ImageButton
--+            android:id="@+id/filter_icon"
--+            android:layout_width="32dp"
--+            android:layout_height="32dp"
--+            android:layout_gravity="center_vertical"
--+            android:layout_marginStart="10dp"
--+            android:layout_marginEnd="4dp"
--+            android:background="@color/green"
--+            android:src="@drawable/filter"
--+            app:tint="@color/black" />
--+    </LinearLayout>
-- 
---        <LinearLayout
---            android:id="@+id/ln1"
---            android:layout_width="match_parent"
---            android:layout_height="wrap_content"
---            android:layout_below="@id/header"
---            android:layout_marginTop="16dp"
---            android:orientation="vertical">
--+    <TextView
--+        android:layout_width="wrap_content"
--+        android:layout_height="wrap_content"
--+        android:id="@+id/tvNoResult"
--+        android:layout_centerInParent="true"
--+        android:text="@string/no_reslut"
--+        android:visibility="gone"
--+        android:textSize="20sp"/>
--+
--+    <LinearLayout
--+        android:id="@+id/ln1"
--+        android:layout_width="match_parent"
--+        android:layout_height="wrap_content"
--+        android:layout_below="@id/header"
--+        android:layout_marginTop="16dp"
--+        android:orientation="vertical">
-- 
---            <TextView
---                android:id="@+id/textView3"
---                android:layout_width="wrap_content"
---                android:layout_height="wrap_content"
---                android:textSize="20sp"
---                android:layout_marginStart="24dp"
---                android:textStyle="bold"
---                android:textColor="#272727"
---                android:fontFamily="@font/circular_std"
---                android:text="@string/t_m_theo_danh_m_c" />
--+        <TextView
--+            android:id="@+id/textView3"
--+            android:layout_width="wrap_content"
--+            android:layout_height="wrap_content"
--+            android:textSize="20sp"
--+            android:layout_marginStart="24dp"
--+            android:textStyle="bold"
--+            android:textColor="#272727"
--+            android:fontFamily="@font/circular_std"
--+            android:text="@string/t_m_theo_danh_m_c" />
-- 
---            <ScrollView
---                android:id="@+id/sc"
---                android:layout_width="match_parent"
---                android:layout_marginTop="8dp"
---                android:layout_height="wrap_content">
--+        <ScrollView
--+            android:id="@+id/sc"
--+            android:layout_width="match_parent"
--+            android:layout_marginTop="8dp"
--+            android:layout_height="wrap_content">
-- 
---                <androidx.recyclerview.widget.RecyclerView
---                    android:id="@+id/rvCategories"
---                    android:layout_width="match_parent"
---                    android:layout_height="wrap_content"
---                    >
---
---                </androidx.recyclerview.widget.RecyclerView>
---            </ScrollView>
---        </LinearLayout>
--+            <androidx.recyclerview.widget.RecyclerView
--+                android:id="@+id/rvCategories"
--+                android:layout_width="match_parent"
--+                android:layout_height="wrap_content"/>
--+        </ScrollView>
--+
--+    </LinearLayout>
-- 
---        <ScrollView
---            android:id="@+id/sc2"
---            android:layout_width="match_parent"
---            android:layout_height="wrap_content"
---            android:layout_marginTop="24dp"
---            android:layout_below="@id/ln1"
---            android:visibility="@{search.isProductsEmpty() ? View.VISIBLE : View.GONE}">
---
---            <androidx.recyclerview.widget.RecyclerView
---                android:id="@+id/rvProducts"
---                android:layout_width="match_parent"
---                android:layout_height="wrap_content"
---            />
---        </ScrollView>
--+    <!-- Products Section -->
--+    <ScrollView
--+        android:id="@+id/sc2"
--+        android:layout_width="match_parent"
--+        android:layout_height="match_parent"
--+        android:layout_marginTop="24dp"
--+        android:layout_below="@id/header"
--+        android:visibility="gone">
--+        <androidx.recyclerview.widget.RecyclerView
--+            android:id="@+id/rvProducts"
--+            android:layout_width="match_parent"
--+            android:layout_height="0dp" />
--+    </ScrollView>
-- 
---        <TextView
---            android:id="@+id/tvNotFound"
---            android:layout_width="wrap_content"
---            android:layout_height="wrap_content"
---            android:layout_below="@id/sc2"
---            android:layout_centerHorizontal="true"
---            android:layout_marginTop="20dp"
---            android:visibility="@{search.isProductsEmpty() ? View.VISIBLE : View.GONE}"
---            android:text="Không tìm thấy kết quả đã nhập" />
---
---
---    </RelativeLayout>
---</layout>
--\ No newline at end of file
--+</RelativeLayout>
--Index: app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.viewmodel;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.Transformations;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\n\r\nimport java.util.List;\r\n\r\npublic class SearchViewModel extends ViewModel {\r\n    private String inputText;\r\n    private MutableLiveData<List<Category>> categories;\r\n    private MutableLiveData<List<Product>> products=new MutableLiveData<>();\r\n\r\n    public void setCategories(List<Category> categories) {\r\n        this.categories.setValue(categories);\r\n    }\r\n\r\n    public void setProducts(List<Product> products) {\r\n        this.products.setValue(products);\r\n    }\r\n\r\n    public LiveData<Boolean> isProductsEmpty(){\r\n        return Transformations.map(products, List::isEmpty);\r\n    }\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java
----- a/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java	(date 1731152693410)
--@@ -1,29 +1,83 @@
-- package com.example.agrimart.viewmodel;
-- 
--+import android.util.Log;
--+
-- import androidx.lifecycle.LiveData;
-- import androidx.lifecycle.MutableLiveData;
---import androidx.lifecycle.Transformations;
-- import androidx.lifecycle.ViewModel;
-- 
---import com.example.agrimart.data.model.Category;
-- import com.example.agrimart.data.model.Product;
--+import com.example.agrimart.data.model.Store;
--+import com.google.firebase.firestore.FirebaseFirestore;
-- 
--+import java.text.Normalizer;
--+import java.util.ArrayList;
-- import java.util.List;
-- 
-- public class SearchViewModel extends ViewModel {
---    private String inputText;
---    private MutableLiveData<List<Category>> categories;
---    private MutableLiveData<List<Product>> products=new MutableLiveData<>();
--+
--+    private MutableLiveData<List<Product>> filteredProducts = new MutableLiveData<>(new ArrayList<>());
--+    private MutableLiveData<List<Store>> filteredStores = new MutableLiveData<>(new ArrayList<>());
--+
--+    public LiveData<List<Product>> getFilteredProducts() {
--+        return filteredProducts;
--+    }
-- 
---    public void setCategories(List<Category> categories) {
---        this.categories.setValue(categories);
--+    public LiveData<List<Store>> getFilteredStores() {
--+        return filteredStores;
--     }
-- 
---    public void setProducts(List<Product> products) {
---        this.products.setValue(products);
--+    private String normalizeString(String input) {
--+        String normalized = Normalizer.normalize(input, Normalizer.Form.NFD);
--+        return normalized.replaceAll("[\\p{InCombiningDiacriticalMarks}]", "").toLowerCase();
--     }
-- 
---    public LiveData<Boolean> isProductsEmpty(){
---        return Transformations.map(products, List::isEmpty);
--+
--+    public void searchProductsByName(String query) {
--+        FirebaseFirestore db = FirebaseFirestore.getInstance();
--+        String normalizedQuery = normalizeString(query);
--+        db.collection("products")
--+                .orderBy("normalizedName")
--+                .startAt(normalizedQuery)
--+                .endAt(normalizedQuery + "\uf8ff")
--+                .get()
--+                .addOnCompleteListener(task -> {
--+                    if (task.isSuccessful()) {
--+                        List<Product> products = task.getResult().toObjects(Product.class);
--+                        if (!products.isEmpty()) {
--+                            filteredProducts.setValue(products);
--+                        } else {
--+                            filteredProducts.setValue(new ArrayList<>());
--+                        }
--+                    } else {
--+                        filteredProducts.setValue(new ArrayList<>());
--+                    }
--+                });
--     }
---}
--+
--+    public void searchStoresByProductName(String query) {
--+        FirebaseFirestore db = FirebaseFirestore.getInstance();
--+        db.collection("users")
--+                .orderBy("store_name")
--+                .startAt(query)
--+                .endAt(query + "\uf8ff")
--+                .get()
--+                .addOnCompleteListener(task -> {
--+                    if (task.isSuccessful()) {
--+                        List<Store> stores = task.getResult().toObjects(Store.class);
--+                        if (!stores.isEmpty()) {
--+                            filteredStores.setValue(stores);
--+                        } else {
--+                            filteredStores.setValue(new ArrayList<>());
--+                        }
--+                    } else {
--+                        filteredStores.setValue(new ArrayList<>());
--+                    }
--+                });
--+    }
--+
--+    public void searchAll(String query) {
--+        searchProductsByName(query);
--+        searchStoresByProductName(query);
--+    }
--+}
--\ No newline at end of file
--Index: app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.ActivitySearchBinding;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\nimport com.example.agrimart.viewmodel.SearchViewModel;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class SearchActivity extends AppCompatActivity {\r\n\r\n    SearchViewModel searchViewModel;\r\n    ActivitySearchBinding binding;\r\n    List<Category> categories = new ArrayList<>();\r\n    CategoryAdapter categoryAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        searchViewModel = new ViewModelProvider(this).get(SearchViewModel.class);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_search);\r\n        binding.setSearch(searchViewModel);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(binding.getRoot());\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));\r\n        }\r\n\r\n        categoryAdapter = new CategoryAdapter(categories);\r\n        binding.rvCategories.setLayoutManager(new GridLayoutManager(this, 4));\r\n        binding.rvCategories.setAdapter(categoryAdapter);\r\n        getCategories();\r\n\r\n        List<Product> products = new ArrayList<>();\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding.rvProducts.setLayoutManager(new GridLayoutManager(this, 2));\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n            Intent intent = new Intent(this, ProductDetailActivity.class);\r\n            startActivity(intent);\r\n        });\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n        searchViewModel.setProducts(products);\r\n    }\r\n\r\n    private void getCategories() {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        List<Category> categories = new ArrayList<>();\r\n        db.collection(\"categories\")\r\n                .get().addOnCompleteListener(task -> {\r\n            if (task.isSuccessful()) {\r\n                categories.addAll(task.getResult().toObjects(Category.class));\r\n                this.categories.addAll(categories);\r\n                categoryAdapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n    }\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java b/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java
----- a/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java	(date 1731152665428)
--@@ -1,20 +1,22 @@
-- package com.example.agrimart.ui.Homepage;
-- 
--+import android.content.Context;
-- import android.content.Intent;
-- import android.os.Bundle;
---import android.util.Log;
--+import android.view.View;
-- import android.view.Window;
-- import android.view.WindowManager;
--+import android.view.inputmethod.InputMethodManager;
--+import android.widget.ImageButton;
--+import android.widget.LinearLayout;
--+import android.widget.ScrollView;
--+import android.widget.TextView;
-- 
---import androidx.activity.EdgeToEdge;
-- import androidx.appcompat.app.AppCompatActivity;
-- import androidx.core.content.ContextCompat;
---import androidx.core.graphics.Insets;
---import androidx.core.view.ViewCompat;
---import androidx.core.view.WindowInsetsCompat;
---import androidx.databinding.DataBindingUtil;
-- import androidx.lifecycle.ViewModelProvider;
-- import androidx.recyclerview.widget.GridLayoutManager;
--+import androidx.recyclerview.widget.RecyclerView;
-- 
-- import com.example.agrimart.R;
-- import com.example.agrimart.SpacesItemDecoration;
--@@ -22,7 +24,6 @@
-- import com.example.agrimart.adapter.ProductAdapter;
-- import com.example.agrimart.data.model.Category;
-- import com.example.agrimart.data.model.Product;
---import com.example.agrimart.databinding.ActivitySearchBinding;
-- import com.example.agrimart.ui.ProductPage.ProductDetailActivity;
-- import com.example.agrimart.viewmodel.SearchViewModel;
-- import com.google.firebase.firestore.FirebaseFirestore;
--@@ -32,24 +33,32 @@
-- 
-- public class SearchActivity extends AppCompatActivity {
-- 
---    SearchViewModel searchViewModel;
---    ActivitySearchBinding binding;
---    List<Category> categories = new ArrayList<>();
---    CategoryAdapter categoryAdapter;
--+    private SearchViewModel searchViewModel;
--+    private ProductAdapter productAdapter;
--+    private List<Category> categories = new ArrayList<>();
--+    private CategoryAdapter categoryAdapter;
--+    private List<Product> products = new ArrayList<>();
--+    private RecyclerView rvCategories, rvProducts;
--+    private androidx.appcompat.widget.SearchView searchInput;
--+    private TextView tvNoReslut;
--+    private LinearLayout ln1;
--+    private ScrollView sc2;
-- 
--     @Override
--     protected void onCreate(Bundle savedInstanceState) {
--         super.onCreate(savedInstanceState);
---        searchViewModel = new ViewModelProvider(this).get(SearchViewModel.class);
---        binding = DataBindingUtil.setContentView(this, R.layout.activity_search);
---        binding.setSearch(searchViewModel);
---        EdgeToEdge.enable(this);
---        setContentView(binding.getRoot());
---        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {
---            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
---            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
---            return insets;
---        });
--+        setContentView(R.layout.activity_search);
--+
--+        ImageButton btnBack = findViewById(R.id.btnBack);
--+        tvNoReslut = findViewById(R.id.tvNoResult);
--+        tvNoReslut.setVisibility(View.GONE);
--+        rvCategories = findViewById(R.id.rvCategories);
--+        rvProducts = findViewById(R.id.rvProducts);
--+        searchInput = findViewById(R.id.search_input);
--+        ln1 = findViewById(R.id.ln1);
--+        sc2 = findViewById(R.id.sc2);
--+
--+        tvNoReslut.setVisibility(View.GONE);
-- 
--         if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.LOLLIPOP) {
--             Window window = getWindow();
--@@ -58,33 +67,76 @@
--         }
-- 
--         categoryAdapter = new CategoryAdapter(categories);
---        binding.rvCategories.setLayoutManager(new GridLayoutManager(this, 4));
---        binding.rvCategories.setAdapter(categoryAdapter);
--+        rvCategories.setLayoutManager(new GridLayoutManager(this, 4));
--+        rvCategories.setAdapter(categoryAdapter);
--         getCategories();
-- 
---        List<Product> products = new ArrayList<>();
--+        searchViewModel = new ViewModelProvider(this).get(SearchViewModel.class);
--+
--         int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);
---        binding.rvProducts.setLayoutManager(new GridLayoutManager(this, 2));
---        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
--+        rvProducts.setLayoutManager(new GridLayoutManager(this, 2));
--+        rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
-- 
---        ProductAdapter productAdapter = new ProductAdapter(products, product -> {
---            Intent intent = new Intent(this, ProductDetailActivity.class);
---            startActivity(intent);
--+        productAdapter = new ProductAdapter(products, product -> {
--+            try {
--+                Intent intent = new Intent(SearchActivity.this, ProductDetailActivity.class);
--+                intent.putExtra("product", product);
--+                intent.putExtra("storeId", product.getStoreId());
--+                startActivity(intent);
--+            } catch (Exception e) {
--+                e.printStackTrace();
--+            }
--+        });
--+        rvProducts.setAdapter(productAdapter);
--+
--+        searchViewModel.getFilteredProducts().observe(this, filteredProducts -> {
--+            if (searchInput.getQuery().length() > 0) {
--+                if (filteredProducts != null && !filteredProducts.isEmpty()) {
--+
--+                    products.clear();
--+                    products.addAll(filteredProducts);
--+                    productAdapter.notifyDataSetChanged();
--+
--+                    tvNoReslut.setVisibility(View.GONE);
--+                    rvProducts.setVisibility(View.VISIBLE);
--+                } else {
--+                    rvProducts.setVisibility(View.GONE);
--+                    tvNoReslut.setVisibility(View.VISIBLE);
--+                }
--+            } else {
--+                tvNoReslut.setVisibility(View.GONE);
--+                rvProducts.setVisibility(View.GONE);
--+            }
--         });
---        binding.rvProducts.setAdapter(productAdapter);
---        searchViewModel.setProducts(products);
--+
--+        searchInput.setOnQueryTextListener(new androidx.appcompat.widget.SearchView.OnQueryTextListener() {
--+            @Override
--+            public boolean onQueryTextSubmit(String query) {
--+                searchViewModel.searchProductsByName(query);
--+                ln1.setVisibility(View.GONE);
--+                sc2.setVisibility(View.VISIBLE);
--+                tvNoReslut.setVisibility(View.GONE);
--+                return true;
--+            }
--+
--+            @Override
--+            public boolean onQueryTextChange(String newText) {
--+                return false;
--+            }
--+        });
--+
--+        btnBack.setOnClickListener(v -> finish());
--     }
-- 
--     private void getCategories() {
--         FirebaseFirestore db = FirebaseFirestore.getInstance();
---        List<Category> categories = new ArrayList<>();
--         db.collection("categories")
--+                .orderBy("id")
--                 .get().addOnCompleteListener(task -> {
---            if (task.isSuccessful()) {
---                categories.addAll(task.getResult().toObjects(Category.class));
---                this.categories.addAll(categories);
---                categoryAdapter.notifyDataSetChanged();
---            }
---        });
--+                    if (task.isSuccessful()) {
--+                        categories.addAll(task.getResult().toObjects(Category.class));
--+                        categoryAdapter.notifyDataSetChanged();
--+                    }
--+                });
--     }
-- }
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ /dev/null	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--@@ -1,736 +0,0 @@
---Index: app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.app.Application;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.lifecycle.AndroidViewModel;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class SignUpViewModel extends AndroidViewModel {\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseFirestore firestore;\r\n    private MutableLiveData<Boolean> signUpSuccess;\r\n    private MutableLiveData<Boolean> emailVerificationSent;\r\n\r\n    public SignUpViewModel(@NonNull Application application) {\r\n        super(application);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        firestore = FirebaseFirestore.getInstance();\r\n        signUpSuccess = new MutableLiveData<>();\r\n        emailVerificationSent = new MutableLiveData<>();\r\n    }\r\n\r\n    public MutableLiveData<Boolean> getSignUpSuccess() {\r\n        return signUpSuccess;\r\n    }\r\n\r\n    public MutableLiveData<Boolean> getEmailVerificationSent() {\r\n        return emailVerificationSent;\r\n    }\r\n\r\n    public void signUpWithEmail(String email, String password) {\r\n        mAuth.createUserWithEmailAndPassword(email, password)\r\n            .addOnCompleteListener(task -> {\r\n                if (task.isSuccessful()) {\r\n                    FirebaseUser user = mAuth.getCurrentUser();\r\n                    if (user != null) {\r\n                        sendEmailVerification(user);\r\n                    }\r\n                    signUpSuccess.setValue(true);\r\n                } else {\r\n                    signUpSuccess.setValue(false);\r\n                }\r\n            });\r\n    }\r\n\r\n    public void sendEmailVerification(FirebaseUser user) { // Changed to public\r\n        user.sendEmailVerification()\r\n            .addOnCompleteListener(task -> {\r\n                if (task.isSuccessful()) {\r\n                    emailVerificationSent.setValue(true);\r\n                } else {\r\n                    emailVerificationSent.setValue(false);\r\n                }\r\n            });\r\n    }\r\n\r\n    public void saveUserToFirestore(FirebaseUser firebaseUser) {\r\n        firestore.collection(\"users\").document(firebaseUser.getUid())\r\n            .get()\r\n            .addOnSuccessListener(documentSnapshot -> {\r\n                String role = \"customer\";\r\n                if (documentSnapshot.exists() && documentSnapshot.contains(\"role\")) {\r\n                    role = documentSnapshot.getString(\"role\");\r\n                }\r\n\r\n                Map<String, Object> userMap = new HashMap<>();\r\n                userMap.put(\"userId\", firebaseUser.getUid());\r\n                userMap.put(\"role\", role);\r\n                if (firebaseUser.getDisplayName() != null) {\r\n                    userMap.put(\"fullName\", firebaseUser.getDisplayName());\r\n                }\r\n                if (firebaseUser.getEmail() != null) {\r\n                    userMap.put(\"email\", firebaseUser.getEmail());\r\n                }\r\n                if (firebaseUser.getPhoneNumber() != null) {\r\n                    userMap.put(\"phoneNumber\", firebaseUser.getPhoneNumber());\r\n                }\r\n                userMap.put(\"createdAt\", new Date());\r\n                userMap.put(\"updatedAt\", new Date());\r\n\r\n                firestore.collection(\"users\").document(firebaseUser.getUid())\r\n                    .set(userMap)\r\n                    .addOnSuccessListener(aVoid -> {\r\n                    })\r\n                    .addOnFailureListener(e -> {\r\n                    });\r\n            })\r\n            .addOnFailureListener(e -> {\r\n            });\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java
------ a/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java	(date 1730453351683)
---@@ -1,10 +1,13 @@
--- package com.example.agrimart.viewmodel;
--- 
--- import android.app.Application;
---+import android.widget.Toast;
---+
--- import androidx.annotation.NonNull;
--- import androidx.lifecycle.AndroidViewModel;
--- import androidx.lifecycle.MutableLiveData;
--- import com.google.firebase.auth.FirebaseAuth;
---+import com.google.firebase.auth.FirebaseAuthUserCollisionException;
--- import com.google.firebase.auth.FirebaseUser;
--- import com.google.firebase.firestore.FirebaseFirestore;
--- 
---@@ -34,64 +37,68 @@
---         return emailVerificationSent;
---     }
--- 
----    public void signUpWithEmail(String email, String password) {
---+    public void signUpWithEmail(String email, String password, String fullName) {
---         mAuth.createUserWithEmailAndPassword(email, password)
----            .addOnCompleteListener(task -> {
----                if (task.isSuccessful()) {
----                    FirebaseUser user = mAuth.getCurrentUser();
----                    if (user != null) {
----                        sendEmailVerification(user);
----                    }
----                    signUpSuccess.setValue(true);
----                } else {
----                    signUpSuccess.setValue(false);
----                }
----            });
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        FirebaseUser user = mAuth.getCurrentUser();
---+                        if (user != null) {
---+                            sendEmailVerification(user);
---+                            saveUserToFirestore(user, fullName);
---+                        }
---+                        signUpSuccess.setValue(true);
---+                    } else {
---+                        if (task.getException() instanceof FirebaseAuthUserCollisionException) {
---+                            Toast.makeText(getApplication(), "Email đã tồn tại", Toast.LENGTH_SHORT).show();
---+                        } else {
---+                            signUpSuccess.setValue(false);
---+                        }
---+                    }
---+                });
---     }
--- 
----    public void sendEmailVerification(FirebaseUser user) { // Changed to public
---+    public void sendEmailVerification(FirebaseUser user) {
---         user.sendEmailVerification()
----            .addOnCompleteListener(task -> {
----                if (task.isSuccessful()) {
----                    emailVerificationSent.setValue(true);
----                } else {
----                    emailVerificationSent.setValue(false);
----                }
----            });
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        emailVerificationSent.setValue(true);
---+                    } else {
---+                        emailVerificationSent.setValue(false);
---+                    }
---+                });
---     }
--- 
----    public void saveUserToFirestore(FirebaseUser firebaseUser) {
---+    public void saveUserToFirestore(FirebaseUser firebaseUser, String fullName) {
---         firestore.collection("users").document(firebaseUser.getUid())
----            .get()
----            .addOnSuccessListener(documentSnapshot -> {
----                String role = "customer";
----                if (documentSnapshot.exists() && documentSnapshot.contains("role")) {
----                    role = documentSnapshot.getString("role");
----                }
---+                .get()
---+                .addOnSuccessListener(documentSnapshot -> {
---+                    String role = "customer";
---+                    if (documentSnapshot.exists() && documentSnapshot.contains("role")) {
---+                        role = documentSnapshot.getString("role");
---+                    }
--- 
----                Map<String, Object> userMap = new HashMap<>();
----                userMap.put("userId", firebaseUser.getUid());
----                userMap.put("role", role);
----                if (firebaseUser.getDisplayName() != null) {
----                    userMap.put("fullName", firebaseUser.getDisplayName());
----                }
----                if (firebaseUser.getEmail() != null) {
----                    userMap.put("email", firebaseUser.getEmail());
----                }
----                if (firebaseUser.getPhoneNumber() != null) {
----                    userMap.put("phoneNumber", firebaseUser.getPhoneNumber());
----                }
----                userMap.put("createdAt", new Date());
----                userMap.put("updatedAt", new Date());
---+                    Map<String, Object> userMap = new HashMap<>();
---+                    userMap.put("userId", firebaseUser.getUid());
---+                    userMap.put("role", role);
---+                    userMap.put("fullName", fullName);
---+                    if (firebaseUser.getEmail() != null) {
---+                        userMap.put("email", firebaseUser.getEmail());
---+                    }
---+                    if (firebaseUser.getPhoneNumber() != null) {
---+                        userMap.put("phoneNumber", firebaseUser.getPhoneNumber());
---+                    }
---+                    userMap.put("createdAt", new Date());
---+                    userMap.put("updatedAt", new Date());
--- 
----                firestore.collection("users").document(firebaseUser.getUid())
----                    .set(userMap)
----                    .addOnSuccessListener(aVoid -> {
----                    })
----                    .addOnFailureListener(e -> {
----                    });
----            })
----            .addOnFailureListener(e -> {
----            });
---+                    firestore.collection("users").document(firebaseUser.getUid())
---+                            .set(userMap)
---+                            .addOnSuccessListener(aVoid -> {
---+                            })
---+                            .addOnFailureListener(e -> {
---+                            });
---+                })
---+                .addOnFailureListener(e -> {
---+                });
---     }
---+
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/utils/Valid.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.utils;\r\n\r\nimport android.widget.TextView;\r\nimport android.util.Patterns;\r\n\r\npublic class Valid {\r\n    public static boolean isValidEmail(String email) {\r\n        return !email.isEmpty() && Patterns.EMAIL_ADDRESS.matcher(email).matches();\r\n    }\r\n\r\n    public static boolean isValidPassword(String password) {\r\n        return !password.isEmpty() && password.length() >= 8 && password.matches(\".*[A-Z].*\") && password.matches(\".*\\\\d.*\");\r\n    }\r\n\r\n    public static boolean isValidName(String name) {\r\n        return !name.isEmpty() && name.length() >= 3 && !name.matches(\".*\\\\d.*\");\r\n    }\r\n\r\n    public static boolean validateInputs(String email, String password, String name, TextView tvEmailError, TextView tvPasswordError, TextView tvNameError) {\r\n        boolean isValid = true;\r\n\r\n        if (!isValidEmail(email)) {\r\n            tvEmailError.setText(\"Email không hợp lệ\");\r\n            isValid = false;\r\n        } else {\r\n            tvEmailError.setText(\"\");\r\n        }\r\n\r\n        if (!isValidPassword(password)) {\r\n            tvPasswordError.setText(\"Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa và số\");\r\n            isValid = false;\r\n        } else {\r\n            tvPasswordError.setText(\"\");\r\n        }\r\n\r\n        if (!isValidName(name)) {\r\n            tvNameError.setText(\"Tên phải có ít nhất 3 ký tự và không được chứa số\");\r\n            isValid = false;\r\n        } else {\r\n            tvNameError.setText(\"\");\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/utils/Valid.java b/app/src/main/java/com/example/agrimart/utils/Valid.java
------ a/app/src/main/java/com/example/agrimart/utils/Valid.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/utils/Valid.java	(date 1730455032461)
---@@ -16,30 +16,7 @@
---         return !name.isEmpty() && name.length() >= 3 && !name.matches(".*\\d.*");
---     }
--- 
----    public static boolean validateInputs(String email, String password, String name, TextView tvEmailError, TextView tvPasswordError, TextView tvNameError) {
----        boolean isValid = true;
----
----        if (!isValidEmail(email)) {
----            tvEmailError.setText("Email không hợp lệ");
----            isValid = false;
----        } else {
----            tvEmailError.setText("");
----        }
----
----        if (!isValidPassword(password)) {
----            tvPasswordError.setText("Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa và số");
----            isValid = false;
----        } else {
----            tvPasswordError.setText("");
----        }
----
----        if (!isValidName(name)) {
----            tvNameError.setText("Tên phải có ít nhất 3 ký tự và không được chứa số");
----            isValid = false;
----        } else {
----            tvNameError.setText("");
----        }
----
----        return isValid;
----    }
----}
---\ No newline at end of file
---+    public static boolean isPasswordMatching(String password, String confirmPassword) {
---+        return password.equals(confirmPassword);
---+    }
---+}
---Index: app/src/main/res/layout/activity_forgot_password.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main1\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/white\"\r\n    tools:context=\".ui.Account.ForgotPasswordActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:background=\"@color/white\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.077\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        style=\"@style/title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"96dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"Đặt lại mật khẩu\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.15\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"30dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n        app:boxBackgroundColor=\"@color/white\"\r\n        app:startIconDrawable=\"@drawable/telephone\"\r\n        app:boxBackgroundMode=\"outline\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"Nhập số điện thoại của bạn\"\r\n            android:inputType=\"phone\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_continue\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"36dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"Tiếp tục\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.905\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/activity_forgot_password.xml b/app/src/main/res/layout/activity_forgot_password.xml
------ a/app/src/main/res/layout/activity_forgot_password.xml	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/res/layout/activity_forgot_password.xml	(date 1730450605012)
---@@ -45,16 +45,16 @@
---         app:layout_constraintStart_toStartOf="parent"
---         app:layout_constraintTop_toBottomOf="@+id/textView2"
---         app:boxBackgroundColor="@color/white"
----        app:startIconDrawable="@drawable/telephone"
---+        app:startIconDrawable="@drawable/email"
---         app:boxBackgroundMode="outline">
--- 
---         <com.google.android.material.textfield.TextInputEditText
----            android:id="@+id/edtPhoneNumber"
---+            android:id="@+id/edtEmail"
---             android:layout_width="match_parent"
---             android:layout_height="wrap_content"
---             android:background="@null"
----            android:hint="Nhập số điện thoại của bạn"
----            android:inputType="phone" />
---+            android:hint="Nhập email của bạn"
---+            android:inputType="textEmailAddress" />
---     </com.google.android.material.textfield.TextInputLayout>
--- 
---     <Button
---Index: app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\n\r\nimport com.example.agrimart.R;\r\n\r\npublic class ForgotPasswordActivity extends AppCompatActivity {\r\n    Button btnContinue;\r\n    ImageButton btnBack;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_forgot_password);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        addControls();\r\n        addEvents();\r\n    }\r\n\r\n    public void addControls() {\r\n        btnContinue = findViewById(R.id.btn_continue);\r\n        btnBack = findViewById(R.id.btn_back);\r\n    }\r\n\r\n    public void addEvents() {\r\n        btnContinue.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(ForgotPasswordActivity.this, EnterOTPActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        btnBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java	(date 1730438788971)
---@@ -4,7 +4,9 @@
--- import android.os.Bundle;
--- import android.view.View;
--- import android.widget.Button;
---+import android.widget.EditText;
--- import android.widget.ImageButton;
---+import android.widget.Toast;
--- 
--- import androidx.activity.EdgeToEdge;
--- import androidx.appcompat.app.AppCompatActivity;
---@@ -13,10 +15,13 @@
--- import androidx.core.view.WindowInsetsCompat;
--- 
--- import com.example.agrimart.R;
---+import com.google.firebase.auth.FirebaseAuth;
--- 
--- public class ForgotPasswordActivity extends AppCompatActivity {
---     Button btnContinue;
---     ImageButton btnBack;
---+    EditText edtEmail;
---+    private FirebaseAuth mAuth;
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---         super.onCreate(savedInstanceState);
---@@ -27,7 +32,7 @@
---             v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
---             return insets;
---         });
----
---+        mAuth = FirebaseAuth.getInstance();
---     }
--- 
---     @Override
---@@ -40,14 +45,20 @@
---     public void addControls() {
---         btnContinue = findViewById(R.id.btn_continue);
---         btnBack = findViewById(R.id.btn_back);
---+        edtEmail = findViewById(R.id.edtEmail);
---     }
--- 
---     public void addEvents() {
---         btnContinue.setOnClickListener(new View.OnClickListener() {
---             @Override
---             public void onClick(View v) {
----                Intent intent = new Intent(ForgotPasswordActivity.this, EnterOTPActivity.class);
----                startActivity(intent);
---+                String email = edtEmail.getText().toString().trim();
---+                if (email.isEmpty()) {
---+                    Toast.makeText(ForgotPasswordActivity.this, "Hãy nhập email của bạn", Toast.LENGTH_SHORT).show();
---+                } else {
---+                    sendPasswordResetEmail(email);
---+                    finish();
---+                }
---             }
---         });
---         btnBack.setOnClickListener(new View.OnClickListener() {
---@@ -59,5 +70,15 @@
--- 
---     }
--- 
---+    private void sendPasswordResetEmail(String email) {
---+        mAuth.sendPasswordResetEmail(email)
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        Toast.makeText(ForgotPasswordActivity.this, "Email đặt lại mật khẩu đã được gửi", Toast.LENGTH_SHORT).show();
---+                    } else {
---+                        Toast.makeText(ForgotPasswordActivity.this, "Gửi email thất bại", Toast.LENGTH_SHORT).show();
---+                    }
---+                });
---+    }
--- 
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.utils.Valid;\r\nimport com.example.agrimart.viewmodel.SignUpViewModel;\r\n\r\npublic class SignUpActivity extends AppCompatActivity {\r\n    private EditText edtEmail, edtPassword, edtName;\r\n    private TextView tvEmailError, tvPasswordError, tvNameError;\r\n    private Button btnSignUp;\r\n    private ImageButton btnBack;\r\n    private TextView tvHaveAccount;\r\n    private ProgressBar progressBar;\r\n\r\n    private SignUpViewModel viewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_up);\r\n\r\n        initViews();\r\n        initViewModel();\r\n    }\r\n\r\n    private void initViews() {\r\n        edtEmail = findViewById(R.id.edtEmail);\r\n        edtPassword = findViewById(R.id.edtPassword);\r\n        edtName = findViewById(R.id.edtUsername);\r\n        tvEmailError = findViewById(R.id.tvEmailError);\r\n        tvPasswordError = findViewById(R.id.tvPasswordError);\r\n        tvNameError = findViewById(R.id.tvNameError);\r\n        btnSignUp = findViewById(R.id.btn_signin);\r\n        btnBack = findViewById(R.id.btn_back);\r\n        tvHaveAccount = findViewById(R.id.haveAccount);\r\n        progressBar = findViewById(R.id.progressBar);\r\n    }\r\n\r\n    private void initViewModel() {\r\n        viewModel = new ViewModelProvider(this).get(SignUpViewModel.class);\r\n\r\n        viewModel.getSignUpSuccess().observe(this, success -> {\r\n            if (success) {\r\n                Toast.makeText(this, \"Đăng ký thành công. Vui lòng kiểm tra email để xác nhận tài khoản.\", Toast.LENGTH_SHORT).show();\r\n                startActivity(new Intent(SignUpActivity.this, VerifyActivity.class));\r\n                finish();\r\n            } else {\r\n                Toast.makeText(this, \"Lỗi khi đăng ký\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        viewModel.getEmailVerificationSent().observe(this, sent -> {\r\n            if (sent) {\r\n                Toast.makeText(this, \"Mail xác nhận đã được gửi đến email của bạn\", Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, \"Lỗi khi gửi mail\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        btnSignUp.setOnClickListener(v -> {\r\n            String email = edtEmail.getText().toString().trim();\r\n            String password = edtPassword.getText().toString().trim();\r\n            String name = edtName.getText().toString().trim();\r\n            if (Valid.validateInputs(email, password, name, tvEmailError, tvPasswordError, tvNameError)) {\r\n                viewModel.signUpWithEmail(email, password);\r\n            } else {\r\n                Toast.makeText(this, \"Thông tin không hợp lệ\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        tvHaveAccount.setOnClickListener(v -> {\r\n            Intent intent = new Intent(SignUpActivity.this, SignInActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        btnBack.setOnClickListener(v -> finish());\r\n    }\r\n}\r\n
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java	(date 1730455099523)
---@@ -2,6 +2,8 @@
--- 
--- import android.content.Intent;
--- import android.os.Bundle;
---+import android.util.Patterns;
---+import android.view.View;
--- import android.widget.Button;
--- import android.widget.EditText;
--- import android.widget.ImageButton;
---@@ -17,8 +19,8 @@
--- import com.example.agrimart.viewmodel.SignUpViewModel;
--- 
--- public class SignUpActivity extends AppCompatActivity {
----    private EditText edtEmail, edtPassword, edtName;
----    private TextView tvEmailError, tvPasswordError, tvNameError;
---+    private EditText edtEmail, edtPassword, edtName, edtConfirmPassword;
---+    private TextView tvEmailError, tvPasswordError, tvNameError, tvConfirmPasswordError;
---     private Button btnSignUp;
---     private ImageButton btnBack;
---     private TextView tvHaveAccount;
---@@ -31,24 +33,26 @@
---         super.onCreate(savedInstanceState);
---         setContentView(R.layout.activity_sign_up);
--- 
----        initViews();
----        initViewModel();
---+        addControls();
---+        addEvents();
---     }
--- 
----    private void initViews() {
---+    private void addControls() {
---         edtEmail = findViewById(R.id.edtEmail);
---         edtPassword = findViewById(R.id.edtPassword);
---         edtName = findViewById(R.id.edtUsername);
---+        edtConfirmPassword = findViewById(R.id.edtConfirmPassword);
---         tvEmailError = findViewById(R.id.tvEmailError);
---         tvPasswordError = findViewById(R.id.tvPasswordError);
---         tvNameError = findViewById(R.id.tvNameError);
---+        tvConfirmPasswordError = findViewById(R.id.tvConfirmPasswordError);
---         btnSignUp = findViewById(R.id.btn_signin);
---         btnBack = findViewById(R.id.btn_back);
---         tvHaveAccount = findViewById(R.id.haveAccount);
---         progressBar = findViewById(R.id.progressBar);
---     }
--- 
----    private void initViewModel() {
---+    private void addEvents() {
---         viewModel = new ViewModelProvider(this).get(SignUpViewModel.class);
--- 
---         viewModel.getSignUpSuccess().observe(this, success -> {
---@@ -61,20 +65,14 @@
---             }
---         });
--- 
----        viewModel.getEmailVerificationSent().observe(this, sent -> {
----            if (sent) {
----                Toast.makeText(this, "Mail xác nhận đã được gửi đến email của bạn", Toast.LENGTH_SHORT).show();
----            } else {
----                Toast.makeText(this, "Lỗi khi gửi mail", Toast.LENGTH_SHORT).show();
----            }
----        });
----
---         btnSignUp.setOnClickListener(v -> {
----            String email = edtEmail.getText().toString().trim();
----            String password = edtPassword.getText().toString().trim();
----            String name = edtName.getText().toString().trim();
----            if (Valid.validateInputs(email, password, name, tvEmailError, tvPasswordError, tvNameError)) {
----                viewModel.signUpWithEmail(email, password);
---+            if (validateInputs()) {
---+                progressBar.setVisibility(View.VISIBLE);
---+                String email = edtEmail.getText().toString().trim();
---+                String password = edtPassword.getText().toString().trim();
---+                String name = edtName.getText().toString().trim();
---+
---+                viewModel.signUpWithEmail(email, password, name);
---             } else {
---                 Toast.makeText(this, "Thông tin không hợp lệ", Toast.LENGTH_SHORT).show();
---             }
---@@ -87,4 +85,61 @@
--- 
---         btnBack.setOnClickListener(v -> finish());
---     }
---+
---+    private boolean validateInputs() {
---+        boolean isValid = true;
---+
---+        tvEmailError.setVisibility(View.GONE);
---+        tvPasswordError.setVisibility(View.GONE);
---+        tvNameError.setVisibility(View.GONE);
---+        tvConfirmPasswordError.setVisibility(View.GONE);
---+
---+        String email = edtEmail.getText().toString().trim();
---+        String password = edtPassword.getText().toString().trim();
---+        String confirmPassword = edtConfirmPassword.getText().toString().trim();
---+        String name = edtName.getText().toString().trim();
---+
---+        if (email.isEmpty()) {
---+            tvEmailError.setText("Email không được để trống");
---+            tvEmailError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (!Patterns.EMAIL_ADDRESS.matcher(email).matches()) {
---+            tvEmailError.setText("Email không hợp lệ");
---+            tvEmailError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        if (password.isEmpty()) {
---+            tvPasswordError.setText("Mật khẩu không được để trống");
---+            tvPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (password.length() < 8 || !password.matches(".*[A-Z].*") || !password.matches(".*\\d.*")) {
---+            tvPasswordError.setText("Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa và số");
---+            tvPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        if (confirmPassword.isEmpty()) {
---+            tvConfirmPasswordError.setText("Không được để trống");
---+            tvConfirmPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (!confirmPassword.equals(password)) {
---+            tvConfirmPasswordError.setText("Mật khẩu xác nhận không khớp");
---+            tvConfirmPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        if (name.isEmpty()) {
---+            tvNameError.setText("Tên không được để trống");
---+            tvNameError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (name.length() < 3 || name.matches(".*\\d.*")) {
---+            tvNameError.setText("Tên phải có ít nhất 3 ký tự và không được chứa số");
---+            tvNameError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        return isValid;
---+    }
---+
--- }
---Index: app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.MainActivity;\r\nimport com.example.agrimart.viewmodel.SignInViewModel;\r\nimport com.facebook.AccessToken;\r\nimport com.facebook.CallbackManager;\r\nimport com.facebook.FacebookCallback;\r\nimport com.facebook.FacebookException;\r\nimport com.facebook.FacebookSdk;\r\nimport com.facebook.login.LoginManager;\r\nimport com.facebook.login.LoginResult;\r\nimport com.facebook.login.widget.LoginButton;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.auth.FacebookAuthProvider;\r\nimport com.google.firebase.auth.GoogleAuthProvider;\r\n\r\npublic class SignInActivity extends AppCompatActivity {\r\n    private static final String TAG = \"SignInActivity\";\r\n    private SignInViewModel signInViewModel;\r\n    private ActivityResultLauncher<Intent> googleSignInLauncher;\r\n    private GoogleSignInOptions gso;\r\n    private SharedPreferences sharedPreferences;\r\n    private FirebaseAuth mAuth;\r\n    private CallbackManager callbackManager;\r\n\r\n    private TextView tvDonthaveAccount;\r\n    private TextView forgotPass;\r\n    private Button btnSignIn;\r\n    private Button btnSignInGoogle, btnSignInFacebook;\r\n    private TextView edtEmail, edtPassword;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_in);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        sharedPreferences = getSharedPreferences(\"user_prefs\", MODE_PRIVATE);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        if (sharedPreferences.getBoolean(\"is_logged_in\", false)) {\r\n            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n            if (currentUser != null) {\r\n                navigateToMain();\r\n                return;\r\n            }\r\n        }\r\n\r\n        signInViewModel = new ViewModelProvider(this).get(SignInViewModel.class);\r\n\r\n        gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n            .requestIdToken(getString(R.string.default_web_client_id))\r\n            .requestEmail()\r\n            .build();\r\n\r\n        googleSignInLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            result -> {\r\n                if (result.getResultCode() == RESULT_OK) {\r\n                    Intent data = result.getData();\r\n                    Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n                    try {\r\n                        GoogleSignInAccount account = task.getResult(ApiException.class);\r\n                        handleGoogleAccessToken(account);\r\n                    } catch (ApiException e) {\r\n                        Toast.makeText(this, \"Đăng nhập thất bại\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } else {\r\n                    Toast.makeText(this, \"Đăng nhập bị từ chối\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\n        FacebookSdk.sdkInitialize(getApplicationContext());\r\n        callbackManager = CallbackManager.Factory.create();\r\n\r\n        addControls();\r\n        addEvents();\r\n    }\r\n\r\n    public void addControls() {\r\n        tvDonthaveAccount = findViewById(R.id.dontHaveAccount);\r\n        forgotPass = findViewById(R.id.forgotPassword);\r\n        btnSignIn = findViewById(R.id.btnSignIn);\r\n        btnSignInGoogle = findViewById(R.id.btnSignInGoogle);\r\n        edtEmail = findViewById(R.id.edtEmail);\r\n        edtPassword = findViewById(R.id.edtPassword);\r\n        btnSignInFacebook = findViewById(R.id.btnSignInFacebook);\r\n    }\r\n\r\n    public void addEvents() {\r\n        tvDonthaveAccount.setOnClickListener(v -> {\r\n            Intent intent = new Intent(SignInActivity.this, SignUpActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        forgotPass.setOnClickListener(v -> {\r\n            Intent intent = new Intent(SignInActivity.this, ForgotPasswordActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        btnSignIn.setOnClickListener(v -> {\r\n            String email = edtEmail.getText().toString().trim();\r\n            String password = edtPassword.getText().toString().trim();\r\n            if (!email.isEmpty() && !password.isEmpty()) {\r\n                signInViewModel.signInWithEmail(email, password, this::navigateToMain);\r\n            } else {\r\n                Toast.makeText(SignInActivity.this, \"Email hoặc mật khẩu không hợp lệ\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        btnSignInGoogle.setOnClickListener(v -> {\r\n            Intent signInIntent = GoogleSignIn.getClient(this, gso).getSignInIntent();\r\n            googleSignInLauncher.launch(signInIntent);\r\n        });\r\n\r\n        btnSignInFacebook.setOnClickListener(v -> {\r\n            LoginButton loginButton = new LoginButton(this);\r\n            loginButton.setPermissions(\"email\", \"public_profile\");\r\n            loginButton.registerCallback(callbackManager, new FacebookCallback<LoginResult>() {\r\n                @Override\r\n                public void onSuccess(LoginResult loginResult) {\r\n                    handleFacebookAccessToken(loginResult.getAccessToken());\r\n                }\r\n\r\n                @Override\r\n                public void onCancel() {\r\n                    Toast.makeText(SignInActivity.this, \"Facebook login canceled\", Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                @Override\r\n                public void onError(FacebookException error) {\r\n                    Toast.makeText(SignInActivity.this, \"Facebook login failed\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n            loginButton.performClick();\r\n        });\r\n    }\r\n\r\n    private boolean isUserDataExists() {\r\n        String email = sharedPreferences.getString(\"user_email\", null);\r\n        return email != null;\r\n    }\r\n\r\n    private void saveUserData(FirebaseUser user) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"user_email\", user.getEmail());\r\n        editor.putString(\"user_name\", user.getDisplayName());\r\n        editor.apply();\r\n    }\r\n\r\n    private void handleGoogleAccessToken(GoogleSignInAccount account) {\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(account.getIdToken(), null);\r\n        signInViewModel.signInWithGoogle(credential, () -> {\r\n            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n            if (user != null) {\r\n                if (!isUserDataExists()) {\r\n                    saveUserData(user);\r\n                }\r\n                setLoginState(true);\r\n            } else {\r\n            }\r\n            navigateToMain();\r\n        });\r\n    }\r\n\r\nprivate void handleFacebookAccessToken(AccessToken token) {\r\n    AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());\r\n    signInViewModel.signInWithFacebook(credential, () -> {\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (user != null) {\r\n            if (!isUserDataExists()) {\r\n                saveUserData(user);\r\n            }\r\n            setLoginState(true);\r\n        } else {\r\n            Log.w(TAG, \"Facebook login successful but user is null\");\r\n        }\r\n        navigateToMain();\r\n    });\r\n}\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        callbackManager.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n    private void navigateToMain() {\r\n        Intent intent = new Intent(SignInActivity.this, MainActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    public void signOutFromFacebook() {\r\n    LoginManager.getInstance().logOut();\r\n    FirebaseAuth.getInstance().signOut();\r\n    setLoginState(false);\r\n    navigateToSignIn();\r\n}\r\n\r\n    private void navigateToSignIn() {\r\n        Intent intent = new Intent(SignInActivity.this, SignInActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    private void setLoginState(boolean isLoggedIn) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putBoolean(\"is_logged_in\", isLoggedIn);\r\n        editor.apply();\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java	(date 1730455530347)
---@@ -77,26 +77,26 @@
---         signInViewModel = new ViewModelProvider(this).get(SignInViewModel.class);
--- 
---         gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)
----            .requestIdToken(getString(R.string.default_web_client_id))
----            .requestEmail()
----            .build();
---+                .requestIdToken(getString(R.string.default_web_client_id))
---+                .requestEmail()
---+                .build();
--- 
---         googleSignInLauncher = registerForActivityResult(
----            new ActivityResultContracts.StartActivityForResult(),
----            result -> {
----                if (result.getResultCode() == RESULT_OK) {
----                    Intent data = result.getData();
----                    Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);
----                    try {
----                        GoogleSignInAccount account = task.getResult(ApiException.class);
----                        handleGoogleAccessToken(account);
----                    } catch (ApiException e) {
----                        Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
----                    }
----                } else {
----                    Toast.makeText(this, "Đăng nhập bị từ chối", Toast.LENGTH_SHORT).show();
----                }
----            });
---+                new ActivityResultContracts.StartActivityForResult(),
---+                result -> {
---+                    if (result.getResultCode() == RESULT_OK) {
---+                        Intent data = result.getData();
---+                        Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);
---+                        try {
---+                            GoogleSignInAccount account = task.getResult(ApiException.class);
---+                            handleGoogleAccessToken(account);
---+                        } catch (ApiException e) {
---+                            Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---+                        }
---+                    } else {
---+                        Toast.makeText(this, "Đăng nhập bị từ chối", Toast.LENGTH_SHORT).show();
---+                    }
---+                });
--- 
---         FacebookSdk.sdkInitialize(getApplicationContext());
---         callbackManager = CallbackManager.Factory.create();
---@@ -130,7 +130,7 @@
---             String email = edtEmail.getText().toString().trim();
---             String password = edtPassword.getText().toString().trim();
---             if (!email.isEmpty() && !password.isEmpty()) {
----                signInViewModel.signInWithEmail(email, password, this::navigateToMain);
---+                signInViewModel.signInWithEmail(email, password, () -> checkEmailVerification(true));
---             } else {
---                 Toast.makeText(SignInActivity.this, "Email hoặc mật khẩu không hợp lệ", Toast.LENGTH_SHORT).show();
---             }
---@@ -148,22 +148,40 @@
---                 @Override
---                 public void onSuccess(LoginResult loginResult) {
---                     handleFacebookAccessToken(loginResult.getAccessToken());
---+                    Toast.makeText(SignInActivity.this, "Đăng nhập thành công", Toast.LENGTH_SHORT).show();
---                 }
--- 
---                 @Override
---                 public void onCancel() {
----                    Toast.makeText(SignInActivity.this, "Facebook login canceled", Toast.LENGTH_SHORT).show();
---+                    Toast.makeText(SignInActivity.this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---                 }
--- 
---                 @Override
---                 public void onError(FacebookException error) {
----                    Toast.makeText(SignInActivity.this, "Facebook login failed", Toast.LENGTH_SHORT).show();
---+                    Toast.makeText(SignInActivity.this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---                 }
---             });
---             loginButton.performClick();
---         });
---     }
--- 
---+    private void checkEmailVerification(boolean isEmailSignIn) {
---+        FirebaseUser user = mAuth.getCurrentUser();
---+        if (user != null) {
---+            if (!isEmailSignIn || user.isEmailVerified()) {
---+                navigateToMain();
---+            } else {
---+                Toast.makeText(SignInActivity.this, "Vui lòng xác thực email của bạn trước khi đăng nhập", Toast.LENGTH_SHORT).show();
---+                signOut();
---+            }
---+        }
---+    }
---+
---+    private void signOut() {
---+        mAuth.signOut();
---+        setLoginState(false);
---+    }
---+
---     private boolean isUserDataExists() {
---         String email = sharedPreferences.getString("user_email", null);
---         return email != null;
---@@ -183,29 +201,30 @@
---             if (user != null) {
---                 if (!isUserDataExists()) {
---                     saveUserData(user);
---+                    Toast.makeText(this, "Đăng nhập thành công", Toast.LENGTH_SHORT).show();
---                 }
----                setLoginState(true);
---+                checkEmailVerification(false);
---             } else {
---+                Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---             }
----            navigateToMain();
---         });
---     }
--- 
----private void handleFacebookAccessToken(AccessToken token) {
----    AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());
----    signInViewModel.signInWithFacebook(credential, () -> {
----        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
----        if (user != null) {
----            if (!isUserDataExists()) {
----                saveUserData(user);
----            }
----            setLoginState(true);
----        } else {
----            Log.w(TAG, "Facebook login successful but user is null");
----        }
----        navigateToMain();
----    });
----}
---+    private void handleFacebookAccessToken(AccessToken token) {
---+        AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());
---+        signInViewModel.signInWithFacebook(credential, () -> {
---+            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
---+            if (user != null) {
---+                if (!isUserDataExists()) {
---+                    saveUserData(user);
---+                    Toast.makeText(this, "Đăng nhập thành công", Toast.LENGTH_SHORT).show();
---+                }
---+                checkEmailVerification(false);
---+            } else {
---+                Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---+            }
---+        });
---+    }
--- 
---     @Override
---     protected void onActivityResult(int requestCode, int resultCode, Intent data) {
---@@ -218,23 +237,10 @@
---         startActivity(intent);
---         finish();
---     }
----
----    public void signOutFromFacebook() {
----    LoginManager.getInstance().logOut();
----    FirebaseAuth.getInstance().signOut();
----    setLoginState(false);
----    navigateToSignIn();
----}
----
----    private void navigateToSignIn() {
----        Intent intent = new Intent(SignInActivity.this, SignInActivity.class);
----        startActivity(intent);
----        finish();
----    }
--- 
---     private void setLoginState(boolean isLoggedIn) {
---         SharedPreferences.Editor editor = sharedPreferences.edit();
---         editor.putBoolean("is_logged_in", isLoggedIn);
---         editor.apply();
---     }
----}
---\ No newline at end of file
---+}
---Index: app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.MainActivity;\r\nimport com.example.agrimart.viewmodel.SignUpViewModel;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class VerifyActivity extends AppCompatActivity {\r\n    private SignUpViewModel viewModel;\r\n    private FirebaseAuth mAuth;\r\n    private Handler handler;\r\n    private Runnable checkEmailVerifiedRunnable;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_verify);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        viewModel = new ViewModelProvider(this).get(SignUpViewModel.class);\r\n        handler = new Handler();\r\n\r\n        Button btnResendEmail = findViewById(R.id.btnResendEmail);\r\n        Button btnBackToLogin = findViewById(R.id.btnBackToLogin);\r\n\r\n        btnResendEmail.setOnClickListener(v -> {\r\n            FirebaseUser user = mAuth.getCurrentUser();\r\n            if (user != null) {\r\n                viewModel.sendEmailVerification(user);\r\n                Toast.makeText(this, \"Email xác nhận đã được gửi lại\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        btnBackToLogin.setOnClickListener(v -> {\r\n            startActivity(new Intent(VerifyActivity.this, SignInActivity.class));\r\n            finish();\r\n        });\r\n\r\n        checkEmailVerification();\r\n    }\r\n\r\n    private void checkEmailVerification() {\r\n        checkEmailVerifiedRunnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                FirebaseUser user = mAuth.getCurrentUser();\r\n                if (user != null) {\r\n                    user.reload().addOnCompleteListener(task -> {\r\n                        if (user.isEmailVerified()) {\r\n                            viewModel.saveUserToFirestore(user);\r\n                            Toast.makeText(VerifyActivity.this, \"Đăng kí thành công\", Toast.LENGTH_SHORT).show();\r\n                            startActivity(new Intent(VerifyActivity.this, MainActivity.class));\r\n                            finish();\r\n                        } else {\r\n                            handler.postDelayed(checkEmailVerifiedRunnable, 3000);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        handler.post(checkEmailVerifiedRunnable);\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        handler.removeCallbacks(checkEmailVerifiedRunnable);\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java	(date 1730452246225)
---@@ -20,6 +20,7 @@
---     private FirebaseAuth mAuth;
---     private Handler handler;
---     private Runnable checkEmailVerifiedRunnable;
---+    private String fullname;
--- 
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---@@ -33,6 +34,8 @@
---         Button btnResendEmail = findViewById(R.id.btnResendEmail);
---         Button btnBackToLogin = findViewById(R.id.btnBackToLogin);
--- 
---+        fullname = getIntent().getStringExtra("fullname");
---+
---         btnResendEmail.setOnClickListener(v -> {
---             FirebaseUser user = mAuth.getCurrentUser();
---             if (user != null) {
---@@ -57,7 +60,7 @@
---                 if (user != null) {
---                     user.reload().addOnCompleteListener(task -> {
---                         if (user.isEmailVerified()) {
----                            viewModel.saveUserToFirestore(user);
---+                            viewModel.saveUserToFirestore(user, fullname);
---                             Toast.makeText(VerifyActivity.this, "Đăng kí thành công", Toast.LENGTH_SHORT).show();
---                             startActivity(new Intent(VerifyActivity.this, MainActivity.class));
---                             finish();
---Index: app/src/main/java/com/example/agrimart/ui/MainActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.Account.SignInActivity;\r\nimport com.example.agrimart.ui.Cart.CartFragment;\r\nimport com.example.agrimart.ui.Explore.ExploreFragment;\r\nimport com.example.agrimart.ui.Homepage.HomeFragment;\r\nimport com.example.agrimart.ui.MyProfile.MyProfileFragment;\r\nimport com.example.agrimart.ui.Notification.NotificationFragment;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private SharedPreferences sharedPreferences;\r\n    private FirebaseAuth mAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_main);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, 0);\r\n            return insets;\r\n        });\r\n\r\n        sharedPreferences = getSharedPreferences(\"user_prefs\", MODE_PRIVATE);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        if (sharedPreferences.getBoolean(\"is_logged_in\", false)) {\r\n            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n            if (currentUser != null) {\r\n                navigateToHome();\r\n                fetchUserRoleAndSave(currentUser);\r\n            } else {\r\n                clearLoginState();\r\n                navigateToLogin();\r\n            }\r\n        } else {\r\n            navigateToLogin();\r\n        }\r\n\r\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigation);\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(this::onNavigationItemSelected);\r\n\r\n        if (savedInstanceState == null) {\r\n            loadFragment(new HomeFragment());\r\n            bottomNavigationView.setSelectedItemId(R.id.home);\r\n        }\r\n    }\r\n\r\n    private void navigateToHome() {\r\n        loadFragment(new HomeFragment());\r\n    }\r\n\r\n    private void navigateToLogin() {\r\n        Intent intent = new Intent(MainActivity.this, SignInActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    private void clearLoginState() {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.clear();\r\n        editor.apply();\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n\r\n    private boolean onNavigationItemSelected(MenuItem item) {\r\n        Fragment selectedFragment = null;\r\n\r\n        if (item.getItemId() == R.id.home) {\r\n            selectedFragment = new HomeFragment();\r\n        } else if (item.getItemId() == R.id.category) {\r\n            selectedFragment = new ExploreFragment();\r\n        } else if (item.getItemId() == R.id.notification) {\r\n            selectedFragment = new NotificationFragment();\r\n        } else if (item.getItemId() == R.id.profile) {\r\n            selectedFragment = new MyProfileFragment();\r\n        } else if (item.getItemId() == R.id.cart) {\r\n            selectedFragment = new CartFragment();\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n        if (selectedFragment != null) {\r\n            loadFragment(selectedFragment);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private void fetchUserRoleAndSave(FirebaseUser user) {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        DocumentReference docRef = db.collection(\"users\").document(user.getUid());\r\n        docRef.get().addOnSuccessListener(documentSnapshot -> {\r\n            if (documentSnapshot.exists()) {\r\n                String role = documentSnapshot.getString(\"role\");\r\n                if (role != null) {\r\n                    saveUserToSharedPreferences(role);\r\n                }\r\n            }\r\n        }).addOnFailureListener(e -> {\r\n        });\r\n    }\r\n\r\n    private void saveUserToSharedPreferences(String role) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"user_role\", role);\r\n        editor.apply();\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/MainActivity.java b/app/src/main/java/com/example/agrimart/ui/MainActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/MainActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/MainActivity.java	(date 1730377522637)
---@@ -46,7 +46,7 @@
---             FirebaseUser currentUser = mAuth.getCurrentUser();
---             if (currentUser != null) {
---                 navigateToHome();
----                fetchUserRoleAndSave(currentUser);
---+                getUserRole(currentUser);
---             } else {
---                 clearLoginState();
---                 navigateToLogin();
---@@ -110,7 +110,7 @@
---         return true;
---     }
--- 
----    private void fetchUserRoleAndSave(FirebaseUser user) {
---+    private void getUserRole(FirebaseUser user) {
---         FirebaseFirestore db = FirebaseFirestore.getInstance();
---         DocumentReference docRef = db.collection("users").document(user.getUid());
---         docRef.get().addOnSuccessListener(documentSnapshot -> {
---Index: app/src/main/res/values/strings.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><resources>\r\n    <string name=\"app_name\">AgriMart</string>\r\n    <string name=\"categories\">Danh mục sản phẩm</string>\r\n    <string name=\"see_all\">Xem thêm</string>\r\n    <string name=\"top_selling\">Bán chạy nhất</string>\r\n    <string name=\"home\">Trang chủ</string>\r\n    <string name=\"profile\">Tôi</string>\r\n    <string name=\"order\">Order</string>\r\n    <string name=\"newsfeed\">Tin mới</string>\r\n    <string name=\"post\">Đăng bài</string>\r\n    <string name=\"cart\">Giỏ hàng</string>\r\n    <string name=\"ng_b_n\">Đăng bán</string>\r\n    <string name=\"cho\">Chợ</string>\r\n    <string name=\"search_hint\">tim kiem san pham</string>\r\n    <string name=\"search\">Tìm kiếm sản phẩm</string>\r\n    <string name=\"ng_nh_p\">Đăng nhập</string>\r\n    <string name=\"ch_a_c_t_i_kho_n\"><u>Chưa có tài khoản?</u></string>\r\n    <string name=\"m_t_kh_u\">Mật khẩu</string>\r\n    <string name=\"continue_with_google\"> Đăng nhập bằng Google</string>\r\n    <string name=\"dang_ky\">Chưa có tài khoản? <b>Đăng ký</b></string>\r\n    <string name=\"c_t_i_kho_n\"><u>Đã có tài khoản?</u></string>\r\n    <string name=\"ng_k_b_ng_s_i_n_tho_i\">Đăng ký bằng số điện thoại</string>\r\n    <string name=\"ng_k_b_ng_email\">Đăng ký bằng email</string>\r\n    <string name=\"qu_n_m_t_kh_u\">Quên mật khẩu?</string>\r\n    <string name=\"nh_p_email_ho_c_s_i_n_tho_i\">Nhập email hoặc số điện thoại</string>\r\n    <string name=\"sodienthoai\">Số điện thoại</string>\r\n    <string name=\"g_i_l_i\"><u>Gửi lại</u></string>\r\n\r\n\r\n    <!-- PostProduct -->\r\n    <string name=\"nh_p_s_l_ng_c_n_b_n\">Your desired text here</string>\r\n    <string name=\"desc_vegetable\">Rau củ quả</string>\r\n    <string name=\"desc_fruit\">Trái cây</string>\r\n    <string name=\"desc_meat_eggs\">Trứng, thịt</string>\r\n    <string name=\"desc_milk\">Sữa, bơ, phô mai</string>\r\n    <string name=\"desc_sweets\">Bánh kẹo</string>\r\n    <string name=\"nh_s_n_ph_m_th_c_t\">Ảnh sản phẩm thực tế</string>\r\n    <string name=\"th_m_nh\">Thêm ảnh</string>\r\n    <string name=\"todo\">TODO</string>\r\n    <string name=\"t_n_s_n_ph_m\">Tên sản phẩm</string>\r\n    <string name=\"c_i_t_n_n_i_l_n_t_t_c_s_gi_p_ch_r_t_nhi_u_y\">Cái tên nói lên tất cả sẽ giúp ích rất nhiều đấy</string>\r\n    <string name=\"m_t_s_n_ph_m\">Mô tả sản phẩm</string>\r\n    <string name=\"m_t_o_n_v_n_m_t_y_s_gi_p_s_n_ph_m_c_a_b_n_b_n_d_h_n\">Một đoạn văn mô tả đầy đủ sẽ giúp sản phẩm của bạn bán dễ hơn</string>\r\n    <string name=\"ph_n_lo_i_s_n_ph_m\">Phân loại sản phẩm</string>\r\n    <string name=\"rau_c\">Rau củ</string>\r\n    <string name=\"tr_i_c_y\">Trái cây</string>\r\n    <string name=\"th_t_tr_ng\">Thịt, Trứng</string>\r\n    <string name=\"s_a_b_ph_mai\">Sữa, bơ, phô mai</string>\r\n    <string name=\"ng_t\">Đồ ngọt</string>\r\n    <string name=\"ti_p_t_c\">Tiếp tục</string>\r\n    <string name=\"gi_b_n\">Giá bán</string>\r\n    <string name=\"n_v\">Đơn vị </string>\r\n    <string name=\"hi_n_c\">Hiện có</string>\r\n    <string name=\"nh_p_gi_b_n\">Nhập giá bán</string>\r\n    <string name=\"nh_p_n_v_kg_ch_c_c_i\">Nhập đơn vị (kg, chục, cái)</string>\r\n    <string name=\"_200kg\">200kg</string>\r\n    <string name=\"s_u_ri_ng_lan_t_a\">Sầu riêng lan tỏa</string>\r\n    <string name=\"_20_ng_i_ang_h_i\">20 người đang hỏi</string>\r\n    <string name=\"dang_san_pham\">ĐĂNG SẢN PHẨM</string>\r\n    <string name=\"frash_fruits_vegetable\"><![CDATA[Frash Fruits & Vegetable]]></string>\r\n    <string name=\"add_cart\">Thêm vào giỏ hàng</string>\r\n    <string name=\"product_name\">Tên sản phẩm</string>\r\n    <string name=\"price\">50.000đ</string>\r\n    <string name=\"address\">123 Lê Trọng Tấn, Quận Tân Phú, TP.HCM</string>\r\n    <string name=\"description\">Mô tả chi tiết</string>\r\n    <string name=\"descriptions\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</string>\r\n    <string name=\"user_review\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</string>\r\n    <string name=\"my_cart\">Giỏ hàng</string>\r\n    <string name=\"notification_time\">1 phút trước</string>\r\n    <string name=\"notification_message\">Khánh vừa đặt mua sản phẩm của bạn: Chuối nhà trồng...</string>\r\n    <string name=\"cate\">Gian hàng</string>\r\n    <string name=\"t_m_theo_danh_m_c\">Tìm theo danh mục</string>\r\n    <string name=\"thong_bao\">Thông báo</string>\r\n    <string name=\"n_h_ng\">Đơn hàng</string>\r\n    <string name=\"_0\">0</string>\r\n    <string name=\"ch_l_y_h_ng\">Chờ lấy hàng</string>\r\n    <string name=\"n_h_y\">Đơn hủy</string>\r\n    <string name=\"tr_h_ng_ho_n_ti_n\">Trả hàng/Hoàn tiền</string>\r\n\r\n    <string-array name=\"filter_options\">\r\n        <item>Sort by Price</item>\r\n        <item>Newest</item>\r\n        <item>Oldest</item>\r\n    </string-array>\r\n\r\n    <style name=\"TabTextAppearance\" parent=\"TextAppearance.Design.Tab\">\r\n        <item name=\"android:textSize\">16sp</item>\r\n        <item name=\"android:textColor\">@color/black</item>\r\n        <item name=\"android:textStyle\">bold</item>\r\n    </style>\r\n\r\n    <string name=\"default_web_client_id\">689266518488-dggpokj3cbc4t7hoa53j2vsa6vt59qi4.apps.googleusercontent.com</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n    <string name=\"email\">Email</string>\r\n\r\n    //facebook\r\n    <string name=\"loginwithfacebook\">Đăng nhập bằng Facebook</string>\r\n    <string name=\"facebook_app_id\">456355280794721</string>\r\n    <string name=\"fb_login_protocol_scheme\">fb456355280794721</string>\r\n    <string name=\"facebook_client_token\">fbc7722b3ad7a34dbf443766e81403c1</string>\r\n    <string name=\"facebook_app_secret\">239308944b7f4f13d8ed33f56b79c7cc</string>\r\n    <!-- Strings used for fragments for navigation -->\r\n    <string name=\"first_fragment_label\">First Fragment</string>\r\n    <string name=\"second_fragment_label\">Second Fragment</string>\r\n    <string name=\"next\">Next</string>\r\n    <string name=\"previous\">Previous</string>\r\n\r\n    <string name=\"lorem_ipsum\">\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam in scelerisque sem. Mauris\r\n        volutpat, dolor id interdum ullamcorper, risus dolor egestas lectus, sit amet mattis purus\r\n        dui nec risus. Maecenas non sodales nisi, vel dictum dolor. Class aptent taciti sociosqu ad\r\n        litora torquent per conubia nostra, per inceptos himenaeos. Suspendisse blandit eleifend\r\n        diam, vel rutrum tellus vulputate quis. Aliquam eget libero aliquet, imperdiet nisl a,\r\n        ornare ex. Sed rhoncus est ut libero porta lobortis. Fusce in dictum tellus.\\n\\n\r\n        Suspendisse interdum ornare ante. Aliquam nec cursus lorem. Morbi id magna felis. Vivamus\r\n        egestas, est a condimentum egestas, turpis nisl iaculis ipsum, in dictum tellus dolor sed\r\n        neque. Morbi tellus erat, dapibus ut sem a, iaculis tincidunt dui. Interdum et malesuada\r\n        fames ac ante ipsum primis in faucibus. Curabitur et eros porttitor, ultricies urna vitae,\r\n        molestie nibh. Phasellus at commodo eros, non aliquet metus. Sed maximus nisl nec dolor\r\n        bibendum, vel congue leo egestas.\\n\\n\r\n        Sed interdum tortor nibh, in sagittis risus mollis quis. Curabitur mi odio, condimentum sit\r\n        amet auctor at, mollis non turpis. Nullam pretium libero vestibulum, finibus orci vel,\r\n        molestie quam. Fusce blandit tincidunt nulla, quis sollicitudin libero facilisis et. Integer\r\n        interdum nunc ligula, et fermentum metus hendrerit id. Vestibulum lectus felis, dictum at\r\n        lacinia sit amet, tristique id quam. Cras eu consequat dui. Suspendisse sodales nunc ligula,\r\n        in lobortis sem porta sed. Integer id ultrices magna, in luctus elit. Sed a pellentesque\r\n        est.\\n\\n\r\n        Aenean nunc velit, lacinia sed dolor sed, ultrices viverra nulla. Etiam a venenatis nibh.\r\n        Morbi laoreet, tortor sed facilisis varius, nibh orci rhoncus nulla, id elementum leo dui\r\n        non lorem. Nam mollis ipsum quis auctor varius. Quisque elementum eu libero sed commodo. In\r\n        eros nisl, imperdiet vel imperdiet et, scelerisque a mauris. Pellentesque varius ex nunc,\r\n        quis imperdiet eros placerat ac. Duis finibus orci et est auctor tincidunt. Sed non viverra\r\n        ipsum. Nunc quis augue egestas, cursus lorem at, molestie sem. Morbi a consectetur ipsum, a\r\n        placerat diam. Etiam vulputate dignissim convallis. Integer faucibus mauris sit amet finibus\r\n        convallis.\\n\\n\r\n        Phasellus in aliquet mi. Pellentesque habitant morbi tristique senectus et netus et\r\n        malesuada fames ac turpis egestas. In volutpat arcu ut felis sagittis, in finibus massa\r\n        gravida. Pellentesque id tellus orci. Integer dictum, lorem sed efficitur ullamcorper,\r\n        libero justo consectetur ipsum, in mollis nisl ex sed nisl. Donec maximus ullamcorper\r\n        sodales. Praesent bibendum rhoncus tellus nec feugiat. In a ornare nulla. Donec rhoncus\r\n        libero vel nunc consequat, quis tincidunt nisl eleifend. Cras bibendum enim a justo luctus\r\n        vestibulum. Fusce dictum libero quis erat maximus, vitae volutpat diam dignissim.\r\n    </string>\r\n</resources>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
------ a/app/src/main/res/values/strings.xml	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/res/values/strings.xml	(date 1730448311644)
---@@ -142,4 +142,5 @@
---         libero vel nunc consequat, quis tincidunt nisl eleifend. Cras bibendum enim a justo luctus
---         vestibulum. Fusce dictum libero quis erat maximus, vitae volutpat diam dignissim.
---     </string>
---+    <string name="verify">Email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký.</string>
--- </resources>
---\ No newline at end of file
---Index: app/src/main/res/layout/activity_verify.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Account.VerifyActivity\">\r\n\r\n    <TextView\r\n        android:id=\"@+id/tvVerifyTitle\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:text=\"Xác nhận Email\"\r\n        android:textSize=\"24sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/tvVerifyMessage\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:text=\"Một email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký.\"\r\n        android:textSize=\"16sp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tvVerifyTitle\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btnResendEmail\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"24dp\"\r\n        android:text=\"Gửi lại email\"\r\n        android:backgroundTint=\"@color/green\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tvVerifyMessage\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btnBackToLogin\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"12dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"Quay lại đăng nhập\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/btnResendEmail\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/activity_verify.xml b/app/src/main/res/layout/activity_verify.xml
------ a/app/src/main/res/layout/activity_verify.xml	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/res/layout/activity_verify.xml	(date 1730448311653)
---@@ -26,7 +26,7 @@
---         android:layout_marginTop="16dp"
---         android:layout_marginStart="24dp"
---         android:layout_marginEnd="24dp"
----        android:text="Một email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký."
---+        android:text="@string/verify"
---         android:textSize="16sp"
---         app:layout_constraintEnd_toEndOf="parent"
---         app:layout_constraintStart_toStartOf="parent"
--Index: app/src/main/res/layout/fragment_search.xml
--===================================================================
--diff --git a/app/src/main/res/layout/fragment_search.xml b/app/src/main/res/layout/fragment_search.xml
--deleted file mode 100644
----- a/app/src/main/res/layout/fragment_search.xml	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ /dev/null	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--@@ -1,25 +0,0 @@
---<?xml version="1.0" encoding="utf-8"?>
---<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
---    xmlns:tools="http://schemas.android.com/tools"
---    android:layout_width="match_parent"
---    android:layout_height="match_parent"
---    tools:context=".ui.Homepage.SearchActivity" >
---
---
---    <ScrollView
---        android:id="@+id/sc"
---        android:layout_width="match_parent"
---        android:layout_height="900dp"
---        android:layout_marginTop="25dp">
---
---        <androidx.recyclerview.widget.RecyclerView
---            android:id="@+id/rvCategories"
---            android:layout_width="match_parent"
---            android:layout_height="wrap_content"
---        >
---
---        </androidx.recyclerview.widget.RecyclerView>
---    </ScrollView>
---
---
---</RelativeLayout>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ /dev/null	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--@@ -1,9 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]" date="1730455722172" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/1/2024 5:08 PM [Changes]" />
---  <binary>
---    <option name="BEFORE_PATH" />
---    <option name="AFTER_PATH" value="app/src/main/res/drawable/email.png" />
---    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/email.png" />
---  </binary>
---</changelist>
--\ No newline at end of file
--Index: app/src/main/res/layout/item_product.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\r\n\r\n    <data>\r\n        <variable\r\n            name=\"product\"\r\n            type=\"com.example.agrimart.data.model.Product\" />\r\n    </data>\r\n\r\n    <androidx.cardview.widget.CardView\r\n        android:layout_width=\"173dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        app:cardCornerRadius=\"8dp\"\r\n        app:cardElevation=\"4dp\"\r\n        android:layout_margin=\"8dp\"\r\n        android:clipToPadding=\"false\">\r\n\r\n        <ImageView\r\n            android:id=\"@+id/imgPro\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"146dp\"\r\n            android:scaleType=\"centerCrop\"\r\n            android:src=\"@drawable/banana\" />\r\n\r\n        <RelativeLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/imgPro\"\r\n            android:padding=\"8dp\"\r\n            android:layout_marginTop=\"146dp\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/tvName\"\r\n                android:layout_width=\"129dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"12dp\"\r\n                android:textSize=\"20sp\"\r\n                android:textColor=\"#333333\"\r\n                android:letterSpacing=\"0.01\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:ellipsize=\"end\"\r\n                android:maxLines=\"1\"\r\n                android:textStyle=\"bold\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/tvPrice\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@id/tvName\"\r\n                android:textSize=\"18sp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:textColor=\"#F44336\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:letterSpacing=\"0.01\" />\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/imageButton\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:background=\"@color/transparent\"\r\n                android:layout_below=\"@id/tvName\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:layout_marginEnd=\"16dp\"\r\n                app:srcCompat=\"@drawable/ic_plus_1\" />\r\n\r\n        </RelativeLayout>\r\n\r\n    </androidx.cardview.widget.CardView>\r\n</layout>\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/item_product.xml b/app/src/main/res/layout/item_product.xml
----- a/app/src/main/res/layout/item_product.xml	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/res/layout/item_product.xml	(date 1730999241288)
--@@ -9,11 +9,9 @@
--     </data>
-- 
--     <androidx.cardview.widget.CardView
---        android:layout_width="173dp"
--+        android:layout_width="190dp"
--         android:layout_height="wrap_content"
---        app:cardCornerRadius="8dp"
---        app:cardElevation="4dp"
---        android:layout_margin="8dp"
--+        app:cardCornerRadius="5dp"
--         android:clipToPadding="false">
-- 
--         <ImageView
--@@ -38,10 +36,9 @@
--                 android:textSize="20sp"
--                 android:textColor="#333333"
--                 android:letterSpacing="0.01"
---                android:layout_marginStart="15dp"
--+                android:layout_marginStart="5dp"
--                 android:ellipsize="end"
---                android:maxLines="1"
---                android:textStyle="bold" />
--+                android:maxLines="1"/>
-- 
--             <TextView
--                 android:id="@+id/tvPrice"
--@@ -49,23 +46,12 @@
--                 android:layout_height="wrap_content"
--                 android:layout_below="@id/tvName"
--                 android:textSize="18sp"
---                android:layout_marginStart="15dp"
--+                android:layout_marginStart="8dp"
--                 android:layout_marginTop="8dp"
--                 android:textColor="#F44336"
--                 android:fontFamily="@font/gabarito"
--                 android:letterSpacing="0.01" />
-- 
---            <ImageButton
---                android:id="@+id/imageButton"
---                android:layout_width="wrap_content"
---                android:layout_height="wrap_content"
---                android:background="@color/transparent"
---                android:layout_below="@id/tvName"
---                android:layout_alignParentEnd="true"
---                android:layout_marginTop="8dp"
---                android:layout_marginEnd="16dp"
---                app:srcCompat="@drawable/ic_plus_1" />
---
--         </RelativeLayout>
-- 
--     </androidx.cardview.widget.CardView>
--Index: app/src/main/res/layout/carousel_item.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/carousel_item.xml b/app/src/main/res/layout/carousel_item.xml
--new file mode 100644
----- /dev/null	(date 1730996897074)
--+++ b/app/src/main/res/layout/carousel_item.xml	(date 1730996897074)
--@@ -0,0 +1,20 @@
--+<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
--+    android:layout_width="match_parent"
--+    android:layout_height="match_parent"
--+    xmlns:app="http://schemas.android.com/apk/res-auto"
--+    android:layout_margin="10dp">
--+
--+    <androidx.cardview.widget.CardView
--+        android:layout_width="match_parent"
--+        android:layout_height="match_parent"
--+        app:cardCornerRadius="16dp"
--+        app:cardElevation="8dp"
--+        android:layout_gravity="center">
--+
--+        <ImageView
--+            android:id="@+id/carousel_image"
--+            android:layout_width="match_parent"
--+            android:layout_height="match_parent"
--+            android:scaleType="centerCrop"/>
--+    </androidx.cardview.widget.CardView>
--+</FrameLayout>
--\ No newline at end of file
--Index: app/src/main/java/com/example/agrimart/adapter/CarouselAdapter.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/adapter/CarouselAdapter.java b/app/src/main/java/com/example/agrimart/adapter/CarouselAdapter.java
--new file mode 100644
----- /dev/null	(date 1730995639109)
--+++ b/app/src/main/java/com/example/agrimart/adapter/CarouselAdapter.java	(date 1730995639109)
--@@ -0,0 +1,51 @@
--+package com.example.agrimart.adapter;
--+
--+import android.view.LayoutInflater;
--+import android.view.View;
--+import android.view.ViewGroup;
--+import android.widget.ImageView;
--+
--+import androidx.annotation.NonNull;
--+import androidx.recyclerview.widget.RecyclerView;
--+
--+import com.bumptech.glide.Glide;
--+import com.example.agrimart.R;
--+
--+import java.util.List;
--+
--+public class CarouselAdapter extends RecyclerView.Adapter<CarouselAdapter.CarouselViewHolder> {
--+    private List<String> carouselItems;
--+
--+    public CarouselAdapter(List<String> carouselItems) {
--+        this.carouselItems = carouselItems;
--+    }
--+
--+    @NonNull
--+    @Override
--+    public CarouselViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
--+        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.carousel_item, parent, false);
--+        return new CarouselViewHolder(view);
--+    }
--+
--+    @Override
--+    public void onBindViewHolder(@NonNull CarouselViewHolder holder, int position) {
--+        String imageUrl = carouselItems.get(position);
--+        Glide.with(holder.itemView.getContext())
--+                .load(imageUrl)
--+                .into(holder.imageView);
--+    }
--+
--+    @Override
--+    public int getItemCount() {
--+        return carouselItems.size();
--+    }
--+
--+    static class CarouselViewHolder extends RecyclerView.ViewHolder {
--+        ImageView imageView;
--+
--+        public CarouselViewHolder(@NonNull View itemView) {
--+            super(itemView);
--+            imageView = itemView.findViewById(R.id.carousel_image);
--+        }
--+    }
--+}
--\ No newline at end of file
--Index: app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.adapter.EndlessRecyclerViewScrollListener;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\nimport com.example.agrimart.viewmodel.HomeFragmentViewModel;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    private static final String TAG = \"HomeFragment\";\r\n    ImageButton btnSearch;\r\n    TextView search;\r\n    HomeFragmentViewModel viewModel;\r\n    FragmentHomeBinding binding;\r\n    EndlessRecyclerViewScrollListener scrollListener;\r\n    private int totalPages;\r\n    private int currentPage = 1;\r\n    private List<Product> products=new ArrayList<>();\r\n    private DocumentSnapshot lastVisible;\r\n    ProductAdapter productAdapter;\r\n    private boolean isLoading = false;\r\n\r\n    public HomeFragment() {\r\n\r\n    }\r\n\r\n    public static HomeFragment newInstance() {\r\n        return new HomeFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        db.collection(\"products\")\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        totalPages= (task.getResult().size()/10)+1;\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_home, container, false);\r\n        viewModel = new ViewModelProvider(this).get(HomeFragmentViewModel.class);\r\n\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding.setViewmodel(viewModel);\r\n        View view = binding.getRoot();\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getActivity().getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        viewModel.getData();\r\n        viewModel.getFirstProducts();\r\n\r\n        viewModel.categories.observe(getViewLifecycleOwner(), categories -> {\r\n            if (categories != null) {\r\n                CategoryAdapter categoryAdapter = new CategoryAdapter(categories);\r\n                binding.rvCategories.setAdapter(categoryAdapter);\r\n                binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));\r\n                Log.d(TAG, \"Categories loaded: \" + categories.size());\r\n            }\r\n        });\r\n\r\n//        viewModel.products.observe(getViewLifecycleOwner(), products -> {\r\n//            if (products != null) {\r\n//                productAdapter = new ProductAdapter(products, product -> {\r\n//                    try {\r\n//                        Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n//                        intent.putExtra(\"product\", product);\r\n//                        intent.putExtra(\"storeId\", product.getStoreId());\r\n//                        startActivity(intent);\r\n//                    } catch (Exception e) {\r\n//\r\n//                    }\r\n//                });\r\n//                GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(), 2);\r\n//                binding.rvProducts.setLayoutManager(gridLayoutManager);\r\n//                binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n//                binding.rvProducts.setAdapter(productAdapter);\r\n//\r\n//            }\r\n//        });\r\n        getFirstProducts();\r\n        productAdapter= new ProductAdapter(products, product -> {\r\n            try {\r\n                Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n                intent.putExtra(\"product\", product);\r\n                intent.putExtra(\"storeId\", product.getStoreId());\r\n                startActivity(intent);\r\n            } catch (Exception e) {\r\n\r\n            }\r\n        });\r\n        GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(), 2);\r\n        binding.rvProducts.setLayoutManager(gridLayoutManager);\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n\r\n\r\n        binding.seeAll1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                getMoreProducts();\r\n            }\r\n        });\r\n\r\n\r\n\r\n        binding.scrollView.setOnScrollChangeListener(new View.OnScrollChangeListener() {\r\n            @Override\r\n            public void onScrollChange(View view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\r\n                int scrollViewHeight = binding.scrollView.getChildAt(0).getMeasuredHeight();\r\n                int scrollViewVisibleHeight = binding.scrollView.getHeight();\r\n\r\n                if (scrollY + scrollViewVisibleHeight >= scrollViewHeight) {\r\n\r\n                    if (!isLoading) {\r\n                        isLoading = true;\r\n                        binding.seeAll1.setVisibility(View.VISIBLE);\r\n\r\n                        new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                getMoreProducts();\r\n                            }\r\n                        }, 2000);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        addControls(view);\r\n        addEvents();\r\n\r\n\r\n        return view;\r\n    }\r\n\r\n    private void addEvents() {\r\n        btnSearch.setOnClickListener(v -> {\r\n            Intent intent = new Intent(getActivity(), SearchActivity.class);\r\n            getActivity().startActivity(intent);\r\n        });\r\n\r\n        search.setOnClickListener(v -> {\r\n            Intent intent = new Intent(getContext(), SearchActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void addControls(View view) {\r\n        btnSearch = view.findViewById(R.id.search_icon);\r\n        search = view.findViewById(R.id.search_input);\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getActivity().getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n    public void getFirstProducts(){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        Query first= db.collection(\"products\")\r\n                .orderBy(\"product_id\")\r\n                .limit(10);\r\n\r\n        first.get()\r\n                .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                        List<Product> productList = queryDocumentSnapshots.toObjects(Product.class);\r\n                        products.addAll(productList);\r\n                        productAdapter.notifyDataSetChanged();\r\n\r\n                        lastVisible=queryDocumentSnapshots.getDocuments()\r\n                                .get(queryDocumentSnapshots.size()-1);\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void getMoreProducts(){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        Query next= db.collection(\"products\")\r\n                .orderBy(\"product_id\")\r\n                .startAfter(lastVisible)\r\n                .limit(10);\r\n\r\n        next.get()\r\n                .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n\r\n                        List<Product> newList = queryDocumentSnapshots.toObjects(Product.class);\r\n\r\n                        products.addAll(newList);\r\n                        productAdapter.notifyDataSetChanged();\r\n                        isLoading=false;\r\n\r\n                        if(!newList.isEmpty()){\r\n                            lastVisible=queryDocumentSnapshots.getDocuments()\r\n                                    .get(queryDocumentSnapshots.size()-1);\r\n                        }\r\n                        currentPage+=1;\r\n                        if(currentPage==totalPages){\r\n                            binding.seeAll1.setVisibility(View.GONE);\r\n                        }\r\n\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
----- a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(date 1730998129768)
--@@ -5,16 +5,17 @@
-- import android.os.Bundle;
-- import androidx.annotation.NonNull;
-- import androidx.core.content.ContextCompat;
--+import androidx.core.widget.NestedScrollView;
-- import androidx.databinding.DataBindingUtil;
-- import androidx.fragment.app.Fragment;
---import androidx.lifecycle.MutableLiveData;
-- import androidx.lifecycle.ViewModelProvider;
-- import androidx.recyclerview.widget.GridLayoutManager;
--+import androidx.recyclerview.widget.LinearLayoutManager;
-- import androidx.recyclerview.widget.RecyclerView;
--+import androidx.viewpager2.widget.ViewPager2;
-- 
-- import android.os.Handler;
-- import android.os.Looper;
---import android.util.Log;
-- import android.view.LayoutInflater;
-- import android.view.View;
-- import android.view.ViewGroup;
--@@ -25,18 +26,16 @@
-- 
-- import com.example.agrimart.R;
-- import com.example.agrimart.SpacesItemDecoration;
--+import com.example.agrimart.adapter.CarouselAdapter;
-- import com.example.agrimart.adapter.CategoryAdapter;
---import com.example.agrimart.adapter.EndlessRecyclerViewScrollListener;
-- import com.example.agrimart.adapter.ProductAdapter;
-- import com.example.agrimart.data.model.Product;
-- import com.example.agrimart.databinding.FragmentHomeBinding;
-- import com.example.agrimart.ui.ProductPage.ProductDetailActivity;
-- import com.example.agrimart.viewmodel.HomeFragmentViewModel;
---import com.google.android.gms.tasks.OnSuccessListener;
-- import com.google.firebase.firestore.DocumentSnapshot;
-- import com.google.firebase.firestore.FirebaseFirestore;
-- import com.google.firebase.firestore.Query;
---import com.google.firebase.firestore.QuerySnapshot;
-- 
-- import java.util.ArrayList;
-- import java.util.List;
--@@ -47,35 +46,17 @@
--     TextView search;
--     HomeFragmentViewModel viewModel;
--     FragmentHomeBinding binding;
---    EndlessRecyclerViewScrollListener scrollListener;
--     private int totalPages;
--     private int currentPage = 1;
---    private List<Product> products=new ArrayList<>();
--+    private List<Product> products = new ArrayList<>();
--     private DocumentSnapshot lastVisible;
---    ProductAdapter productAdapter;
--     private boolean isLoading = false;
---
---    public HomeFragment() {
---
---    }
---
---    public static HomeFragment newInstance() {
---        return new HomeFragment();
---    }
---
---    @Override
---    public void onCreate(Bundle savedInstanceState) {
---        super.onCreate(savedInstanceState);
---        FirebaseFirestore db = FirebaseFirestore.getInstance();
---        db.collection("products")
---                .get()
---                .addOnCompleteListener(task -> {
---                    if (task.isSuccessful()) {
---                        totalPages= (task.getResult().size()/10)+1;
---                    }
---                });
---    }
---
--+    private ViewPager2 carouselViewPager;
--+    private CarouselAdapter carouselAdapter;
--+    private Handler carouselHandler;
--+    private Runnable carouselRunnable;
--+    private RecyclerView rvProducts;
--+    private ProductAdapter productAdapter;
-- 
--     @Override
--     public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
--@@ -99,85 +80,73 @@
--             if (categories != null) {
--                 CategoryAdapter categoryAdapter = new CategoryAdapter(categories);
--                 binding.rvCategories.setAdapter(categoryAdapter);
---                binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));
---                Log.d(TAG, "Categories loaded: " + categories.size());
--+                LinearLayoutManager layoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.HORIZONTAL, false);
--+                binding.rvCategories.setLayoutManager(layoutManager);
--             }
--         });
-- 
---//        viewModel.products.observe(getViewLifecycleOwner(), products -> {
---//            if (products != null) {
---//                productAdapter = new ProductAdapter(products, product -> {
---//                    try {
---//                        Intent intent = new Intent(getContext(), ProductDetailActivity.class);
---//                        intent.putExtra("product", product);
---//                        intent.putExtra("storeId", product.getStoreId());
---//                        startActivity(intent);
---//                    } catch (Exception e) {
---//
---//                    }
---//                });
---//                GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(), 2);
---//                binding.rvProducts.setLayoutManager(gridLayoutManager);
---//                binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
---//                binding.rvProducts.setAdapter(productAdapter);
---//
---//            }
---//        });
--+        carouselViewPager = view.findViewById(R.id.carousel_viewpager);
--+        carouselAdapter = new CarouselAdapter(getCarouselItems());
--+        carouselViewPager.setAdapter(carouselAdapter);
--+
--+        carouselHandler = new Handler(Looper.getMainLooper());
--+        carouselRunnable = new Runnable() {
--+            @Override
--+            public void run() {
--+                int currentItem = carouselViewPager.getCurrentItem();
--+                int nextItem = (currentItem + 1) % carouselAdapter.getItemCount();
--+                carouselViewPager.setCurrentItem(nextItem, true);
--+                carouselHandler.postDelayed(this, 10000); // 10 seconds delay
--+            }
--+        };
--+        carouselHandler.postDelayed(carouselRunnable, 10000);
--+
--         getFirstProducts();
---        productAdapter= new ProductAdapter(products, product -> {
--+        productAdapter = new ProductAdapter(products, product -> {
--             try {
--                 Intent intent = new Intent(getContext(), ProductDetailActivity.class);
--                 intent.putExtra("product", product);
--                 intent.putExtra("storeId", product.getStoreId());
--                 startActivity(intent);
--             } catch (Exception e) {
---
--+                e.printStackTrace();
--             }
--         });
--+        rvProducts = view.findViewById(R.id.rvProducts);
--         GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(), 2);
---        binding.rvProducts.setLayoutManager(gridLayoutManager);
---        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
---        binding.rvProducts.setAdapter(productAdapter);
---
--+        rvProducts.setLayoutManager(gridLayoutManager);
--+        rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
--+        rvProducts.setAdapter(productAdapter);
-- 
---        binding.seeAll1.setOnClickListener(new View.OnClickListener() {
---            @Override
---            public void onClick(View view) {
---                getMoreProducts();
---            }
---        });
--+        binding.seeAll1.setOnClickListener(view1 -> getMoreProducts());
-- 
---
---
---        binding.scrollView.setOnScrollChangeListener(new View.OnScrollChangeListener() {
---            @Override
---            public void onScrollChange(View view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {
---                int scrollViewHeight = binding.scrollView.getChildAt(0).getMeasuredHeight();
---                int scrollViewVisibleHeight = binding.scrollView.getHeight();
--+        binding.scrollView.setOnScrollChangeListener((NestedScrollView.OnScrollChangeListener) (view12, scrollX, scrollY, oldScrollX, oldScrollY) -> {
--+            int scrollViewHeight = binding.scrollView.getChildAt(0).getMeasuredHeight();
--+            int scrollViewVisibleHeight = binding.scrollView.getHeight();
-- 
---                if (scrollY + scrollViewVisibleHeight >= scrollViewHeight) {
---
---                    if (!isLoading) {
---                        isLoading = true;
---                        binding.seeAll1.setVisibility(View.VISIBLE);
--+            if (scrollY + scrollViewVisibleHeight >= scrollViewHeight) {
--+                if (!isLoading) {
--+                    isLoading = true;
--+                    binding.seeAll1.setVisibility(View.VISIBLE);
-- 
---                        new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {
---                            @Override
---                            public void run() {
---                                getMoreProducts();
---                            }
---                        }, 2000);
---                    }
--+                    new Handler(Looper.getMainLooper()).postDelayed(this::getMoreProducts, 2000);
--                 }
--             }
--         });
--         addControls(view);
--         addEvents();
-- 
---
--         return view;
--     }
-- 
--+    private List<String> getCarouselItems() {
--+        List<String> items = new ArrayList<>();
--+        items.add("https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/categories%2Fgiavi.jpg?alt=media&token=3670aa28-c5ff-483c-bf9a-3325bf48ce9c");
--+        items.add("https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/categories%2Fgiavi.jpg?alt=media&token=3670aa28-c5ff-483c-bf9a-3325bf48ce9c");
--+        items.add("https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/categories%2Fgiavi.jpg?alt=media&token=3670aa28-c5ff-483c-bf9a-3325bf48ce9c");
--+        return items;
--+    }
--+
--     private void addEvents() {
--         btnSearch.setOnClickListener(v -> {
--             Intent intent = new Intent(getActivity(), SearchActivity.class);
--@@ -200,56 +169,47 @@
--                 .replace(R.id.fragment_container, fragment)
--                 .commit();
--     }
---    public void getFirstProducts(){
--+
--+    public void getFirstProducts() {
--         FirebaseFirestore db = FirebaseFirestore.getInstance();
---        Query first= db.collection("products")
--+        Query first = db.collection("products")
--                 .orderBy("product_id")
--                 .limit(10);
-- 
--         first.get()
---                .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {
---                    @Override
---                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {
---                        List<Product> productList = queryDocumentSnapshots.toObjects(Product.class);
---                        products.addAll(productList);
---                        productAdapter.notifyDataSetChanged();
--+                .addOnSuccessListener(queryDocumentSnapshots -> {
--+                    List<Product> productList = queryDocumentSnapshots.toObjects(Product.class);
--+                    products.addAll(productList);
--+                    productAdapter.notifyDataSetChanged();
-- 
---                        lastVisible=queryDocumentSnapshots.getDocuments()
---                                .get(queryDocumentSnapshots.size()-1);
---                    }
--+                    lastVisible = queryDocumentSnapshots.getDocuments()
--+                            .get(queryDocumentSnapshots.size() - 1);
--                 });
--     }
-- 
---    public void getMoreProducts(){
--+    public void getMoreProducts() {
--         FirebaseFirestore db = FirebaseFirestore.getInstance();
---        Query next= db.collection("products")
--+        Query next = db.collection("products")
--                 .orderBy("product_id")
--                 .startAfter(lastVisible)
--                 .limit(10);
-- 
--         next.get()
---                .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {
---                    @Override
---                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {
---
---                        List<Product> newList = queryDocumentSnapshots.toObjects(Product.class);
--+                .addOnSuccessListener(queryDocumentSnapshots -> {
--+                    List<Product> newList = queryDocumentSnapshots.toObjects(Product.class);
-- 
---                        products.addAll(newList);
---                        productAdapter.notifyDataSetChanged();
---                        isLoading=false;
--+                    products.addAll(newList);
--+                    productAdapter.notifyDataSetChanged();
--+                    isLoading = false;
-- 
---                        if(!newList.isEmpty()){
---                            lastVisible=queryDocumentSnapshots.getDocuments()
---                                    .get(queryDocumentSnapshots.size()-1);
---                        }
---                        currentPage+=1;
---                        if(currentPage==totalPages){
---                            binding.seeAll1.setVisibility(View.GONE);
---                        }
---
--+                    if (!newList.isEmpty()) {
--+                        lastVisible = queryDocumentSnapshots.getDocuments()
--+                                .get(queryDocumentSnapshots.size() - 1);
--+                    }
--+                    currentPage += 1;
--+                    if (currentPage == totalPages) {
--+                        binding.seeAll1.setVisibility(View.GONE);
--                     }
--                 });
--     }
---
---
-- }
--\ No newline at end of file
--Index: app/src/main/res/values/strings.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><resources>\r\n    <string name=\"app_name\">AgriMart</string>\r\n    <string name=\"categories\">Danh mục sản phẩm</string>\r\n    <string name=\"see_all\">Xem thêm</string>\r\n    <string name=\"top_selling\">Bán chạy nhất</string>\r\n    <string name=\"home\">Trang chủ</string>\r\n    <string name=\"profile\">Tôi</string>\r\n    <string name=\"order\">Order</string>\r\n    <string name=\"newsfeed\">Tin mới</string>\r\n    <string name=\"post\">Đăng bài</string>\r\n    <string name=\"cart\">Giỏ hàng</string>\r\n    <string name=\"ng_b_n\">Đăng bán</string>\r\n    <string name=\"cho\">Chợ</string>\r\n    <string name=\"search_hint\">tim kiem san pham</string>\r\n    <string name=\"search\">Tìm kiếm sản phẩm</string>\r\n    <string name=\"ng_nh_p\">Đăng nhập</string>\r\n    <string name=\"ch_a_c_t_i_kho_n\"><u>Chưa có tài khoản?</u></string>\r\n    <string name=\"m_t_kh_u\">Mật khẩu</string>\r\n    <string name=\"continue_with_google\"> Đăng nhập bằng Google</string>\r\n    <string name=\"dang_ky\">Chưa có tài khoản? <b>Đăng ký</b></string>\r\n    <string name=\"c_t_i_kho_n\"><u>Đã có tài khoản?</u></string>\r\n    <string name=\"ng_k_b_ng_s_i_n_tho_i\">Đăng ký bằng số điện thoại</string>\r\n    <string name=\"ng_k_b_ng_email\">Đăng ký bằng email</string>\r\n    <string name=\"qu_n_m_t_kh_u\">Quên mật khẩu?</string>\r\n    <string name=\"nh_p_email_ho_c_s_i_n_tho_i\">Nhập email hoặc số điện thoại</string>\r\n    <string name=\"sodienthoai\">Số điện thoại</string>\r\n    <string name=\"g_i_l_i\"><u>Gửi lại</u></string>\r\n\r\n\r\n    <!-- PostProduct -->\r\n    <string name=\"nh_p_s_l_ng_c_n_b_n\">Your desired text here</string>\r\n    <string name=\"desc_vegetable\">Rau củ quả</string>\r\n    <string name=\"desc_fruit\">Trái cây</string>\r\n    <string name=\"desc_meat_eggs\">Trứng, thịt</string>\r\n    <string name=\"desc_milk\">Sữa, bơ, phô mai</string>\r\n    <string name=\"desc_sweets\">Bánh kẹo</string>\r\n    <string name=\"nh_s_n_ph_m_th_c_t\">Ảnh sản phẩm thực tế</string>\r\n    <string name=\"th_m_nh\">Thêm ảnh</string>\r\n    <string name=\"todo\">TODO</string>\r\n    <string name=\"t_n_s_n_ph_m\">Tên sản phẩm</string>\r\n    <string name=\"c_i_t_n_n_i_l_n_t_t_c_s_gi_p_ch_r_t_nhi_u_y\">Cái tên nói lên tất cả sẽ giúp ích rất nhiều đấy</string>\r\n    <string name=\"m_t_s_n_ph_m\">Mô tả sản phẩm</string>\r\n    <string name=\"m_t_o_n_v_n_m_t_y_s_gi_p_s_n_ph_m_c_a_b_n_b_n_d_h_n\">Một đoạn văn mô tả đầy đủ sẽ giúp sản phẩm của bạn bán dễ hơn</string>\r\n    <string name=\"ph_n_lo_i_s_n_ph_m\">Phân loại sản phẩm</string>\r\n    <string name=\"rau_c\">Rau củ</string>\r\n    <string name=\"tr_i_c_y\">Trái cây</string>\r\n    <string name=\"th_t_tr_ng\">Thịt, Trứng</string>\r\n    <string name=\"s_a_b_ph_mai\">Sữa, bơ, phô mai</string>\r\n    <string name=\"ng_t\">Đồ ngọt</string>\r\n    <string name=\"ti_p_t_c\">Tiếp tục</string>\r\n    <string name=\"gi_b_n\">Giá bán</string>\r\n    <string name=\"n_v\">Đơn vị </string>\r\n    <string name=\"hi_n_c\">Hiện có</string>\r\n    <string name=\"nh_p_gi_b_n\">Nhập giá bán</string>\r\n    <string name=\"nh_p_n_v_kg_ch_c_c_i\">Nhập đơn vị (kg, chục, cái)</string>\r\n    <string name=\"_200kg\">200kg</string>\r\n    <string name=\"s_u_ri_ng_lan_t_a\">Sầu riêng lan tỏa</string>\r\n    <string name=\"_20_ng_i_ang_h_i\">20 người đang hỏi</string>\r\n    <string name=\"dang_san_pham\">ĐĂNG SẢN PHẨM</string>\r\n    <string name=\"frash_fruits_vegetable\"><![CDATA[Frash Fruits & Vegetable]]></string>\r\n    <string name=\"add_cart\">Thêm vào giỏ hàng</string>\r\n    <string name=\"product_name\">Tên sản phẩm</string>\r\n    <string name=\"price\">50.000đ</string>\r\n    <string name=\"address\">123 Lê Trọng Tấn, Quận Tân Phú, TP.HCM</string>\r\n    <string name=\"description\">Mô tả chi tiết</string>\r\n    <string name=\"descriptions\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</string>\r\n    <string name=\"user_review\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</string>\r\n    <string name=\"my_cart\">Giỏ hàng</string>\r\n    <string name=\"notification_time\">1 phút trước</string>\r\n    <string name=\"notification_message\">Khánh vừa đặt mua sản phẩm của bạn: Chuối nhà trồng...</string>\r\n    <string name=\"cate\">Gian hàng</string>\r\n    <string name=\"t_m_theo_danh_m_c\">Tìm theo danh mục</string>\r\n    <string name=\"thong_bao\">Thông báo</string>\r\n    <string name=\"n_h_ng\">Đơn hàng</string>\r\n    <string name=\"_0\">0</string>\r\n    <string name=\"ch_l_y_h_ng\">Chờ lấy hàng</string>\r\n    <string name=\"n_h_y\">Đơn hủy</string>\r\n    <string name=\"tr_h_ng_ho_n_ti_n\">Trả hàng/Hoàn tiền</string>\r\n\r\n    <string-array name=\"filter_options\">\r\n        <item>Sort by Price</item>\r\n        <item>Newest</item>\r\n        <item>Oldest</item>\r\n    </string-array>\r\n\r\n    <style name=\"TabTextAppearance\" parent=\"TextAppearance.Design.Tab\">\r\n        <item name=\"android:textSize\">16sp</item>\r\n        <item name=\"android:textColor\">@color/black</item>\r\n        <item name=\"android:textStyle\">bold</item>\r\n    </style>\r\n\r\n    <string name=\"default_web_client_id\">689266518488-dggpokj3cbc4t7hoa53j2vsa6vt59qi4.apps.googleusercontent.com</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n    <string name=\"email\">Email</string>\r\n\r\n    //facebook\r\n    <string name=\"loginwithfacebook\">Đăng nhập bằng Facebook</string>\r\n    <string name=\"facebook_app_id\">456355280794721</string>\r\n    <string name=\"fb_login_protocol_scheme\">fb456355280794721</string>\r\n    <string name=\"facebook_client_token\">fbc7722b3ad7a34dbf443766e81403c1</string>\r\n    <string name=\"facebook_app_secret\">239308944b7f4f13d8ed33f56b79c7cc</string>\r\n    <!-- Strings used for fragments for navigation -->\r\n    <string name=\"first_fragment_label\">First Fragment</string>\r\n    <string name=\"second_fragment_label\">Second Fragment</string>\r\n    <string name=\"next\">Next</string>\r\n    <string name=\"previous\">Previous</string>\r\n\r\n    <string name=\"lorem_ipsum\">\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam in scelerisque sem. Mauris\r\n        volutpat, dolor id interdum ullamcorper, risus dolor egestas lectus, sit amet mattis purus\r\n        dui nec risus. Maecenas non sodales nisi, vel dictum dolor. Class aptent taciti sociosqu ad\r\n        litora torquent per conubia nostra, per inceptos himenaeos. Suspendisse blandit eleifend\r\n        diam, vel rutrum tellus vulputate quis. Aliquam eget libero aliquet, imperdiet nisl a,\r\n        ornare ex. Sed rhoncus est ut libero porta lobortis. Fusce in dictum tellus.\\n\\n\r\n        Suspendisse interdum ornare ante. Aliquam nec cursus lorem. Morbi id magna felis. Vivamus\r\n        egestas, est a condimentum egestas, turpis nisl iaculis ipsum, in dictum tellus dolor sed\r\n        neque. Morbi tellus erat, dapibus ut sem a, iaculis tincidunt dui. Interdum et malesuada\r\n        fames ac ante ipsum primis in faucibus. Curabitur et eros porttitor, ultricies urna vitae,\r\n        molestie nibh. Phasellus at commodo eros, non aliquet metus. Sed maximus nisl nec dolor\r\n        bibendum, vel congue leo egestas.\\n\\n\r\n        Sed interdum tortor nibh, in sagittis risus mollis quis. Curabitur mi odio, condimentum sit\r\n        amet auctor at, mollis non turpis. Nullam pretium libero vestibulum, finibus orci vel,\r\n        molestie quam. Fusce blandit tincidunt nulla, quis sollicitudin libero facilisis et. Integer\r\n        interdum nunc ligula, et fermentum metus hendrerit id. Vestibulum lectus felis, dictum at\r\n        lacinia sit amet, tristique id quam. Cras eu consequat dui. Suspendisse sodales nunc ligula,\r\n        in lobortis sem porta sed. Integer id ultrices magna, in luctus elit. Sed a pellentesque\r\n        est.\\n\\n\r\n        Aenean nunc velit, lacinia sed dolor sed, ultrices viverra nulla. Etiam a venenatis nibh.\r\n        Morbi laoreet, tortor sed facilisis varius, nibh orci rhoncus nulla, id elementum leo dui\r\n        non lorem. Nam mollis ipsum quis auctor varius. Quisque elementum eu libero sed commodo. In\r\n        eros nisl, imperdiet vel imperdiet et, scelerisque a mauris. Pellentesque varius ex nunc,\r\n        quis imperdiet eros placerat ac. Duis finibus orci et est auctor tincidunt. Sed non viverra\r\n        ipsum. Nunc quis augue egestas, cursus lorem at, molestie sem. Morbi a consectetur ipsum, a\r\n        placerat diam. Etiam vulputate dignissim convallis. Integer faucibus mauris sit amet finibus\r\n        convallis.\\n\\n\r\n        Phasellus in aliquet mi. Pellentesque habitant morbi tristique senectus et netus et\r\n        malesuada fames ac turpis egestas. In volutpat arcu ut felis sagittis, in finibus massa\r\n        gravida. Pellentesque id tellus orci. Integer dictum, lorem sed efficitur ullamcorper,\r\n        libero justo consectetur ipsum, in mollis nisl ex sed nisl. Donec maximus ullamcorper\r\n        sodales. Praesent bibendum rhoncus tellus nec feugiat. In a ornare nulla. Donec rhoncus\r\n        libero vel nunc consequat, quis tincidunt nisl eleifend. Cras bibendum enim a justo luctus\r\n        vestibulum. Fusce dictum libero quis erat maximus, vitae volutpat diam dignissim.\r\n    </string>\r\n    <string name=\"verify\">Email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký.</string>\r\n    <string name=\"new_product\">Mới nhất</string>\r\n</resources>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
----- a/app/src/main/res/values/strings.xml	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/res/values/strings.xml	(date 1731060991275)
--@@ -144,4 +144,6 @@
--     </string>
--     <string name="verify">Email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký.</string>
--     <string name="new_product">Mới nhất</string>
--+    <string name="goi_y">Gợi ý cho bạn</string>
--+    <string name="no_reslut">Không tìm thấy kết quả đã nhập</string>
-- </resources>
--\ No newline at end of file
--Index: app/src/main/res/layout/item_store.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/item_store.xml b/app/src/main/res/layout/item_store.xml
--new file mode 100644
----- /dev/null	(date 1731057112469)
--+++ b/app/src/main/res/layout/item_store.xml	(date 1731057112469)
--@@ -0,0 +1,38 @@
--+<?xml version="1.0" encoding="utf-8"?>
--+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
--+    android:layout_width="match_parent"
--+    android:layout_height="wrap_content"
--+    android:orientation="vertical"
--+    android:padding="16dp">
--+
--+    <!-- Store information -->
--+    <LinearLayout
--+        android:layout_width="match_parent"
--+        android:layout_height="wrap_content"
--+        android:orientation="horizontal"
--+        android:gravity="center_vertical">
--+
--+        <ImageView
--+            android:id="@+id/store_image"
--+            android:layout_width="40dp"
--+            android:layout_height="40dp"
--+            android:layout_marginEnd="12dp"
--+            android:src="@drawable/user"
--+            android:scaleType="centerCrop"/>
--+
--+        <TextView
--+            android:id="@+id/store_name"
--+            android:layout_width="wrap_content"
--+            android:layout_height="wrap_content"
--+            android:textSize="18sp"
--+            android:textColor="@android:color/black"
--+            android:text="Store Name" />
--+    </LinearLayout>
--+
--+    <androidx.recyclerview.widget.RecyclerView
--+        android:id="@+id/rv_products"
--+        android:layout_width="match_parent"
--+        android:layout_height="wrap_content"
--+        android:layout_marginTop="8dp"/>
--+
--+</LinearLayout>
--\ No newline at end of file
--Index: app/src/main/java/com/example/agrimart/adapter/StoreAdapter.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/adapter/StoreAdapter.java b/app/src/main/java/com/example/agrimart/adapter/StoreAdapter.java
--new file mode 100644
----- /dev/null	(date 1731057259677)
--+++ b/app/src/main/java/com/example/agrimart/adapter/StoreAdapter.java	(date 1731057259677)
--@@ -0,0 +1,66 @@
--+package com.example.agrimart.adapter;
--+
--+import android.view.LayoutInflater;
--+import android.view.View;
--+import android.view.ViewGroup;
--+import android.widget.TextView;
--+
--+import androidx.annotation.NonNull;
--+import androidx.recyclerview.widget.LinearLayoutManager;
--+import androidx.recyclerview.widget.RecyclerView;
--+
--+import com.example.agrimart.R;
--+import com.example.agrimart.data.model.Store;
--+
--+import java.util.List;
--+
--+public class StoreAdapter extends RecyclerView.Adapter<StoreAdapter.StoreViewHolder> {
--+
--+    private List<Store> stores;
--+    private OnStoreClickListener onStoreClickListener;
--+
--+    public StoreAdapter(List<Store> stores, OnStoreClickListener onStoreClickListener) {
--+        this.stores = stores;
--+        this.onStoreClickListener = onStoreClickListener;
--+    }
--+
--+    @NonNull
--+    @Override
--+    public StoreViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
--+        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_store, parent, false);
--+        return new StoreViewHolder(view);
--+    }
--+
--+    @Override
--+    public void onBindViewHolder(@NonNull StoreViewHolder holder, int position) {
--+        Store store = stores.get(position);
--+        holder.storeName.setText(store.getName());
--+        holder.itemView.setOnClickListener(v -> onStoreClickListener.onStoreClick(store));
--+
--+        ProductAdapter productAdapter = new ProductAdapter(store.getProducts(), product -> {
--+
--+        });
--+        holder.rvProducts.setLayoutManager(new LinearLayoutManager(holder.itemView.getContext(), LinearLayoutManager.HORIZONTAL, false));
--+        holder.rvProducts.setAdapter(productAdapter);
--+    }
--+
--+    @Override
--+    public int getItemCount() {
--+        return stores.size();
--+    }
--+
--+    public interface OnStoreClickListener {
--+        void onStoreClick(Store store);
--+    }
--+
--+    static class StoreViewHolder extends RecyclerView.ViewHolder {
--+        TextView storeName;
--+        RecyclerView rvProducts;
--+
--+        StoreViewHolder(@NonNull View itemView) {
--+            super(itemView);
--+            storeName = itemView.findViewById(R.id.store_name);
--+            rvProducts = itemView.findViewById(R.id.rv_products);
--+        }
--+    }
--+}
--\ No newline at end of file
--Index: app/src/main/res/layout/category_item_1.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"173dp\"\r\n    android:layout_height=\"189dp\"\r\n    android:background=\"@drawable/bg_category_1\">\r\n\r\n    <ImageView\r\n        android:id=\"@+id/imgCate\"\r\n        android:layout_width=\"111dp\"\r\n        android:layout_height=\"74dp\"\r\n        android:scaleType=\"centerCrop\"\r\n        android:layout_centerHorizontal=\"true\"\r\n        android:layout_marginTop=\"28dp\"\r\n        app:srcCompat=\"@drawable/frash_fruits\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/tvName\"\r\n        android:layout_width=\"93dp\"\r\n        android:layout_height=\"44dp\"\r\n        android:layout_below=\"@id/imgCate\"\r\n        android:layout_centerHorizontal=\"true\"\r\n        android:layout_marginTop=\"27dp\"\r\n        android:ellipsize=\"end\"\r\n        android:gravity=\"center\"\r\n        android:textColor=\"#181725\"\r\n        android:textSize=\"16sp\"\r\n        android:letterSpacing=\"0.01\"\r\n        android:text=\"@string/frash_fruits_vegetable\" />\r\n</RelativeLayout>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/category_item_1.xml b/app/src/main/res/layout/category_item_1.xml
----- a/app/src/main/res/layout/category_item_1.xml	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/res/layout/category_item_1.xml	(date 1730995327100)
--@@ -1,30 +1,37 @@
---<?xml version="1.0" encoding="utf-8"?>
-- <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
--     xmlns:app="http://schemas.android.com/apk/res-auto"
---    android:layout_width="173dp"
---    android:layout_height="189dp"
---    android:background="@drawable/bg_category_1">
--+    android:layout_width="100dp"
--+    android:layout_height="120dp">
--+
-- 
---    <ImageView
---        android:id="@+id/imgCate"
---        android:layout_width="111dp"
---        android:layout_height="74dp"
---        android:scaleType="centerCrop"
---        android:layout_centerHorizontal="true"
---        android:layout_marginTop="28dp"
---        app:srcCompat="@drawable/frash_fruits" />
--+    <RelativeLayout
--+        android:layout_width="match_parent"
--+        android:layout_height="match_parent"
--+        android:padding="8dp"
--+        android:layout_margin="1dp"
--+        android:background="@color/white">
--+
--+        <de.hdodenhof.circleimageview.CircleImageView
--+            android:id="@+id/imgCate"
--+            android:layout_width="60dp"
--+            android:layout_height="60dp"
--+            android:layout_marginTop="8dp"
--+            android:scaleType="centerCrop"
--+            android:src="@drawable/vegetable"
--+            android:layout_centerHorizontal="true"
--+            app:civ_circle_background_color="@color/white" />
-- 
---    <TextView
---        android:id="@+id/tvName"
---        android:layout_width="93dp"
---        android:layout_height="44dp"
---        android:layout_below="@id/imgCate"
---        android:layout_centerHorizontal="true"
---        android:layout_marginTop="27dp"
---        android:ellipsize="end"
---        android:gravity="center"
---        android:textColor="#181725"
---        android:textSize="16sp"
---        android:letterSpacing="0.01"
---        android:text="@string/frash_fruits_vegetable" />
--+        <TextView
--+            android:id="@+id/tvName"
--+            android:layout_width="wrap_content"
--+            android:layout_height="wrap_content"
--+            android:layout_marginTop="4dp"
--+            android:text="@string/rau_c"
--+            android:textColor="#181725"
--+            android:layout_centerHorizontal="true"
--+            android:textSize="14sp"
--+            android:layout_below="@id/imgCate"
--+            android:textStyle="bold" />
--+    </RelativeLayout>
--+
-- </RelativeLayout>
--\ No newline at end of file
--Index: app/src/main/res/layout/fragment_home.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout xmlns:tools=\"http://schemas.android.com/tools\"\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\r\n\r\n    <data>\r\n        <variable\r\n            name=\"viewmodel\"\r\n            type=\"com.example.agrimart.viewmodel.HomeFragmentViewModel\" />\r\n    </data>\r\n    <RelativeLayout\r\n        android:id=\"@+id/main1\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n\r\n        tools:context=\".ui.Homepage.HomeFragment\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:id=\"@+id/header\"\r\n            android:background=\"@color/green\"\r\n            android:orientation=\"horizontal\"\r\n            android:padding=\"16dp\">\r\n            <RelativeLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:id=\"@+id/top\">\r\n\r\n            </RelativeLayout>\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:id=\"@+id/search_card\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"1\"\r\n                app:cardCornerRadius=\"8dp\"\r\n                app:cardElevation=\"4dp\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\"\r\n                    android:padding=\"8dp\"\r\n                    android:id=\"@+id/search_bar\">\r\n\r\n                    <ImageButton\r\n                        android:id=\"@+id/search_icon\"\r\n                        android:layout_width=\"32dp\"\r\n                        android:layout_height=\"32dp\"\r\n                        android:src=\"@drawable/ic_search\"\r\n                        android:tint=\"@color/black\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginEnd=\"8dp\"\r\n                        android:background=\"@color/white\"/>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/search_input\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_weight=\"1\"\r\n                        android:hint=\"@string/search\"\r\n                        android:background=\"@null\"\r\n                        android:padding=\"8dp\"\r\n                        android:textColor=\"@android:color/black\"\r\n                        android:textColorHint=\"@android:color/darker_gray\" />\r\n                </LinearLayout>\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/notification_icon\"\r\n                android:layout_width=\"32dp\"\r\n                android:layout_height=\"32dp\"\r\n                android:layout_gravity=\"center_vertical\"\r\n                android:layout_marginStart=\"10dp\"\r\n                android:layout_marginEnd=\"4dp\"\r\n                android:background=\"@color/green\"\r\n                android:src=\"@drawable/message\"\r\n                android:tint=\"@color/black\" />\r\n        </LinearLayout>\r\n\r\n        <androidx.core.widget.NestedScrollView\r\n            android:id=\"@+id/scroll_view\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/header\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"vertical\"\r\n                android:layout_marginTop=\"10dp\">\r\n\r\n                <RelativeLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\">\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/categories\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginStart=\"24dp\"\r\n                        android:fontFamily=\"@font/circular_std\"\r\n                        android:text=\"@string/categories\"\r\n                        android:textColor=\"#272727\"\r\n                        android:textSize=\"20sp\"\r\n                        android:textStyle=\"bold\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/see_all\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_alignParentEnd=\"true\"\r\n                        android:layout_marginEnd=\"23dp\"\r\n                        android:fontFamily=\"@font/circular_std\"\r\n                        android:text=\"@string/see_all\"\r\n                        android:textColor=\"@color/black\"\r\n                        android:textSize=\"14sp\" />\r\n                </RelativeLayout>\r\n\r\n                <androidx.recyclerview.widget.RecyclerView\r\n                    android:id=\"@+id/rvCategories\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:padding=\"8dp\"\r\n                    android:clipToPadding=\"false\" />\r\n                <RelativeLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\">\r\n                    <TextView\r\n                        android:id=\"@+id/top_selling\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:textSize=\"20sp\"\r\n                        android:text=\"@string/new_product\"\r\n                        android:layout_marginTop=\"24dp\"\r\n                        android:textColor=\"#272727\"\r\n                        android:fontFamily=\"@font/gabarito\"\r\n                        android:layout_marginStart=\"24dp\" />\r\n\r\n\r\n                </RelativeLayout>\r\n\r\n                <androidx.recyclerview.widget.RecyclerView\r\n                    android:id=\"@+id/rvProducts\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:nestedScrollingEnabled=\"false\"\r\n                    android:padding=\"10dp\"/>\r\n                <TextView\r\n                    android:id=\"@+id/see_all1\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"14sp\"\r\n                    android:layout_marginTop=\"16dp\"\r\n                    android:fontFamily=\"@font/circular_std\"\r\n                    android:text=\"Đang tải...\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:padding=\"8dp\"\r\n                    android:textColor=\"@color/black\" />\r\n\r\n            </LinearLayout>\r\n        </androidx.core.widget.NestedScrollView>\r\n    </RelativeLayout>\r\n</layout>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/fragment_home.xml b/app/src/main/res/layout/fragment_home.xml
----- a/app/src/main/res/layout/fragment_home.xml	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/res/layout/fragment_home.xml	(date 1730998742605)
--@@ -12,7 +12,6 @@
--         android:id="@+id/main1"
--         android:layout_width="match_parent"
--         android:layout_height="match_parent"
---
--         tools:context=".ui.Homepage.HomeFragment">
-- 
--         <LinearLayout
--@@ -26,7 +25,6 @@
--                 android:layout_width="wrap_content"
--                 android:layout_height="wrap_content"
--                 android:id="@+id/top">
---
--             </RelativeLayout>
-- 
--             <androidx.cardview.widget.CardView
--@@ -88,12 +86,18 @@
--             <LinearLayout
--                 android:layout_width="match_parent"
--                 android:layout_height="wrap_content"
---                android:orientation="vertical"
---                android:layout_marginTop="10dp">
--+                android:orientation="vertical">
--+
--+                <androidx.viewpager2.widget.ViewPager2
--+                    android:id="@+id/carousel_viewpager"
--+                    android:layout_width="match_parent"
--+                    android:layout_height="200dp"
--+                    android:layout_below="@id/header"/>
-- 
--                 <RelativeLayout
--                     android:layout_width="match_parent"
---                    android:layout_height="wrap_content">
--+                    android:layout_height="wrap_content"
--+                    android:layout_marginTop="10dp">
-- 
--                     <TextView
--                         android:id="@+id/categories"
--@@ -105,17 +109,6 @@
--                         android:textColor="#272727"
--                         android:textSize="20sp"
--                         android:textStyle="bold" />
---
---                    <TextView
---                        android:id="@+id/see_all"
---                        android:layout_width="wrap_content"
---                        android:layout_height="wrap_content"
---                        android:layout_alignParentEnd="true"
---                        android:layout_marginEnd="23dp"
---                        android:fontFamily="@font/circular_std"
---                        android:text="@string/see_all"
---                        android:textColor="@color/black"
---                        android:textSize="14sp" />
--                 </RelativeLayout>
-- 
--                 <androidx.recyclerview.widget.RecyclerView
--@@ -125,6 +118,7 @@
--                     android:layout_marginTop="10dp"
--                     android:padding="8dp"
--                     android:clipToPadding="false" />
--+
--                 <RelativeLayout
--                     android:layout_width="match_parent"
--                     android:layout_height="wrap_content">
--@@ -133,7 +127,7 @@
--                         android:layout_width="wrap_content"
--                         android:layout_height="wrap_content"
--                         android:textSize="20sp"
---                        android:text="@string/new_product"
--+                        android:text="Dành riêng cho bạn"
--                         android:layout_marginTop="24dp"
--                         android:textColor="#272727"
--                         android:fontFamily="@font/gabarito"
-Index: app/src/main/java/com/example/agrimart/ui/ProductPage/ProductRatingActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductRatingActivity.java b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductRatingActivity.java
-new file mode 100644
---- /dev/null	(date 1731760408517)
-+++ b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductRatingActivity.java	(date 1731760408517)
-@@ -0,0 +1,127 @@
-+package com.example.agrimart.ui.ProductPage;
-+
-+import android.os.Bundle;
-+import android.widget.TextView;
-+
-+import androidx.activity.EdgeToEdge;
-+import androidx.appcompat.app.AppCompatActivity;
-+import androidx.core.graphics.Insets;
-+import androidx.core.view.ViewCompat;
-+import androidx.core.view.WindowInsetsCompat;
-+import androidx.lifecycle.Observer;
-+import androidx.recyclerview.widget.LinearLayoutManager;
-+import androidx.recyclerview.widget.RecyclerView;
-+
-+import com.example.agrimart.R;
-+import com.example.agrimart.adapter.RatingAdapter;
-+import com.example.agrimart.data.model.Rating;
-+import com.example.agrimart.viewmodel.ProductRatingFragmentViewModel;
-+import com.google.firebase.Timestamp;
-+
-+import java.util.ArrayList;
-+import java.util.List;
-+import java.util.Map;
-+
-+import per.wsj.library.AndRatingBar;
-+
-+public class ProductRatingActivity extends AppCompatActivity {
-+
-+    private RecyclerView ratingRecyclerView;
-+    private RatingAdapter ratingAdapter;
-+    private List<Rating> ratingList = new ArrayList<>();
-+    private String productId;
-+    private ProductRatingFragmentViewModel productRatingFragmentViewModel;
-+    private TextView numberReviews, numberRating;
-+    private AndRatingBar rating;
-+
-+    @Override
-+    protected void onCreate(Bundle savedInstanceState) {
-+        super.onCreate(savedInstanceState);
-+        EdgeToEdge.enable(this);
-+        setContentView(R.layout.activity_product_rating);
-+        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {
-+            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
-+            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
-+            return insets;
-+        });
-+
-+        addControl();
-+
-+        productId = getIntent().getStringExtra("productId");
-+
-+        productRatingFragmentViewModel.getRatingsLiveData().observe(this, new Observer<List<Map<String, Object>>>() {
-+            @Override
-+            public void onChanged(List<Map<String, Object>> ratingsData) {
-+                if (ratingsData != null) {
-+                    // Chuyển đổi danh sách Map thành danh sách Rating
-+                    ratingList.clear();
-+
-+                    Integer quantity = 0;
-+                    Double averageRating = 0.0;
-+
-+                    if (!ratingsData.isEmpty()) {
-+                        Map<String, Object> firstItem = ratingsData.get(0);
-+
-+                        // Sử dụng cast an toàn với kiểm tra null
-+                        if (firstItem.get("quantity") != null) {
-+                            quantity = (Integer) firstItem.get("quantity");
-+                        }
-+
-+                        if (firstItem.get("rating") != null) {
-+                            averageRating = ((Double) firstItem.get("rating"));
-+                        }
-+                    }
-+
-+                    numberReviews.setText("("+quantity+")");
-+                    numberRating.setText(String.format("%.1f", averageRating));
-+                    rating.setRating((float) (averageRating*1.0));
-+
-+
-+
-+                    for (int i = 1; i < ratingsData.size(); i++) {
-+                        Map<String, Object> data = ratingsData.get(i);
-+                        String userId = (String) data.get("userId");
-+
-+                        Rating rating = new Rating(
-+                                userId,
-+                                (String) data.get("rating"),
-+                                (String) data.get("review"),
-+                                (Timestamp) data.get("updatedAt"),
-+                                (String) data.get("userImage"),
-+                                (String) data.get("fullName")
-+                        );
-+
-+                        ratingList.add(rating);
-+                    }
-+
-+
-+                    // Cập nhật lại adapter
-+                    ratingAdapter.notifyDataSetChanged();
-+                }
-+            }
-+        });
-+
-+        // Fetch dữ liệu đánh giá từ Firestore
-+        productRatingFragmentViewModel.fetchProductRatings(productId);
-+
-+        // Khởi tạo RatingAdapter với danh sách Rating
-+        ratingAdapter = new RatingAdapter(this, ratingList, productRatingFragmentViewModel);
-+
-+        // Thiết lập RecyclerView với LayoutManager và Adapter
-+        ratingRecyclerView.setLayoutManager(new LinearLayoutManager(this));
-+        ratingRecyclerView.setAdapter(ratingAdapter);
-+
-+
-+    }
-+
-+    void addControl()
-+    {
-+        ratingRecyclerView = findViewById(R.id.ratingProduct);
-+        numberRating = findViewById(R.id.numberRating);
-+        numberReviews = findViewById(R.id.numberReviews);
-+        rating = findViewById(R.id.rating);
-+
-+
-+        productRatingFragmentViewModel = new ProductRatingFragmentViewModel();
-+    }
-+}
-\ No newline at end of file
-Index: app/src/main/AndroidManifest.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <uses-feature\r\n        android:name=\"android.hardware.telephony\"\r\n        android:required=\"false\" />\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.WAKE_LOCK\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n    <uses-permission android:name=\"android.permission.GET_ACCOUNTS\" />\r\n    <uses-permission android:name=\"android.permission.USE_CREDENTIALS\" />\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.READ_MEDIA_IMAGES\" />\r\n    <uses-permission android:name=\"android.permission.SEND_SMS\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\r\n        android:fullBackupContent=\"@xml/backup_rules\"\r\n        android:icon=\"@drawable/logo_icon\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@drawable/logo_icon\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.AgriMart\"\r\n        tools:ignore=\"ExtraText\"\r\n        tools:targetApi=\"31\">\r\n        <activity\r\n            android:name=\".ui.Cart.PlaceOrderActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Payment.VNPaymentActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyStore.EditProfileStoreActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.ProductPreviewActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAddress.GetAddressActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAccount.EditNumberPhoneActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAccount.ChangePasswordActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAccount.VerifyWithPasswordActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAccount.EditUserNameActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\"com.yalantis.ucrop.UCropActivity\"\r\n            android:theme=\"@style/Theme.AppCompat.NoActionBar\"\r\n            tools:replace=\"android:theme\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAddress.EditAddressActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAddress.NewAddressActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyStore.RegisterSellerActivity\"\r\n            android:exported=\"false\"\r\n            android:theme=\"@style/Theme.AgriMart\" />\r\n        <activity\r\n            android:name=\".ui.Account.VerifyActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyStore.MyStoreActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.PurchasedOrders.PurchasedOrdersActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAddress.MyAddressActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAccount.MyAccountActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Store.StoreActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyStore.OrderManagementActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Homepage.SearchActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Cart.CheckoutActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.ProductPage.ProductDetailActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.YourProductListingsActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.PostProductActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MainActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.EnterOTPActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.ForgotPasswordActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.SignUpActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Homepage.HomeFragment\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.SignInActivity\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n\r\n        <meta-data\r\n            android:name=\"com.facebook.sdk.ApplicationId\"\r\n            android:value=\"@string/facebook_app_id\" />\r\n        <meta-data\r\n            android:name=\"com.facebook.sdk.ClientToken\"\r\n            android:value=\"@string/facebook_client_token\" />\r\n\r\n        <activity\r\n            android:name=\"com.facebook.FacebookActivity\"\r\n            android:configChanges=\"keyboard|keyboardHidden|screenLayout|screenSize|orientation\"\r\n            android:label=\"@string/app_name\"\r\n            android:screenOrientation=\"portrait\"\r\n            tools:ignore=\"DiscouragedApi\" />\r\n        <activity\r\n            android:name=\"com.facebook.CustomTabActivity\"\r\n            android:exported=\"true\"\r\n            android:screenOrientation=\"portrait\"\r\n            tools:ignore=\"DiscouragedApi\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.VIEW\" />\r\n\r\n                <category android:name=\"android.intent.category.DEFAULT\" />\r\n                <category android:name=\"android.intent.category.BROWSABLE\" />\r\n\r\n                <data android:scheme=\"@string/fb_login_protocol_scheme\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
---- a/app/src/main/AndroidManifest.xml	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ b/app/src/main/AndroidManifest.xml	(date 1731758340463)
-@@ -28,6 +28,9 @@
-         tools:ignore="ExtraText"
-         tools:targetApi="31">
-         <activity
-+            android:name=".ui.ProductPage.ProductRatingActivity"
-+            android:exported="false" />
-+        <activity
-             android:name=".ui.Cart.PlaceOrderActivity"
-             android:exported="false" />
-         <activity
-Index: app/src/main/res/layout/activity_product_detail.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main1\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:padding=\"16dp\"\r\n    tools:context=\".ui.ProductPage.ProductDetailActivity\">\r\n\r\n    <LinearLayout\r\n        android:id=\"@+id/header\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"50dp\"\r\n        android:padding=\"8dp\"\r\n        android:orientation=\"horizontal\"\r\n        android:gravity=\"center\">\r\n\r\n        <!-- Nút back nằm ở đầu -->\r\n        <ImageButton\r\n            android:id=\"@+id/btn_back\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_gravity=\"start\"\r\n            android:layout_marginStart=\"8dp\"\r\n            android:layout_marginTop=\"8dp\"\r\n            android:background=\"@color/background_light\"\r\n            android:backgroundTint=\"@color/white\"\r\n            android:scaleType=\"fitCenter\"\r\n            android:src=\"@drawable/ic_left\" />\r\n\r\n        <!-- Chèn khoảng trống để đẩy nút cart sang cuối -->\r\n        <Space\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"match_parent\"\r\n            android:layout_weight=\"1\" />\r\n\r\n        <!-- Nút cart nằm ở cuối -->\r\n        <ImageButton\r\n            android:id=\"@+id/btn_cart\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_gravity=\"start\"\r\n            android:layout_marginEnd=\"8dp\"\r\n            android:background=\"@color/background_light\"\r\n            android:backgroundTint=\"@color/white\"\r\n            android:scaleType=\"fitCenter\"\r\n            android:src=\"@drawable/cart\"\r\n            app:tint=\"@color/green\" />\r\n    </LinearLayout>\r\n\r\n\r\n    <ScrollView\r\n        android:id=\"@+id/scrollView\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/header\"\r\n        android:layout_above=\"@id/footer\"\r\n        android:scrollbars=\"none\">\r\n\r\n        <RelativeLayout\r\n            android:id=\"@+id/product_detail\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n            <com.denzcoskun.imageslider.ImageSlider\r\n                android:id=\"@+id/product_image\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"300dp\"\r\n                android:background=\"@null\"\r\n                app:iss_auto_cycle=\"true\"\r\n                app:iss_period=\"1000\"\r\n                app:iss_title_background=\"@color/transparent\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_price\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginEnd=\"16dp\"\r\n                android:layout_marginBottom=\"8dp\"\r\n                android:text=\"@string/price\"\r\n                android:layout_below=\"@+id/product_name\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"28sp\"\r\n                android:textColor=\"@android:color/holo_red_dark\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_name\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"15dp\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginEnd=\"16dp\"\r\n                android:text=\"@string/product_name\"\r\n                android:layout_below=\"@+id/product_image\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"20sp\"\r\n                android:textAllCaps=\"true\"\r\n                android:textColor=\"@color/black\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/address\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginEnd=\"16dp\"\r\n                android:layout_marginBottom=\"16dp\"\r\n                android:text=\"@string/address\"\r\n                android:layout_below=\"@+id/product_price\"\r\n                android:fontFamily=\"@font/circular_std\"\r\n                android:textSize=\"16sp\"\r\n                android:drawableStart=\"@drawable/location\"/>\r\n\r\n\r\n\r\n            <RelativeLayout\r\n                android:id=\"@+id/product_description\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/address\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/description_title\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"15dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"@string/description\"\r\n                    android:textSize=\"17sp\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:textColor=\"@color/black\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/description\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_below=\"@+id/description_title\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:textSize=\"15sp\"\r\n                    android:text=\"@string/descriptions\"\r\n                    android:maxLines=\"3\"\r\n                    android:ellipsize=\"end\"/>\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/btn_expand\"\r\n                    android:layout_width=\"32dp\"\r\n                    android:layout_height=\"32dp\"\r\n                    android:layout_below=\"@+id/description\"\r\n                    android:layout_centerHorizontal=\"true\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:src=\"@drawable/down\"\r\n                    android:background=\"@color/transparent\"/>\r\n            </RelativeLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/shop_info\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/product_description\"\r\n                android:layout_margin=\"8dp\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:background=\"@color/transparent\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <androidx.cardview.widget.CardView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"8dp\"\r\n                    android:background=\"@color/background_light\"\r\n                    app:cardElevation=\"0dp\">\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/store\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"horizontal\">\r\n\r\n                        <de.hdodenhof.circleimageview.CircleImageView\r\n                            android:id=\"@+id/store_img\"\r\n                            android:layout_width=\"56dp\"\r\n                            android:layout_height=\"match_parent\"\r\n                            android:layout_marginEnd=\"16dp\"\r\n                            android:src=\"@drawable/user\"\r\n                            app:civ_border_color=\"#FF000000\"\r\n                            app:civ_border_width=\"2dp\" />\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/store_name\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Tên người bán\"\r\n                            android:textColor=\"#000000\"\r\n                            android:textSize=\"20sp\"\r\n                            android:textStyle=\"bold\" />\r\n                    </LinearLayout>\r\n                </androidx.cardview.widget.CardView>\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/reviews\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/shop_info\"\r\n                android:orientation=\"horizontal\"\r\n                android:padding=\"8dp\">\r\n\r\n\r\n            </LinearLayout>\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"16dp\"\r\n                android:layout_below=\"@id/reviews\"/>\r\n        </RelativeLayout>\r\n    </ScrollView>\r\n\r\n    <LinearLayout\r\n        android:id=\"@+id/footer\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentBottom=\"true\"\r\n        android:background=\"@drawable/rounded_product_detail\">\r\n\r\n        <Button\r\n            android:id=\"@+id/buy_now\"\r\n            android:layout_width=\"50dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:backgroundTint=\"@color/orange\"\r\n            android:layout_weight=\"1\"\r\n            android:text=\"Mua ngay\"\r\n            android:textAllCaps=\"false\"/>\r\n\r\n        <Button\r\n            android:id=\"@+id/add_cart\"\r\n            android:layout_width=\"50dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_weight=\"1\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:layout_marginEnd=\"10dp\"\r\n            android:backgroundTint=\"@color/green\"\r\n            android:text=\"Thêm vào giỏ\"\r\n            android:textAllCaps=\"false\"/>\r\n    </LinearLayout>\r\n</RelativeLayout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/activity_product_detail.xml b/app/src/main/res/layout/activity_product_detail.xml
---- a/app/src/main/res/layout/activity_product_detail.xml	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ b/app/src/main/res/layout/activity_product_detail.xml	(date 1731758251289)
-@@ -38,8 +38,8 @@
-         <!-- Nút cart nằm ở cuối -->
-         <ImageButton
-             android:id="@+id/btn_cart"
--            android:layout_width="32dp"
--            android:layout_height="32dp"
-+            android:layout_width="30dp"
-+            android:layout_height="30dp"
-             android:layout_gravity="start"
-             android:layout_marginEnd="8dp"
-             android:background="@color/background_light"
-Index: app/src/main/res/layout/item_rating_product.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:orientation=\"vertical\"\r\n    android:padding=\"8dp\">\r\n\r\n    <!-- Hàng đầu tiên: Ảnh và Tên -->\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"horizontal\">\r\n\r\n        <!-- Ảnh -->\r\n        <ImageView\r\n            android:id=\"@+id/userImage\"\r\n            android:layout_width=\"64dp\"\r\n            android:layout_height=\"64dp\"\r\n            android:scaleType=\"centerCrop\"\r\n            android:src=\"@drawable/user\" />\r\n\r\n        <!-- Tên -->\r\n        <TextView\r\n            android:id=\"@+id/itemName\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginStart=\"8dp\"\r\n            android:layout_weight=\"1\"\r\n            android:layout_gravity=\"center\"\r\n            android:text=\"User\"\r\n            android:textSize=\"16sp\"\r\n            android:textStyle=\"bold\"\r\n            android:textColor=\"@android:color/black\" />\r\n    </LinearLayout>\r\n\r\n    <!-- Hàng thứ hai: Rating và Ngày/Tháng/Năm -->\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"horizontal\"\r\n        android:layout_marginTop=\"8dp\">\r\n\r\n        <!-- Rating -->\r\n        <per.wsj.library.AndRatingBar\r\n            android:id=\"@+id/itemRatingBar\"\r\n            android:layout_width=\"90dp\"\r\n            android:layout_height=\"18dp\"\r\n            app:starColor=\"#FFD700\"\r\n            app:bgColor=\"#C0C0C0\"\r\n            app:starSpacing=\"4dp\"\r\n            android:rating=\"4.0\"\r\n            android:isIndicator=\"true\"\r\n            android:layout_marginEnd=\"8dp\" />\r\n\r\n\r\n        <!-- Ngày/Tháng/Năm -->\r\n        <TextView\r\n            android:id=\"@+id/itemDate\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"01/01/2024\"\r\n            android:textSize=\"14sp\"\r\n            android:textColor=\"@android:color/darker_gray\" />\r\n    </LinearLayout>\r\n\r\n    <!-- Hàng thứ ba: Nội dung đánh giá -->\r\n    <TextView\r\n        android:id=\"@+id/itemReview\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:text=\"Đây là một sản phẩm tuyệt vời!\"\r\n        android:textSize=\"14sp\"\r\n        android:textColor=\"@android:color/black\" />\r\n\r\n</LinearLayout>\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/item_rating_product.xml b/app/src/main/res/layout/item_rating_product.xml
---- a/app/src/main/res/layout/item_rating_product.xml	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ b/app/src/main/res/layout/item_rating_product.xml	(date 1731757873918)
-@@ -71,7 +71,7 @@
-         android:layout_height="wrap_content"
-         android:layout_marginTop="8dp"
-         android:text="Đây là một sản phẩm tuyệt vời!"
--        android:textSize="14sp"
-+        android:textSize="16sp"
-         android:textColor="@android:color/black" />
- 
- </LinearLayout>
-Index: app/src/main/res/layout/activity_product_rating.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/activity_product_rating.xml b/app/src/main/res/layout/activity_product_rating.xml
-new file mode 100644
---- /dev/null	(date 1731763909659)
-+++ b/app/src/main/res/layout/activity_product_rating.xml	(date 1731763909659)
-@@ -0,0 +1,139 @@
-+<?xml version="1.0" encoding="utf-8"?>
-+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-+    xmlns:app="http://schemas.android.com/apk/res-auto"
-+    xmlns:tools="http://schemas.android.com/tools"
-+    android:id="@+id/main"
-+    android:layout_width="match_parent"
-+    android:layout_height="match_parent"
-+    android:orientation="vertical"
-+    android:padding="16dp"
-+    tools:context=".ui.ProductPage.ProductRatingActivity">
-+
-+    <LinearLayout
-+        android:id="@+id/header"
-+        android:layout_width="match_parent"
-+        android:layout_height="50dp"
-+        android:gravity="center"
-+        android:orientation="horizontal"
-+        android:padding="8dp">
-+
-+        <!-- Nút back nằm ở đầu -->
-+        <ImageButton
-+            android:id="@+id/btn_back"
-+            android:layout_width="32dp"
-+            android:layout_height="32dp"
-+            android:layout_gravity="start"
-+            android:layout_marginStart="8dp"
-+            android:layout_marginTop="8dp"
-+            android:background="@color/background_light"
-+            android:backgroundTint="@color/white"
-+            android:scaleType="fitCenter"
-+            android:src="@drawable/ic_left" />
-+
-+        <!-- Chèn khoảng trống để đẩy nút cart sang cuối -->
-+        <Space
-+            android:layout_width="0dp"
-+            android:layout_height="match_parent"
-+            android:layout_weight="1" />
-+
-+        <!-- Nút cart nằm ở cuối -->
-+        <ImageButton
-+            android:id="@+id/btn_cart"
-+            android:layout_width="30dp"
-+            android:layout_height="30dp"
-+            android:layout_gravity="start"
-+            android:layout_marginEnd="8dp"
-+            android:background="@color/background_light"
-+            android:backgroundTint="@color/white"
-+            android:scaleType="fitCenter"
-+            android:src="@drawable/cart"
-+            app:tint="@color/green" />
-+    </LinearLayout>
-+
-+    <androidx.core.widget.NestedScrollView
-+        android:layout_width="match_parent"
-+        android:layout_height="0dp"
-+        android:layout_marginStart="10dp"
-+        android:layout_weight="1">
-+
-+        <LinearLayout
-+            android:id="@+id/llLinearLayout"
-+            android:layout_width="match_parent"
-+            android:layout_height="wrap_content"
-+            android:orientation="vertical">
-+
-+            <!-- Ratings Section -->
-+            <LinearLayout
-+                android:layout_width="match_parent"
-+                android:layout_height="wrap_content"
-+                android:orientation="horizontal"
-+                android:padding="8dp">
-+                <TextView
-+                    android:id="@+id/numberRating"
-+                    android:layout_width="wrap_content"
-+                    android:layout_height="wrap_content"
-+                    android:text="4.2"
-+                    android:textColor="@color/black"
-+                    android:textSize="20sp"
-+                    android:textStyle="bold" />
-+                <!-- Rating Bar and Number of Reviews -->
-+                <per.wsj.library.AndRatingBar
-+                    android:id="@+id/rating"
-+                    android:layout_width="130dp"
-+                    android:layout_height="30dp"
-+                    android:layout_marginStart="5dp"
-+                    android:rating="4.2"
-+                    app:bgColor="#C0C0C0"
-+                    android:isIndicator="true"
-+                    app:keepOriginColor="true"
-+                    app:starColor="#FFD700" />
-+                <TextView
-+                    android:id="@+id/numberReviews"
-+                    android:layout_width="wrap_content"
-+                    android:layout_height="wrap_content"
-+                    android:text="(100)"
-+                    android:textSize="16sp"
-+                    android:textStyle="bold" />
-+            </LinearLayout>
-+
-+            <!-- Review List -->
-+            <androidx.recyclerview.widget.RecyclerView
-+                android:id="@+id/ratingProduct"
-+                android:layout_width="match_parent"
-+                android:layout_height="wrap_content" />
-+        </LinearLayout>
-+    </androidx.core.widget.NestedScrollView>
-+
-+
-+
-+
-+    <LinearLayout
-+        android:id="@+id/footer"
-+        android:layout_width="match_parent"
-+        android:layout_height="wrap_content"
-+        android:background="@drawable/rounded_product_detail">
-+
-+        <Button
-+            android:id="@+id/buy_now"
-+            android:layout_width="50dp"
-+            android:layout_height="wrap_content"
-+            android:layout_marginStart="10dp"
-+            android:layout_weight="1"
-+            android:backgroundTint="@color/orange"
-+            android:text="Mua ngay"
-+            android:textAllCaps="false" />
-+
-+        <Button
-+            android:id="@+id/add_cart"
-+            android:layout_width="50dp"
-+            android:layout_height="wrap_content"
-+            android:layout_marginStart="10dp"
-+            android:layout_marginEnd="10dp"
-+            android:layout_weight="1"
-+            android:backgroundTint="@color/green"
-+            android:text="Thêm vào giỏ"
-+            android:textAllCaps="false" />
-+    </LinearLayout>
-+
-+
-+</LinearLayout>
-\ No newline at end of file
-Index: app/src/main/java/com/example/agrimart/viewmodel/ProductRatingFragmentViewModel.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class ProductRatingFragmentViewModel extends ViewModel {\r\n    private final FirebaseAuth auth;\r\n    private final FirebaseFirestore firestore;\r\n    private final MutableLiveData<List<Map<String, Object>>> ratingsLiveData = new MutableLiveData<>();\r\n    private final MutableLiveData<String> errorLiveData = new MutableLiveData<>();\r\n    private String userId;\r\n    private final MutableLiveData<String> userImageLiveData = new MutableLiveData<>();\r\n    private final MutableLiveData<String> fullNameLiveData = new MutableLiveData<>();\r\n\r\n    public ProductRatingFragmentViewModel() {\r\n        this.auth = FirebaseAuth.getInstance();\r\n        this.firestore = FirebaseFirestore.getInstance();\r\n    }\r\n\r\n    // Phương thức để đọc đánh giá sản phẩm từ Firestore\r\n    public void fetchProductRatings(String product_id) {\r\n        // Tham chiếu đến collection \"users\" (or your actual collection name)\r\n        firestore.collection(\"rating\").\r\n                whereEqualTo(\"product_id\", product_id)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful() && task.getResult() != null) {\r\n                        QuerySnapshot snapshot = task.getResult();\r\n                        List<Map<String, Object>> ratingsList = new ArrayList<>();\r\n\r\n                        // Iterate over all user documents\r\n                        for (QueryDocumentSnapshot document : snapshot) {\r\n                            // Get the product_id and ratings list from each user document\r\n                            String storedProductId = document.getString(\"product_id\");\r\n                            List<Map<String, Object>> ratings = (List<Map<String, Object>>) document.get(\"ratings\");\r\n\r\n                            // Check if the product_id matches\r\n                            if (storedProductId != null && storedProductId.equals(product_id) && ratings != null) {\r\n                                // If the product_id matches, iterate over the ratings list\r\n                                for (Map<String, Object> rating : ratings) {\r\n                                    Map<String, Object> ratingMap = new HashMap<>();\r\n                                    ratingMap.put(\"userId\", rating.get(\"userId\"));\r\n                                    ratingMap.put(\"rating\", rating.get(\"rating\"));\r\n                                    ratingMap.put(\"review\", rating.get(\"review\"));\r\n                                    ratingMap.put(\"updatedAt\", rating.get(\"updatedAt\"));\r\n\r\n                                    // Add to the ratings list\r\n                                    ratingsList.add(ratingMap);\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        // Set the fetched ratings data into LiveData\r\n                        ratingsLiveData.setValue(ratingsList);\r\n                    } else {\r\n                        if (task.getException() != null) {\r\n                            errorLiveData.setValue(task.getException().getMessage());\r\n                        } else {\r\n                            errorLiveData.setValue(\"Failed to fetch data.\");\r\n                        }\r\n                    }\r\n                })\r\n                .addOnFailureListener(e -> {\r\n                    errorLiveData.setValue(e.getMessage());\r\n                    Log.e(\"FirestoreError\", \"Error fetching ratings\", e);\r\n                });\r\n    }\r\n\r\n\r\n    public void fetchUserProfile(String userId) {\r\n        if (userId == null) {\r\n            errorLiveData.setValue(\"User ID is null.\");\r\n            return;\r\n        }\r\n        firestore.collection(\"users\")  // Giả sử \"users\" là tên collection của bạn\r\n                .document(userId)      // Dùng userId để lấy tài liệu\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful() && task.getResult() != null) {\r\n                        DocumentSnapshot document = task.getResult();\r\n                        if (document.exists()) {\r\n                            String userImage = document.getString(\"userImage\");  // Lấy userImage\r\n                            String fullName = document.getString(\"fullName\");    // Lấy fullName\r\n\r\n                            // Gán giá trị vào LiveData\r\n                            userImageLiveData.setValue(userImage);\r\n                            fullNameLiveData.setValue(fullName);\r\n                        } else {\r\n                            errorLiveData.setValue(\"Không tìm thấy người dùng với ID này.\");\r\n                        }\r\n                    } else {\r\n                        errorLiveData.setValue(\"Không thể lấy dữ liệu.\");\r\n                    }\r\n                })\r\n                .addOnFailureListener(e -> {\r\n                    errorLiveData.setValue(e.getMessage());\r\n                });\r\n    }\r\n\r\n    // LiveData để quan sát ảnh người dùng\r\n    public LiveData<String> getUserImageLiveData() {\r\n        return userImageLiveData;\r\n    }\r\n\r\n    // LiveData để quan sát tên đầy đủ\r\n    public LiveData<String> getFullNameLiveData() {\r\n        return fullNameLiveData;\r\n    }\r\n\r\n    // LiveData để quan sát danh sách đánh giá\r\n    public LiveData<List<Map<String, Object>>> getRatingsLiveData() {\r\n        return ratingsLiveData;\r\n    }\r\n\r\n    // LiveData để quan sát lỗi\r\n    public LiveData<String> getErrorLiveData() {\r\n        return errorLiveData;\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/viewmodel/ProductRatingFragmentViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/ProductRatingFragmentViewModel.java
---- a/app/src/main/java/com/example/agrimart/viewmodel/ProductRatingFragmentViewModel.java	(revision 717bc3b4a00182d2f06247d1dbdeaa689e8c718d)
-+++ b/app/src/main/java/com/example/agrimart/viewmodel/ProductRatingFragmentViewModel.java	(date 1731757521792)
-@@ -6,6 +6,8 @@
- import androidx.lifecycle.MutableLiveData;
- import androidx.lifecycle.ViewModel;
- 
-+import com.facebook.bolts.Task;
-+import com.google.android.gms.tasks.Tasks;
- import com.google.firebase.auth.FirebaseAuth;
- import com.google.firebase.firestore.DocumentSnapshot;
- import com.google.firebase.firestore.FirebaseFirestore;
-@@ -13,6 +15,9 @@
- import com.google.firebase.firestore.QuerySnapshot;
- 
- import java.util.ArrayList;
-+import java.util.Collections;
-+import java.util.Comparator;
-+import java.util.Date;
- import java.util.HashMap;
- import java.util.List;
- import java.util.Map;
-@@ -23,8 +28,6 @@
-     private final MutableLiveData<List<Map<String, Object>>> ratingsLiveData = new MutableLiveData<>();
-     private final MutableLiveData<String> errorLiveData = new MutableLiveData<>();
-     private String userId;
--    private final MutableLiveData<String> userImageLiveData = new MutableLiveData<>();
--    private final MutableLiveData<String> fullNameLiveData = new MutableLiveData<>();
- 
-     public ProductRatingFragmentViewModel() {
-         this.auth = FirebaseAuth.getInstance();
-@@ -33,40 +36,100 @@
- 
-     // Phương thức để đọc đánh giá sản phẩm từ Firestore
-     public void fetchProductRatings(String product_id) {
--        // Tham chiếu đến collection "users" (or your actual collection name)
--        firestore.collection("rating").
--                whereEqualTo("product_id", product_id)
-+        firestore.collection("rating")
-+                .whereEqualTo("product_id", product_id)
-                 .get()
-                 .addOnCompleteListener(task -> {
-                     if (task.isSuccessful() && task.getResult() != null) {
-                         QuerySnapshot snapshot = task.getResult();
-                         List<Map<String, Object>> ratingsList = new ArrayList<>();
-+                        List<com.google.android.gms.tasks.Task<?>> userFetchTasks = new ArrayList<>();
- 
--                        // Iterate over all user documents
-+                        // Iterate through each document in the snapshot
-                         for (QueryDocumentSnapshot document : snapshot) {
--                            // Get the product_id and ratings list from each user document
-                             String storedProductId = document.getString("product_id");
-                             List<Map<String, Object>> ratings = (List<Map<String, Object>>) document.get("ratings");
- 
--                            // Check if the product_id matches
-+                            // Retrieve quantity and rating from the document
-+                            Integer quantity = document.getLong("quantity") != null ? document.getLong("quantity").intValue() : 0;
-+                            Double averageRating = document.getDouble("rating");
-+
-+                            Map<String, Object> productInfo = new HashMap<>();
-+                            productInfo.put("quantity", quantity);
-+                            productInfo.put("rating", averageRating);
-+                            ratingsList.add(productInfo);
-+
-+                            // Check if the document belongs to the correct product and contains ratings
-                             if (storedProductId != null && storedProductId.equals(product_id) && ratings != null) {
--                                // If the product_id matches, iterate over the ratings list
-                                 for (Map<String, Object> rating : ratings) {
-                                     Map<String, Object> ratingMap = new HashMap<>();
--                                    ratingMap.put("userId", rating.get("userId"));
-+                                    String userId = (String) rating.get("userId");
-+                                    ratingMap.put("userId", userId);
-                                     ratingMap.put("rating", rating.get("rating"));
-                                     ratingMap.put("review", rating.get("review"));
-                                     ratingMap.put("updatedAt", rating.get("updatedAt"));
- 
--                                    // Add to the ratings list
-+                                    // Fetch user data if userId is present
-+                                    if (userId != null) {
-+                                        // Create Task to fetch user info
-+                                        com.google.android.gms.tasks.Task<DocumentSnapshot> userTask = firestore.collection("users")
-+                                                .document(userId)
-+                                                .get()
-+                                                .addOnCompleteListener(userTaskSnapshot -> {
-+                                                    if (userTaskSnapshot.isSuccessful() && userTaskSnapshot.getResult() != null) {
-+                                                        DocumentSnapshot userDocument = userTaskSnapshot.getResult();
-+                                                        ratingMap.put("userImage", userDocument.getString("userImage"));
-+                                                        ratingMap.put("fullName", userDocument.getString("fullName"));
-+                                                    } else {
-+                                                        ratingMap.put("userImage", null);
-+                                                        ratingMap.put("fullName", "Unknown User");
-+                                                    }
-+                                                });
-+                                        userFetchTasks.add(userTask);
-+                                    }
-+
-                                     ratingsList.add(ratingMap);
-                                 }
-+
-+                                // Add quantity and average rating to the result
-+
-+                            }
-+                        }
-+
-+                        // Wait for all user data fetch tasks to complete
-+                        Tasks.whenAllComplete(userFetchTasks).addOnCompleteListener(allTasks -> {
-+                            // Check if any tasks failed
-+                            boolean hasErrors = false;
-+                            for (com.google.android.gms.tasks.Task<?> userTask : userFetchTasks) {
-+                                if (!userTask.isSuccessful()) {
-+                                    hasErrors = true;
-+                                    break;
-+                                }
-                             }
--                        }
-+
-+                            // Set error message if any user data fetch failed
-+                            if (hasErrors) {
-+                                errorLiveData.setValue("Failed to fetch some user data.");
-+                            }
- 
--                        // Set the fetched ratings data into LiveData
--                        ratingsLiveData.setValue(ratingsList);
-+                            // Sort the ratings list by updatedAt
-+                            Collections.sort(ratingsList, (o1, o2) -> {
-+                                Object date1 = o1.get("updatedAt");
-+                                Object date2 = o2.get("updatedAt");
-+
-+                                if (date1 instanceof com.google.firebase.Timestamp && date2 instanceof com.google.firebase.Timestamp) {
-+                                    Date time1 = ((com.google.firebase.Timestamp) date1).toDate();
-+                                    Date time2 = ((com.google.firebase.Timestamp) date2).toDate();
-+                                    return time2.compareTo(time1); // Sort in descending order
-+                                }
-+                                return 0;
-+                            });
-+
-+                            // Update LiveData with the final ratings list
-+                            ratingsLiveData.setValue(ratingsList);
-+                        });
-                     } else {
-+                        // Handle errors when fetching data
-                         if (task.getException() != null) {
-                             errorLiveData.setValue(task.getException().getMessage());
-                         } else {
-@@ -75,51 +138,19 @@
-                     }
-                 })
-                 .addOnFailureListener(e -> {
-+                    // Handle failure in Firestore query
-                     errorLiveData.setValue(e.getMessage());
-                     Log.e("FirestoreError", "Error fetching ratings", e);
-                 });
-     }
- 
- 
--    public void fetchUserProfile(String userId) {
--        if (userId == null) {
--            errorLiveData.setValue("User ID is null.");
--            return;
--        }
--        firestore.collection("users")  // Giả sử "users" là tên collection của bạn
--                .document(userId)      // Dùng userId để lấy tài liệu
--                .get()
--                .addOnCompleteListener(task -> {
--                    if (task.isSuccessful() && task.getResult() != null) {
--                        DocumentSnapshot document = task.getResult();
--                        if (document.exists()) {
--                            String userImage = document.getString("userImage");  // Lấy userImage
--                            String fullName = document.getString("fullName");    // Lấy fullName
-+
- 
--                            // Gán giá trị vào LiveData
--                            userImageLiveData.setValue(userImage);
--                            fullNameLiveData.setValue(fullName);
--                        } else {
--                            errorLiveData.setValue("Không tìm thấy người dùng với ID này.");
--                        }
--                    } else {
--                        errorLiveData.setValue("Không thể lấy dữ liệu.");
--                    }
--                })
--                .addOnFailureListener(e -> {
--                    errorLiveData.setValue(e.getMessage());
--                });
--    }
- 
--    // LiveData để quan sát ảnh người dùng
--    public LiveData<String> getUserImageLiveData() {
--        return userImageLiveData;
--    }
- 
--    // LiveData để quan sát tên đầy đủ
--    public LiveData<String> getFullNameLiveData() {
--        return fullNameLiveData;
--    }
-+
-+
- 
-     // LiveData để quan sát danh sách đánh giá
-     public LiveData<List<Map<String, Object>>> getRatingsLiveData() {
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_5_19_PM_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_5_19_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_5_19_PM_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_5_19_PM_[Changes]/shelved.patch	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ /dev/null	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
@@ -1,4156 +0,0 @@
-Index: app/src/main/java/com/example/agrimart/adapter/NotificationAdapter.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.model.Notification;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\npublic class NotificationAdapter extends RecyclerView.Adapter<NotificationAdapter.ViewHolder> {\r\n    private List<Notification> notificationList;\r\n\r\n    public NotificationAdapter(List<Notification> notificationList) {\r\n        this.notificationList = notificationList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_notification, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        Notification notification = notificationList.get(position);\r\n        holder.title.setText(notification.getTitle());\r\n        holder.message.setText(notification.getMessage());\r\n\r\n        // Format thời gian\r\n        SimpleDateFormat sdf = new SimpleDateFormat(\"dd/MM/yyyy HH:mm\", Locale.getDefault());\r\n        String formattedDate = sdf.format(new Date(notification.getTimestamp()));\r\n        holder.time.setText(formattedDate);\r\n\r\n        // Tải ảnh từ URL bằng Glide\r\n        Glide.with(holder.itemView.getContext())\r\n                .load(notification.getImageUrl())\r\n                .placeholder(R.drawable.placeholder_image)\r\n                .error(R.drawable.error_image)\r\n                .into(holder.notificationImage);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return notificationList.size();\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n        TextView title, message, time;\r\n        ImageView notificationImage;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            title = itemView.findViewById(R.id.notification_title);\r\n            message = itemView.findViewById(R.id.notification_message);\r\n            time = itemView.findViewById(R.id.notification_time);\r\n            notificationImage = itemView.findViewById(R.id.notification_image);\r\n        }\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/adapter/NotificationAdapter.java b/app/src/main/java/com/example/agrimart/adapter/NotificationAdapter.java
---- a/app/src/main/java/com/example/agrimart/adapter/NotificationAdapter.java	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-+++ b/app/src/main/java/com/example/agrimart/adapter/NotificationAdapter.java	(date 1732097190364)
-@@ -38,16 +38,14 @@
-         holder.title.setText(notification.getTitle());
-         holder.message.setText(notification.getMessage());
- 
--        // Format thời gian
-         SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yyyy HH:mm", Locale.getDefault());
-         String formattedDate = sdf.format(new Date(notification.getTimestamp()));
-         holder.time.setText(formattedDate);
- 
--        // Tải ảnh từ URL bằng Glide
-         Glide.with(holder.itemView.getContext())
-                 .load(notification.getImageUrl())
-                 .placeholder(R.drawable.placeholder_image)
--                .error(R.drawable.error_image)
-+                .error(R.drawable.logo_icon)
-                 .into(holder.notificationImage);
-     }
- 
-Index: app/src/main/java/com/example/agrimart/ui/MainActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.ui;\r\n\r\nimport android.Manifest;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.Account.SignInActivity;\r\nimport com.example.agrimart.ui.Cart.CartFragment;\r\nimport com.example.agrimart.ui.Explore.ExploreFragment;\r\nimport com.example.agrimart.ui.Homepage.HomeFragment;\r\nimport com.example.agrimart.ui.MyProfile.MyProfileFragment;\r\nimport com.example.agrimart.ui.Notification.NotificationFragment;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private SharedPreferences sharedPreferences;\r\n    private FirebaseAuth mAuth;\r\n    private static final int REQUEST_NOTIFICATION_PERMISSION = 1;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_main);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, 0);\r\n            return insets;\r\n        });\r\n\r\n        sharedPreferences = getSharedPreferences(\"user_prefs\", MODE_PRIVATE);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        if (sharedPreferences.getBoolean(\"is_logged_in\", false)) {\r\n            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n            if (currentUser != null) {\r\n                navigateToHome();\r\n                getUserRole(currentUser);\r\n            } else {\r\n                clearLoginState();\r\n                navigateToLogin();\r\n            }\r\n        } else {\r\n            navigateToLogin();\r\n        }\r\n\r\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigation);\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(this::onNavigationItemSelected);\r\n\r\n        if (savedInstanceState == null) {\r\n            loadFragment(new HomeFragment());\r\n            bottomNavigationView.setSelectedItemId(R.id.home);\r\n        }\r\n\r\n        int selectedItemId = getIntent().getIntExtra(\"selected_item_id\", R.id.home);\r\n        if (selectedItemId != R.id.home) {\r\n            bottomNavigationView.setSelectedItemId(selectedItemId);\r\n        }\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.TIRAMISU) {\r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.POST_NOTIFICATIONS}, REQUEST_NOTIFICATION_PERMISSION);\r\n            }\r\n        }\r\n\r\n        createNotificationChannel();\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        getUserInfo(mAuth.getCurrentUser());\r\n    }\r\n\r\n    private void navigateToHome() {\r\n        loadFragment(new HomeFragment());\r\n    }\r\n\r\n    private void navigateToLogin() {\r\n        Intent intent = new Intent(MainActivity.this, SignInActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    private void clearLoginState() {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.clear();\r\n        editor.apply();\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n\r\n    private boolean onNavigationItemSelected(MenuItem item) {\r\n        Fragment selectedFragment = null;\r\n\r\n        if (item.getItemId() == R.id.home) {\r\n            selectedFragment = new HomeFragment();\r\n        } else if (item.getItemId() == R.id.category) {\r\n            selectedFragment = new ExploreFragment();\r\n        } else if (item.getItemId() == R.id.notification) {\r\n            selectedFragment = new NotificationFragment();\r\n        } else if (item.getItemId() == R.id.profile) {\r\n            selectedFragment = new MyProfileFragment();\r\n        } else if (item.getItemId() == R.id.cart) {\r\n            selectedFragment = new CartFragment();\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n        if (selectedFragment != null) {\r\n            loadFragment(selectedFragment);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private void getUserRole(FirebaseUser user) {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        DocumentReference docRef = db.collection(\"users\").document(user.getUid());\r\n        docRef.get().addOnSuccessListener(documentSnapshot -> {\r\n            if (documentSnapshot.exists()) {\r\n                String role = documentSnapshot.getString(\"role\");\r\n                if (role != null) {\r\n                    saveUserToSharedPreferences(role);\r\n                }\r\n            }\r\n        }).addOnFailureListener(e -> {\r\n        });\r\n    }\r\n\r\n    private void getUserInfo(FirebaseUser user) {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        DocumentReference docRef = db.collection(\"users\").document(user.getUid());\r\n        docRef.get().addOnSuccessListener(documentSnapshot -> {\r\n            if (documentSnapshot.exists()) {\r\n                String userId = documentSnapshot.getString(\"userId\");\r\n            }\r\n        }).addOnFailureListener(e -> {\r\n        });\r\n    }\r\n\r\n    private void saveUserToSharedPreferences(String role) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"user_role\", role);\r\n        editor.apply();\r\n    }\r\n\r\n    private void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {\r\n            CharSequence name = \"Default Channel\";\r\n            String description = \"Channel for default notifications\";\r\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\r\n            NotificationChannel channel = new NotificationChannel(\"default_channel\", name, importance);\r\n            channel.setDescription(description);\r\n\r\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_NOTIFICATION_PERMISSION) {\r\n            if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                // Permission granted\r\n            } else {\r\n                // Permission denied\r\n            }\r\n        }\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/MainActivity.java b/app/src/main/java/com/example/agrimart/ui/MainActivity.java
---- a/app/src/main/java/com/example/agrimart/ui/MainActivity.java	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-+++ b/app/src/main/java/com/example/agrimart/ui/MainActivity.java	(date 1732097707056)
-@@ -3,31 +3,38 @@
- import android.Manifest;
- import android.app.NotificationChannel;
- import android.app.NotificationManager;
-+import android.content.Context;
- import android.content.Intent;
- import android.content.SharedPreferences;
- import android.content.pm.PackageManager;
- import android.os.Build;
- import android.os.Bundle;
-+import android.util.Log;
- import android.view.MenuItem;
- import androidx.activity.EdgeToEdge;
- import androidx.annotation.NonNull;
- import androidx.appcompat.app.AppCompatActivity;
- import androidx.core.app.ActivityCompat;
-+import androidx.core.app.NotificationCompat;
-+import androidx.core.app.NotificationManagerCompat;
- import androidx.core.content.ContextCompat;
- import androidx.core.graphics.Insets;
- import androidx.core.view.ViewCompat;
- import androidx.core.view.WindowInsetsCompat;
- import androidx.fragment.app.Fragment;
- import com.example.agrimart.R;
-+import com.example.agrimart.data.model.Notification;
- import com.example.agrimart.ui.Account.SignInActivity;
- import com.example.agrimart.ui.Cart.CartFragment;
- import com.example.agrimart.ui.Explore.ExploreFragment;
- import com.example.agrimart.ui.Homepage.HomeFragment;
- import com.example.agrimart.ui.MyProfile.MyProfileFragment;
- import com.example.agrimart.ui.Notification.NotificationFragment;
-+import com.example.agrimart.viewmodel.NotificationViewModel;
- import com.google.android.material.bottomnavigation.BottomNavigationView;
- import com.google.firebase.auth.FirebaseAuth;
- import com.google.firebase.auth.FirebaseUser;
-+import com.google.firebase.firestore.DocumentChange;
- import com.google.firebase.firestore.DocumentReference;
- import com.google.firebase.firestore.FirebaseFirestore;
- 
-@@ -36,6 +43,7 @@
-     private SharedPreferences sharedPreferences;
-     private FirebaseAuth mAuth;
-     private static final int REQUEST_NOTIFICATION_PERMISSION = 1;
-+    NotificationViewModel notificationViewModel;
- 
-     @Override
-     protected void onCreate(Bundle savedInstanceState) {
-@@ -84,6 +92,7 @@
-         }
- 
-         createNotificationChannel();
-+        createNotificationsForUser();
-     }
- 
-     @Override
-@@ -187,10 +196,97 @@
-         super.onRequestPermissionsResult(requestCode, permissions, grantResults);
-         if (requestCode == REQUEST_NOTIFICATION_PERMISSION) {
-             if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {
--                // Permission granted
-             } else {
--                // Permission denied
-             }
-         }
-     }
-+
-+    public void sendNotification(String title, String message) {
-+        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, "default_channel")
-+                .setSmallIcon(R.drawable.logo_icon)
-+                .setContentTitle(title)
-+                .setContentText(message)
-+                .setPriority(NotificationCompat.PRIORITY_DEFAULT)
-+                .setAutoCancel(true);
-+
-+        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);
-+        if (PackageManager.PERMISSION_GRANTED != ActivityCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS)) {
-+            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.POST_NOTIFICATIONS}, REQUEST_NOTIFICATION_PERMISSION);
-+            return;
-+        }
-+        notificationManager.notify((int) System.currentTimeMillis(), builder.build());
-+    }
-+
-+    private void createNotificationsForUser() {
-+        FirebaseFirestore db = FirebaseFirestore.getInstance();
-+
-+        db.collection("orders")
-+                .whereEqualTo("userId", FirebaseAuth.getInstance().getCurrentUser().getUid())
-+                .addSnapshotListener((snapshots, e) -> {
-+                    if (e != null) {
-+                        return;
-+                    }
-+
-+                    if (snapshots != null && !snapshots.isEmpty()) {
-+                        for (DocumentChange dc : snapshots.getDocumentChanges()) {
-+                            if (dc.getType() == DocumentChange.Type.MODIFIED) {
-+                                String status = dc.getDocument().getString("status");
-+                                String orderCode = dc.getDocument().getString("order_code");
-+                                String imageUrl = dc.getDocument().getString("image_url");
-+                                long timestamp = System.currentTimeMillis();
-+
-+                                String title = "";
-+                                String message = "";
-+
-+                                switch (status) {
-+                                    case "pending":
-+                                        title = "Đặt hàng thành công!";
-+                                        message = "Đơn hàng của bạn đang được xử lý và sẽ sớm chuyển đến đơn vị vận chuyển.";
-+                                        break;
-+                                    case "approved":
-+                                        title = "Đơn hàng đang trên đường đến bạn!";
-+                                        message = "Đơn hàng của bạn đã được giao cho đơn vị vận chuyển và đang trên đường đến địa chỉ của bạn. Vui lòng theo dõi để biết thời gian giao hàng dự kiến.";
-+                                        break;
-+                                    case "delivering":
-+                                        title = "Đơn hàng đang trong quá trình vận chuyển";
-+                                        message = "Đơn hàng của bạn hiện đang trong quá trình vận chuyển. Bạn có thể theo dõi tình trạng giao hàng trong mục Theo dõi đơn hàng.";
-+                                        break;
-+                                    case "delivered":
-+                                        title = "Đơn hàng đã được giao thành công";
-+                                        message = "Đơn hàng của bạn đã được giao thành công. Bạn có hài lòng với sản phẩm đã nhận? Để lại đánh giá của bạn để giúp người dùng khác hiểu hơn về sản phẩm nhé.";
-+                                        break;
-+                                    case "cancelled":
-+                                        title = "Yêu cầu huỷ đơn hàng đã được chấp nhận";
-+                                        message = "Yêu cầu huỷ đơn hàng đã được chấp nhận. Số tiền đã thanh toán sẽ được hoàn lại vào tài khoản của bạn trong thời gian sớm nhất nếu bạn thanh toán bằng VNPAY.";
-+                                        break;
-+                                    case "delivery_failed":
-+                                        title = "Giao hàng thất bại";
-+                                        message = "Đơn hàng của bạn giao không thành công. Đơn vị vận chuyển sẽ thực hiện giao hàng lại trong thời gian sớm nhất.";
-+                                        break;
-+                                }
-+
-+                                if (!title.isEmpty() && !message.isEmpty()) {
-+                                    Notification notification = new Notification(title, message, timestamp, imageUrl);
-+                                    sendNotification(title, message);
-+                                    saveNotificationToFirestore(notification);
-+                                }
-+                            }
-+                        }
-+                    }
-+                });
-+    }
-+
-+    public void saveNotificationToFirestore(Notification notification) {
-+        FirebaseFirestore db = FirebaseFirestore.getInstance();
-+        FirebaseUser currentUser = FirebaseAuth.getInstance().getCurrentUser();
-+
-+        if (currentUser != null) {
-+            notification.setUserId(currentUser.getUid());
-+            db.collection("notifications").add(notification)
-+                    .addOnSuccessListener(documentReference -> {
-+                    })
-+                    .addOnFailureListener(e -> {
-+                    });
-+        }
-+    }
- }
-\ No newline at end of file
-Index: app/src/main/java/com/example/agrimart/ui/Notification/NotificationFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.ui.Notification;\r\n\r\nimport android.Manifest;\r\nimport android.content.Context;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.app.NotificationCompat;\r\nimport androidx.core.app.NotificationManagerCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.adapter.NotificationAdapter;\r\nimport com.example.agrimart.data.model.Notification;\r\nimport com.example.agrimart.viewmodel.NotificationViewModel;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class NotificationFragment extends Fragment {\r\n    private static final int REQUEST_NOTIFICATION_PERMISSION = 1;\r\n    private static final String ARG_USER_ID = \"user_id\";\r\n    private RecyclerView recyclerView;\r\n    private NotificationAdapter adapter;\r\n    private List<Notification> notificationList;\r\n    private NotificationViewModel notificationViewModel;\r\n    private String userId;\r\n\r\n    public NotificationFragment() {\r\n        // Default constructor\r\n    }\r\n\r\n    public static NotificationFragment newInstance(String userId) {\r\n        NotificationFragment fragment = new NotificationFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_USER_ID, userId);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_notification, container, false);\r\n\r\n        if (getArguments() != null) {\r\n            userId = getArguments().getString(ARG_USER_ID);\r\n        }\r\n\r\n        recyclerView = view.findViewById(R.id.recycler_notifications);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n\r\n        notificationList = new ArrayList<>();\r\n        adapter = new NotificationAdapter(notificationList);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        notificationViewModel = new ViewModelProvider(this).get(NotificationViewModel.class);\r\n        notificationViewModel.getNotificationsLiveData().observe(getViewLifecycleOwner(), notifications -> {\r\n            notificationList.clear();\r\n            notificationList.addAll(notifications);\r\n            adapter.notifyDataSetChanged();\r\n            for (Notification notification : notifications) {\r\n                sendNotification(notification.getTitle(), notification.getMessage());\r\n            }\r\n        });\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.TIRAMISU) {\r\n            if (ActivityCompat.checkSelfPermission(getContext(), Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\r\n                requestPermissions(new String[]{Manifest.permission.POST_NOTIFICATIONS}, REQUEST_NOTIFICATION_PERMISSION);\r\n            }\r\n        }\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_NOTIFICATION_PERMISSION) {\r\n            if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                // Permission granted\r\n            } else {\r\n                // Permission denied\r\n            }\r\n        }\r\n    }\r\n\r\n    private void sendNotification(String title, String message) {\r\n        Context context = getContext();\r\n        if (context == null) {\r\n            Log.w(\"NotificationFragment\", \"Context is null, cannot send notification\");\r\n            return;\r\n        }\r\n\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, \"default_channel\")\r\n                .setSmallIcon(R.drawable.bell)\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n                .setAutoCancel(true);\r\n\r\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\r\n        if (PackageManager.PERMISSION_GRANTED != ActivityCompat.checkSelfPermission(context, Manifest.permission.POST_NOTIFICATIONS)) {\r\n            // Permission not granted, request it\r\n            requestPermissions(new String[]{Manifest.permission.POST_NOTIFICATIONS}, REQUEST_NOTIFICATION_PERMISSION);\r\n            return;\r\n        }\r\n        notificationManager.notify((int) System.currentTimeMillis(), builder.build());\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/Notification/NotificationFragment.java b/app/src/main/java/com/example/agrimart/ui/Notification/NotificationFragment.java
---- a/app/src/main/java/com/example/agrimart/ui/Notification/NotificationFragment.java	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-+++ b/app/src/main/java/com/example/agrimart/ui/Notification/NotificationFragment.java	(date 1732097075304)
-@@ -39,7 +39,6 @@
-     private String userId;
- 
-     public NotificationFragment() {
--        // Default constructor
-     }
- 
-     public static NotificationFragment newInstance(String userId) {
-@@ -67,56 +66,14 @@
-         recyclerView.setAdapter(adapter);
- 
-         notificationViewModel = new ViewModelProvider(this).get(NotificationViewModel.class);
--        notificationViewModel.getNotificationsLiveData().observe(getViewLifecycleOwner(), notifications -> {
-+
-+        notificationViewModel.getNotificationsLiveData(userId).observe(getViewLifecycleOwner(), notifications -> {
-             notificationList.clear();
-             notificationList.addAll(notifications);
-             adapter.notifyDataSetChanged();
--            for (Notification notification : notifications) {
--                sendNotification(notification.getTitle(), notification.getMessage());
--            }
-         });
--
--        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.TIRAMISU) {
--            if (ActivityCompat.checkSelfPermission(getContext(), Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {
--                requestPermissions(new String[]{Manifest.permission.POST_NOTIFICATIONS}, REQUEST_NOTIFICATION_PERMISSION);
--            }
--        }
- 
-         return view;
-     }
- 
--    @Override
--    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {
--        super.onRequestPermissionsResult(requestCode, permissions, grantResults);
--        if (requestCode == REQUEST_NOTIFICATION_PERMISSION) {
--            if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {
--                // Permission granted
--            } else {
--                // Permission denied
--            }
--        }
--    }
--
--    private void sendNotification(String title, String message) {
--        Context context = getContext();
--        if (context == null) {
--            Log.w("NotificationFragment", "Context is null, cannot send notification");
--            return;
--        }
--
--        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, "default_channel")
--                .setSmallIcon(R.drawable.bell)
--                .setContentTitle(title)
--                .setContentText(message)
--                .setPriority(NotificationCompat.PRIORITY_DEFAULT)
--                .setAutoCancel(true);
--
--        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);
--        if (PackageManager.PERMISSION_GRANTED != ActivityCompat.checkSelfPermission(context, Manifest.permission.POST_NOTIFICATIONS)) {
--            // Permission not granted, request it
--            requestPermissions(new String[]{Manifest.permission.POST_NOTIFICATIONS}, REQUEST_NOTIFICATION_PERMISSION);
--            return;
--        }
--        notificationManager.notify((int) System.currentTimeMillis(), builder.build());
--    }
- }
-\ No newline at end of file
-Index: app/src/main/java/com/example/agrimart/data/service/FirebaseNotificationService.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.data.service;\r\n\r\nimport android.Manifest;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.app.PendingIntent;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.media.RingtoneManager;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\n\r\nimport androidx.core.app.NotificationCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.MainActivity;\r\nimport com.google.firebase.messaging.FirebaseMessagingService;\r\nimport com.google.firebase.messaging.RemoteMessage;\r\n\r\nimport java.io.InputStream;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\npublic class FirebaseNotificationService extends FirebaseMessagingService {\r\n\r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        super.onMessageReceived(remoteMessage);\r\n\r\n        if (remoteMessage.getNotification() != null) {\r\n            sendNotification(remoteMessage.getNotification().getTitle(),\r\n                    remoteMessage.getNotification().getBody(),\r\n                    remoteMessage.getNotification().getIcon()\r\n            );\r\n        }\r\n    }\r\n\r\n    private void sendNotification(String title, String messageBody, String imageUrl) {\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent,\r\n                PendingIntent.FLAG_ONE_SHOT | PendingIntent.FLAG_IMMUTABLE);\r\n\r\n        String channelId = \"default_channel\";\r\n        Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n        NotificationCompat.Builder notificationBuilder =\r\n                new NotificationCompat.Builder(this, channelId)\r\n                        .setSmallIcon(R.drawable.bell)  // Use bell icon from drawable\r\n                        .setContentTitle(title)\r\n                        .setContentText(messageBody)\r\n                        .setAutoCancel(true)\r\n                        .setSound(defaultSoundUri)\r\n                        .setContentIntent(pendingIntent);\r\n\r\n        if (imageUrl != null && !imageUrl.isEmpty()) {\r\n            Bitmap bitmap = getBitmapFromURL(imageUrl);\r\n            if (bitmap != null) {\r\n                notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle()\r\n                        .bigPicture(bitmap));\r\n            }\r\n        }\r\n\r\n        NotificationManager notificationManager =\r\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(channelId,\r\n                    \"Thông báo mặc định\",\r\n                    NotificationManager.IMPORTANCE_DEFAULT);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.TIRAMISU) {\r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) == PackageManager.PERMISSION_GRANTED) {\r\n                notificationManager.notify(0, notificationBuilder.build());\r\n            }\r\n        } else {\r\n            notificationManager.notify(0, notificationBuilder.build());\r\n        }\r\n    }\r\n\r\n    private Bitmap getBitmapFromURL(String strURL) {\r\n        try {\r\n            URL url = new URL(strURL);\r\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n            connection.setDoInput(true);\r\n            connection.connect();\r\n            InputStream input = connection.getInputStream();\r\n            return BitmapFactory.decodeStream(input);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/data/service/FirebaseNotificationService.java b/app/src/main/java/com/example/agrimart/data/service/FirebaseNotificationService.java
---- a/app/src/main/java/com/example/agrimart/data/service/FirebaseNotificationService.java	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-+++ b/app/src/main/java/com/example/agrimart/data/service/FirebaseNotificationService.java	(date 1732097033054)
-@@ -13,8 +13,9 @@
- import android.net.Uri;
- import android.os.Build;
- 
-+import androidx.core.app.ActivityCompat;
- import androidx.core.app.NotificationCompat;
--import androidx.core.content.ContextCompat;
-+import androidx.core.app.NotificationManagerCompat;
- 
- import com.example.agrimart.R;
- import com.example.agrimart.ui.MainActivity;
-@@ -34,8 +35,7 @@
-         if (remoteMessage.getNotification() != null) {
-             sendNotification(remoteMessage.getNotification().getTitle(),
-                     remoteMessage.getNotification().getBody(),
--                    remoteMessage.getNotification().getIcon()
--            );
-+                    remoteMessage.getNotification().getIcon());
-         }
-     }
- 
-@@ -49,7 +49,7 @@
-         Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);
-         NotificationCompat.Builder notificationBuilder =
-                 new NotificationCompat.Builder(this, channelId)
--                        .setSmallIcon(R.drawable.bell)  // Use bell icon from drawable
-+                        .setSmallIcon(R.drawable.bell)
-                         .setContentTitle(title)
-                         .setContentText(messageBody)
-                         .setAutoCancel(true)
-@@ -64,23 +64,26 @@
-             }
-         }
- 
--        NotificationManager notificationManager =
--                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);
-+        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);
- 
-         if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
-             NotificationChannel channel = new NotificationChannel(channelId,
--                    "Thông báo mặc định",
-+                    "Default Channel",
-                     NotificationManager.IMPORTANCE_DEFAULT);
-             notificationManager.createNotificationChannel(channel);
-         }
- 
--        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.TIRAMISU) {
--            if (ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) == PackageManager.PERMISSION_GRANTED) {
--                notificationManager.notify(0, notificationBuilder.build());
--            }
--        } else {
--            notificationManager.notify(0, notificationBuilder.build());
-+        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {
-+            // TODO: Consider calling
-+            //    ActivityCompat#requestPermissions
-+            // here to request the missing permissions, and then overriding
-+            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,
-+            //                                          int[] grantResults)
-+            // to handle the case where the user grants the permission. See the documentation
-+            // for ActivityCompat#requestPermissions for more details.
-+            return;
-         }
-+        notificationManager.notify((int) System.currentTimeMillis(), notificationBuilder.build());
-     }
- 
-     private Bitmap getBitmapFromURL(String strURL) {
-Index: app/src/main/res/layout/fragment_home.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout xmlns:tools=\"http://schemas.android.com/tools\"\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\r\n\r\n    <data>\r\n        <variable\r\n            name=\"viewmodel\"\r\n            type=\"com.example.agrimart.viewmodel.HomeFragmentViewModel\" />\r\n    </data>\r\n    <RelativeLayout\r\n        android:id=\"@+id/main1\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        tools:context=\".ui.Homepage.HomeFragment\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:id=\"@+id/header\"\r\n            android:background=\"@color/green\"\r\n            android:orientation=\"horizontal\"\r\n            android:padding=\"16dp\">\r\n            <RelativeLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:id=\"@+id/top\">\r\n            </RelativeLayout>\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:id=\"@+id/search_card\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"1\"\r\n                app:cardCornerRadius=\"8dp\"\r\n                app:cardElevation=\"4dp\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\"\r\n                    android:padding=\"8dp\"\r\n                    android:id=\"@+id/search_bar\">\r\n\r\n                    <ImageButton\r\n                        android:id=\"@+id/search_icon\"\r\n                        android:layout_width=\"32dp\"\r\n                        android:layout_height=\"32dp\"\r\n                        android:src=\"@drawable/ic_search\"\r\n                        android:tint=\"@color/black\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginEnd=\"8dp\"\r\n                        android:background=\"@color/white\"/>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/search_input\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_weight=\"1\"\r\n                        android:hint=\"@string/search\"\r\n                        android:background=\"@null\"\r\n                        android:padding=\"8dp\"\r\n                        android:textColor=\"@android:color/black\"\r\n                        android:textColorHint=\"@android:color/darker_gray\" />\r\n                </LinearLayout>\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/notification_icon\"\r\n                android:layout_width=\"32dp\"\r\n                android:layout_height=\"32dp\"\r\n                android:layout_gravity=\"center_vertical\"\r\n                android:layout_marginStart=\"10dp\"\r\n                android:layout_marginEnd=\"4dp\"\r\n                android:background=\"@color/green\"\r\n                android:src=\"@drawable/message\"\r\n                android:tint=\"@color/black\" />\r\n        </LinearLayout>\r\n\r\n        <androidx.core.widget.NestedScrollView\r\n            android:id=\"@+id/scroll_view\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/header\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <androidx.viewpager2.widget.ViewPager2\r\n                    android:id=\"@+id/carousel_viewpager\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"200dp\"\r\n                    android:layout_below=\"@id/header\"/>\r\n\r\n                <RelativeLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\">\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/categories\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginStart=\"24dp\"\r\n                        android:fontFamily=\"@font/circular_std\"\r\n                        android:text=\"@string/categories\"\r\n                        android:textColor=\"#272727\"\r\n                        android:textSize=\"20sp\"\r\n                        android:textStyle=\"bold\" />\r\n                </RelativeLayout>\r\n\r\n                <androidx.recyclerview.widget.RecyclerView\r\n                    android:id=\"@+id/rvCategories\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:padding=\"8dp\"\r\n                    android:clipToPadding=\"false\" />\r\n\r\n                <RelativeLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\">\r\n                    <TextView\r\n                        android:id=\"@+id/top_selling\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:textSize=\"20sp\"\r\n                        android:text=\"Dành riêng cho bạn\"\r\n                        android:layout_marginTop=\"24dp\"\r\n                        android:textColor=\"#272727\"\r\n                        android:fontFamily=\"@font/gabarito\"\r\n                        android:layout_marginStart=\"24dp\" />\r\n\r\n\r\n                </RelativeLayout>\r\n\r\n                <androidx.recyclerview.widget.RecyclerView\r\n                    android:id=\"@+id/rvProducts\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:nestedScrollingEnabled=\"false\"\r\n                    android:padding=\"10dp\"/>\r\n                <TextView\r\n                    android:id=\"@+id/see_all1\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"14sp\"\r\n                    android:layout_marginTop=\"16dp\"\r\n                    android:fontFamily=\"@font/circular_std\"\r\n                    android:text=\"Đang tải...\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:padding=\"8dp\"\r\n                    android:textColor=\"@color/black\" />\r\n\r\n            </LinearLayout>\r\n        </androidx.core.widget.NestedScrollView>\r\n    </RelativeLayout>\r\n</layout>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/fragment_home.xml b/app/src/main/res/layout/fragment_home.xml
---- a/app/src/main/res/layout/fragment_home.xml	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-+++ b/app/src/main/res/layout/fragment_home.xml	(date 1732096745523)
-@@ -64,17 +64,6 @@
-                         android:textColorHint="@android:color/darker_gray" />
-                 </LinearLayout>
-             </androidx.cardview.widget.CardView>
--
--            <ImageButton
--                android:id="@+id/notification_icon"
--                android:layout_width="32dp"
--                android:layout_height="32dp"
--                android:layout_gravity="center_vertical"
--                android:layout_marginStart="10dp"
--                android:layout_marginEnd="4dp"
--                android:background="@color/green"
--                android:src="@drawable/message"
--                android:tint="@color/black" />
-         </LinearLayout>
- 
-         <androidx.core.widget.NestedScrollView
-Index: app/src/main/AndroidManifest.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <uses-feature\r\n        android:name=\"android.hardware.telephony\"\r\n        android:required=\"false\" />\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.WAKE_LOCK\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n    <uses-permission android:name=\"android.permission.GET_ACCOUNTS\" />\r\n    <uses-permission android:name=\"android.permission.USE_CREDENTIALS\" />\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.READ_MEDIA_IMAGES\" />\r\n    <uses-permission android:name=\"android.permission.SEND_SMS\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\r\n        android:fullBackupContent=\"@xml/backup_rules\"\r\n        android:icon=\"@drawable/logo_icon\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@drawable/logo_icon\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.AgriMart\"\r\n        tools:ignore=\"ExtraText\"\r\n        tools:targetApi=\"31\">\r\n        <activity\r\n            android:name=\".ui.ProductPage.ProductRatingActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Cart.PlaceOrderActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Payment.VNPaymentActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyStore.EditProfileStoreActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.ProductPreviewActivity\"\r\n            android:windowSoftInputMode=\"adjustPan\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAddress.GetAddressActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAccount.EditNumberPhoneActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAccount.ChangePasswordActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAccount.VerifyWithPasswordActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAccount.EditUserNameActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\"com.yalantis.ucrop.UCropActivity\"\r\n            android:theme=\"@style/Theme.AppCompat.NoActionBar\"\r\n            tools:replace=\"android:theme\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAddress.EditAddressActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAddress.NewAddressActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyStore.RegisterSellerActivity\"\r\n            android:exported=\"false\"\r\n            android:theme=\"@style/Theme.AgriMart\" />\r\n        <activity\r\n            android:name=\".ui.Account.VerifyActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyStore.MyStoreActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.PurchasedOrders.PurchasedOrdersActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAddress.MyAddressActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAccount.MyAccountActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Store.StoreActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyStore.OrderManagementActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Homepage.SearchActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Cart.CheckoutActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.ProductPage.ProductDetailActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.YourProductListingsActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.PostProductActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MainActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.EnterOTPActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.ForgotPasswordActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.SignUpActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Homepage.HomeFragment\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.SignInActivity\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n\r\n        <meta-data\r\n            android:name=\"com.facebook.sdk.ApplicationId\"\r\n            android:value=\"@string/facebook_app_id\" />\r\n        <meta-data\r\n            android:name=\"com.facebook.sdk.ClientToken\"\r\n            android:value=\"@string/facebook_client_token\" />\r\n\r\n        <activity\r\n            android:name=\"com.facebook.FacebookActivity\"\r\n            android:configChanges=\"keyboard|keyboardHidden|screenLayout|screenSize|orientation\"\r\n            android:label=\"@string/app_name\"\r\n            android:screenOrientation=\"portrait\"\r\n            tools:ignore=\"DiscouragedApi\" />\r\n        <activity\r\n            android:name=\"com.facebook.CustomTabActivity\"\r\n            android:exported=\"true\"\r\n            android:screenOrientation=\"portrait\"\r\n            tools:ignore=\"DiscouragedApi\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.VIEW\" />\r\n\r\n                <category android:name=\"android.intent.category.DEFAULT\" />\r\n                <category android:name=\"android.intent.category.BROWSABLE\" />\r\n\r\n                <data android:scheme=\"@string/fb_login_protocol_scheme\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
---- a/app/src/main/AndroidManifest.xml	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-+++ b/app/src/main/AndroidManifest.xml	(date 1732094951324)
-@@ -27,6 +27,14 @@
-         android:theme="@style/Theme.AgriMart"
-         tools:ignore="ExtraText"
-         tools:targetApi="31">
-+
-+        <service
-+            android:name=".data.service.FirebaseNotificationService"
-+            android:exported="false">
-+            <intent-filter>
-+                <action android:name="com.google.firebase.MESSAGING_EVENT"/>
-+            </intent-filter>
-+        </service>
-         <activity
-             android:name=".ui.ProductPage.ProductRatingActivity"
-             android:exported="false" />
-@@ -34,7 +42,7 @@
-             android:name=".ui.Cart.PlaceOrderActivity"
-             android:exported="false" />
-         <activity
--            android:name=".ui.Payment.VNPaymentActivity"
-+            android:name=".ui.payment.VNPaymentActivity"
-             android:exported="false" />
-         <activity
-             android:name=".ui.MyProfile.MyStore.EditProfileStoreActivity"
-Index: app/src/main/java/com/example/agrimart/viewmodel/NotificationViewModel.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.viewmodel;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Notification;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentChange;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class NotificationViewModel extends ViewModel {\r\n    private final MutableLiveData<List<Notification>> notificationsLiveData = new MutableLiveData<>();\r\n    private final List<Notification> notificationList = new ArrayList<>();\r\n\r\n    public NotificationViewModel() {\r\n        fetchNotificationsFromFirestore();\r\n    }\r\n\r\n    public LiveData<List<Notification>> getNotificationsLiveData() {\r\n        return notificationsLiveData;\r\n    }\r\n\r\n    private void fetchNotificationsFromFirestore() {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n        db.collection(\"orders\")\r\n                .whereEqualTo(\"userId\", FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n                .addSnapshotListener((snapshots, e) -> {\r\n                    if (e != null) {\r\n                        return;\r\n                    }\r\n\r\n                    if (snapshots != null && !snapshots.isEmpty()) {\r\n                        notificationList.clear();\r\n\r\n                        for (DocumentChange dc : snapshots.getDocumentChanges()) {\r\n                            if (dc.getType() == DocumentChange.Type.MODIFIED) {\r\n                                String status = dc.getDocument().getString(\"status\");\r\n                                String orderCode = dc.getDocument().getString(\"order_code\");\r\n                                String imageUrl = dc.getDocument().getString(\"image_url\");\r\n                                long timestamp = System.currentTimeMillis();\r\n\r\n                                String title = \"\";\r\n                                String message = \"\";\r\n\r\n                                switch (status) {\r\n                                    case \"Pending\":\r\n                                        title = \"Đặt hàng thành công!\";\r\n                                        message = \"Đơn hàng của bạn đang được xử lý và sẽ sớm chuyển đến đơn vị giao hàng.\";\r\n                                        break;\r\n                                    case \"Delivered\":\r\n                                        title = \"Đơn hàng đã được giao thành công!\";\r\n                                        message = \"Đơn hàng của bạn đã được giao thành công. Bạn có hài lòng với sản phẩm đã nhận? Để lại đánh giá của bạn để giúp chúng tôi phục vụ bạn tốt hơn trong tương lai!\";\r\n                                        break;\r\n                                    case \"Failed\":\r\n                                        title = \"Giao hàng không thành công\";\r\n                                        message = \"Chúng tôi đã thử giao hàng nhưng không thành công. Đơn hàng của bạn sẽ được giao lại vào ngày tiếp theo hoặc bạn có thể liên hệ với chúng tôi để hỗ trợ.\";\r\n                                        break;\r\n                                    case \"On the way\":\r\n                                        title = \"Đơn hàng đang trên đường đến bạn!\";\r\n                                        message = \"Đơn hàng của bạn đã được giao cho đơn vị vận chuyển và đang trên đường đến địa chỉ của bạn. Vui lòng theo dõi để biết thời gian giao hàng dự kiến.\";\r\n                                        break;\r\n                                    case \"Shipping\":\r\n                                        title = \"Đơn hàng đang trong quá trình vận chuyển\";\r\n                                        message = \"Đơn hàng của bạn hiện đang trong quá trình vận chuyển. Bạn có thể theo dõi tình trạng giao hàng trong mục Theo dõi đơn hàng.\";\r\n                                        break;\r\n                                    case \"Preparing\":\r\n                                        title = \"Đơn hàng đang được chuẩn bị!\";\r\n                                        message = \"Đơn hàng của bạn đang được đóng gói và chuẩn bị để gửi đi. Chúng tôi sẽ thông báo cho bạn khi đơn hàng được giao cho đơn vị vận chuyển.\";\r\n                                        break;\r\n                                    case \"Success\":\r\n                                        title = \"Đặt hàng thành công!\";\r\n                                        message = \"Đơn hàng của bạn đang được xử lý và sẽ sớm chuyển đến đơn vị giao hàng.\";\r\n                                        break;\r\n                                }\r\n\r\n                                if (!title.isEmpty() && !message.isEmpty()) {\r\n                                    Notification notification = new Notification(title, message, timestamp, imageUrl);\r\n                                    notificationList.add(notification);\r\n                                    saveNotificationToFirestore(notification);\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        notificationsLiveData.setValue(notificationList);\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void saveNotificationToFirestore(Notification notification) {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        db.collection(\"notifications\").add(notification)\r\n                .addOnSuccessListener(documentReference -> {})\r\n                .addOnFailureListener(e -> {});\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/viewmodel/NotificationViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/NotificationViewModel.java
---- a/app/src/main/java/com/example/agrimart/viewmodel/NotificationViewModel.java	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-+++ b/app/src/main/java/com/example/agrimart/viewmodel/NotificationViewModel.java	(date 1732096567476)
-@@ -1,9 +1,18 @@
- package com.example.agrimart.viewmodel;
- 
-+import android.Manifest;
-+import android.content.Context;
-+import android.content.pm.PackageManager;
-+import android.util.Log;
-+
-+import androidx.core.app.ActivityCompat;
-+import androidx.core.app.NotificationCompat;
-+import androidx.core.app.NotificationManagerCompat;
- import androidx.lifecycle.LiveData;
- import androidx.lifecycle.MutableLiveData;
- import androidx.lifecycle.ViewModel;
- 
-+import com.example.agrimart.R;
- import com.example.agrimart.data.model.Notification;
- import com.google.firebase.auth.FirebaseAuth;
- import com.google.firebase.firestore.DocumentChange;
-@@ -15,86 +24,30 @@
- public class NotificationViewModel extends ViewModel {
-     private final MutableLiveData<List<Notification>> notificationsLiveData = new MutableLiveData<>();
-     private final List<Notification> notificationList = new ArrayList<>();
--
--    public NotificationViewModel() {
--        fetchNotificationsFromFirestore();
--    }
-+    private final FirebaseFirestore firestore = FirebaseFirestore.getInstance();
- 
--    public LiveData<List<Notification>> getNotificationsLiveData() {
--        return notificationsLiveData;
--    }
-+    public LiveData<List<Notification>> getNotificationsLiveData(String userId) {
- 
--    private void fetchNotificationsFromFirestore() {
--        FirebaseFirestore db = FirebaseFirestore.getInstance();
--
--        db.collection("orders")
--                .whereEqualTo("userId", FirebaseAuth.getInstance().getCurrentUser().getUid())
--                .addSnapshotListener((snapshots, e) -> {
--                    if (e != null) {
-+        firestore.collection("notifications")
-+                .whereEqualTo("userId", userId)
-+                .addSnapshotListener((value, error) -> {
-+                    if (error != null) {
-+                        Log.e("NotificationViewModel", "Lỗi khi lấy dữ liệu: ", error);
-                         return;
-                     }
- 
--                    if (snapshots != null && !snapshots.isEmpty()) {
-+                    if (value != null) {
-                         notificationList.clear();
--
--                        for (DocumentChange dc : snapshots.getDocumentChanges()) {
--                            if (dc.getType() == DocumentChange.Type.MODIFIED) {
--                                String status = dc.getDocument().getString("status");
--                                String orderCode = dc.getDocument().getString("order_code");
--                                String imageUrl = dc.getDocument().getString("image_url");
--                                long timestamp = System.currentTimeMillis();
--
--                                String title = "";
--                                String message = "";
--
--                                switch (status) {
--                                    case "Pending":
--                                        title = "Đặt hàng thành công!";
--                                        message = "Đơn hàng của bạn đang được xử lý và sẽ sớm chuyển đến đơn vị giao hàng.";
--                                        break;
--                                    case "Delivered":
--                                        title = "Đơn hàng đã được giao thành công!";
--                                        message = "Đơn hàng của bạn đã được giao thành công. Bạn có hài lòng với sản phẩm đã nhận? Để lại đánh giá của bạn để giúp chúng tôi phục vụ bạn tốt hơn trong tương lai!";
--                                        break;
--                                    case "Failed":
--                                        title = "Giao hàng không thành công";
--                                        message = "Chúng tôi đã thử giao hàng nhưng không thành công. Đơn hàng của bạn sẽ được giao lại vào ngày tiếp theo hoặc bạn có thể liên hệ với chúng tôi để hỗ trợ.";
--                                        break;
--                                    case "On the way":
--                                        title = "Đơn hàng đang trên đường đến bạn!";
--                                        message = "Đơn hàng của bạn đã được giao cho đơn vị vận chuyển và đang trên đường đến địa chỉ của bạn. Vui lòng theo dõi để biết thời gian giao hàng dự kiến.";
--                                        break;
--                                    case "Shipping":
--                                        title = "Đơn hàng đang trong quá trình vận chuyển";
--                                        message = "Đơn hàng của bạn hiện đang trong quá trình vận chuyển. Bạn có thể theo dõi tình trạng giao hàng trong mục Theo dõi đơn hàng.";
--                                        break;
--                                    case "Preparing":
--                                        title = "Đơn hàng đang được chuẩn bị!";
--                                        message = "Đơn hàng của bạn đang được đóng gói và chuẩn bị để gửi đi. Chúng tôi sẽ thông báo cho bạn khi đơn hàng được giao cho đơn vị vận chuyển.";
--                                        break;
--                                    case "Success":
--                                        title = "Đặt hàng thành công!";
--                                        message = "Đơn hàng của bạn đang được xử lý và sẽ sớm chuyển đến đơn vị giao hàng.";
--                                        break;
--                                }
--
--                                if (!title.isEmpty() && !message.isEmpty()) {
--                                    Notification notification = new Notification(title, message, timestamp, imageUrl);
--                                    notificationList.add(notification);
--                                    saveNotificationToFirestore(notification);
--                                }
-+                        for (DocumentChange docChange : value.getDocumentChanges()) {
-+                            if (docChange.getType() == DocumentChange.Type.ADDED) {
-+                                Notification notification = docChange.getDocument().toObject(Notification.class);
-+                                notificationList.add(notification);
-                             }
-                         }
--
-                         notificationsLiveData.setValue(notificationList);
-                     }
-                 });
--    }
- 
--    private void saveNotificationToFirestore(Notification notification) {
--        FirebaseFirestore db = FirebaseFirestore.getInstance();
--        db.collection("notifications").add(notification)
--                .addOnSuccessListener(documentReference -> {})
--                .addOnFailureListener(e -> {});
-+        return notificationsLiveData;
-     }
--}
-\ No newline at end of file
-+}
-Index: .idea/other.xml
-===================================================================
-diff --git a/.idea/other.xml b/.idea/other.xml
-deleted file mode 100644
---- a/.idea/other.xml	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-+++ /dev/null	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-@@ -1,329 +0,0 @@
--<?xml version="1.0" encoding="UTF-8"?>
--<project version="4">
--  <component name="direct_access_persist.xml">
--    <option name="deviceSelectionList">
--      <list>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="27" />
--          <option name="brand" value="DOCOMO" />
--          <option name="codename" value="F01L" />
--          <option name="id" value="F01L" />
--          <option name="manufacturer" value="FUJITSU" />
--          <option name="name" value="F-01L" />
--          <option name="screenDensity" value="360" />
--          <option name="screenX" value="720" />
--          <option name="screenY" value="1280" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="28" />
--          <option name="brand" value="DOCOMO" />
--          <option name="codename" value="SH-01L" />
--          <option name="id" value="SH-01L" />
--          <option name="manufacturer" value="SHARP" />
--          <option name="name" value="AQUOS sense2 SH-01L" />
--          <option name="screenDensity" value="480" />
--          <option name="screenX" value="1080" />
--          <option name="screenY" value="2160" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="34" />
--          <option name="brand" value="Lenovo" />
--          <option name="codename" value="TB370FU" />
--          <option name="id" value="TB370FU" />
--          <option name="manufacturer" value="Lenovo" />
--          <option name="name" value="Tab P12" />
--          <option name="screenDensity" value="340" />
--          <option name="screenX" value="1840" />
--          <option name="screenY" value="2944" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="31" />
--          <option name="brand" value="samsung" />
--          <option name="codename" value="a51" />
--          <option name="id" value="a51" />
--          <option name="manufacturer" value="Samsung" />
--          <option name="name" value="Galaxy A51" />
--          <option name="screenDensity" value="420" />
--          <option name="screenX" value="1080" />
--          <option name="screenY" value="2400" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="34" />
--          <option name="brand" value="google" />
--          <option name="codename" value="akita" />
--          <option name="id" value="akita" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel 8a" />
--          <option name="screenDensity" value="420" />
--          <option name="screenX" value="1080" />
--          <option name="screenY" value="2400" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="33" />
--          <option name="brand" value="samsung" />
--          <option name="codename" value="b0q" />
--          <option name="id" value="b0q" />
--          <option name="manufacturer" value="Samsung" />
--          <option name="name" value="Galaxy S22 Ultra" />
--          <option name="screenDensity" value="600" />
--          <option name="screenX" value="1440" />
--          <option name="screenY" value="3088" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="32" />
--          <option name="brand" value="google" />
--          <option name="codename" value="bluejay" />
--          <option name="id" value="bluejay" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel 6a" />
--          <option name="screenDensity" value="420" />
--          <option name="screenX" value="1080" />
--          <option name="screenY" value="2400" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="34" />
--          <option name="brand" value="google" />
--          <option name="codename" value="caiman" />
--          <option name="id" value="caiman" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel 9 Pro" />
--          <option name="screenDensity" value="360" />
--          <option name="screenX" value="960" />
--          <option name="screenY" value="2142" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="34" />
--          <option name="brand" value="google" />
--          <option name="codename" value="comet" />
--          <option name="id" value="comet" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel 9 Pro Fold" />
--          <option name="screenDensity" value="390" />
--          <option name="screenX" value="2076" />
--          <option name="screenY" value="2152" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="29" />
--          <option name="brand" value="samsung" />
--          <option name="codename" value="crownqlteue" />
--          <option name="id" value="crownqlteue" />
--          <option name="manufacturer" value="Samsung" />
--          <option name="name" value="Galaxy Note9" />
--          <option name="screenDensity" value="420" />
--          <option name="screenX" value="2220" />
--          <option name="screenY" value="1080" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="34" />
--          <option name="brand" value="samsung" />
--          <option name="codename" value="dm3q" />
--          <option name="id" value="dm3q" />
--          <option name="manufacturer" value="Samsung" />
--          <option name="name" value="Galaxy S23 Ultra" />
--          <option name="screenDensity" value="600" />
--          <option name="screenX" value="1440" />
--          <option name="screenY" value="3088" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="34" />
--          <option name="brand" value="samsung" />
--          <option name="codename" value="e1q" />
--          <option name="id" value="e1q" />
--          <option name="manufacturer" value="Samsung" />
--          <option name="name" value="Galaxy S24" />
--          <option name="screenDensity" value="480" />
--          <option name="screenX" value="1080" />
--          <option name="screenY" value="2340" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="33" />
--          <option name="brand" value="google" />
--          <option name="codename" value="felix" />
--          <option name="id" value="felix" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel Fold" />
--          <option name="screenDensity" value="420" />
--          <option name="screenX" value="2208" />
--          <option name="screenY" value="1840" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="34" />
--          <option name="brand" value="google" />
--          <option name="codename" value="felix" />
--          <option name="id" value="felix" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel Fold" />
--          <option name="screenDensity" value="420" />
--          <option name="screenX" value="2208" />
--          <option name="screenY" value="1840" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="33" />
--          <option name="brand" value="google" />
--          <option name="codename" value="felix_camera" />
--          <option name="id" value="felix_camera" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel Fold (Camera-enabled)" />
--          <option name="screenDensity" value="420" />
--          <option name="screenX" value="2208" />
--          <option name="screenY" value="1840" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="33" />
--          <option name="brand" value="samsung" />
--          <option name="codename" value="gts8uwifi" />
--          <option name="id" value="gts8uwifi" />
--          <option name="manufacturer" value="Samsung" />
--          <option name="name" value="Galaxy Tab S8 Ultra" />
--          <option name="screenDensity" value="320" />
--          <option name="screenX" value="1848" />
--          <option name="screenY" value="2960" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="34" />
--          <option name="brand" value="google" />
--          <option name="codename" value="husky" />
--          <option name="id" value="husky" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel 8 Pro" />
--          <option name="screenDensity" value="390" />
--          <option name="screenX" value="1008" />
--          <option name="screenY" value="2244" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="30" />
--          <option name="brand" value="motorola" />
--          <option name="codename" value="java" />
--          <option name="id" value="java" />
--          <option name="manufacturer" value="Motorola" />
--          <option name="name" value="G20" />
--          <option name="screenDensity" value="280" />
--          <option name="screenX" value="720" />
--          <option name="screenY" value="1600" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="34" />
--          <option name="brand" value="google" />
--          <option name="codename" value="komodo" />
--          <option name="id" value="komodo" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel 9 Pro XL" />
--          <option name="screenDensity" value="360" />
--          <option name="screenX" value="1008" />
--          <option name="screenY" value="2244" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="33" />
--          <option name="brand" value="google" />
--          <option name="codename" value="lynx" />
--          <option name="id" value="lynx" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel 7a" />
--          <option name="screenDensity" value="420" />
--          <option name="screenX" value="1080" />
--          <option name="screenY" value="2400" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="31" />
--          <option name="brand" value="google" />
--          <option name="codename" value="oriole" />
--          <option name="id" value="oriole" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel 6" />
--          <option name="screenDensity" value="420" />
--          <option name="screenX" value="1080" />
--          <option name="screenY" value="2400" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="33" />
--          <option name="brand" value="google" />
--          <option name="codename" value="panther" />
--          <option name="id" value="panther" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel 7" />
--          <option name="screenDensity" value="420" />
--          <option name="screenX" value="1080" />
--          <option name="screenY" value="2400" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="34" />
--          <option name="brand" value="samsung" />
--          <option name="codename" value="q5q" />
--          <option name="id" value="q5q" />
--          <option name="manufacturer" value="Samsung" />
--          <option name="name" value="Galaxy Z Fold5" />
--          <option name="screenDensity" value="420" />
--          <option name="screenX" value="1812" />
--          <option name="screenY" value="2176" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="34" />
--          <option name="brand" value="samsung" />
--          <option name="codename" value="q6q" />
--          <option name="id" value="q6q" />
--          <option name="manufacturer" value="Samsung" />
--          <option name="name" value="SM-F956B" />
--          <option name="screenDensity" value="420" />
--          <option name="screenX" value="1856" />
--          <option name="screenY" value="2160" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="30" />
--          <option name="brand" value="google" />
--          <option name="codename" value="r11" />
--          <option name="id" value="r11" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel Watch" />
--          <option name="screenDensity" value="320" />
--          <option name="screenX" value="384" />
--          <option name="screenY" value="384" />
--          <option name="type" value="WEAR_OS" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="30" />
--          <option name="brand" value="google" />
--          <option name="codename" value="redfin" />
--          <option name="id" value="redfin" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel 5" />
--          <option name="screenDensity" value="440" />
--          <option name="screenX" value="1080" />
--          <option name="screenY" value="2340" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="34" />
--          <option name="brand" value="google" />
--          <option name="codename" value="shiba" />
--          <option name="id" value="shiba" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel 8" />
--          <option name="screenDensity" value="420" />
--          <option name="screenX" value="1080" />
--          <option name="screenY" value="2400" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="33" />
--          <option name="brand" value="google" />
--          <option name="codename" value="tangorpro" />
--          <option name="id" value="tangorpro" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel Tablet" />
--          <option name="screenDensity" value="320" />
--          <option name="screenX" value="1600" />
--          <option name="screenY" value="2560" />
--        </PersistentDeviceSelectionData>
--        <PersistentDeviceSelectionData>
--          <option name="api" value="34" />
--          <option name="brand" value="google" />
--          <option name="codename" value="tokay" />
--          <option name="id" value="tokay" />
--          <option name="manufacturer" value="Google" />
--          <option name="name" value="Pixel 9" />
--          <option name="screenDensity" value="420" />
--          <option name="screenX" value="1080" />
--          <option name="screenY" value="2424" />
--        </PersistentDeviceSelectionData>
--      </list>
--    </option>
--  </component>
--</project>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM_[Changes]/shelved.patch
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM_[Changes]/shelved.patch
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM_[Changes]/shelved.patch	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-+++ /dev/null	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-@@ -1,1532 +0,0 @@
--Index: app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.ui.Cart;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.adapter.StoreCartAdapter;\r\nimport com.example.agrimart.data.model.Cart;\r\nimport com.example.agrimart.viewmodel.CartFragmentViewModel;\r\n\r\nimport java.util.List;\r\n\r\npublic class CartFragment extends Fragment {\r\n    private RecyclerView rvCarts;\r\n    private StoreCartAdapter storeCartAdapter;\r\n    private CartFragmentViewModel viewModel;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_cart, container, false);\r\n\r\n        // Cập nhật màu status bar\r\n        if (getActivity() != null) {\r\n            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        // Khởi tạo RecyclerView\r\n        rvCarts = view.findViewById(R.id.rv_cart);\r\n        rvCarts.setLayoutManager(new LinearLayoutManager(requireActivity()));\r\n\r\n        // Khởi tạo ViewModel\r\n        viewModel = new CartFragmentViewModel();\r\n\r\n\r\n\r\n        // Lấy dữ liệu từ Firestore và cập nhật RecyclerView\r\n        viewModel.getStoreCartsByUserId(new CartFragmentViewModel.OnDataFetchedListener() {\r\n            @Override\r\n            public void onDataFetched(List<Cart> storeCarts) {\r\n                // Cập nhật RecyclerView với danh sách StoreCart\r\n                storeCartAdapter = new StoreCartAdapter(storeCarts);\r\n                rvCarts.setAdapter(storeCartAdapter);\r\n            }\r\n\r\n            @Override\r\n            public void onError(String errorMessage) {\r\n                // Xử lý lỗi nếu không lấy được dữ liệu\r\n                Toast.makeText(getContext(), errorMessage, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java b/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java
----- a/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--+++ b/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java	(date 1731470593311)
--@@ -1,6 +1,7 @@
-- package com.example.agrimart.ui.Cart;
-- 
-- import android.os.Bundle;
--+import android.util.Log;
-- import android.view.LayoutInflater;
-- import android.view.View;
-- import android.view.ViewGroup;
--@@ -42,13 +43,13 @@
-- 
-- 
-- 
---        // Lấy dữ liệu từ Firestore và cập nhật RecyclerView
--         viewModel.getStoreCartsByUserId(new CartFragmentViewModel.OnDataFetchedListener() {
--             @Override
--             public void onDataFetched(List<Cart> storeCarts) {
--                 // Cập nhật RecyclerView với danh sách StoreCart
--                 storeCartAdapter = new StoreCartAdapter(storeCarts);
--                 rvCarts.setAdapter(storeCartAdapter);
--+
--             }
-- 
--             @Override
--@@ -58,6 +59,8 @@
--             }
--         });
-- 
--+
--+
--         return view;
--     }
-- }
--Index: app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.data.model.Cart;\r\nimport com.example.agrimart.data.model.ProductCart;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.firestore.WriteBatch;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Map;\r\n\r\npublic class CartFragmentViewModel extends ViewModel {\r\n    private final FirebaseAuth auth;\r\n    private final FirebaseFirestore firestore;\r\n    private String userId;\r\n\r\n    // Constructor\r\n    public CartFragmentViewModel() {\r\n        this.auth = FirebaseAuth.getInstance();\r\n        this.firestore = FirebaseFirestore.getInstance();\r\n    }\r\n\r\n    // Hàm để lấy danh sách các StoreCart theo userId, sắp xếp theo ngày\r\n    public void getStoreCartsByUserId(final OnDataFetchedListener listener) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId) // Tìm các StoreCart có userId trùng với tham số\r\n                .orderBy(\"updatedAt\", Query.Direction.DESCENDING) // Sắp xếp theo updatedAt giảm dần\r\n                .get() // Lấy dữ liệu\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Cart> storeCartList = new ArrayList<>();\r\n                        for (DocumentSnapshot document : task.getResult()) {\r\n                            Cart storeCart = document.toObject(Cart.class);\r\n                            if (storeCart != null) {\r\n                                storeCartList.add(storeCart);\r\n                            }\r\n                        }\r\n                        // Sau khi lấy danh sách StoreCart, tiếp tục truy vấn thông tin sản phẩm tương ứng\r\n                        fetchProductDetailsAndStore(storeCartList, listener);\r\n                    } else {\r\n                        Log.e(\"CartFragmentViewModel\", \"Failed to fetch data:\" + task.getException().getMessage());\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n    // Hàm để lấy thông tin sản phẩm từ productId\r\n    private void fetchProductDetailsAndStore(List<Cart> storeCartList, final OnDataFetchedListener listener) {\r\n        List<Cart> updatedStoreCartList = new ArrayList<>();\r\n        int[] remainingRequests = {storeCartList.size()}; // Đếm số yêu cầu cần xử lý\r\n\r\n        for (Cart storeCart : storeCartList) {\r\n            List<Product> products = storeCart.getProducts(); // Lấy danh sách sản phẩm hiện có trong storeCart\r\n            int[] productRequests = {products.size()}; // Đếm yêu cầu lấy thông tin cho từng sản phẩm\r\n\r\n            for (Product product : products) {\r\n                firestore.collection(\"products\")\r\n                        .document(product.getProduct_id())\r\n                        .get()\r\n                        .addOnCompleteListener(productTask -> {\r\n                            if (productTask.isSuccessful()) {\r\n                                DocumentSnapshot productDoc = productTask.getResult();\r\n                                if (productDoc.exists()) {\r\n                                    // Cập nhật thông tin trực tiếp vào đối tượng Product hiện có\r\n                                    product.setName(productDoc.getString(\"name\"));\r\n                                    product.setPrice(productDoc.getDouble(\"price\"));\r\n                                    product.setImages((List<String>) productDoc.get(\"images\"));\r\n                                }\r\n                            } else {\r\n                                listener.onError(\"Lấy thông tin sản phẩm thất bại: \" + productTask.getException().getMessage());\r\n                            }\r\n\r\n                            // Kiểm tra nếu tất cả sản phẩm đã được xử lý\r\n                            productRequests[0]--;\r\n                            if (productRequests[0] == 0) {\r\n                                // Khi tất cả sản phẩm đã được lấy, tiến hành lấy thông tin cửa hàng\r\n                                firestore.collection(\"users\")  // Collection \"users\" chứa thông tin cửa hàng\r\n                                        .document(storeCart.getStoreId())\r\n                                        .get()\r\n                                        .addOnCompleteListener(userTask -> {\r\n                                            if (userTask.isSuccessful()) {\r\n                                                DocumentSnapshot storeDoc = userTask.getResult();\r\n                                                if (storeDoc.exists()) {\r\n                                                    storeCart.setStore_name(storeDoc.getString(\"store_name\"));\r\n                                                }\r\n                                            } else {\r\n                                                listener.onError(\"Lấy thông tin cửa hàng thất bại: \" + userTask.getException().getMessage());\r\n                                            }\r\n\r\n                                            // Thêm storeCart đã cập nhật vào danh sách kết quả\r\n                                            updatedStoreCartList.add(storeCart);\r\n\r\n                                            // Giảm đếm remainingRequests và kiểm tra nếu tất cả storeCart đã hoàn thành\r\n                                            remainingRequests[0]--;\r\n                                            if (remainingRequests[0] == 0) {\r\n                                                listener.onDataFetched(updatedStoreCartList);\r\n                                            }\r\n                                        });\r\n                            }\r\n                        });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public void updateProductQuantityInFirebase(String productId, int newQuantity) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful() && !task.getResult().isEmpty()) {\r\n                        DocumentSnapshot document = task.getResult().getDocuments().get(0);\r\n                        Cart storeCart = document.toObject(Cart.class);\r\n\r\n                        if (storeCart != null) {\r\n                            List<ProductCart> updatedProductList = new ArrayList<>();\r\n                            boolean productFound = false;\r\n\r\n                            for (Product product : storeCart.getProducts()) {\r\n                                int quantity = product.getProduct_id().equals(productId) ? newQuantity : product.getQuantity();\r\n                                updatedProductList.add(new ProductCart(product.getProduct_id(), quantity));\r\n\r\n                                if (product.getProduct_id().equals(productId)) {\r\n                                    productFound = true;\r\n                                }\r\n                            }\r\n\r\n                            if (productFound) {\r\n                                storeCart.setProductCart(updatedProductList);\r\n\r\n                                firestore.collection(\"cart\")\r\n                                        .document(document.getId())\r\n                                        .update(\"products\", storeCart.getProductCart())\r\n                                        .addOnSuccessListener(aVoid -> Log.d(\"Firebase\", \"Giỏ hàng đã được cập nhật.\"))\r\n                                        .addOnFailureListener(e -> Log.e(\"Firebase\", \"Lỗi khi cập nhật giỏ hàng: \" + e.getMessage()));\r\n                            } else {\r\n                                Log.e(\"Firebase\", \"Không tìm thấy sản phẩm trong giỏ hàng.\");\r\n                            }\r\n                        }\r\n                    } else {\r\n                        Log.e(\"Firebase\", \"Không tìm thấy giỏ hàng hoặc có lỗi xảy ra: \" + (task.getException() != null ? task.getException().getMessage() : \"\"));\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n\r\n    public void addProductToCart(String storeId, Product productToAdd) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        // Query the user's cart based on userId and storeId\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .whereEqualTo(\"storeId\", storeId)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        if (!task.getResult().isEmpty()) {\r\n                            // Retrieve the existing cart if available\r\n                            DocumentSnapshot document = task.getResult().getDocuments().get(0);\r\n                            Cart storeCart = document.toObject(Cart.class);\r\n\r\n                            if (storeCart != null) {\r\n                                List<Product> products = storeCart.getProducts();\r\n                                List<ProductCart> productCarts = new ArrayList<>();\r\n\r\n                                if (products == null) {\r\n                                    products = new ArrayList<>(); // Initialize if null\r\n                                }\r\n\r\n                                // Check if the product already exists in the cart\r\n                                boolean productExists = false;\r\n                                for (Product product : products) {\r\n                                    ProductCart pro = new ProductCart();\r\n                                    pro.setProduct_id(product.getProduct_id());\r\n                                    pro.setQuantity(product.getQuantity());\r\n                                    if (product.getProduct_id().equals(productToAdd.getProduct_id())) {\r\n                                        productExists = true;\r\n                                        pro.setQuantity(product.getQuantity() + 1);\r\n                                    }\r\n                                    productCarts.add(pro);\r\n                                }\r\n\r\n                                // If the product doesn't exist, add it as a new product\r\n                                if (!productExists) {\r\n                                    ProductCart pro = new ProductCart();\r\n                                    pro.setProduct_id(productToAdd.getProduct_id());\r\n                                    pro.setQuantity(1);\r\n                                    productCarts.add(pro);\r\n                                }\r\n\r\n                                storeCart.setProduct(products); // Update the cart with the new product list\r\n                                String updatedAt = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\", Locale.getDefault()).format(new Date());\r\n                                storeCart.setUpdatedAt(updatedAt); // Update the timestamp\r\n\r\n                                // Update Firestore\r\n                                firestore.collection(\"cart\")\r\n                                        .document(document.getId())\r\n                                        .update(\r\n                                                \"products\", productCarts,\r\n                                                \"updatedAt\", updatedAt\r\n                                        )\r\n                                        .addOnSuccessListener(aVoid -> Log.d(\"Firebase\", \"Product has been added to the cart.\"))\r\n                                        .addOnFailureListener(e -> Log.e(\"Firebase\", \"Error adding product to cart: \" + e.getMessage()));\r\n                            }\r\n                        } else {\r\n                            // Define a new cart\r\n                            Map<String, Object> newCart = new HashMap<>();\r\n                            newCart.put(\"userId\", userId);\r\n                            newCart.put(\"storeId\", storeId);\r\n                            String updatedAt = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\", Locale.getDefault()).format(new Date());\r\n                            newCart.put(\"updatedAt\", updatedAt);\r\n\r\n                            // Create the initial list of products\r\n                            List<Map<String, Object>> productCarts = new ArrayList<>();\r\n                            Map<String, Object> productData = new HashMap<>();\r\n                            productData.put(\"product_id\", productToAdd.getProduct_id());\r\n                            productData.put(\"quantity\", 1);\r\n                            productCarts.add(productData);\r\n                            newCart.put(\"products\", productCarts);\r\n\r\n                            // Add the new cart to Firestore\r\n                            firestore.collection(\"cart\")\r\n                                    .add(newCart)\r\n                                    .addOnSuccessListener(documentReference -> Log.d(\"Firebase\", \"New cart has been created.\"))\r\n                                    .addOnFailureListener(e -> Log.e(\"Firebase\", \"Error creating new cart: \" + e.getMessage()));\r\n                        }\r\n                    } else {\r\n                        Log.e(\"Firebase\", \"Error retrieving cart: \" + task.getException());\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n    // Listener để callback khi lấy dữ liệu xong\r\n    public interface OnDataFetchedListener {\r\n        void onDataFetched(List<Cart> storeCarts);\r\n\r\n        void onError(String errorMessage);\r\n    }\r\n\r\n\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java
----- a/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--+++ b/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java	(date 1731470889891)
--@@ -11,7 +11,6 @@
-- import com.google.firebase.firestore.FirebaseFirestore;
-- import com.google.firebase.firestore.DocumentSnapshot;
-- import com.google.firebase.firestore.Query;
---import com.google.firebase.firestore.WriteBatch;
-- 
-- import java.text.SimpleDateFormat;
-- import java.util.ArrayList;
--@@ -20,6 +19,7 @@
-- import java.util.List;
-- import java.util.Locale;
-- import java.util.Map;
--+import java.util.concurrent.atomic.AtomicInteger;
-- 
-- public class CartFragmentViewModel extends ViewModel {
--     private final FirebaseAuth auth;
--@@ -37,9 +37,9 @@
--         userId = auth.getCurrentUser().getUid();
-- 
--         firestore.collection("cart")
---                .whereEqualTo("userId", userId) // Tìm các StoreCart có userId trùng với tham số
---                .orderBy("updatedAt", Query.Direction.DESCENDING) // Sắp xếp theo updatedAt giảm dần
---                .get() // Lấy dữ liệu
--+                .whereEqualTo("userId", userId)
--+                .orderBy("updatedAt", Query.Direction.DESCENDING)
--+                .get()
--                 .addOnCompleteListener(task -> {
--                     if (task.isSuccessful()) {
--                         List<Cart> storeCartList = new ArrayList<>();
--@@ -47,9 +47,10 @@
--                             Cart storeCart = document.toObject(Cart.class);
--                             if (storeCart != null) {
--                                 storeCartList.add(storeCart);
--+
--                             }
--                         }
---                        // Sau khi lấy danh sách StoreCart, tiếp tục truy vấn thông tin sản phẩm tương ứng
--+
--                         fetchProductDetailsAndStore(storeCartList, listener);
--                     } else {
--                         Log.e("CartFragmentViewModel", "Failed to fetch data:" + task.getException().getMessage());
--@@ -58,14 +59,16 @@
--     }
-- 
-- 
--+
--     // Hàm để lấy thông tin sản phẩm từ productId
--+
--     private void fetchProductDetailsAndStore(List<Cart> storeCartList, final OnDataFetchedListener listener) {
--         List<Cart> updatedStoreCartList = new ArrayList<>();
---        int[] remainingRequests = {storeCartList.size()}; // Đếm số yêu cầu cần xử lý
--+        AtomicInteger remainingRequests = new AtomicInteger(storeCartList.size());  // Use AtomicInteger to handle concurrency
-- 
--         for (Cart storeCart : storeCartList) {
---            List<Product> products = storeCart.getProducts(); // Lấy danh sách sản phẩm hiện có trong storeCart
---            int[] productRequests = {products.size()}; // Đếm yêu cầu lấy thông tin cho từng sản phẩm
--+            List<Product> products = storeCart.getProducts();
--+            AtomicInteger productRequests = new AtomicInteger(products.size());  // Track product requests
-- 
--             for (Product product : products) {
--                 firestore.collection("products")
--@@ -75,20 +78,18 @@
--                             if (productTask.isSuccessful()) {
--                                 DocumentSnapshot productDoc = productTask.getResult();
--                                 if (productDoc.exists()) {
---                                    // Cập nhật thông tin trực tiếp vào đối tượng Product hiện có
--                                     product.setName(productDoc.getString("name"));
--                                     product.setPrice(productDoc.getDouble("price"));
--                                     product.setImages((List<String>) productDoc.get("images"));
--+                                    product.setStoreId(productDoc.getString("storeId"));
--                                 }
--                             } else {
--                                 listener.onError("Lấy thông tin sản phẩm thất bại: " + productTask.getException().getMessage());
--                             }
-- 
---                            // Kiểm tra nếu tất cả sản phẩm đã được xử lý
---                            productRequests[0]--;
---                            if (productRequests[0] == 0) {
---                                // Khi tất cả sản phẩm đã được lấy, tiến hành lấy thông tin cửa hàng
---                                firestore.collection("users")  // Collection "users" chứa thông tin cửa hàng
--+                            // Decrement product request counter
--+                            if (productRequests.decrementAndGet() == 0) {
--+                                firestore.collection("users")
--                                         .document(storeCart.getStoreId())
--                                         .get()
--                                         .addOnCompleteListener(userTask -> {
--@@ -101,12 +102,10 @@
--                                                 listener.onError("Lấy thông tin cửa hàng thất bại: " + userTask.getException().getMessage());
--                                             }
-- 
---                                            // Thêm storeCart đã cập nhật vào danh sách kết quả
--                                             updatedStoreCartList.add(storeCart);
-- 
---                                            // Giảm đếm remainingRequests và kiểm tra nếu tất cả storeCart đã hoàn thành
---                                            remainingRequests[0]--;
---                                            if (remainingRequests[0] == 0) {
--+                                            // Decrement the remaining request counter
--+                                            if (remainingRequests.decrementAndGet() == 0) {
--                                                 listener.onDataFetched(updatedStoreCartList);
--                                             }
--                                         });
--@@ -117,11 +116,14 @@
--     }
-- 
-- 
---    public void updateProductQuantityInFirebase(String productId, int newQuantity) {
--+
--+
--+    public void updateProductQuantityInFirebase(String productId, String storeId, int newQuantity) {
--         userId = auth.getCurrentUser().getUid();
-- 
--         firestore.collection("cart")
--                 .whereEqualTo("userId", userId)
--+                .whereEqualTo("storeId", storeId)
--                 .get()
--                 .addOnCompleteListener(task -> {
--                     if (task.isSuccessful() && !task.getResult().isEmpty()) {
--Index: app/src/main/java/com/example/agrimart/adapter/ProductCartAdapter.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.adapter;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.lifecycle.ViewModel;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.model.Cart;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.viewmodel.CartFragmentViewModel;\r\nimport com.google.android.material.imageview.ShapeableImageView;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.List;\r\n\r\npublic class ProductCartAdapter extends RecyclerView.Adapter<ProductCartAdapter.ProductViewHolder> {\r\n\r\n    private List<Product> productList;\r\n\r\n    public ProductCartAdapter(List<Product> productList) {\r\n        this.productList = productList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ProductViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.item_cart_product, parent, false);\r\n        return new ProductViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ProductViewHolder holder, int position) {\r\n        Product product = productList.get(position);\r\n        holder.tvProductName.setText(product.getName());\r\n        holder.quantity.setText(String.valueOf(product.getQuantity()));\r\n        holder.tvPrice.setText(String.format(\"%,.0f đ\", product.getPrice()));\r\n        CartFragmentViewModel viewModel = new CartFragmentViewModel();\r\n\r\n        Glide.with(holder.itemView.getContext())\r\n                .load(product.getImages().get(0))\r\n                .placeholder(R.drawable.placeholder_image)\r\n                .error(R.drawable.error_image)\r\n                .into(holder.img_product);\r\n\r\n        // Xử lý khi bấm nút giảm số lượng\r\n        holder.btn_decrease.setOnClickListener(v -> {\r\n            if (product.getQuantity() > 1) { // Đảm bảo số lượng không giảm dưới 1\r\n                product.setQuantity(product.getQuantity() - 1);\r\n                holder.quantity.setText(String.valueOf(product.getQuantity())); // Cập nhật hiển thị số lượng\r\n                viewModel.updateProductQuantityInFirebase(product.getProduct_id(), product.getQuantity());\r\n            }\r\n        });\r\n\r\n        // Xử lý khi bấm nút tăng số lượng\r\n        holder.btn_increase.setOnClickListener(v -> {\r\n            product.setQuantity(product.getQuantity() + 1);\r\n            holder.quantity.setText(String.valueOf(product.getQuantity())); // Cập nhật hiển thị số lượng\r\n            viewModel.updateProductQuantityInFirebase(product.getProduct_id(), product.getQuantity());\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return productList.size();\r\n    }\r\n\r\n    static class ProductViewHolder extends RecyclerView.ViewHolder {\r\n        TextView tvProductName, tvPrice, quantity;\r\n        ShapeableImageView img_product;\r\n        ImageView btn_decrease, btn_increase;\r\n\r\n        public ProductViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            tvProductName = itemView.findViewById(R.id.tv_product_name);\r\n            tvPrice = itemView.findViewById(R.id.price);\r\n            img_product = itemView.findViewById(R.id.img_product);\r\n            quantity = itemView.findViewById(R.id.cart_quantity_product);\r\n            btn_decrease = itemView.findViewById(R.id.btn_decrease);\r\n            btn_increase = itemView.findViewById(R.id.btn_increase);\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/adapter/ProductCartAdapter.java b/app/src/main/java/com/example/agrimart/adapter/ProductCartAdapter.java
----- a/app/src/main/java/com/example/agrimart/adapter/ProductCartAdapter.java	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--+++ b/app/src/main/java/com/example/agrimart/adapter/ProductCartAdapter.java	(date 1731424512970)
--@@ -57,7 +57,7 @@
--             if (product.getQuantity() > 1) { // Đảm bảo số lượng không giảm dưới 1
--                 product.setQuantity(product.getQuantity() - 1);
--                 holder.quantity.setText(String.valueOf(product.getQuantity())); // Cập nhật hiển thị số lượng
---                viewModel.updateProductQuantityInFirebase(product.getProduct_id(), product.getQuantity());
--+                viewModel.updateProductQuantityInFirebase(product.getProduct_id(), product.getStoreId() ,product.getQuantity());
--             }
--         });
-- 
--@@ -65,7 +65,7 @@
--         holder.btn_increase.setOnClickListener(v -> {
--             product.setQuantity(product.getQuantity() + 1);
--             holder.quantity.setText(String.valueOf(product.getQuantity())); // Cập nhật hiển thị số lượng
---            viewModel.updateProductQuantityInFirebase(product.getProduct_id(), product.getQuantity());
--+            viewModel.updateProductQuantityInFirebase(product.getProduct_id(),product.getStoreId(), product.getQuantity());
--         });
--     }
-- 
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--+++ /dev/null	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1" date="1730802371626" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/5/2024 5:25 PM [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--+++ /dev/null	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--@@ -1,1295 +0,0 @@
---Index: app/src/main/java/com/example/agrimart/data/model/Product.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.data.model;\r\n\r\npublic class Product {\r\n    private String image;\r\n    private String name;\r\n    private double price;\r\n    private String active;\r\n\r\n    public Product() {\r\n    }\r\n\r\n    public Product(String image, String name, double price) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n    }\r\n\r\n    public Product(String image, String name, double price, String active) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.active = active;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public String getActive() {\r\n        return active;\r\n    }\r\n\r\n    public void setActive(String active) {\r\n        this.active = active;\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/Product.java b/app/src/main/java/com/example/agrimart/data/model/Product.java
------ a/app/src/main/java/com/example/agrimart/data/model/Product.java	
---+++ b/app/src/main/java/com/example/agrimart/data/model/Product.java	
---@@ -1,33 +1,57 @@
--- package com.example.agrimart.data.model;
--- 
----public class Product {
----    private String image;
---+import java.io.Serializable;
---+import java.util.Collections;
---+import java.util.List;
---+
---+public class Product implements Serializable {
---+    private String productId;
---     private String name;
---     private double price;
---     private String active;
---+    private String category;
---+    private String description;
---+    private int height;
---+    private List<String> images;
---+    private int length;
---+    private int quantity;
---+    private String storeId;
---+    private int weight;
---+    private int width;
---+    private int soldQuantity;
--- 
---     public Product() {
---     }
--- 
----    public Product(String image, String name, double price) {
----        this.image = image;
---+    public Product(String productId, String name, double price, String active, String category, String description, int height, List<String> images, int length, int quantity, String storeId, int weight, int width, int soldQuantity) {
---+        this.productId = productId;
---         this.name = name;
---         this.price = price;
---+        this.active = active;
---+        this.category = category;
---+        this.description = description;
---+        this.height = height;
---+        this.images = images;
---+        this.length = length;
---+        this.quantity = quantity;
---+        this.storeId = storeId;
---+        this.weight = weight;
---+        this.width = width;
---+        this.soldQuantity = soldQuantity;
---     }
--- 
----    public Product(String image, String name, double price, String active) {
----        this.image = image;
---+    public Product(String imageUrl, String name, double price) {
---+        this.images = Collections.singletonList(imageUrl);
---         this.name = name;
---         this.price = price;
----        this.active = active;
---     }
--- 
----    public String getImage() {
----        return image;
---+    public String getProductId() {
---+        return productId;
---     }
--- 
----    public void setImage(String image) {
----        this.image = image;
---+    public void setProductId(String productId) {
---+        this.productId = productId;
---     }
--- 
---     public String getName() {
---@@ -53,4 +77,84 @@
---     public void setActive(String active) {
---         this.active = active;
---     }
---+
---+    public String getCategory() {
---+        return category;
---+    }
---+
---+    public void setCategory(String category) {
---+        this.category = category;
---+    }
---+
---+    public String getDescription() {
---+        return description;
---+    }
---+
---+    public void setDescription(String description) {
---+        this.description = description;
---+    }
---+
---+    public int getHeight() {
---+        return height;
---+    }
---+
---+    public void setHeight(int height) {
---+        this.height = height;
---+    }
---+
---+    public List<String> getImages() {
---+        return images;
---+    }
---+
---+    public void setImages(List<String> images) {
---+        this.images = images;
---+    }
---+
---+    public int getLength() {
---+        return length;
---+    }
---+
---+    public void setLength(int length) {
---+        this.length = length;
---+    }
---+
---+    public int getQuantity() {
---+        return quantity;
---+    }
---+
---+    public void setQuantity(int quantity) {
---+        this.quantity = quantity;
---+    }
---+
---+    public String getStoreId() {
---+        return storeId;
---+    }
---+
---+    public void setStoreId(String storeId) {
---+        this.storeId = storeId;
---+    }
---+
---+    public int getWeight() {
---+        return weight;
---+    }
---+
---+    public void setWeight(int weight) {
---+        this.weight = weight;
---+    }
---+
---+    public int getWidth() {
---+        return width;
---+    }
---+
---+    public void setWidth(int width) {
---+        this.width = width;
---+    }
---+
---+    public int getSoldQuantity() {
---+        return soldQuantity;
---+    }
---+
---+    public void setSoldQuantity(int soldQuantity) {
---+        this.soldQuantity = soldQuantity;
---+    }
--- }
---\ No newline at end of file
---Index: app/src/main/res/layout/item_product.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\r\n\r\n    <data>\r\n        <variable\r\n            name=\"product\"\r\n            type=\"com.example.agrimart.data.model.Product\" />\r\n    </data>\r\n\r\n    <RelativeLayout\r\n        android:layout_width=\"173dp\"\r\n        android:background=\"@drawable/bg_product\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"5dp\"\r\n        android:layout_marginTop=\"5dp\">\r\n\r\n        <FrameLayout\r\n            android:id=\"@+id/frame_layout\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"124dp\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imgPro\"\r\n                android:layout_width=\"99dp\"\r\n                android:layout_height=\"79dp\"\r\n                android:scaleType=\"centerCrop\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/banana\" />\r\n        </FrameLayout>\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvName\"\r\n            android:layout_width=\"129dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/frame_layout\"\r\n            android:layout_marginTop=\"12dp\"\r\n            android:textSize=\"16sp\"\r\n            android:textColor=\"#333333\"\r\n            android:letterSpacing=\"0.01\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:ellipsize=\"end\"\r\n            android:maxLines=\"1\"\r\n            android:textStyle=\"bold\"/>\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvPrice\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/tvName\"\r\n            android:textSize=\"18sp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:textColor=\"#F44336\"\r\n            android:fontFamily=\"@font/gabarito\"\r\n            android:letterSpacing=\"0.01\"/>\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/imageButton\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@color/transparent\"\r\n            android:layout_below=\"@id/tvName\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:layout_marginEnd=\"16dp\"\r\n            android:layout_marginBottom=\"10dp\"\r\n            app:srcCompat=\"@drawable/ic_plus_1\" />\r\n\r\n    </RelativeLayout>\r\n</layout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/item_product.xml b/app/src/main/res/layout/item_product.xml
------ a/app/src/main/res/layout/item_product.xml	
---+++ b/app/src/main/res/layout/item_product.xml	
---@@ -22,10 +22,10 @@
--- 
---             <ImageView
---                 android:id="@+id/imgPro"
----                android:layout_width="99dp"
----                android:layout_height="79dp"
----                android:scaleType="centerCrop"
---+                android:layout_width="match_parent"
---+                android:layout_height="139dp"
---                 android:layout_gravity="center"
---+                android:scaleType="centerCrop"
---                 android:src="@drawable/banana" />
---         </FrameLayout>
--- 
---Index: app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Store;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.data.model.ProductRequest;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class StoreActivity extends AppCompatActivity {\r\n\r\n    private ImageView storeAvatar;\r\n    private TextView storeName, storeRating, storeAddress;\r\n    private RecyclerView rvProducts;\r\n    private ProductAdapter productAdapter;\r\n    private List<Product> productList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_store);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));\r\n        }\r\n\r\n        storeAvatar = findViewById(R.id.store_avatar);\r\n        storeName = findViewById(R.id.store_name);\r\n        storeRating = findViewById(R.id.store_rating);\r\n        storeAddress = findViewById(R.id.store_address);\r\n        rvProducts = findViewById(R.id.rvProducts);\r\n\r\n\r\n        productList = new ArrayList<>();\r\n\r\n\r\n        productAdapter = new ProductAdapter(productList, product -> {\r\n\r\n        });\r\n        rvProducts.setLayoutManager(new GridLayoutManager(this, 2));\r\n        rvProducts.setAdapter(productAdapter);\r\n        loadData();\r\n    }\r\n    private void loadData() {\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (user != null) {\r\n            String uid = user.getUid();\r\n\r\n            FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n            db.collection(\"products\")\r\n                    .whereEqualTo(\"storeId\", uid)\r\n                    .get()\r\n                    .addOnCompleteListener(task -> {\r\n                        if (task.isSuccessful()) {\r\n\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                ProductRequest product = document.toObject(ProductRequest.class);\r\n                                productList.add(\r\n                                        new Product(\r\n                                                product.getImageUrls().isEmpty() ? \"https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/notfound.jpg?alt=media&token=40e61714-5a10-4352-918c-7e5e2643a1fe\" : product.getImageUrls().get(0),\r\n                                                product.getName(),\r\n                                                product.getPrice()\r\n                                        )\r\n                                );\r\n                            }\r\n                            productAdapter.notifyDataSetChanged();\r\n                        }\r\n                    });\r\n\r\n        }\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java b/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java	
---+++ b/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java	
---@@ -3,9 +3,9 @@
--- import android.os.Bundle;
--- import android.view.Window;
--- import android.view.WindowManager;
---+import android.widget.ImageButton;
--- import android.widget.ImageView;
--- import android.widget.TextView;
----
--- import androidx.activity.EdgeToEdge;
--- import androidx.appcompat.app.AppCompatActivity;
--- import androidx.core.content.ContextCompat;
---@@ -14,16 +14,14 @@
--- import androidx.core.view.WindowInsetsCompat;
--- import androidx.recyclerview.widget.GridLayoutManager;
--- import androidx.recyclerview.widget.RecyclerView;
----
---+import com.bumptech.glide.Glide;
--- import com.example.agrimart.R;
--- import com.example.agrimart.adapter.ProductAdapter;
--- import com.example.agrimart.data.model.Product;
--- import com.example.agrimart.data.model.ProductRequest;
----import com.google.firebase.auth.FirebaseAuth;
----import com.google.firebase.auth.FirebaseUser;
---+import com.example.agrimart.data.model.User;
--- import com.google.firebase.firestore.FirebaseFirestore;
--- import com.google.firebase.firestore.QueryDocumentSnapshot;
----
--- import java.util.ArrayList;
--- import java.util.List;
--- 
---@@ -40,6 +38,14 @@
---         super.onCreate(savedInstanceState);
---         EdgeToEdge.enable(this);
---         setContentView(R.layout.activity_store);
---+        setupWindowInsets();
---+
---+        initializeViews();
---+        setupRecyclerView();
---+        loadStoreData();
---+    }
---+
---+    private void setupWindowInsets() {
---         ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {
---             Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
---             v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
---@@ -51,50 +57,84 @@
---             window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);
---             window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));
---         }
---+    }
--- 
---+    private void initializeViews() {
---         storeAvatar = findViewById(R.id.store_avatar);
---         storeName = findViewById(R.id.store_name);
---         storeRating = findViewById(R.id.store_rating);
---         storeAddress = findViewById(R.id.store_address);
---         rvProducts = findViewById(R.id.rvProducts);
---+    }
--- 
----
---+    private void setupRecyclerView() {
---         productList = new ArrayList<>();
----
----
---         productAdapter = new ProductAdapter(productList, product -> {
----
---+            // Xử lý khi nhấn vào sản phẩm (nếu cần)
---         });
---         rvProducts.setLayoutManager(new GridLayoutManager(this, 2));
---         rvProducts.setAdapter(productAdapter);
----        loadData();
---+    }
---+
---+    private void loadStoreData() {
---+        String storeId = getIntent().getStringExtra("storeId");
---+        if (storeId != null) {
---+            loadStoreInfo(storeId);
---+            loadProducts(storeId);
---+        }
---+    }
---+
---+    private void loadStoreInfo(String storeId) {
---+        FirebaseFirestore db = FirebaseFirestore.getInstance();
---+        db.collection("users")
---+                .document(storeId)
---+                .get()
---+                .addOnSuccessListener(documentSnapshot -> {
---+                    User store = documentSnapshot.toObject(User.class);
---+                    if (store != null) {
---+                        updateStoreInfo(store);
---+                    } else {
---+                        showError("Thông tin cửa hàng không hợp lệ.");
---+                    }
---+                })
---+                .addOnFailureListener(e -> {
---+                    showError("Không thể tải thông tin cửa hàng.");
---+                });
---+    }
---+
---+    private void updateStoreInfo(User store) {
---+        storeName.setText(store.getStoreName());
---+        storeAddress.setText(store.getStoreAddress() != null ? store.getStoreAddress().getStreet() : "Địa chỉ không khả dụng");
---+        Glide.with(this)
---+                .load(store.getStoreImage() != null && !store.getStoreImage().isEmpty() ? store.getStoreImage() : R.drawable.user)
---+                .placeholder(R.drawable.user)
---+                .error(R.drawable.user)
---+                .into(storeAvatar);
---     }
----    private void loadData() {
----        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
----        if (user != null) {
----            String uid = user.getUid();
--- 
----            FirebaseFirestore db = FirebaseFirestore.getInstance();
----            db.collection("products")
----                    .whereEqualTo("storeId", uid)
----                    .get()
----                    .addOnCompleteListener(task -> {
----                        if (task.isSuccessful()) {
----
----                            for (QueryDocumentSnapshot document : task.getResult()) {
----                                ProductRequest product = document.toObject(ProductRequest.class);
----                                productList.add(
----                                        new Product(
----                                                product.getImageUrls().isEmpty() ? "https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/notfound.jpg?alt=media&token=40e61714-5a10-4352-918c-7e5e2643a1fe" : product.getImageUrls().get(0),
----                                                product.getName(),
----                                                product.getPrice()
----                                        )
----                                );
----                            }
----                            productAdapter.notifyDataSetChanged();
----                        }
----                    });
---+    private void loadProducts(String storeId) {
---+        FirebaseFirestore db = FirebaseFirestore.getInstance();
---+        db.collection("products")
---+                .whereEqualTo("storeId", storeId)
---+                .get()
---+                .addOnSuccessListener(queryDocumentSnapshots -> {
---+                    for (QueryDocumentSnapshot document : queryDocumentSnapshots) {
---+                        ProductRequest productRequest = document.toObject(ProductRequest.class);
---+                        String imageUrl = productRequest.getImageUrls().isEmpty()
---+                                ? "https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/notfound.jpg?alt=media&token=40e61714-5a10-4352-918c-7e5e2643a1fe"
---+                                : productRequest.getImageUrls().get(0);
---+                        productList.add(new Product(imageUrl, productRequest.getName(), productRequest.getPrice()));
---+                    }
---+                    productAdapter.notifyDataSetChanged();
---+                })
---+                .addOnFailureListener(e -> {
---+                    showError("Không thể tải sản phẩm.");
---+                });
---+    }
--- 
----        }
----    }
----}
---\ No newline at end of file
---+    private void showError(String message) {
---+        storeName.setText(message);
---+        storeAddress.setText("");
---+        storeAvatar.setImageResource(R.drawable.user);
---+    }
---+}
---Index: app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.ItemProductBinding;\r\n\r\nimport java.util.List;\r\n\r\npublic class ProductAdapter extends RecyclerView.Adapter<ProductAdapter.MyViewHolder> {\r\n    private List<Product> products;\r\n    private OnItemClickListener listener;\r\n\r\n    public ProductAdapter(List<Product> products, OnItemClickListener listener) {\r\n        this.products = products;\r\n        this.listener = listener;\r\n    }\r\n\r\n    public interface OnItemClickListener {\r\n        void onItemClick(Product product);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        ItemProductBinding binding = ItemProductBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        return new MyViewHolder(binding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        Product product = products.get(position);\r\n        holder.bindData(product);\r\n        holder.itemView.setOnClickListener(v -> listener.onItemClick(product));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return products.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        private final ItemProductBinding binding;\r\n\r\n        public MyViewHolder(@NonNull ItemProductBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n\r\n        public void bindData(Product product) {\r\n            binding.tvName.setText(product.getName());\r\n            binding.tvPrice.setText(String.valueOf(product.getPrice()));\r\n            Glide.with(binding.getRoot().getContext())\r\n                    .load(product.getImage())\r\n                    .into(binding.imgPro);\r\n            binding.executePendingBindings();\r\n        }\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java b/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java
------ a/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java	
---+++ b/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java	
---@@ -10,7 +10,9 @@
--- import com.example.agrimart.data.model.Product;
--- import com.example.agrimart.databinding.ItemProductBinding;
--- 
---+import java.text.NumberFormat;
--- import java.util.List;
---+import java.util.Locale;
--- 
--- public class ProductAdapter extends RecyclerView.Adapter<ProductAdapter.MyViewHolder> {
---     private List<Product> products;
---@@ -54,10 +56,20 @@
--- 
---         public void bindData(Product product) {
---             binding.tvName.setText(product.getName());
----            binding.tvPrice.setText(String.valueOf(product.getPrice()));
----            Glide.with(binding.getRoot().getContext())
----                    .load(product.getImage())
----                    .into(binding.imgPro);
---+
---+            NumberFormat format = NumberFormat.getCurrencyInstance(new Locale("vi", "VN"));
---+            binding.tvPrice.setText(format.format(product.getPrice()));
---+
---+            if (product.getImages() != null && !product.getImages().isEmpty()) {
---+                Glide.with(binding.getRoot().getContext())
---+                        .load(product.getImages().get(0))
---+                        .into(binding.imgPro);
---+            } else if (product.getImages() != null) {
---+                Glide.with(binding.getRoot().getContext())
---+                        .load(product.getImages())
---+                        .into(binding.imgPro);
---+            }
---+
---             binding.executePendingBindings();
---         }
---     }
---Index: app/src/main/res/layout/activity_product_detail.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main1\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.ProductPage.ProductDetailActivity\">\r\n    <RelativeLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/header\">\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/btn_back\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:layout_marginBottom=\"8dp\"\r\n            android:background=\"@color/background_light\"\r\n            android:src=\"@drawable/chevron_left\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.0\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            tools:ignore=\"MissingConstraints\"\r\n            android:backgroundTint=\"@color/white\"/>\r\n    </RelativeLayout>\r\n\r\n    <ScrollView\r\n        android:id=\"@+id/scrollView\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"4dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/header\"\r\n        tools:layout_editor_absoluteX=\"0dp\"\r\n        android:layout_below=\"@id/header\"\r\n        android:scrollbars=\"none\"\r\n        android:layout_above=\"@id/footer\">\r\n\r\n        <RelativeLayout\r\n            android:id=\"@+id/product_detail\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n            <com.denzcoskun.imageslider.ImageSlider\r\n                android:id=\"@+id/product_image\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"250dp\"\r\n                android:background=\"@null\"\r\n                app:iss_auto_cycle=\"true\"\r\n                app:iss_period=\"1000\"\r\n                app:iss_title_background=\"@color/transparent\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_name\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"8dp\"\r\n                android:text=\"@string/product_name\"\r\n                android:layout_below=\"@+id/product_image\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"20sp\"\r\n                android:textAllCaps=\"true\"\r\n                android:textColor=\"@color/black\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_price\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"24dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"8dp\"\r\n                android:text=\"@string/price\"\r\n                android:layout_below=\"@+id/product_name\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"24sp\"\r\n                android:textColor=\"@android:color/holo_red_dark\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/address\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"24dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"16dp\"\r\n                android:text=\"@string/address\"\r\n                android:layout_below=\"@+id/product_price\"\r\n                android:fontFamily=\"@font/circular_std\"\r\n                android:textSize=\"16sp\"\r\n                android:drawableStart=\"@drawable/location\"/>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/quantity\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/address\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginBottom=\"10dp\">\r\n                <TextView\r\n                    android:id=\"@+id/btn_decrease\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"-\"\r\n                    android:textColor=\"#9E9E9E\"\r\n                    android:textSize=\"24sp\"\r\n                    android:padding=\"8dp\"\r\n                    android:gravity=\"center\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_quantity\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_marginStart=\"8dp\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:layout_marginBottom=\"8dp\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"1\"\r\n                    android:textSize=\"18sp\"\r\n                    android:textColor=\"#212121\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:background=\"@drawable/round_border\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_increase\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"+\"\r\n                    android:textColor=\"#4CAF50\"\r\n                    android:textSize=\"24sp\"\r\n                    android:padding=\"8dp\"\r\n                    android:gravity=\"center\"/>\r\n            </LinearLayout>\r\n\r\n            <RelativeLayout\r\n                android:id=\"@+id/product_description\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/quantity\">\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"@string/description\"\r\n                    android:textSize=\"16sp\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:id=\"@+id/description_title\"\r\n                    android:textColor=\"@color/black\"/>\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:id=\"@+id/description\"\r\n                    android:layout_below=\"@+id/description_title\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:textSize=\"13sp\"\r\n                    android:text=\"@string/descriptions\"\r\n                    android:maxLines=\"3\"\r\n                    android:ellipsize=\"end\"/>\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/btn_expand\"\r\n                    android:layout_width=\"32dp\"\r\n                    android:layout_height=\"32dp\"\r\n                    android:layout_below=\"@+id/description\"\r\n                    android:layout_centerHorizontal=\"true\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:src=\"@drawable/down\"\r\n                    android:background=\"@color/transparent\"/>\r\n            </RelativeLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/shop_info\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/product_description\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <androidx.cardview.widget.CardView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"8dp\"\r\n                    android:background=\"@color/background_light\"\r\n                    app:cardElevation=\"0dp\">\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/store\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"horizontal\"\r\n                        android:padding=\"16dp\">\r\n\r\n                        <de.hdodenhof.circleimageview.CircleImageView\r\n                            android:id=\"@+id/shop_avatar\"\r\n                            android:layout_width=\"40dp\"\r\n                            android:layout_height=\"40dp\"\r\n                            android:src=\"@drawable/user\"\r\n                            app:civ_border_width=\"2dp\"\r\n                            app:civ_border_color=\"#FF000000\"\r\n                            android:layout_marginEnd=\"16dp\"/>\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/shop_name\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Tên người bán\"\r\n                            android:textSize=\"16sp\"\r\n                            android:textStyle=\"bold\"\r\n                            android:textColor=\"#000000\"/>\r\n                    </LinearLayout>\r\n                </androidx.cardview.widget.CardView>\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/rating\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/shop_info\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:orientation=\"horizontal\">\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:textSize=\"16sp\"\r\n                    android:text=\"Đánh giá sản phẩm\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:id=\"@+id/quantity_title\"\r\n                    android:textColor=\"@color/black\"/>\r\n\r\n                <RatingBar\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:rating=\"4.5\"\r\n                    style=\"?android:attr/ratingBarStyleIndicator\"\r\n                    android:progressTint=\"#FFCC01\"\r\n                    android:id=\"@+id/totalRating\"\r\n                    android:layout_marginStart=\"40dp\"/>\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/reviews\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/rating\">\r\n\r\n                <de.hdodenhof.circleimageview.CircleImageView\r\n                    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n                    android:id=\"@+id/user_avatar\"\r\n                    android:layout_width=\"40dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:src=\"@drawable/user\"\r\n                    app:civ_border_width=\"2dp\"\r\n                    app:civ_border_color=\"#FF000000\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"16dp\"/>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"vertical\"\r\n                    android:layout_weight=\"1\"\r\n                    android:padding=\"10dp\"\r\n                    android:id=\"@+id/user_rv\">\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_name\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"User name\"\r\n                        android:textStyle=\"bold\"\r\n                        android:textSize=\"16sp\"\r\n                        android:textColor=\"#000000\" />\r\n\r\n                    <RatingBar\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:rating=\"3\"\r\n                        style=\"?android:attr/ratingBarStyleIndicator\"\r\n                        android:progressTint=\"#FFCC01\"\r\n                        android:id=\"@+id/userRating\"/>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_review\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"4dp\"\r\n                        android:text=\"@string/user_review\"\r\n                        android:textSize=\"14sp\"\r\n                        android:textColor=\"#616161\" />\r\n                </LinearLayout>\r\n            </LinearLayout>\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"16dp\"\r\n                android:layout_below=\"@id/reviews\"/>\r\n\r\n        </RelativeLayout>\r\n    </ScrollView>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/footer\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentBottom=\"true\">\r\n\r\n        <Button\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_marginStart=\"48dp\"\r\n            android:layout_marginEnd=\"48dp\"\r\n            android:backgroundTint=\"@color/green\"\r\n            app:cornerRadius=\"24dp\"\r\n            android:text=\"@string/add_cart\"/>\r\n    </RelativeLayout>\r\n</RelativeLayout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/activity_product_detail.xml b/app/src/main/res/layout/activity_product_detail.xml
------ a/app/src/main/res/layout/activity_product_detail.xml	
---+++ b/app/src/main/res/layout/activity_product_detail.xml	
---@@ -5,26 +5,23 @@
---     android:id="@+id/main1"
---     android:layout_width="match_parent"
---     android:layout_height="match_parent"
---+    android:padding="16dp"
---     tools:context=".ui.ProductPage.ProductDetailActivity">
---+
---     <RelativeLayout
---+        android:id="@+id/header"
---         android:layout_width="match_parent"
---         android:layout_height="wrap_content"
----        android:id="@+id/header">
---+        android:padding="8dp">
--- 
---         <ImageButton
---             android:id="@+id/btn_back"
---             android:layout_width="32dp"
---             android:layout_height="32dp"
----            android:layout_marginStart="24dp"
----            android:layout_marginTop="16dp"
----            android:layout_marginBottom="8dp"
---+            android:layout_marginStart="8dp"
---+            android:layout_marginTop="8dp"
---             android:background="@color/background_light"
---             android:src="@drawable/chevron_left"
----            app:layout_constraintEnd_toEndOf="parent"
----            app:layout_constraintHorizontal_bias="0.0"
----            app:layout_constraintStart_toStartOf="parent"
----            app:layout_constraintTop_toTopOf="parent"
----            tools:ignore="MissingConstraints"
---             android:backgroundTint="@color/white"/>
---     </RelativeLayout>
--- 
---@@ -32,12 +29,9 @@
---         android:id="@+id/scrollView"
---         android:layout_width="match_parent"
---         android:layout_height="wrap_content"
----        android:layout_marginTop="4dp"
----        app:layout_constraintTop_toBottomOf="@+id/header"
----        tools:layout_editor_absoluteX="0dp"
---         android:layout_below="@id/header"
----        android:scrollbars="none"
----        android:layout_above="@id/footer">
---+        android:layout_above="@id/footer"
---+        android:scrollbars="none">
--- 
---         <RelativeLayout
---             android:id="@+id/product_detail"
---@@ -53,14 +47,26 @@
---                 app:iss_period="1000"
---                 app:iss_title_background="@color/transparent"/>
--- 
---+            <TextView
---+                android:id="@+id/product_price"
---+                android:layout_width="wrap_content"
---+                android:layout_height="wrap_content"
---+                android:layout_marginStart="16dp"
---+                android:layout_marginEnd="16dp"
---+                android:layout_marginBottom="8dp"
---+                android:text="@string/price"
---+                android:layout_below="@+id/product_name"
---+                android:fontFamily="@font/gabarito"
---+                android:textSize="28sp"
---+                android:textColor="@android:color/holo_red_dark"/>
---+
---             <TextView
---                 android:id="@+id/product_name"
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
----                android:layout_marginTop="10dp"
---+                android:layout_marginTop="15dp"
---                 android:layout_marginStart="16dp"
----                android:layout_marginEnd="24dp"
----                android:layout_marginBottom="8dp"
---+                android:layout_marginEnd="16dp"
---                 android:text="@string/product_name"
---                 android:layout_below="@+id/product_image"
---                 android:fontFamily="@font/gabarito"
---@@ -68,25 +74,12 @@
---                 android:textAllCaps="true"
---                 android:textColor="@color/black"/>
--- 
----            <TextView
----                android:id="@+id/product_price"
----                android:layout_width="wrap_content"
----                android:layout_height="wrap_content"
----                android:layout_marginStart="24dp"
----                android:layout_marginEnd="24dp"
----                android:layout_marginBottom="8dp"
----                android:text="@string/price"
----                android:layout_below="@+id/product_name"
----                android:fontFamily="@font/gabarito"
----                android:textSize="24sp"
----                android:textColor="@android:color/holo_red_dark"/>
----
---             <TextView
---                 android:id="@+id/address"
---                 android:layout_width="wrap_content"
---                 android:layout_height="wrap_content"
----                android:layout_marginStart="24dp"
----                android:layout_marginEnd="24dp"
---+                android:layout_marginStart="16dp"
---+                android:layout_marginEnd="16dp"
---                 android:layout_marginBottom="16dp"
---                 android:text="@string/address"
---                 android:layout_below="@+id/product_price"
---@@ -100,7 +93,9 @@
---                 android:layout_height="wrap_content"
---                 android:layout_below="@+id/address"
---                 android:layout_marginStart="16dp"
----                android:layout_marginBottom="10dp">
---+                android:layout_marginBottom="10dp"
---+                android:orientation="horizontal">
---+
---                 <TextView
---                     android:id="@+id/btn_decrease"
---                     android:layout_width="30dp"
---@@ -143,26 +138,26 @@
---                 android:layout_below="@+id/quantity">
--- 
---                 <TextView
---+                    android:id="@+id/description_title"
---                     android:layout_width="match_parent"
---                     android:layout_height="wrap_content"
----                    android:layout_marginStart="16dp"
---+                    android:layout_marginStart="15dp"
---                     android:layout_marginEnd="16dp"
---                     android:layout_marginTop="8dp"
---                     android:text="@string/description"
----                    android:textSize="16sp"
---+                    android:textSize="17sp"
---                     android:fontFamily="@font/gabarito"
----                    android:id="@+id/description_title"
---                     android:textColor="@color/black"/>
--- 
---                 <TextView
---+                    android:id="@+id/description"
---                     android:layout_width="match_parent"
---                     android:layout_height="wrap_content"
----                    android:id="@+id/description"
---                     android:layout_below="@+id/description_title"
---                     android:layout_marginStart="16dp"
---                     android:layout_marginEnd="16dp"
---                     android:layout_marginTop="8dp"
----                    android:textSize="13sp"
---+                    android:textSize="15sp"
---                     android:text="@string/descriptions"
---                     android:maxLines="3"
---                     android:ellipsize="end"/>
---@@ -183,7 +178,9 @@
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
---                 android:layout_below="@+id/product_description"
---+                android:layout_margin="8dp"
---                 android:layout_marginTop="24dp"
---+                android:background="@color/transparent"
---                 android:orientation="vertical">
--- 
---                 <androidx.cardview.widget.CardView
---@@ -197,29 +194,27 @@
---                         android:id="@+id/store"
---                         android:layout_width="match_parent"
---                         android:layout_height="wrap_content"
----                        android:orientation="horizontal"
----                        android:padding="16dp">
---+                        android:orientation="horizontal">
--- 
---                         <de.hdodenhof.circleimageview.CircleImageView
----                            android:id="@+id/shop_avatar"
----                            android:layout_width="40dp"
----                            android:layout_height="40dp"
---+                            android:id="@+id/store_img"
---+                            android:layout_width="50dp"
---+                            android:layout_height="50dp"
---+                            android:layout_marginEnd="16dp"
---                             android:src="@drawable/user"
----                            app:civ_border_width="2dp"
---                             app:civ_border_color="#FF000000"
----                            android:layout_marginEnd="16dp"/>
---+                            app:civ_border_width="2dp" />
--- 
---                         <TextView
----                            android:id="@+id/shop_name"
---+                            android:id="@+id/store_name"
---                             android:layout_width="wrap_content"
---                             android:layout_height="wrap_content"
---                             android:text="Tên người bán"
----                            android:textSize="16sp"
----                            android:textStyle="bold"
----                            android:textColor="#000000"/>
---+                            android:textColor="#000000"
---+                            android:textSize="20sp"
---+                            android:textStyle="bold" />
---                     </LinearLayout>
---                 </androidx.cardview.widget.CardView>
----
---             </LinearLayout>
--- 
---             <LinearLayout
---@@ -228,8 +223,11 @@
---                 android:layout_height="wrap_content"
---                 android:layout_below="@+id/shop_info"
---                 android:layout_marginTop="24dp"
----                android:orientation="horizontal">
---+                android:orientation="horizontal"
---+                android:padding="8dp">
---+
---                 <TextView
---+                    android:id="@+id/quantity_title"
---                     android:layout_width="wrap_content"
---                     android:layout_height="wrap_content"
---                     android:layout_marginStart="16dp"
---@@ -237,16 +235,15 @@
---                     android:textSize="16sp"
---                     android:text="Đánh giá sản phẩm"
---                     android:fontFamily="@font/gabarito"
----                    android:id="@+id/quantity_title"
---                     android:textColor="@color/black"/>
--- 
---                 <RatingBar
---+                    android:id="@+id/totalRating"
---                     android:layout_width="wrap_content"
---                     android:layout_height="wrap_content"
---                     android:rating="4.5"
---                     style="?android:attr/ratingBarStyleIndicator"
---                     android:progressTint="#FFCC01"
----                    android:id="@+id/totalRating"
---                     android:layout_marginStart="40dp"/>
---             </LinearLayout>
--- 
---@@ -254,10 +251,10 @@
---                 android:id="@+id/reviews"
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
----                android:layout_below="@+id/rating">
---+                android:layout_below="@+id/rating"
---+                android:padding="8dp">
--- 
---                 <de.hdodenhof.circleimageview.CircleImageView
----                    xmlns:app="http://schemas.android.com/apk/res-auto"
---                     android:id="@+id/user_avatar"
---                     android:layout_width="40dp"
---                     android:layout_height="40dp"
---@@ -268,12 +265,12 @@
---                     android:layout_marginTop="16dp"/>
--- 
---                 <LinearLayout
---+                    android:id="@+id/user_rv"
---                     android:layout_width="0dp"
---                     android:layout_height="wrap_content"
---                     android:orientation="vertical"
---                     android:layout_weight="1"
----                    android:padding="10dp"
----                    android:id="@+id/user_rv">
---+                    android:padding="10dp">
--- 
---                     <TextView
---                         android:id="@+id/user_name"
---@@ -285,12 +282,12 @@
---                         android:textColor="#000000" />
--- 
---                     <RatingBar
---+                        android:id="@+id/userRating"
---                         android:layout_width="wrap_content"
---                         android:layout_height="wrap_content"
---                         android:rating="3"
---                         style="?android:attr/ratingBarStyleIndicator"
----                        android:progressTint="#FFCC01"
----                        android:id="@+id/userRating"/>
---+                        android:progressTint="#FFCC01"/>
--- 
---                     <TextView
---                         android:id="@+id/user_review"
---@@ -302,12 +299,12 @@
---                         android:textColor="#616161" />
---                 </LinearLayout>
---             </LinearLayout>
---+
---             <androidx.recyclerview.widget.RecyclerView
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
---                 android:layout_marginTop="16dp"
---                 android:layout_below="@id/reviews"/>
----
---         </RelativeLayout>
---     </ScrollView>
--- 
---@@ -315,7 +312,8 @@
---         android:id="@+id/footer"
---         android:layout_width="match_parent"
---         android:layout_height="wrap_content"
----        android:layout_alignParentBottom="true">
---+        android:layout_alignParentBottom="true"
---+        android:padding="16dp">
--- 
---         <Button
---             android:layout_width="match_parent"
---Index: app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\nimport com.example.agrimart.viewmodel.HomeFragmentViewModel;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    ImageButton btnSearch;\r\n    TextView search;\r\n    HomeFragmentViewModel viewModel;\r\n    FragmentHomeBinding binding;\r\n\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    public static HomeFragment newInstance() {\r\n        return new HomeFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        binding=DataBindingUtil.inflate(inflater,R.layout.fragment_home,container,false);\r\n        viewModel=new ViewModelProvider(this).get(HomeFragmentViewModel.class);\r\n\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding.setViewmodel(viewModel);\r\n        View view = binding.getRoot();\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getActivity().getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n//        if (getActivity() != null) {\r\n//            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n//        }\r\n        viewModel.getData();\r\n        viewModel.categories.observe(getViewLifecycleOwner(), categories -> {\r\n            if (categories != null) {\r\n                CategoryAdapter categoryAdapter = new CategoryAdapter(categories);\r\n                binding.rvCategories.setAdapter(categoryAdapter);\r\n                binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));\r\n                Log.d(\"duy1\", \"onCreateView: \" + categories.size());\r\n            }\r\n        });\r\n\r\n\r\n        List<Product> products = new ArrayList<>();\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n            Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n\r\n        addControls(view);\r\n        addEvents();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void addEvents() {\r\n        btnSearch.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getActivity(), SearchActivity.class);\r\n            getActivity().startActivity(intent);\r\n        });\r\n\r\n        search.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getContext(), SearchActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void addControls(View view) {\r\n        btnSearch = view.findViewById(R.id.search_icon);\r\n        search = view.findViewById(R.id.search_input);\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getActivity().getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
------ a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	
---+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	
---@@ -3,15 +3,12 @@
--- import android.content.Intent;
--- import android.os.Build;
--- import android.os.Bundle;
----
--- import androidx.annotation.NonNull;
--- import androidx.core.content.ContextCompat;
--- import androidx.databinding.DataBindingUtil;
--- import androidx.fragment.app.Fragment;
--- import androidx.lifecycle.ViewModelProvider;
--- import androidx.recyclerview.widget.GridLayoutManager;
----import androidx.recyclerview.widget.RecyclerView;
----
--- import android.util.Log;
--- import android.view.LayoutInflater;
--- import android.view.View;
---@@ -25,23 +22,22 @@
--- import com.example.agrimart.SpacesItemDecoration;
--- import com.example.agrimart.adapter.CategoryAdapter;
--- import com.example.agrimart.adapter.ProductAdapter;
----import com.example.agrimart.data.model.Category;
--- import com.example.agrimart.data.model.Product;
--- import com.example.agrimart.databinding.FragmentHomeBinding;
--- import com.example.agrimart.ui.ProductPage.ProductDetailActivity;
--- import com.example.agrimart.viewmodel.HomeFragmentViewModel;
--- 
----import java.util.ArrayList;
--- import java.util.List;
--- 
--- public class HomeFragment extends Fragment {
---+    private static final String TAG = "HomeFragment";
---     ImageButton btnSearch;
---     TextView search;
---     HomeFragmentViewModel viewModel;
---     FragmentHomeBinding binding;
--- 
---     public HomeFragment() {
----        // Required empty public constructor
---+
---     }
--- 
---     public static HomeFragment newInstance() {
---@@ -54,10 +50,9 @@
---     }
--- 
---     @Override
----    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,
----                             Bundle savedInstanceState) {
----        binding=DataBindingUtil.inflate(inflater,R.layout.fragment_home,container,false);
----        viewModel=new ViewModelProvider(this).get(HomeFragmentViewModel.class);
---+    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
---+        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_home, container, false);
---+        viewModel = new ViewModelProvider(this).get(HomeFragmentViewModel.class);
--- 
---         int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);
---         binding.setViewmodel(viewModel);
---@@ -69,36 +64,35 @@
---             window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));
---         }
--- 
----//        if (getActivity() != null) {
----//            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));
----//        }
---         viewModel.getData();
---+        viewModel.getProducts();
---+
---         viewModel.categories.observe(getViewLifecycleOwner(), categories -> {
---             if (categories != null) {
---                 CategoryAdapter categoryAdapter = new CategoryAdapter(categories);
---                 binding.rvCategories.setAdapter(categoryAdapter);
---                 binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));
----                Log.d("duy1", "onCreateView: " + categories.size());
---+                Log.d(TAG, "Categories loaded: " + categories.size());
---             }
---         });
--- 
----
----        List<Product> products = new ArrayList<>();
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----
----        ProductAdapter productAdapter = new ProductAdapter(products, product -> {
----            Intent intent = new Intent(getContext(), ProductDetailActivity.class);
----            startActivity(intent);
----        });
---+        viewModel.products.observe(getViewLifecycleOwner(), products -> {
---+            if (products != null) {
---+                ProductAdapter productAdapter = new ProductAdapter(products, product -> {
---+                    try {
---+                        Intent intent = new Intent(getContext(), ProductDetailActivity.class);
---+                        intent.putExtra("product", product);
---+                        intent.putExtra("storeId", product.getStoreId());
---+                        startActivity(intent);
---+                    } catch (Exception e) {
--- 
----        binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));
----        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
----        binding.rvProducts.setAdapter(productAdapter);
---+                    }
---+                });
---+                binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));
---+                binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
---+                binding.rvProducts.setAdapter(productAdapter);
---+            }
---+        });
--- 
---         addControls(view);
---         addEvents();
---@@ -107,13 +101,13 @@
---     }
--- 
---     private void addEvents() {
----        btnSearch.setOnClickListener(View -> {
----            Intent intent=new Intent(getActivity(), SearchActivity.class);
---+        btnSearch.setOnClickListener(v -> {
---+            Intent intent = new Intent(getActivity(), SearchActivity.class);
---             getActivity().startActivity(intent);
---         });
--- 
----        search.setOnClickListener(View -> {
----            Intent intent=new Intent(getContext(), SearchActivity.class);
---+        search.setOnClickListener(v -> {
---+            Intent intent = new Intent(getContext(), SearchActivity.class);
---             startActivity(intent);
---         });
---     }
---Index: app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.ProductPage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.ImageButton;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\n\r\nimport com.denzcoskun.imageslider.ImageSlider;\r\nimport com.denzcoskun.imageslider.constants.ScaleTypes;\r\nimport com.denzcoskun.imageslider.models.SlideModel;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.Store.StoreActivity;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ProductDetailActivity extends AppCompatActivity {\r\n    ImageButton btn_back, btnExpand;\r\n    TextView description;\r\n    boolean isExpanded = false;\r\n    LinearLayout store;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_product_detail);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        description = findViewById(R.id.description);\r\n        btnExpand = findViewById(R.id.btn_expand);\r\n\r\n        btn_back = findViewById(R.id.btn_back);\r\n        btn_back.setOnClickListener(v -> finish());\r\n        store = findViewById(R.id.store);\r\n\r\n        ArrayList<SlideModel> imgList = new ArrayList<>();\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n\r\n        ImageSlider imageSlider = findViewById(R.id.product_image);\r\n        imageSlider.setImageList(imgList, ScaleTypes.FIT);\r\n\r\n        btnExpand.setOnClickListener(v -> {\r\n            if (isExpanded) {\r\n                description.setMaxLines(3);\r\n                btnExpand.setImageResource(R.drawable.down);\r\n            } else {\r\n                description.setMaxLines(Integer.MAX_VALUE);\r\n                btnExpand.setImageResource(R.drawable.arrowhead_up);\r\n            }\r\n            isExpanded = !isExpanded;\r\n        });\r\n\r\n        store.setOnClickListener(v -> {\r\n            Intent intent = new Intent(ProductDetailActivity.this, StoreActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java	
---+++ b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java	
---@@ -3,28 +3,40 @@
--- import android.content.Intent;
--- import android.os.Bundle;
--- import android.widget.ImageButton;
---+import android.widget.ImageView;
--- import android.widget.LinearLayout;
--- import android.widget.TextView;
--- 
--- import androidx.activity.EdgeToEdge;
---+import androidx.annotation.NonNull;
--- import androidx.appcompat.app.AppCompatActivity;
--- import androidx.core.graphics.Insets;
--- import androidx.core.view.ViewCompat;
--- import androidx.core.view.WindowInsetsCompat;
---+import androidx.lifecycle.Observer;
---+import androidx.lifecycle.ViewModelProvider;
--- 
---+import com.bumptech.glide.Glide;
--- import com.denzcoskun.imageslider.ImageSlider;
--- import com.denzcoskun.imageslider.constants.ScaleTypes;
--- import com.denzcoskun.imageslider.models.SlideModel;
--- import com.example.agrimart.R;
---+import com.example.agrimart.data.model.Product;
---+import com.example.agrimart.data.model.Store;
--- import com.example.agrimart.ui.Store.StoreActivity;
---+import com.example.agrimart.viewmodel.ProductDetailViewModel;
---+
--- 
--- import java.util.ArrayList;
--- 
--- public class ProductDetailActivity extends AppCompatActivity {
----    ImageButton btn_back, btnExpand;
----    TextView description;
----    boolean isExpanded = false;
----    LinearLayout store;
---+    private static final String TAG = "ProductDetailActivity";
---+    private ImageButton btn_back, btnExpand;
---+    private TextView description, productName, productPrice, storeName, storeAddress, storePhoneNumber;
---+    private ImageView storeAvatar;
---+    private boolean isExpanded = false;
---+    private LinearLayout store;
---+    private ProductDetailViewModel viewModel;
--- 
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---@@ -37,24 +49,51 @@
---             return insets;
---         });
--- 
---+        viewModel = new ViewModelProvider(this).get(ProductDetailViewModel.class);
---+
---         description = findViewById(R.id.description);
---+        productName = findViewById(R.id.product_name);
---+        productPrice = findViewById(R.id.product_price);
---         btnExpand = findViewById(R.id.btn_expand);
----
---         btn_back = findViewById(R.id.btn_back);
----        btn_back.setOnClickListener(v -> finish());
---         store = findViewById(R.id.store);
---+        storeName = findViewById(R.id.store_name);
---+        storeAddress = findViewById(R.id.address);
---+        storeAvatar = findViewById(R.id.store_img);
---+
---+        btn_back.setOnClickListener(v -> finish());
---+
---+        Intent intent = getIntent();
---+        Product product = (Product) intent.getSerializableExtra("product");
---+
---+        if (product != null) {
---+            productName.setText(product.getName());
---+            productPrice.setText(String.format("%,.0f đ", product.getPrice()));
---+            description.setText(product.getDescription());
--- 
----        ArrayList<SlideModel> imgList = new ArrayList<>();
----        imgList.add(new SlideModel(R.drawable.banana, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.apple, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.banana, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.apple, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.banana, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.apple, "", ScaleTypes.FIT));
----
----        ImageSlider imageSlider = findViewById(R.id.product_image);
----        imageSlider.setImageList(imgList, ScaleTypes.FIT);
---+            ArrayList<SlideModel> imgList = new ArrayList<>();
---+            if (product.getImages() != null) {
---+                for (String url : product.getImages()) {
---+                    imgList.add(new SlideModel(url, "", ScaleTypes.FIT));
---+                }
---+            }
---+            ImageSlider imageSlider = findViewById(R.id.product_image);
---+            imageSlider.setImageList(imgList, ScaleTypes.FIT);
--- 
---+            viewModel.loadStoreInfo(product.getStoreId());
---+        }
---+
---+        viewModel.getStoreInfo().observe(this, new Observer<Store>() {
---+            @Override
---+            public void onChanged(Store storeInfo) {
---+                if (storeInfo != null) {
---+                    storeName.setText(storeInfo.getName());
---+                    storeAddress.setText(storeInfo.getFullAddress());
---+                    Glide.with(ProductDetailActivity.this).load(storeInfo.getAvatarUrl()).into(storeAvatar);
---+                }
---+            }
---+        });
---+
---         btnExpand.setOnClickListener(v -> {
---             if (isExpanded) {
---                 description.setMaxLines(3);
---@@ -67,8 +106,9 @@
---         });
--- 
---         store.setOnClickListener(v -> {
----            Intent intent = new Intent(ProductDetailActivity.this, StoreActivity.class);
----            startActivity(intent);
---+            Intent storeIntent = new Intent(ProductDetailActivity.this, StoreActivity.class);
---+            storeIntent.putExtra("storeId", product.getStoreId());
---+            startActivity(storeIntent);
---         });
---     }
----}
---\ No newline at end of file
---+}
---Index: app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.List;\r\n\r\npublic class HomeFragmentViewModel extends ViewModel {\r\n    public MutableLiveData<List<Category>> categories;\r\n\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    public HomeFragmentViewModel() {\r\n        categories = new MutableLiveData<>();\r\n    }\r\n\r\n    public void getData(){\r\n        db.collection(\"categories\")\r\n                .orderBy(\"id\")\r\n                .get().addOnCompleteListener(task -> {\r\n            if (task.isSuccessful()) {\r\n                List<Category> categoryList = task.getResult().toObjects(Category.class);\r\n                categories.setValue(categoryList);\r\n            } else {\r\n                Log.e(\"HomeFragmentViewModel\", \"Error getting documents: \", task.getException());\r\n            }\r\n        });\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java
------ a/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java	
---+++ b/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java	
---@@ -6,28 +6,47 @@
--- import androidx.lifecycle.ViewModel;
--- 
--- import com.example.agrimart.data.model.Category;
---+import com.example.agrimart.data.model.Product;
--- import com.google.firebase.firestore.FirebaseFirestore;
--- 
--- import java.util.List;
--- 
--- public class HomeFragmentViewModel extends ViewModel {
---     public MutableLiveData<List<Category>> categories;
---+    public MutableLiveData<List<Product>> products;
--- 
---     FirebaseFirestore db = FirebaseFirestore.getInstance();
---+
---     public HomeFragmentViewModel() {
---         categories = new MutableLiveData<>();
---+        products = new MutableLiveData<>();
---     }
--- 
----    public void getData(){
---+    public void getData() {
---         db.collection("categories")
---                 .orderBy("id")
----                .get().addOnCompleteListener(task -> {
----            if (task.isSuccessful()) {
----                List<Category> categoryList = task.getResult().toObjects(Category.class);
----                categories.setValue(categoryList);
----            } else {
----                Log.e("HomeFragmentViewModel", "Error getting documents: ", task.getException());
----            }
----        });
---+                .get()
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        List<Category> categoryList = task.getResult().toObjects(Category.class);
---+                        categories.setValue(categoryList);
---+                    } else {
---+                        Log.e("HomeFragmentViewModel", "Error getting categories: ", task.getException());
---+                    }
---+                });
---+    }
---+
---+    public void getProducts() {
---+        db.collection("products")
---+                .orderBy("product_id")
---+                .get()
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        List<Product> productList = task.getResult().toObjects(Product.class);
---+                        products.setValue(productList);
---+                    } else {
---+                        Log.e("HomeFragmentViewModel", "Error getting products: ", task.getException());
---+                    }
---+                });
---     }
----}
---\ No newline at end of file
---+}
---Index: app/src/main/java/com/example/agrimart/data/model/User.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.data.model;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\nimport java.io.Serializable;\r\nimport java.util.Date;\r\n\r\npublic class User implements Serializable {\r\n    @SerializedName(\"userId\")\r\n    private String userId;\r\n    @SerializedName(\"role\")\r\n    private String role;\r\n    @SerializedName(\"fullName\")\r\n    private String fullName;\r\n    @SerializedName(\"email\")\r\n    private String email;\r\n    @SerializedName(\"phoneNumber\")\r\n    private String phoneNumber;\r\n    @SerializedName(\"password\")\r\n    private String password;\r\n    @SerializedName(\"address\")\r\n    private Address address;\r\n    @SerializedName(\"storeName\")\r\n    private String storeName;\r\n    @SerializedName(\"storeAddress\")\r\n    private Address storeAddress;\r\n    @SerializedName(\"storeImage\")\r\n    private String storeImage;\r\n    @SerializedName(\"storeRating\")\r\n    private double storeRating;\r\n    @SerializedName(\"paymentAccount\")\r\n    private PaymentAccount paymentAccount;\r\n    @SerializedName(\"createdAt\")\r\n    private Date createdAt;\r\n    @SerializedName(\"updatedAt\")\r\n    private Date updatedAt;\r\n\r\n    public User(String userId, String role, String fullName, String email, String phoneNumber, String password, Address address, String storeName, Address storeAddress, String storeImage, double storeRating, PaymentAccount paymentAccount, Date createdAt, Date updatedAt) {\r\n        this.userId = userId;\r\n        this.role = role;\r\n        this.fullName = fullName;\r\n        this.email = email;\r\n        this.phoneNumber = phoneNumber;\r\n        this.password = password;\r\n        this.address = address;\r\n        this.storeName = storeName;\r\n        this.storeAddress = storeAddress;\r\n        this.storeImage = storeImage;\r\n        this.storeRating = storeRating;\r\n        this.paymentAccount = paymentAccount;\r\n        this.createdAt = createdAt;\r\n        this.updatedAt = updatedAt;\r\n    }\r\n\r\n    public String getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(String userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getRole() {\r\n        return role;\r\n    }\r\n\r\n    public void setRole(String role) {\r\n        this.role = role;\r\n    }\r\n\r\n    public String getFullName() {\r\n        return fullName;\r\n    }\r\n\r\n    public void setFullName(String fullName) {\r\n        this.fullName = fullName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Address getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(Address address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getStoreName() {\r\n        return storeName;\r\n    }\r\n\r\n    public void setStoreName(String storeName) {\r\n        this.storeName = storeName;\r\n    }\r\n\r\n    public Address getStoreAddress() {\r\n        return storeAddress;\r\n    }\r\n\r\n    public void setStoreAddress(Address storeAddress) {\r\n        this.storeAddress = storeAddress;\r\n    }\r\n\r\n    public String getStoreImage() {\r\n        return storeImage;\r\n    }\r\n\r\n    public void setStoreImage(String storeImage) {\r\n        this.storeImage = storeImage;\r\n    }\r\n\r\n    public double getStoreRating() {\r\n        return storeRating;\r\n    }\r\n\r\n    public void setStoreRating(double storeRating) {\r\n        this.storeRating = storeRating;\r\n    }\r\n\r\n    public PaymentAccount getPaymentAccount() {\r\n        return paymentAccount;\r\n    }\r\n\r\n    public void setPaymentAccount(PaymentAccount paymentAccount) {\r\n        this.paymentAccount = paymentAccount;\r\n    }\r\n\r\n    public Date getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(Date createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Date getUpdatedAt() {\r\n        return updatedAt;\r\n    }\r\n\r\n    public void setUpdatedAt(Date updatedAt) {\r\n        this.updatedAt = updatedAt;\r\n    }\r\n\r\n//    public static class Address {\r\n//        @SerializedName(\"street\")\r\n//        private String street;\r\n//        @SerializedName(\"district\")\r\n//        private String district;\r\n//        @SerializedName(\"city\")\r\n//        private String city;\r\n//\r\n//        // Constructors, getters, and setters...\r\n//    }\r\n\r\n    public static class PaymentAccount {\r\n        @SerializedName(\"accountNumber\")\r\n        private String accountNumber;\r\n        @SerializedName(\"bankName\")\r\n        private String bankName;\r\n        @SerializedName(\"branchName\")\r\n        private String branchName;\r\n\r\n        // Constructors, getters, and setters...\r\n    }\r\n\r\n    // Getters and setters for User class fields\r\n    // ...\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/User.java b/app/src/main/java/com/example/agrimart/data/model/User.java
------ a/app/src/main/java/com/example/agrimart/data/model/User.java	
---+++ b/app/src/main/java/com/example/agrimart/data/model/User.java	
---@@ -1,3 +1,4 @@
---+// User.java
--- package com.example.agrimart.data.model;
--- 
--- import com.google.gson.annotations.SerializedName;
---@@ -34,6 +35,10 @@
---     @SerializedName("updatedAt")
---     private Date updatedAt;
--- 
---+    // No-argument constructor
---+    public User() {
---+    }
---+
---     public User(String userId, String role, String fullName, String email, String phoneNumber, String password, Address address, String storeName, Address storeAddress, String storeImage, double storeRating, PaymentAccount paymentAccount, Date createdAt, Date updatedAt) {
---         this.userId = userId;
---         this.role = role;
---@@ -163,16 +168,49 @@
---         this.updatedAt = updatedAt;
---     }
--- 
----//    public static class Address {
----//        @SerializedName("street")
----//        private String street;
----//        @SerializedName("district")
----//        private String district;
----//        @SerializedName("city")
----//        private String city;
----//
----//        // Constructors, getters, and setters...
----//    }
---+    public static class Address {
---+        @SerializedName("street")
---+        private String street;
---+        @SerializedName("district")
---+        private String district;
---+        @SerializedName("city")
---+        private String city;
---+
---+        public Address() {
---+        }
---+
---+        public Address(String street, String district, String city) {
---+            this.street = street;
---+            this.district = district;
---+            this.city = city;
---+        }
---+
---+        // Getters and setters...
---+
---+        public String getStreet() {
---+            return street;
---+        }
---+
---+        public void setStreet(String street) {
---+            this.street = street;
---+        }
---+
---+        public String getDistrict() {
---+            return district;
---+        }
---+
---+        public void setDistrict(String district) {
---+            this.district = district;
---+        }
---+
---+        public String getCity() {
---+            return city;
---+        }
---+
---+        public void setCity(String city) {
---+            this.city = city;
---+        }
---+    }
--- 
---     public static class PaymentAccount {
---         @SerializedName("accountNumber")
---@@ -182,9 +220,15 @@
---         @SerializedName("branchName")
---         private String branchName;
--- 
----        // Constructors, getters, and setters...
----    }
---+        public PaymentAccount() {
---+        }
---+
---+        public PaymentAccount(String accountNumber, String bankName, String branchName) {
---+            this.accountNumber = accountNumber;
---+            this.bankName = bankName;
---+            this.branchName = branchName;
---+        }
--- 
----    // Getters and setters for User class fields
----    // ...
---+        // Getters and setters...
---+    }
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java
---new file mode 100644
------ /dev/null	
---+++ b/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java	
---@@ -0,0 +1,56 @@
---+package com.example.agrimart.viewmodel;
---+
---+import androidx.lifecycle.LiveData;
---+import androidx.lifecycle.MutableLiveData;
---+import androidx.lifecycle.ViewModel;
---+
---+import com.example.agrimart.data.model.Store;
---+import com.google.firebase.firestore.DocumentSnapshot;
---+import com.google.firebase.firestore.FirebaseFirestore;
---+import com.google.firebase.firestore.ListenerRegistration;
---+
---+public class ProductDetailViewModel extends ViewModel {
---+    private final FirebaseFirestore db;
---+    private ListenerRegistration storeListener;
---+    private final MutableLiveData<Store> storeInfo = new MutableLiveData<>();
---+
---+    public ProductDetailViewModel() {
---+        db = FirebaseFirestore.getInstance();
---+    }
---+
---+    public LiveData<Store> getStoreInfo() {
---+        return storeInfo;
---+    }
---+
---+    public void loadStoreInfo(String storeId) {
---+        if (storeListener != null) {
---+            storeListener.remove();
---+        }
---+
---+        storeListener = db.collection("users").document(storeId)
---+                .addSnapshotListener((snapshot, e) -> {
---+                    if (e != null || snapshot == null || !snapshot.exists()) {
---+                        return;
---+                    }
---+                    String name = snapshot.getString("store_name");
---+                    String avatarUrl = snapshot.getString("userImage");
---+                    String street = snapshot.getString("store_address.street");
---+                    String ward = snapshot.getString("store_address.ward");
---+                    String district = snapshot.getString("store_address.district");
---+                    String city = snapshot.getString("store_address.city");
---+                    String phoneNumber = snapshot.getString("store_phone_number");
---+
---+                    Store info = new Store(name, avatarUrl, street, ward, district, city, phoneNumber);
---+                    storeInfo.setValue(info);
---+                });
---+    }
---+
---+    @Override
---+    protected void onCleared() {
---+        super.onCleared();
---+        if (storeListener != null) {
---+            storeListener.remove();
---+        }
---+    }
---+
---+}
---Index: app/src/main/java/com/example/agrimart/data/model/Store.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/Store.java b/app/src/main/java/com/example/agrimart/data/model/Store.java
---new file mode 100644
------ /dev/null	
---+++ b/app/src/main/java/com/example/agrimart/data/model/Store.java	
---@@ -0,0 +1,37 @@
---+package com.example.agrimart.data.model;
---+
---+public class Store {
---+    private final String name;
---+    private final String avatarUrl;
---+    private final String street;
---+    private final String ward;
---+    private final String district;
---+    private final String city;
---+    private final String phoneNumber;
---+
---+    public Store(String name, String avatarUrl, String street, String ward, String district, String city, String phoneNumber) {
---+        this.name = name;
---+        this.avatarUrl = avatarUrl;
---+        this.street = street;
---+        this.ward = ward;
---+        this.district = district;
---+        this.city = city;
---+        this.phoneNumber = phoneNumber;
---+    }
---+
---+    public String getName() {
---+        return name;
---+    }
---+
---+    public String getAvatarUrl() {
---+        return avatarUrl;
---+    }
---+
---+    public String getFullAddress() {
---+        return street + ", " + ward + ", " + district + ", " + city;
---+    }
---+
---+    public String getPhoneNumber() {
---+        return phoneNumber;
---+    }
---+}
---Index: app/src/main/java/com/example/agrimart/data/model/Address.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.data.model;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\n\r\npublic class Address {\r\n    @SerializedName(\"default\")\r\n    private boolean isDefault;\r\n    @SerializedName(\"detailedAddress\")\r\n    private String detailedAddress;\r\n    @SerializedName(\"name\")\r\n    private String name;\r\n    @SerializedName(\"phone\")\r\n    private String phone;\r\n    @SerializedName(\"street\")\r\n    private String street;\r\n\r\n    public String getAddressId() {\r\n        return this.AddressId;\r\n    }\r\n\r\n    public void setAddressId(String AddressId) {\r\n        this.AddressId = AddressId;\r\n    }\r\n\r\n    @SerializedName(\"AddressId\")\r\n    private String AddressId;\r\n    public Address() {\r\n\r\n    }\r\n    // Constructor\r\n    public Address(String AddressId,String name, String phone, String street, String detailedAddress, boolean isDefault) {\r\n        this.name = name;\r\n        this.phone = phone;\r\n        this.street = street;\r\n        this.detailedAddress = detailedAddress;\r\n        this.isDefault = isDefault;\r\n        this.AddressId = AddressId;\r\n    }\r\n\r\n    // Getters and Setters\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getPhone() {\r\n        return phone;\r\n    }\r\n\r\n    public void setPhone(String phone) {\r\n        this.phone = phone;\r\n    }\r\n\r\n    public String getStreet() {\r\n        return street;\r\n    }\r\n\r\n    public void setStreet(String street) {\r\n        this.street = street;\r\n    }\r\n\r\n    public String getDetailedAddress() {\r\n        return detailedAddress;\r\n    }\r\n\r\n    public void setDetailedAddress(String detailedAddress) {\r\n        this.detailedAddress = detailedAddress;\r\n    }\r\n\r\n    public boolean isDefault() {\r\n        return isDefault;\r\n    }\r\n\r\n    public void setDefault(boolean aDefault) {\r\n        isDefault = aDefault;\r\n    }\r\n}\r\n
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/Address.java b/app/src/main/java/com/example/agrimart/data/model/Address.java
------ a/app/src/main/java/com/example/agrimart/data/model/Address.java	
---+++ b/app/src/main/java/com/example/agrimart/data/model/Address.java	
---@@ -27,7 +27,7 @@
---     public Address() {
--- 
---     }
----    // Constructor
---+
---     public Address(String AddressId,String name, String phone, String street, String detailedAddress, boolean isDefault) {
---         this.name = name;
---         this.phone = phone;
--Index: app/src/main/java/com/example/agrimart/data/model/Product.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.data.model;\r\n\r\nimport com.google.firebase.firestore.PropertyName;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class Product implements Serializable {\r\n\r\n    private String product_id;\r\n    private String name;\r\n    private double price;\r\n\r\n    @PropertyName(\"status\")\r\n    private String active;\r\n\r\n    @PropertyName(\"category_id\")\r\n    private String category;\r\n    private String description;\r\n    private int height;\r\n    private List<String> images;\r\n    private int length;\r\n    private int quantity;\r\n    private String storeId;\r\n    private int weight;\r\n    private int width;\r\n    private int soldQuantity;\r\n    private String created_at;\r\n\r\n\r\n    public Product() {\r\n    }\r\n\r\n    public Product(String name, double price, List<String> images) {\r\n        this.name = name;\r\n        this.price = price;\r\n        this.images = images;\r\n    }\r\n\r\n    public Product(String product_id, String name, double price, String active, String category, String description, int height, List<String> images, int length, int quantity, String storeId, int weight, int width, int soldQuantity) {\r\n        this.product_id = product_id;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.active = active;\r\n        this.category = category;\r\n        this.description = description;\r\n        this.height = height;\r\n        this.images = images;\r\n        this.length = length;\r\n        this.quantity = quantity;\r\n        this.storeId = storeId;\r\n        this.weight = weight;\r\n        this.width = width;\r\n        this.soldQuantity = soldQuantity;\r\n    }\r\n\r\n    public String getCreated_at() {\r\n        return created_at;\r\n    }\r\n\r\n    public void setCreated_at(String created_at) {\r\n        this.created_at = created_at;\r\n    }\r\n\r\n    public String getProduct_id() {\r\n        return product_id;\r\n    }\r\n\r\n    public void setProduct_id(String product_id) {\r\n        this.product_id = product_id;\r\n    }\r\n\r\n\r\n    public static class Address {\r\n        private String city;\r\n        private String district;\r\n        private String street;\r\n        private String ward;\r\n\r\n        public String getCity() {\r\n            return city;\r\n        }\r\n\r\n        public void setCity(String city) {\r\n            this.city = city;\r\n        }\r\n\r\n        public String getDistrict() {\r\n            return district;\r\n        }\r\n\r\n        public void setDistrict(String district) {\r\n            this.district = district;\r\n        }\r\n\r\n        public String getStreet() {\r\n            return street;\r\n        }\r\n\r\n        public void setStreet(String street) {\r\n            this.street = street;\r\n        }\r\n\r\n        public String getWard() {\r\n            return ward;\r\n        }\r\n\r\n        public void setWard(String ward) {\r\n            this.ward = ward;\r\n        }\r\n    }\r\n\r\n    public Product(String imageUrl, String name, double price) {\r\n        this.images = Collections.singletonList(imageUrl);\r\n        this.name = name;\r\n        this.price = price;\r\n    }\r\n\r\n\r\n\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n    @PropertyName(\"status\")\r\n    public String getActive() {\r\n        return active;\r\n    }\r\n\r\n    @PropertyName(\"status\")\r\n    public void setActive(String active) {\r\n        this.active = active;\r\n    }\r\n\r\n    @PropertyName(\"category_id\")\r\n    public String getCategory() {\r\n        return category;\r\n    }\r\n\r\n    @PropertyName(\"category_id\")\r\n    public void setCategory(String category) {\r\n        this.category = category;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public int getHeight() {\r\n        return height;\r\n    }\r\n\r\n    public void setHeight(int height) {\r\n        this.height = height;\r\n    }\r\n\r\n    public List<String> getImages() {\r\n        return images;\r\n    }\r\n\r\n    public void setImages(List<String> images) {\r\n        this.images = images;\r\n    }\r\n\r\n    public int getLength() {\r\n        return length;\r\n    }\r\n\r\n    public void setLength(int length) {\r\n        this.length = length;\r\n    }\r\n\r\n    public int getQuantity() {\r\n        return quantity;\r\n    }\r\n\r\n    public void setQuantity(int quantity) {\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public String getStoreId() {\r\n        return storeId;\r\n    }\r\n\r\n    public void setStoreId(String storeId) {\r\n        this.storeId = storeId;\r\n    }\r\n\r\n    public int getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public void setWeight(int weight) {\r\n        this.weight = weight;\r\n    }\r\n\r\n    public int getWidth() {\r\n        return width;\r\n    }\r\n\r\n    public void setWidth(int width) {\r\n        this.width = width;\r\n    }\r\n\r\n    public int getSoldQuantity() {\r\n        return soldQuantity;\r\n    }\r\n\r\n    public void setSoldQuantity(int soldQuantity) {\r\n        this.soldQuantity = soldQuantity;\r\n    }\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/data/model/Product.java b/app/src/main/java/com/example/agrimart/data/model/Product.java
----- a/app/src/main/java/com/example/agrimart/data/model/Product.java	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--+++ b/app/src/main/java/com/example/agrimart/data/model/Product.java	(date 1731425506949)
--@@ -11,10 +11,8 @@
--     private String product_id;
--     private String name;
--     private double price;
---
--     @PropertyName("status")
--     private String active;
---
--     @PropertyName("category_id")
--     private String category;
--     private String description;
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM_[Changes]/shelved.patch
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM_[Changes]/shelved.patch
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM_[Changes]/shelved.patch	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-+++ /dev/null	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-@@ -1,1645 +0,0 @@
--Index: app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.ui.MyProfile.MyAccount;\r\n\r\nimport android.app.DatePickerDialog;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Typeface;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.widget.CalendarView;\r\nimport android.widget.DatePicker;\r\nimport android.widget.FrameLayout;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.request.RequestOptions;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.viewmodel.MyAccountViewModel;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.UserInfo;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\nimport com.yalantis.ucrop.UCrop;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Calendar;\r\n\r\npublic class MyAccountActivity extends AppCompatActivity {\r\n\r\n    TextView user_name_text, my_phone_number_text, email_text, user_sex_text, user_date_birth_text;\r\n    ImageButton btn_back;\r\n    ImageView user_image;\r\n    FrameLayout btn_account_img;\r\n    private static final int PICK_IMAGE_REQUEST = 1;\r\n    LinearLayout myUserSex, myUserDateBirth, myUserName, changePassword, myPhoneNumber;\r\n    String[] genderOptions = {\"Nam\", \"Nữ\", \"Khác\"};\r\n    private static final int EDIT_USER_REQUEST_CODE = 1;\r\n    private static final int EDIT_NUMBER_PHONE_REQUEST_CODE = 10;\r\n    private MyAccountViewModel viewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_my_account);\r\n\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        addControl();\r\n\r\n\r\n\r\n        addLoadData();\r\n\r\n        addEvent();\r\n    }\r\n\r\n    void addControl() {\r\n        user_name_text = findViewById(R.id.user_name_text);\r\n        my_phone_number_text = findViewById(R.id.my_phone_number_text);\r\n        email_text = findViewById(R.id.email_text);\r\n        user_date_birth_text = findViewById(R.id.user_date_birth_text);\r\n        user_sex_text = findViewById(R.id.user_sex_text);\r\n        btn_back = findViewById(R.id.btn_back);\r\n        user_image = findViewById(R.id.user_image);\r\n        btn_account_img = findViewById(R.id.fl_my_account_img);\r\n        myUserSex = findViewById(R.id.my_user_sex);\r\n        myUserDateBirth = findViewById(R.id.my_user_date_birth);\r\n        myUserName = findViewById(R.id.my_user_name);\r\n        changePassword = findViewById(R.id.change_password);\r\n        myPhoneNumber = findViewById(R.id.my_phone_number);\r\n        viewModel = new ViewModelProvider(this).get(MyAccountViewModel.class);\r\n    }\r\n\r\n    void addLoadData()\r\n    {\r\n        // lấy thông tin user\r\n        viewModel.getUser().observe(this, user -> {\r\n\r\n            if (user != null) {\r\n                user_name_text.setText(user.getFullName());\r\n                my_phone_number_text.setText(user.getPhoneNumber());\r\n                email_text.setText(user.getEmail());\r\n                user_sex_text.setText(user.getSex());\r\n                user_date_birth_text.setText(user.getBirthDate());\r\n                viewModel.loadImage(MyAccountActivity.this, user_image);\r\n\r\n            }\r\n        });\r\n\r\n        // kiểm tra đăng nhập\r\n        viewModel.getIsChangePassword().observe(this, isChangePassword -> {\r\n            if(isChangePassword)\r\n            {\r\n                changePassword.setVisibility(View.GONE);\r\n            }\r\n        });\r\n    }\r\n\r\n    void addEvent() {\r\n        btn_back.setOnClickListener(v -> back());\r\n        btn_account_img.setOnClickListener(v -> openImageChooser()); // cập nhật ảnh user\r\n        myUserSex.setOnClickListener(v -> openGenderOptions()); // cập nhật giới tính\r\n        myUserDateBirth.setOnClickListener(v -> openDatePicker());\r\n        myUserName.setOnClickListener(v -> openEditUser());\r\n        changePassword.setOnClickListener(v -> openVerifyAccount());\r\n        myPhoneNumber.setOnClickListener(v -> openEditNumberPhone());\r\n    }\r\n\r\n    void openEditNumberPhone()\r\n    {\r\n        Intent intent = new Intent(MyAccountActivity.this, EditNumberPhoneActivity.class);\r\n        startActivityForResult(intent, EDIT_NUMBER_PHONE_REQUEST_CODE);\r\n    }\r\n\r\n    void back()\r\n    {\r\n        setResult(RESULT_OK); // Đặt kết quả trả về\r\n        finish();\r\n    }\r\n\r\n\r\n    private void openVerifyAccount()\r\n    {\r\n        Intent intent = new Intent(MyAccountActivity.this, VerifyWithPasswordActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void openEditUser()\r\n    {\r\n        Intent intent = new Intent(MyAccountActivity.this, EditUserNameActivity.class);\r\n        startActivityForResult(intent, EDIT_USER_REQUEST_CODE);\r\n    }\r\n\r\n    private void openDatePicker() {\r\n        // Tạo AlertDialog\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\r\n        // Inflate layout tùy chỉnh\r\n        LayoutInflater inflater = getLayoutInflater();\r\n        View dialogView = inflater.inflate(R.layout.dialog_calendar, null);\r\n        DatePicker datePicker = dialogView.findViewById(R.id.datePicker);\r\n\r\n        // Đặt ngày cho DatePicker\r\n        final Calendar calendar = Calendar.getInstance();\r\n        datePicker.init(calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get(Calendar.DAY_OF_MONTH), null);\r\n\r\n        builder.setView(dialogView)\r\n                .setPositiveButton(\"Hoàn thành\", (dialog, which) -> {\r\n                    // Lấy ngày đã chọn\r\n                    int day = datePicker.getDayOfMonth();\r\n                    int month = datePicker.getMonth() + 1; // Month is 0-based\r\n                    int year = datePicker.getYear();\r\n                    String selectedDate = day + \"/\" + month + \"/\" + year;\r\n\r\n                    // Cập nhật TextView với ngày đã chọn\r\n                    user_date_birth_text.setText(selectedDate);\r\n                    viewModel.saveBirthDateToFirestore(selectedDate);\r\n                })\r\n                .setNegativeButton(\"Hủy\", (dialog, which) -> dialog.dismiss());\r\n\r\n        // Giới hạn ngày phải bé hơn hoặc bằng ngày hiện hành\r\n        datePicker.setMaxDate(calendar.getTimeInMillis());\r\n\r\n        // Hiển thị AlertDialog\r\n        builder.show();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private void openGenderOptions() {\r\n        // Tạo một TextView cho tiêu đề và tùy chỉnh nó\r\n        TextView title = new TextView(this);\r\n        title.setText(\"Giới tính\");\r\n        title.setPadding(0, 30, 0, 30); // Khoảng cách trên và dưới\r\n        title.setGravity(Gravity.CENTER); // Căn giữa\r\n        title.setTextSize(20); // Kích thước chữ\r\n        title.setTypeface(null, Typeface.BOLD); // Đặt kiểu chữ đậm nếu cần\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setCustomTitle(title); // Đặt tiêu đề tùy chỉnh\r\n\r\n        // Kiểm tra nếu genderOptions không null\r\n        if (genderOptions != null) {\r\n            // Thiết lập danh sách tùy chọn\r\n            builder.setItems(genderOptions, (dialog, which) -> {\r\n                user_sex_text.setText(genderOptions[which]);\r\n                // Gọi phương thức trong ViewModel để lưu giới tính\r\n                viewModel.saveGenderToFirestore(genderOptions[which]);\r\n            });\r\n        } else {\r\n            Toast.makeText(this, \"Không có tùy chọn giới tính\", Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        // Hiển thị dialog\r\n        builder.show();\r\n    }\r\n\r\n\r\n    private void openImageChooser() {\r\n        Intent intent = new Intent();\r\n        intent.setType(\"image/*\");\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(Intent.createChooser(intent, \"Select Picture\"), PICK_IMAGE_REQUEST);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == EDIT_NUMBER_PHONE_REQUEST_CODE && resultCode == RESULT_OK) {\r\n            viewModel.loadUserInfo(); // Gọi phương thức để tải lại thông tin người dùng\r\n        }\r\n        // Kiểm tra nếu kết quả trả về từ EditUserActivity\r\n        if (requestCode == EDIT_USER_REQUEST_CODE && resultCode == RESULT_OK) {\r\n            viewModel.loadUserInfo(); // Gọi phương thức để tải lại thông tin người dùng\r\n        }\r\n\r\n        if (requestCode == PICK_IMAGE_REQUEST && resultCode == RESULT_OK && data != null && data.getData() != null) {\r\n            Uri imageUri = data.getData();\r\n\r\n            // Crop ảnh trước khi tải lên\r\n            Uri destinationUri = Uri.fromFile(new File(getCacheDir(), \"cropped_image.jpg\"));\r\n            UCrop.of(imageUri, destinationUri)\r\n                    .withAspectRatio(1, 1) // Tỉ lệ khung hình 1:1\r\n                    .withMaxResultSize(512, 512) // Kích thước tối đa\r\n                    .start(this);\r\n        }\r\n\r\n        if (requestCode == UCrop.REQUEST_CROP) {\r\n            final int resultCodeCrop = resultCode;\r\n            final Intent resultData = data;\r\n            if (resultCodeCrop == RESULT_OK) {\r\n                Uri croppedImageUri = UCrop.getOutput(resultData);\r\n\r\n                // Tải ảnh đã crop lên Firebase\r\n                viewModel.uploadImageToFirebase(MyAccountActivity.this, croppedImageUri, new MyAccountViewModel.ImageUploadCallback() {\r\n                    @Override\r\n                    public void onSuccess(String imageUrl) {\r\n                        // Gọi loadUserInfo và loadImage sau khi ảnh đã được tải lên thành công\r\n                        viewModel.loadUserInfo();\r\n                        viewModel.loadImage(MyAccountActivity.this, user_image);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure() {\r\n                        Toast.makeText(MyAccountActivity.this, \"Error uploading image\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n            } else if (resultCodeCrop == UCrop.RESULT_ERROR) {\r\n                Toast.makeText(this, \"Error cropping image\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java
----- a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java	(date 1731393515891)
--@@ -22,6 +22,7 @@
-- import androidx.activity.EdgeToEdge;
-- import androidx.appcompat.app.AlertDialog;
-- import androidx.appcompat.app.AppCompatActivity;
--+import androidx.appcompat.widget.Toolbar;
-- import androidx.core.graphics.Insets;
-- import androidx.core.view.ViewCompat;
-- import androidx.core.view.WindowInsetsCompat;
--@@ -48,7 +49,7 @@
-- public class MyAccountActivity extends AppCompatActivity {
-- 
--     TextView user_name_text, my_phone_number_text, email_text, user_sex_text, user_date_birth_text;
---    ImageButton btn_back;
--+    //ImageButton btn_back;
--     ImageView user_image;
--     FrameLayout btn_account_img;
--     private static final int PICK_IMAGE_REQUEST = 1;
--@@ -57,6 +58,7 @@
--     private static final int EDIT_USER_REQUEST_CODE = 1;
--     private static final int EDIT_NUMBER_PHONE_REQUEST_CODE = 10;
--     private MyAccountViewModel viewModel;
--+    private Toolbar toolbar;
-- 
--     @Override
--     protected void onCreate(Bundle savedInstanceState) {
--@@ -85,7 +87,8 @@
--         email_text = findViewById(R.id.email_text);
--         user_date_birth_text = findViewById(R.id.user_date_birth_text);
--         user_sex_text = findViewById(R.id.user_sex_text);
---        btn_back = findViewById(R.id.btn_back);
--+        //btn_back = findViewById(R.id.btn_back);
--+        toolbar = findViewById(R.id.header_toolbar);
--         user_image = findViewById(R.id.user_image);
--         btn_account_img = findViewById(R.id.fl_my_account_img);
--         myUserSex = findViewById(R.id.my_user_sex);
--@@ -122,7 +125,8 @@
--     }
-- 
--     void addEvent() {
---        btn_back.setOnClickListener(v -> back());
--+        //btn_back.setOnClickListener(v -> back());
--+        toolbar.setNavigationOnClickListener(v -> back());
--         btn_account_img.setOnClickListener(v -> openImageChooser()); // cập nhật ảnh user
--         myUserSex.setOnClickListener(v -> openGenderOptions()); // cập nhật giới tính
--         myUserDateBirth.setOnClickListener(v -> openDatePicker());
--Index: app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.data.model.Store;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.text.Normalizer;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class SearchViewModel extends ViewModel {\r\n\r\n    private MutableLiveData<List<Product>> filteredProducts = new MutableLiveData<>(new ArrayList<>());\r\n    private List<Product> originalProductList = new ArrayList<>();\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n    public LiveData<List<Product>> getFilteredProducts() {\r\n        return filteredProducts;\r\n    }\r\n\r\n    public void searchProductsByName(String query) {\r\n        db.collection(\"products\")\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Product> products = task.getResult().toObjects(Product.class);\r\n                        List<Product> filteredList = new ArrayList<>();\r\n                        List<Product> remainingList = new ArrayList<>();\r\n\r\n                        for (Product product : products) {\r\n                            if (product.getName() != null) {\r\n                                String productName = product.getName().toLowerCase();\r\n                                String lowerCaseQuery = query.toLowerCase();\r\n                                if (productName.startsWith(lowerCaseQuery)) {\r\n                                    filteredList.add(product);\r\n                                } else if (productName.contains(lowerCaseQuery)) {\r\n                                    remainingList.add(product);\r\n                                }\r\n                            }\r\n                        }\r\n                        filteredList.addAll(remainingList);\r\n                        originalProductList = new ArrayList<>(filteredList);\r\n                        filteredProducts.setValue(filteredList);\r\n                    } else {\r\n                        filteredProducts.setValue(new ArrayList<>());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void searchProductsByCategory(String categoryId) {\r\n        db.collection(\"products\")\r\n                .whereEqualTo(\"category_id\", categoryId)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Product> products = task.getResult().toObjects(Product.class);\r\n                        originalProductList = new ArrayList<>(products);\r\n                        filteredProducts.setValue(products);\r\n                    } else {\r\n                        filteredProducts.setValue(new ArrayList<>());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void searchProductsByStoreName(String storeName) {\r\n        db.collection(\"users\")\r\n                .whereEqualTo(\"store_name\", storeName)\r\n                .get()\r\n                .addOnCompleteListener(storeTask -> {\r\n                    if (storeTask.isSuccessful() && !storeTask.getResult().isEmpty()) {\r\n                        String storeId = storeTask.getResult().getDocuments().get(0).getId();\r\n                        db.collection(\"products\")\r\n                                .whereEqualTo(\"storeId\", storeId)\r\n                                .get()\r\n                                .addOnCompleteListener(productTask -> {\r\n                                    if (productTask.isSuccessful()) {\r\n                                        List<Product> products = productTask.getResult().toObjects(Product.class);\r\n                                        originalProductList = new ArrayList<>(products);\r\n                                        filteredProducts.setValue(products);\r\n                                    } else {\r\n                                        filteredProducts.setValue(new ArrayList<>());\r\n                                    }\r\n                                });\r\n                    } else {\r\n                        filteredProducts.setValue(new ArrayList<>());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void sortProducts(String sortBy) {\r\n        List<Product> currentProducts = filteredProducts.getValue() != null ? new ArrayList<>(filteredProducts.getValue()) : new ArrayList<>();\r\n\r\n        switch (sortBy) {\r\n            case \"Liên quan nhất\":\r\n                currentProducts = new ArrayList<>(originalProductList);\r\n                break;\r\n            case \"Mới nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> p2.getCreated_at().compareTo(p1.getCreated_at()));\r\n                break;\r\n            case \"Cũ nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> p1.getCreated_at().compareTo(p2.getCreated_at()));\r\n                break;\r\n            case \"Giá cao nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> Double.compare(p2.getPrice(), p1.getPrice()));\r\n                break;\r\n            case \"Giá thấp nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> Double.compare(p1.getPrice(), p2.getPrice()));\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        filteredProducts.setValue(currentProducts);\r\n    }\r\n\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java
----- a/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ b/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java	(date 1731396078369)
--@@ -7,11 +7,8 @@
-- import androidx.lifecycle.ViewModel;
-- 
-- import com.example.agrimart.data.model.Product;
---import com.example.agrimart.data.model.Store;
---import com.google.firebase.firestore.DocumentSnapshot;
-- import com.google.firebase.firestore.FirebaseFirestore;
-- 
---import java.text.Normalizer;
-- import java.util.ArrayList;
-- import java.util.Collections;
-- import java.util.List;
--@@ -36,7 +33,7 @@
--                         List<Product> remainingList = new ArrayList<>();
-- 
--                         for (Product product : products) {
---                            if (product.getName() != null) {
--+                            if (product.getName() != null && "available".equals(product.getActive())) {
--                                 String productName = product.getName().toLowerCase();
--                                 String lowerCaseQuery = query.toLowerCase();
--                                 if (productName.startsWith(lowerCaseQuery)) {
--@@ -62,8 +59,14 @@
--                 .addOnCompleteListener(task -> {
--                     if (task.isSuccessful()) {
--                         List<Product> products = task.getResult().toObjects(Product.class);
---                        originalProductList = new ArrayList<>(products);
---                        filteredProducts.setValue(products);
--+                        List<Product> availableProducts = new ArrayList<>();
--+                        for (Product product : products) {
--+                            if ("available".equals(product.getActive())) {
--+                                availableProducts.add(product);
--+                            }
--+                        }
--+                        originalProductList = new ArrayList<>(availableProducts);
--+                        filteredProducts.setValue(availableProducts);
--                     } else {
--                         filteredProducts.setValue(new ArrayList<>());
--                     }
--@@ -83,8 +86,14 @@
--                                 .addOnCompleteListener(productTask -> {
--                                     if (productTask.isSuccessful()) {
--                                         List<Product> products = productTask.getResult().toObjects(Product.class);
---                                        originalProductList = new ArrayList<>(products);
---                                        filteredProducts.setValue(products);
--+                                        List<Product> availableProducts = new ArrayList<>();
--+                                        for (Product product : products) {
--+                                            if ("available".equals(product.getActive())) {
--+                                                availableProducts.add(product);
--+                                            }
--+                                        }
--+                                        originalProductList = new ArrayList<>(availableProducts);
--+                                        filteredProducts.setValue(availableProducts);
--                                     } else {
--                                         filteredProducts.setValue(new ArrayList<>());
--                                     }
--@@ -121,4 +130,4 @@
--         filteredProducts.setValue(currentProducts);
--     }
-- 
---}
--+}
--\ No newline at end of file
--Index: app/src/main/res/layout/activity_my_account.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.MyProfile.MyAccount.MyAccountActivity\">\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"vertical\"\r\n        tools:ignore=\"MissingConstraints\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:paddingStart=\"12dp\"\r\n            android:paddingEnd=\"12dp\"\r\n            android:paddingTop=\"10dp\"\r\n            android:paddingBottom=\"10dp\"\r\n            android:background=\"@color/white\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/btn_back\"\r\n                android:layout_width=\"30dp\"\r\n                android:layout_height=\"35dp\"\r\n                android:src=\"@drawable/ic_left\"\r\n                android:scaleType=\"fitCenter\"\r\n                android:layout_marginStart=\"5dp\"\r\n                android:layout_gravity=\"center_vertical\"\r\n                android:background=\"@color/white\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textView1\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"35dp\"\r\n                android:layout_weight=\"1\"\r\n                android:gravity=\"start\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:text=\"Tài khoản &amp; Bảo mật\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"11pt\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"5dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/ll_my_account\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"140dp\"\r\n            android:background=\"@color/green\"\r\n            android:gravity=\"center_vertical\"\r\n            android:orientation=\"vertical\"\r\n            android:padding=\"16dp\">\r\n\r\n            <FrameLayout\r\n                android:id=\"@+id/fl_my_account_img\"\r\n                android:layout_width=\"78dp\"\r\n                android:layout_height=\"78dp\"\r\n                android:background=\"@drawable/rounded_frame\"\r\n                android:clipToOutline=\"true\"\r\n                android:layout_gravity=\"center\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/user_image\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:scaleType=\"centerCrop\"\r\n                    />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/overlay_text\"\r\n                    android:layout_width=\"78dp\"\r\n                    android:layout_height=\"39dp\"\r\n                    android:layout_gravity=\"bottom\"\r\n                    android:gravity=\"center\"\r\n                    android:background=\"@drawable/rounded_text\"\r\n                    android:text=\"Sửa\"\r\n                    android:textColor=\"@android:color/white\"\r\n                    android:textSize=\"18sp\" />\r\n\r\n            </FrameLayout>\r\n        </LinearLayout>\r\n\r\n\r\n\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/my_user_name\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_name\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Tên\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_name_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n            <ImageView\r\n                android:id=\"@+id/my_profile_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/my_user_sex\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_sex\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Giới tính\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_sex_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n            <ImageView\r\n                android:id=\"@+id/user_sex_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/my_user_date_birth\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_date_birth\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Ngày sinh\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_date_birth_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n            <ImageView\r\n                android:id=\"@+id/my_date_birth_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/my_phone_number\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/my_phone_number_text1\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Điện thoại\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/my_phone_number_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/my_phone_number_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/my_email\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/email\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Email\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/email_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/my_email_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                 />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/change_password\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/change_password_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"2\"\r\n\r\n                android:text=\"Đổi mật khẩu\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/change_password_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n\r\n    </LinearLayout>\r\n</androidx.constraintlayout.widget.ConstraintLayout>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/activity_my_account.xml b/app/src/main/res/layout/activity_my_account.xml
----- a/app/src/main/res/layout/activity_my_account.xml	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ b/app/src/main/res/layout/activity_my_account.xml	(date 1731393207553)
--@@ -12,37 +12,20 @@
--         android:orientation="vertical"
--         tools:ignore="MissingConstraints">
-- 
---        <LinearLayout
--+        <androidx.appcompat.widget.Toolbar
--+            android:id="@+id/header_toolbar"
--             android:layout_width="match_parent"
--             android:layout_height="wrap_content"
--+            android:background="@color/white"
--             android:paddingStart="12dp"
--             android:paddingEnd="12dp"
--             android:paddingTop="10dp"
--             android:paddingBottom="10dp"
---            android:background="@color/white"
---            android:orientation="horizontal">
--+            app:title="Tài khoản &amp; Bảo mật"
--+            app:titleTextColor="@color/black"
--+            app:titleTextAppearance="@style/TextAppearance.AppCompat.Large"
--+            app:navigationIcon="@drawable/chevron_left" />
-- 
---            <ImageButton
---                android:id="@+id/btn_back"
---                android:layout_width="30dp"
---                android:layout_height="35dp"
---                android:src="@drawable/ic_left"
---                android:scaleType="fitCenter"
---                android:layout_marginStart="5dp"
---                android:layout_gravity="center_vertical"
---                android:background="@color/white" />
---
---            <TextView
---                android:id="@+id/textView1"
---                android:layout_width="0dp"
---                android:layout_height="35dp"
---                android:layout_weight="1"
---                android:gravity="start"
---                android:layout_marginStart="15dp"
---                android:text="Tài khoản &amp; Bảo mật"
---                android:textColor="@color/black"
---                android:textSize="11pt" />
---        </LinearLayout>
--         <View
--             android:layout_width="match_parent"
--             android:layout_height="5dp"
--Index: .idea/shelf/Uncommitted_changes_before_rebase__Changes_.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_rebase__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_rebase__Changes_.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_rebase__Changes_.xml	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ /dev/null	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_rebase_[Changes]" date="1730829309579" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before rebase [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM__Changes_1.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM__Changes_1.xml b/.idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM__Changes_1.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM__Changes_1.xml	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ /dev/null	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM_[Changes]1" date="1730832274928" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM_[Changes]1/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Checkout at 11/6/2024 1:43 AM [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM_[Changes]1/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM_[Changes]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM_[Changes]1/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM_[Changes]1/shelved.patch	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ /dev/null	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--@@ -1,43 +0,0 @@
---Index: app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.databinding.CategoryItemBinding;\r\nimport com.denzcoskun.imageslider.models.SlideModel;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CategoryAdapter extends RecyclerView.Adapter<CategoryAdapter.MyViewHolder> {\r\n    private List<Category> categories;\r\n\r\n    private int position = -1;\r\n    public Category category;\r\n    public CategoryAdapter(List<Category> categories) {\r\n        this.categories = categories;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        CategoryItemBinding binding = CategoryItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        return new MyViewHolder(binding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        holder.bindData(categories.get(position));\r\n\r\n        if (position == this.position) {\r\n            holder.binding.getRoot().setBackgroundResource(android.R.color.holo_green_light);\r\n        } else {\r\n            holder.binding.getRoot().setBackgroundResource(android.R.color.transparent);\r\n        }\r\n\r\n        holder.binding.getRoot().setOnClickListener(v -> {\r\n            category = categories.get(position);\r\n            int prePos=this.position;\r\n            this.position=position;\r\n            notifyItemChanged(prePos);\r\n            notifyItemChanged(position);\r\n\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return categories.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        CategoryItemBinding binding;\r\n\r\n        public MyViewHolder(@NonNull CategoryItemBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n\r\n        public void bindData(Category category) {\r\n            Glide.with(binding.getRoot())\r\n                    .load(category.getImg())\r\n                    .into(binding.imgCate);\r\n\r\n            binding.tvName.setText(category.getName());\r\n        }\r\n    }\r\n}\r\n\r\n
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java b/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java
------ a/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java	
---+++ b/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java	
---@@ -18,7 +18,7 @@
--- public class CategoryAdapter extends RecyclerView.Adapter<CategoryAdapter.MyViewHolder> {
---     private List<Category> categories;
--- 
----    private int position = -1;
---+    private int selectedPosition = -1;
---     public Category category;
---     public CategoryAdapter(List<Category> categories) {
---         this.categories = categories;
---@@ -36,18 +36,18 @@
---     public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {
---         holder.bindData(categories.get(position));
--- 
----        if (position == this.position) {
---+        if (holder.getAdapterPosition() == selectedPosition) {
---             holder.binding.getRoot().setBackgroundResource(android.R.color.holo_green_light);
---         } else {
---             holder.binding.getRoot().setBackgroundResource(android.R.color.transparent);
---         }
--- 
---         holder.binding.getRoot().setOnClickListener(v -> {
----            category = categories.get(position);
----            int prePos=this.position;
----            this.position=position;
---+            category = categories.get(holder.getAdapterPosition());
---+            int prePos=selectedPosition;
---+            selectedPosition=holder.getAdapterPosition();
---             notifyItemChanged(prePos);
----            notifyItemChanged(position);
---+            notifyItemChanged(holder.getAdapterPosition());
--- 
---         });
---     }
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ /dev/null	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--@@ -1,1295 +0,0 @@
---Index: app/src/main/java/com/example/agrimart/data/model/Product.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.data.model;\r\n\r\npublic class Product {\r\n    private String image;\r\n    private String name;\r\n    private double price;\r\n    private String active;\r\n\r\n    public Product() {\r\n    }\r\n\r\n    public Product(String image, String name, double price) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n    }\r\n\r\n    public Product(String image, String name, double price, String active) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.active = active;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public String getActive() {\r\n        return active;\r\n    }\r\n\r\n    public void setActive(String active) {\r\n        this.active = active;\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/Product.java b/app/src/main/java/com/example/agrimart/data/model/Product.java
------ a/app/src/main/java/com/example/agrimart/data/model/Product.java	
---+++ b/app/src/main/java/com/example/agrimart/data/model/Product.java	
---@@ -1,33 +1,57 @@
--- package com.example.agrimart.data.model;
--- 
----public class Product {
----    private String image;
---+import java.io.Serializable;
---+import java.util.Collections;
---+import java.util.List;
---+
---+public class Product implements Serializable {
---+    private String productId;
---     private String name;
---     private double price;
---     private String active;
---+    private String category;
---+    private String description;
---+    private int height;
---+    private List<String> images;
---+    private int length;
---+    private int quantity;
---+    private String storeId;
---+    private int weight;
---+    private int width;
---+    private int soldQuantity;
--- 
---     public Product() {
---     }
--- 
----    public Product(String image, String name, double price) {
----        this.image = image;
---+    public Product(String productId, String name, double price, String active, String category, String description, int height, List<String> images, int length, int quantity, String storeId, int weight, int width, int soldQuantity) {
---+        this.productId = productId;
---         this.name = name;
---         this.price = price;
---+        this.active = active;
---+        this.category = category;
---+        this.description = description;
---+        this.height = height;
---+        this.images = images;
---+        this.length = length;
---+        this.quantity = quantity;
---+        this.storeId = storeId;
---+        this.weight = weight;
---+        this.width = width;
---+        this.soldQuantity = soldQuantity;
---     }
--- 
----    public Product(String image, String name, double price, String active) {
----        this.image = image;
---+    public Product(String imageUrl, String name, double price) {
---+        this.images = Collections.singletonList(imageUrl);
---         this.name = name;
---         this.price = price;
----        this.active = active;
---     }
--- 
----    public String getImage() {
----        return image;
---+    public String getProductId() {
---+        return productId;
---     }
--- 
----    public void setImage(String image) {
----        this.image = image;
---+    public void setProductId(String productId) {
---+        this.productId = productId;
---     }
--- 
---     public String getName() {
---@@ -53,4 +77,84 @@
---     public void setActive(String active) {
---         this.active = active;
---     }
---+
---+    public String getCategory() {
---+        return category;
---+    }
---+
---+    public void setCategory(String category) {
---+        this.category = category;
---+    }
---+
---+    public String getDescription() {
---+        return description;
---+    }
---+
---+    public void setDescription(String description) {
---+        this.description = description;
---+    }
---+
---+    public int getHeight() {
---+        return height;
---+    }
---+
---+    public void setHeight(int height) {
---+        this.height = height;
---+    }
---+
---+    public List<String> getImages() {
---+        return images;
---+    }
---+
---+    public void setImages(List<String> images) {
---+        this.images = images;
---+    }
---+
---+    public int getLength() {
---+        return length;
---+    }
---+
---+    public void setLength(int length) {
---+        this.length = length;
---+    }
---+
---+    public int getQuantity() {
---+        return quantity;
---+    }
---+
---+    public void setQuantity(int quantity) {
---+        this.quantity = quantity;
---+    }
---+
---+    public String getStoreId() {
---+        return storeId;
---+    }
---+
---+    public void setStoreId(String storeId) {
---+        this.storeId = storeId;
---+    }
---+
---+    public int getWeight() {
---+        return weight;
---+    }
---+
---+    public void setWeight(int weight) {
---+        this.weight = weight;
---+    }
---+
---+    public int getWidth() {
---+        return width;
---+    }
---+
---+    public void setWidth(int width) {
---+        this.width = width;
---+    }
---+
---+    public int getSoldQuantity() {
---+        return soldQuantity;
---+    }
---+
---+    public void setSoldQuantity(int soldQuantity) {
---+        this.soldQuantity = soldQuantity;
---+    }
--- }
---\ No newline at end of file
---Index: app/src/main/res/layout/item_product.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\r\n\r\n    <data>\r\n        <variable\r\n            name=\"product\"\r\n            type=\"com.example.agrimart.data.model.Product\" />\r\n    </data>\r\n\r\n    <RelativeLayout\r\n        android:layout_width=\"173dp\"\r\n        android:background=\"@drawable/bg_product\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"5dp\"\r\n        android:layout_marginTop=\"5dp\">\r\n\r\n        <FrameLayout\r\n            android:id=\"@+id/frame_layout\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"124dp\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imgPro\"\r\n                android:layout_width=\"99dp\"\r\n                android:layout_height=\"79dp\"\r\n                android:scaleType=\"centerCrop\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/banana\" />\r\n        </FrameLayout>\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvName\"\r\n            android:layout_width=\"129dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/frame_layout\"\r\n            android:layout_marginTop=\"12dp\"\r\n            android:textSize=\"16sp\"\r\n            android:textColor=\"#333333\"\r\n            android:letterSpacing=\"0.01\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:ellipsize=\"end\"\r\n            android:maxLines=\"1\"\r\n            android:textStyle=\"bold\"/>\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvPrice\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/tvName\"\r\n            android:textSize=\"18sp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:textColor=\"#F44336\"\r\n            android:fontFamily=\"@font/gabarito\"\r\n            android:letterSpacing=\"0.01\"/>\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/imageButton\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@color/transparent\"\r\n            android:layout_below=\"@id/tvName\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:layout_marginEnd=\"16dp\"\r\n            android:layout_marginBottom=\"10dp\"\r\n            app:srcCompat=\"@drawable/ic_plus_1\" />\r\n\r\n    </RelativeLayout>\r\n</layout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/item_product.xml b/app/src/main/res/layout/item_product.xml
------ a/app/src/main/res/layout/item_product.xml	
---+++ b/app/src/main/res/layout/item_product.xml	
---@@ -22,10 +22,10 @@
--- 
---             <ImageView
---                 android:id="@+id/imgPro"
----                android:layout_width="99dp"
----                android:layout_height="79dp"
----                android:scaleType="centerCrop"
---+                android:layout_width="match_parent"
---+                android:layout_height="139dp"
---                 android:layout_gravity="center"
---+                android:scaleType="centerCrop"
---                 android:src="@drawable/banana" />
---         </FrameLayout>
--- 
---Index: app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Store;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.data.model.ProductRequest;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class StoreActivity extends AppCompatActivity {\r\n\r\n    private ImageView storeAvatar;\r\n    private TextView storeName, storeRating, storeAddress;\r\n    private RecyclerView rvProducts;\r\n    private ProductAdapter productAdapter;\r\n    private List<Product> productList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_store);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));\r\n        }\r\n\r\n        storeAvatar = findViewById(R.id.store_avatar);\r\n        storeName = findViewById(R.id.store_name);\r\n        storeRating = findViewById(R.id.store_rating);\r\n        storeAddress = findViewById(R.id.store_address);\r\n        rvProducts = findViewById(R.id.rvProducts);\r\n\r\n\r\n        productList = new ArrayList<>();\r\n\r\n\r\n        productAdapter = new ProductAdapter(productList, product -> {\r\n\r\n        });\r\n        rvProducts.setLayoutManager(new GridLayoutManager(this, 2));\r\n        rvProducts.setAdapter(productAdapter);\r\n        loadData();\r\n    }\r\n    private void loadData() {\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (user != null) {\r\n            String uid = user.getUid();\r\n\r\n            FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n            db.collection(\"products\")\r\n                    .whereEqualTo(\"storeId\", uid)\r\n                    .get()\r\n                    .addOnCompleteListener(task -> {\r\n                        if (task.isSuccessful()) {\r\n\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                ProductRequest product = document.toObject(ProductRequest.class);\r\n                                productList.add(\r\n                                        new Product(\r\n                                                product.getImageUrls().isEmpty() ? \"https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/notfound.jpg?alt=media&token=40e61714-5a10-4352-918c-7e5e2643a1fe\" : product.getImageUrls().get(0),\r\n                                                product.getName(),\r\n                                                product.getPrice()\r\n                                        )\r\n                                );\r\n                            }\r\n                            productAdapter.notifyDataSetChanged();\r\n                        }\r\n                    });\r\n\r\n        }\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java b/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java	
---+++ b/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java	
---@@ -3,9 +3,9 @@
--- import android.os.Bundle;
--- import android.view.Window;
--- import android.view.WindowManager;
---+import android.widget.ImageButton;
--- import android.widget.ImageView;
--- import android.widget.TextView;
----
--- import androidx.activity.EdgeToEdge;
--- import androidx.appcompat.app.AppCompatActivity;
--- import androidx.core.content.ContextCompat;
---@@ -14,16 +14,14 @@
--- import androidx.core.view.WindowInsetsCompat;
--- import androidx.recyclerview.widget.GridLayoutManager;
--- import androidx.recyclerview.widget.RecyclerView;
----
---+import com.bumptech.glide.Glide;
--- import com.example.agrimart.R;
--- import com.example.agrimart.adapter.ProductAdapter;
--- import com.example.agrimart.data.model.Product;
--- import com.example.agrimart.data.model.ProductRequest;
----import com.google.firebase.auth.FirebaseAuth;
----import com.google.firebase.auth.FirebaseUser;
---+import com.example.agrimart.data.model.User;
--- import com.google.firebase.firestore.FirebaseFirestore;
--- import com.google.firebase.firestore.QueryDocumentSnapshot;
----
--- import java.util.ArrayList;
--- import java.util.List;
--- 
---@@ -40,6 +38,14 @@
---         super.onCreate(savedInstanceState);
---         EdgeToEdge.enable(this);
---         setContentView(R.layout.activity_store);
---+        setupWindowInsets();
---+
---+        initializeViews();
---+        setupRecyclerView();
---+        loadStoreData();
---+    }
---+
---+    private void setupWindowInsets() {
---         ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {
---             Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
---             v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
---@@ -51,50 +57,84 @@
---             window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);
---             window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));
---         }
---+    }
--- 
---+    private void initializeViews() {
---         storeAvatar = findViewById(R.id.store_avatar);
---         storeName = findViewById(R.id.store_name);
---         storeRating = findViewById(R.id.store_rating);
---         storeAddress = findViewById(R.id.store_address);
---         rvProducts = findViewById(R.id.rvProducts);
---+    }
--- 
----
---+    private void setupRecyclerView() {
---         productList = new ArrayList<>();
----
----
---         productAdapter = new ProductAdapter(productList, product -> {
----
---+            // Xử lý khi nhấn vào sản phẩm (nếu cần)
---         });
---         rvProducts.setLayoutManager(new GridLayoutManager(this, 2));
---         rvProducts.setAdapter(productAdapter);
----        loadData();
---+    }
---+
---+    private void loadStoreData() {
---+        String storeId = getIntent().getStringExtra("storeId");
---+        if (storeId != null) {
---+            loadStoreInfo(storeId);
---+            loadProducts(storeId);
---+        }
---+    }
---+
---+    private void loadStoreInfo(String storeId) {
---+        FirebaseFirestore db = FirebaseFirestore.getInstance();
---+        db.collection("users")
---+                .document(storeId)
---+                .get()
---+                .addOnSuccessListener(documentSnapshot -> {
---+                    User store = documentSnapshot.toObject(User.class);
---+                    if (store != null) {
---+                        updateStoreInfo(store);
---+                    } else {
---+                        showError("Thông tin cửa hàng không hợp lệ.");
---+                    }
---+                })
---+                .addOnFailureListener(e -> {
---+                    showError("Không thể tải thông tin cửa hàng.");
---+                });
---+    }
---+
---+    private void updateStoreInfo(User store) {
---+        storeName.setText(store.getStoreName());
---+        storeAddress.setText(store.getStoreAddress() != null ? store.getStoreAddress().getStreet() : "Địa chỉ không khả dụng");
---+        Glide.with(this)
---+                .load(store.getStoreImage() != null && !store.getStoreImage().isEmpty() ? store.getStoreImage() : R.drawable.user)
---+                .placeholder(R.drawable.user)
---+                .error(R.drawable.user)
---+                .into(storeAvatar);
---     }
----    private void loadData() {
----        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
----        if (user != null) {
----            String uid = user.getUid();
--- 
----            FirebaseFirestore db = FirebaseFirestore.getInstance();
----            db.collection("products")
----                    .whereEqualTo("storeId", uid)
----                    .get()
----                    .addOnCompleteListener(task -> {
----                        if (task.isSuccessful()) {
----
----                            for (QueryDocumentSnapshot document : task.getResult()) {
----                                ProductRequest product = document.toObject(ProductRequest.class);
----                                productList.add(
----                                        new Product(
----                                                product.getImageUrls().isEmpty() ? "https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/notfound.jpg?alt=media&token=40e61714-5a10-4352-918c-7e5e2643a1fe" : product.getImageUrls().get(0),
----                                                product.getName(),
----                                                product.getPrice()
----                                        )
----                                );
----                            }
----                            productAdapter.notifyDataSetChanged();
----                        }
----                    });
---+    private void loadProducts(String storeId) {
---+        FirebaseFirestore db = FirebaseFirestore.getInstance();
---+        db.collection("products")
---+                .whereEqualTo("storeId", storeId)
---+                .get()
---+                .addOnSuccessListener(queryDocumentSnapshots -> {
---+                    for (QueryDocumentSnapshot document : queryDocumentSnapshots) {
---+                        ProductRequest productRequest = document.toObject(ProductRequest.class);
---+                        String imageUrl = productRequest.getImageUrls().isEmpty()
---+                                ? "https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/notfound.jpg?alt=media&token=40e61714-5a10-4352-918c-7e5e2643a1fe"
---+                                : productRequest.getImageUrls().get(0);
---+                        productList.add(new Product(imageUrl, productRequest.getName(), productRequest.getPrice()));
---+                    }
---+                    productAdapter.notifyDataSetChanged();
---+                })
---+                .addOnFailureListener(e -> {
---+                    showError("Không thể tải sản phẩm.");
---+                });
---+    }
--- 
----        }
----    }
----}
---\ No newline at end of file
---+    private void showError(String message) {
---+        storeName.setText(message);
---+        storeAddress.setText("");
---+        storeAvatar.setImageResource(R.drawable.user);
---+    }
---+}
---Index: app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.ItemProductBinding;\r\n\r\nimport java.util.List;\r\n\r\npublic class ProductAdapter extends RecyclerView.Adapter<ProductAdapter.MyViewHolder> {\r\n    private List<Product> products;\r\n    private OnItemClickListener listener;\r\n\r\n    public ProductAdapter(List<Product> products, OnItemClickListener listener) {\r\n        this.products = products;\r\n        this.listener = listener;\r\n    }\r\n\r\n    public interface OnItemClickListener {\r\n        void onItemClick(Product product);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        ItemProductBinding binding = ItemProductBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        return new MyViewHolder(binding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        Product product = products.get(position);\r\n        holder.bindData(product);\r\n        holder.itemView.setOnClickListener(v -> listener.onItemClick(product));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return products.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        private final ItemProductBinding binding;\r\n\r\n        public MyViewHolder(@NonNull ItemProductBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n\r\n        public void bindData(Product product) {\r\n            binding.tvName.setText(product.getName());\r\n            binding.tvPrice.setText(String.valueOf(product.getPrice()));\r\n            Glide.with(binding.getRoot().getContext())\r\n                    .load(product.getImage())\r\n                    .into(binding.imgPro);\r\n            binding.executePendingBindings();\r\n        }\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java b/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java
------ a/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java	
---+++ b/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java	
---@@ -10,7 +10,9 @@
--- import com.example.agrimart.data.model.Product;
--- import com.example.agrimart.databinding.ItemProductBinding;
--- 
---+import java.text.NumberFormat;
--- import java.util.List;
---+import java.util.Locale;
--- 
--- public class ProductAdapter extends RecyclerView.Adapter<ProductAdapter.MyViewHolder> {
---     private List<Product> products;
---@@ -54,10 +56,20 @@
--- 
---         public void bindData(Product product) {
---             binding.tvName.setText(product.getName());
----            binding.tvPrice.setText(String.valueOf(product.getPrice()));
----            Glide.with(binding.getRoot().getContext())
----                    .load(product.getImage())
----                    .into(binding.imgPro);
---+
---+            NumberFormat format = NumberFormat.getCurrencyInstance(new Locale("vi", "VN"));
---+            binding.tvPrice.setText(format.format(product.getPrice()));
---+
---+            if (product.getImages() != null && !product.getImages().isEmpty()) {
---+                Glide.with(binding.getRoot().getContext())
---+                        .load(product.getImages().get(0))
---+                        .into(binding.imgPro);
---+            } else if (product.getImages() != null) {
---+                Glide.with(binding.getRoot().getContext())
---+                        .load(product.getImages())
---+                        .into(binding.imgPro);
---+            }
---+
---             binding.executePendingBindings();
---         }
---     }
---Index: app/src/main/res/layout/activity_product_detail.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main1\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.ProductPage.ProductDetailActivity\">\r\n    <RelativeLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/header\">\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/btn_back\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:layout_marginBottom=\"8dp\"\r\n            android:background=\"@color/background_light\"\r\n            android:src=\"@drawable/chevron_left\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.0\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            tools:ignore=\"MissingConstraints\"\r\n            android:backgroundTint=\"@color/white\"/>\r\n    </RelativeLayout>\r\n\r\n    <ScrollView\r\n        android:id=\"@+id/scrollView\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"4dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/header\"\r\n        tools:layout_editor_absoluteX=\"0dp\"\r\n        android:layout_below=\"@id/header\"\r\n        android:scrollbars=\"none\"\r\n        android:layout_above=\"@id/footer\">\r\n\r\n        <RelativeLayout\r\n            android:id=\"@+id/product_detail\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n            <com.denzcoskun.imageslider.ImageSlider\r\n                android:id=\"@+id/product_image\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"250dp\"\r\n                android:background=\"@null\"\r\n                app:iss_auto_cycle=\"true\"\r\n                app:iss_period=\"1000\"\r\n                app:iss_title_background=\"@color/transparent\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_name\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"8dp\"\r\n                android:text=\"@string/product_name\"\r\n                android:layout_below=\"@+id/product_image\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"20sp\"\r\n                android:textAllCaps=\"true\"\r\n                android:textColor=\"@color/black\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_price\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"24dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"8dp\"\r\n                android:text=\"@string/price\"\r\n                android:layout_below=\"@+id/product_name\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"24sp\"\r\n                android:textColor=\"@android:color/holo_red_dark\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/address\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"24dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"16dp\"\r\n                android:text=\"@string/address\"\r\n                android:layout_below=\"@+id/product_price\"\r\n                android:fontFamily=\"@font/circular_std\"\r\n                android:textSize=\"16sp\"\r\n                android:drawableStart=\"@drawable/location\"/>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/quantity\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/address\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginBottom=\"10dp\">\r\n                <TextView\r\n                    android:id=\"@+id/btn_decrease\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"-\"\r\n                    android:textColor=\"#9E9E9E\"\r\n                    android:textSize=\"24sp\"\r\n                    android:padding=\"8dp\"\r\n                    android:gravity=\"center\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_quantity\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_marginStart=\"8dp\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:layout_marginBottom=\"8dp\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"1\"\r\n                    android:textSize=\"18sp\"\r\n                    android:textColor=\"#212121\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:background=\"@drawable/round_border\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_increase\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"+\"\r\n                    android:textColor=\"#4CAF50\"\r\n                    android:textSize=\"24sp\"\r\n                    android:padding=\"8dp\"\r\n                    android:gravity=\"center\"/>\r\n            </LinearLayout>\r\n\r\n            <RelativeLayout\r\n                android:id=\"@+id/product_description\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/quantity\">\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"@string/description\"\r\n                    android:textSize=\"16sp\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:id=\"@+id/description_title\"\r\n                    android:textColor=\"@color/black\"/>\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:id=\"@+id/description\"\r\n                    android:layout_below=\"@+id/description_title\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:textSize=\"13sp\"\r\n                    android:text=\"@string/descriptions\"\r\n                    android:maxLines=\"3\"\r\n                    android:ellipsize=\"end\"/>\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/btn_expand\"\r\n                    android:layout_width=\"32dp\"\r\n                    android:layout_height=\"32dp\"\r\n                    android:layout_below=\"@+id/description\"\r\n                    android:layout_centerHorizontal=\"true\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:src=\"@drawable/down\"\r\n                    android:background=\"@color/transparent\"/>\r\n            </RelativeLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/shop_info\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/product_description\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <androidx.cardview.widget.CardView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"8dp\"\r\n                    android:background=\"@color/background_light\"\r\n                    app:cardElevation=\"0dp\">\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/store\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"horizontal\"\r\n                        android:padding=\"16dp\">\r\n\r\n                        <de.hdodenhof.circleimageview.CircleImageView\r\n                            android:id=\"@+id/shop_avatar\"\r\n                            android:layout_width=\"40dp\"\r\n                            android:layout_height=\"40dp\"\r\n                            android:src=\"@drawable/user\"\r\n                            app:civ_border_width=\"2dp\"\r\n                            app:civ_border_color=\"#FF000000\"\r\n                            android:layout_marginEnd=\"16dp\"/>\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/shop_name\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Tên người bán\"\r\n                            android:textSize=\"16sp\"\r\n                            android:textStyle=\"bold\"\r\n                            android:textColor=\"#000000\"/>\r\n                    </LinearLayout>\r\n                </androidx.cardview.widget.CardView>\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/rating\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/shop_info\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:orientation=\"horizontal\">\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:textSize=\"16sp\"\r\n                    android:text=\"Đánh giá sản phẩm\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:id=\"@+id/quantity_title\"\r\n                    android:textColor=\"@color/black\"/>\r\n\r\n                <RatingBar\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:rating=\"4.5\"\r\n                    style=\"?android:attr/ratingBarStyleIndicator\"\r\n                    android:progressTint=\"#FFCC01\"\r\n                    android:id=\"@+id/totalRating\"\r\n                    android:layout_marginStart=\"40dp\"/>\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/reviews\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/rating\">\r\n\r\n                <de.hdodenhof.circleimageview.CircleImageView\r\n                    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n                    android:id=\"@+id/user_avatar\"\r\n                    android:layout_width=\"40dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:src=\"@drawable/user\"\r\n                    app:civ_border_width=\"2dp\"\r\n                    app:civ_border_color=\"#FF000000\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"16dp\"/>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"vertical\"\r\n                    android:layout_weight=\"1\"\r\n                    android:padding=\"10dp\"\r\n                    android:id=\"@+id/user_rv\">\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_name\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"User name\"\r\n                        android:textStyle=\"bold\"\r\n                        android:textSize=\"16sp\"\r\n                        android:textColor=\"#000000\" />\r\n\r\n                    <RatingBar\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:rating=\"3\"\r\n                        style=\"?android:attr/ratingBarStyleIndicator\"\r\n                        android:progressTint=\"#FFCC01\"\r\n                        android:id=\"@+id/userRating\"/>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_review\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"4dp\"\r\n                        android:text=\"@string/user_review\"\r\n                        android:textSize=\"14sp\"\r\n                        android:textColor=\"#616161\" />\r\n                </LinearLayout>\r\n            </LinearLayout>\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"16dp\"\r\n                android:layout_below=\"@id/reviews\"/>\r\n\r\n        </RelativeLayout>\r\n    </ScrollView>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/footer\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentBottom=\"true\">\r\n\r\n        <Button\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_marginStart=\"48dp\"\r\n            android:layout_marginEnd=\"48dp\"\r\n            android:backgroundTint=\"@color/green\"\r\n            app:cornerRadius=\"24dp\"\r\n            android:text=\"@string/add_cart\"/>\r\n    </RelativeLayout>\r\n</RelativeLayout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/activity_product_detail.xml b/app/src/main/res/layout/activity_product_detail.xml
------ a/app/src/main/res/layout/activity_product_detail.xml	
---+++ b/app/src/main/res/layout/activity_product_detail.xml	
---@@ -5,26 +5,23 @@
---     android:id="@+id/main1"
---     android:layout_width="match_parent"
---     android:layout_height="match_parent"
---+    android:padding="16dp"
---     tools:context=".ui.ProductPage.ProductDetailActivity">
---+
---     <RelativeLayout
---+        android:id="@+id/header"
---         android:layout_width="match_parent"
---         android:layout_height="wrap_content"
----        android:id="@+id/header">
---+        android:padding="8dp">
--- 
---         <ImageButton
---             android:id="@+id/btn_back"
---             android:layout_width="32dp"
---             android:layout_height="32dp"
----            android:layout_marginStart="24dp"
----            android:layout_marginTop="16dp"
----            android:layout_marginBottom="8dp"
---+            android:layout_marginStart="8dp"
---+            android:layout_marginTop="8dp"
---             android:background="@color/background_light"
---             android:src="@drawable/chevron_left"
----            app:layout_constraintEnd_toEndOf="parent"
----            app:layout_constraintHorizontal_bias="0.0"
----            app:layout_constraintStart_toStartOf="parent"
----            app:layout_constraintTop_toTopOf="parent"
----            tools:ignore="MissingConstraints"
---             android:backgroundTint="@color/white"/>
---     </RelativeLayout>
--- 
---@@ -32,12 +29,9 @@
---         android:id="@+id/scrollView"
---         android:layout_width="match_parent"
---         android:layout_height="wrap_content"
----        android:layout_marginTop="4dp"
----        app:layout_constraintTop_toBottomOf="@+id/header"
----        tools:layout_editor_absoluteX="0dp"
---         android:layout_below="@id/header"
----        android:scrollbars="none"
----        android:layout_above="@id/footer">
---+        android:layout_above="@id/footer"
---+        android:scrollbars="none">
--- 
---         <RelativeLayout
---             android:id="@+id/product_detail"
---@@ -53,14 +47,26 @@
---                 app:iss_period="1000"
---                 app:iss_title_background="@color/transparent"/>
--- 
---+            <TextView
---+                android:id="@+id/product_price"
---+                android:layout_width="wrap_content"
---+                android:layout_height="wrap_content"
---+                android:layout_marginStart="16dp"
---+                android:layout_marginEnd="16dp"
---+                android:layout_marginBottom="8dp"
---+                android:text="@string/price"
---+                android:layout_below="@+id/product_name"
---+                android:fontFamily="@font/gabarito"
---+                android:textSize="28sp"
---+                android:textColor="@android:color/holo_red_dark"/>
---+
---             <TextView
---                 android:id="@+id/product_name"
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
----                android:layout_marginTop="10dp"
---+                android:layout_marginTop="15dp"
---                 android:layout_marginStart="16dp"
----                android:layout_marginEnd="24dp"
----                android:layout_marginBottom="8dp"
---+                android:layout_marginEnd="16dp"
---                 android:text="@string/product_name"
---                 android:layout_below="@+id/product_image"
---                 android:fontFamily="@font/gabarito"
---@@ -68,25 +74,12 @@
---                 android:textAllCaps="true"
---                 android:textColor="@color/black"/>
--- 
----            <TextView
----                android:id="@+id/product_price"
----                android:layout_width="wrap_content"
----                android:layout_height="wrap_content"
----                android:layout_marginStart="24dp"
----                android:layout_marginEnd="24dp"
----                android:layout_marginBottom="8dp"
----                android:text="@string/price"
----                android:layout_below="@+id/product_name"
----                android:fontFamily="@font/gabarito"
----                android:textSize="24sp"
----                android:textColor="@android:color/holo_red_dark"/>
----
---             <TextView
---                 android:id="@+id/address"
---                 android:layout_width="wrap_content"
---                 android:layout_height="wrap_content"
----                android:layout_marginStart="24dp"
----                android:layout_marginEnd="24dp"
---+                android:layout_marginStart="16dp"
---+                android:layout_marginEnd="16dp"
---                 android:layout_marginBottom="16dp"
---                 android:text="@string/address"
---                 android:layout_below="@+id/product_price"
---@@ -100,7 +93,9 @@
---                 android:layout_height="wrap_content"
---                 android:layout_below="@+id/address"
---                 android:layout_marginStart="16dp"
----                android:layout_marginBottom="10dp">
---+                android:layout_marginBottom="10dp"
---+                android:orientation="horizontal">
---+
---                 <TextView
---                     android:id="@+id/btn_decrease"
---                     android:layout_width="30dp"
---@@ -143,26 +138,26 @@
---                 android:layout_below="@+id/quantity">
--- 
---                 <TextView
---+                    android:id="@+id/description_title"
---                     android:layout_width="match_parent"
---                     android:layout_height="wrap_content"
----                    android:layout_marginStart="16dp"
---+                    android:layout_marginStart="15dp"
---                     android:layout_marginEnd="16dp"
---                     android:layout_marginTop="8dp"
---                     android:text="@string/description"
----                    android:textSize="16sp"
---+                    android:textSize="17sp"
---                     android:fontFamily="@font/gabarito"
----                    android:id="@+id/description_title"
---                     android:textColor="@color/black"/>
--- 
---                 <TextView
---+                    android:id="@+id/description"
---                     android:layout_width="match_parent"
---                     android:layout_height="wrap_content"
----                    android:id="@+id/description"
---                     android:layout_below="@+id/description_title"
---                     android:layout_marginStart="16dp"
---                     android:layout_marginEnd="16dp"
---                     android:layout_marginTop="8dp"
----                    android:textSize="13sp"
---+                    android:textSize="15sp"
---                     android:text="@string/descriptions"
---                     android:maxLines="3"
---                     android:ellipsize="end"/>
---@@ -183,7 +178,9 @@
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
---                 android:layout_below="@+id/product_description"
---+                android:layout_margin="8dp"
---                 android:layout_marginTop="24dp"
---+                android:background="@color/transparent"
---                 android:orientation="vertical">
--- 
---                 <androidx.cardview.widget.CardView
---@@ -197,29 +194,27 @@
---                         android:id="@+id/store"
---                         android:layout_width="match_parent"
---                         android:layout_height="wrap_content"
----                        android:orientation="horizontal"
----                        android:padding="16dp">
---+                        android:orientation="horizontal">
--- 
---                         <de.hdodenhof.circleimageview.CircleImageView
----                            android:id="@+id/shop_avatar"
----                            android:layout_width="40dp"
----                            android:layout_height="40dp"
---+                            android:id="@+id/store_img"
---+                            android:layout_width="50dp"
---+                            android:layout_height="50dp"
---+                            android:layout_marginEnd="16dp"
---                             android:src="@drawable/user"
----                            app:civ_border_width="2dp"
---                             app:civ_border_color="#FF000000"
----                            android:layout_marginEnd="16dp"/>
---+                            app:civ_border_width="2dp" />
--- 
---                         <TextView
----                            android:id="@+id/shop_name"
---+                            android:id="@+id/store_name"
---                             android:layout_width="wrap_content"
---                             android:layout_height="wrap_content"
---                             android:text="Tên người bán"
----                            android:textSize="16sp"
----                            android:textStyle="bold"
----                            android:textColor="#000000"/>
---+                            android:textColor="#000000"
---+                            android:textSize="20sp"
---+                            android:textStyle="bold" />
---                     </LinearLayout>
---                 </androidx.cardview.widget.CardView>
----
---             </LinearLayout>
--- 
---             <LinearLayout
---@@ -228,8 +223,11 @@
---                 android:layout_height="wrap_content"
---                 android:layout_below="@+id/shop_info"
---                 android:layout_marginTop="24dp"
----                android:orientation="horizontal">
---+                android:orientation="horizontal"
---+                android:padding="8dp">
---+
---                 <TextView
---+                    android:id="@+id/quantity_title"
---                     android:layout_width="wrap_content"
---                     android:layout_height="wrap_content"
---                     android:layout_marginStart="16dp"
---@@ -237,16 +235,15 @@
---                     android:textSize="16sp"
---                     android:text="Đánh giá sản phẩm"
---                     android:fontFamily="@font/gabarito"
----                    android:id="@+id/quantity_title"
---                     android:textColor="@color/black"/>
--- 
---                 <RatingBar
---+                    android:id="@+id/totalRating"
---                     android:layout_width="wrap_content"
---                     android:layout_height="wrap_content"
---                     android:rating="4.5"
---                     style="?android:attr/ratingBarStyleIndicator"
---                     android:progressTint="#FFCC01"
----                    android:id="@+id/totalRating"
---                     android:layout_marginStart="40dp"/>
---             </LinearLayout>
--- 
---@@ -254,10 +251,10 @@
---                 android:id="@+id/reviews"
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
----                android:layout_below="@+id/rating">
---+                android:layout_below="@+id/rating"
---+                android:padding="8dp">
--- 
---                 <de.hdodenhof.circleimageview.CircleImageView
----                    xmlns:app="http://schemas.android.com/apk/res-auto"
---                     android:id="@+id/user_avatar"
---                     android:layout_width="40dp"
---                     android:layout_height="40dp"
---@@ -268,12 +265,12 @@
---                     android:layout_marginTop="16dp"/>
--- 
---                 <LinearLayout
---+                    android:id="@+id/user_rv"
---                     android:layout_width="0dp"
---                     android:layout_height="wrap_content"
---                     android:orientation="vertical"
---                     android:layout_weight="1"
----                    android:padding="10dp"
----                    android:id="@+id/user_rv">
---+                    android:padding="10dp">
--- 
---                     <TextView
---                         android:id="@+id/user_name"
---@@ -285,12 +282,12 @@
---                         android:textColor="#000000" />
--- 
---                     <RatingBar
---+                        android:id="@+id/userRating"
---                         android:layout_width="wrap_content"
---                         android:layout_height="wrap_content"
---                         android:rating="3"
---                         style="?android:attr/ratingBarStyleIndicator"
----                        android:progressTint="#FFCC01"
----                        android:id="@+id/userRating"/>
---+                        android:progressTint="#FFCC01"/>
--- 
---                     <TextView
---                         android:id="@+id/user_review"
---@@ -302,12 +299,12 @@
---                         android:textColor="#616161" />
---                 </LinearLayout>
---             </LinearLayout>
---+
---             <androidx.recyclerview.widget.RecyclerView
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
---                 android:layout_marginTop="16dp"
---                 android:layout_below="@id/reviews"/>
----
---         </RelativeLayout>
---     </ScrollView>
--- 
---@@ -315,7 +312,8 @@
---         android:id="@+id/footer"
---         android:layout_width="match_parent"
---         android:layout_height="wrap_content"
----        android:layout_alignParentBottom="true">
---+        android:layout_alignParentBottom="true"
---+        android:padding="16dp">
--- 
---         <Button
---             android:layout_width="match_parent"
---Index: app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\nimport com.example.agrimart.viewmodel.HomeFragmentViewModel;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    ImageButton btnSearch;\r\n    TextView search;\r\n    HomeFragmentViewModel viewModel;\r\n    FragmentHomeBinding binding;\r\n\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    public static HomeFragment newInstance() {\r\n        return new HomeFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        binding=DataBindingUtil.inflate(inflater,R.layout.fragment_home,container,false);\r\n        viewModel=new ViewModelProvider(this).get(HomeFragmentViewModel.class);\r\n\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding.setViewmodel(viewModel);\r\n        View view = binding.getRoot();\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getActivity().getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n//        if (getActivity() != null) {\r\n//            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n//        }\r\n        viewModel.getData();\r\n        viewModel.categories.observe(getViewLifecycleOwner(), categories -> {\r\n            if (categories != null) {\r\n                CategoryAdapter categoryAdapter = new CategoryAdapter(categories);\r\n                binding.rvCategories.setAdapter(categoryAdapter);\r\n                binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));\r\n                Log.d(\"duy1\", \"onCreateView: \" + categories.size());\r\n            }\r\n        });\r\n\r\n\r\n        List<Product> products = new ArrayList<>();\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n            Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n\r\n        addControls(view);\r\n        addEvents();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void addEvents() {\r\n        btnSearch.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getActivity(), SearchActivity.class);\r\n            getActivity().startActivity(intent);\r\n        });\r\n\r\n        search.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getContext(), SearchActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void addControls(View view) {\r\n        btnSearch = view.findViewById(R.id.search_icon);\r\n        search = view.findViewById(R.id.search_input);\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getActivity().getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
------ a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	
---+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	
---@@ -3,15 +3,12 @@
--- import android.content.Intent;
--- import android.os.Build;
--- import android.os.Bundle;
----
--- import androidx.annotation.NonNull;
--- import androidx.core.content.ContextCompat;
--- import androidx.databinding.DataBindingUtil;
--- import androidx.fragment.app.Fragment;
--- import androidx.lifecycle.ViewModelProvider;
--- import androidx.recyclerview.widget.GridLayoutManager;
----import androidx.recyclerview.widget.RecyclerView;
----
--- import android.util.Log;
--- import android.view.LayoutInflater;
--- import android.view.View;
---@@ -25,23 +22,22 @@
--- import com.example.agrimart.SpacesItemDecoration;
--- import com.example.agrimart.adapter.CategoryAdapter;
--- import com.example.agrimart.adapter.ProductAdapter;
----import com.example.agrimart.data.model.Category;
--- import com.example.agrimart.data.model.Product;
--- import com.example.agrimart.databinding.FragmentHomeBinding;
--- import com.example.agrimart.ui.ProductPage.ProductDetailActivity;
--- import com.example.agrimart.viewmodel.HomeFragmentViewModel;
--- 
----import java.util.ArrayList;
--- import java.util.List;
--- 
--- public class HomeFragment extends Fragment {
---+    private static final String TAG = "HomeFragment";
---     ImageButton btnSearch;
---     TextView search;
---     HomeFragmentViewModel viewModel;
---     FragmentHomeBinding binding;
--- 
---     public HomeFragment() {
----        // Required empty public constructor
---+
---     }
--- 
---     public static HomeFragment newInstance() {
---@@ -54,10 +50,9 @@
---     }
--- 
---     @Override
----    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,
----                             Bundle savedInstanceState) {
----        binding=DataBindingUtil.inflate(inflater,R.layout.fragment_home,container,false);
----        viewModel=new ViewModelProvider(this).get(HomeFragmentViewModel.class);
---+    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
---+        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_home, container, false);
---+        viewModel = new ViewModelProvider(this).get(HomeFragmentViewModel.class);
--- 
---         int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);
---         binding.setViewmodel(viewModel);
---@@ -69,36 +64,35 @@
---             window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));
---         }
--- 
----//        if (getActivity() != null) {
----//            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));
----//        }
---         viewModel.getData();
---+        viewModel.getProducts();
---+
---         viewModel.categories.observe(getViewLifecycleOwner(), categories -> {
---             if (categories != null) {
---                 CategoryAdapter categoryAdapter = new CategoryAdapter(categories);
---                 binding.rvCategories.setAdapter(categoryAdapter);
---                 binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));
----                Log.d("duy1", "onCreateView: " + categories.size());
---+                Log.d(TAG, "Categories loaded: " + categories.size());
---             }
---         });
--- 
----
----        List<Product> products = new ArrayList<>();
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----
----        ProductAdapter productAdapter = new ProductAdapter(products, product -> {
----            Intent intent = new Intent(getContext(), ProductDetailActivity.class);
----            startActivity(intent);
----        });
---+        viewModel.products.observe(getViewLifecycleOwner(), products -> {
---+            if (products != null) {
---+                ProductAdapter productAdapter = new ProductAdapter(products, product -> {
---+                    try {
---+                        Intent intent = new Intent(getContext(), ProductDetailActivity.class);
---+                        intent.putExtra("product", product);
---+                        intent.putExtra("storeId", product.getStoreId());
---+                        startActivity(intent);
---+                    } catch (Exception e) {
--- 
----        binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));
----        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
----        binding.rvProducts.setAdapter(productAdapter);
---+                    }
---+                });
---+                binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));
---+                binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
---+                binding.rvProducts.setAdapter(productAdapter);
---+            }
---+        });
--- 
---         addControls(view);
---         addEvents();
---@@ -107,13 +101,13 @@
---     }
--- 
---     private void addEvents() {
----        btnSearch.setOnClickListener(View -> {
----            Intent intent=new Intent(getActivity(), SearchActivity.class);
---+        btnSearch.setOnClickListener(v -> {
---+            Intent intent = new Intent(getActivity(), SearchActivity.class);
---             getActivity().startActivity(intent);
---         });
--- 
----        search.setOnClickListener(View -> {
----            Intent intent=new Intent(getContext(), SearchActivity.class);
---+        search.setOnClickListener(v -> {
---+            Intent intent = new Intent(getContext(), SearchActivity.class);
---             startActivity(intent);
---         });
---     }
---Index: app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.ProductPage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.ImageButton;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\n\r\nimport com.denzcoskun.imageslider.ImageSlider;\r\nimport com.denzcoskun.imageslider.constants.ScaleTypes;\r\nimport com.denzcoskun.imageslider.models.SlideModel;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.Store.StoreActivity;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ProductDetailActivity extends AppCompatActivity {\r\n    ImageButton btn_back, btnExpand;\r\n    TextView description;\r\n    boolean isExpanded = false;\r\n    LinearLayout store;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_product_detail);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        description = findViewById(R.id.description);\r\n        btnExpand = findViewById(R.id.btn_expand);\r\n\r\n        btn_back = findViewById(R.id.btn_back);\r\n        btn_back.setOnClickListener(v -> finish());\r\n        store = findViewById(R.id.store);\r\n\r\n        ArrayList<SlideModel> imgList = new ArrayList<>();\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n\r\n        ImageSlider imageSlider = findViewById(R.id.product_image);\r\n        imageSlider.setImageList(imgList, ScaleTypes.FIT);\r\n\r\n        btnExpand.setOnClickListener(v -> {\r\n            if (isExpanded) {\r\n                description.setMaxLines(3);\r\n                btnExpand.setImageResource(R.drawable.down);\r\n            } else {\r\n                description.setMaxLines(Integer.MAX_VALUE);\r\n                btnExpand.setImageResource(R.drawable.arrowhead_up);\r\n            }\r\n            isExpanded = !isExpanded;\r\n        });\r\n\r\n        store.setOnClickListener(v -> {\r\n            Intent intent = new Intent(ProductDetailActivity.this, StoreActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java	
---+++ b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java	
---@@ -3,28 +3,40 @@
--- import android.content.Intent;
--- import android.os.Bundle;
--- import android.widget.ImageButton;
---+import android.widget.ImageView;
--- import android.widget.LinearLayout;
--- import android.widget.TextView;
--- 
--- import androidx.activity.EdgeToEdge;
---+import androidx.annotation.NonNull;
--- import androidx.appcompat.app.AppCompatActivity;
--- import androidx.core.graphics.Insets;
--- import androidx.core.view.ViewCompat;
--- import androidx.core.view.WindowInsetsCompat;
---+import androidx.lifecycle.Observer;
---+import androidx.lifecycle.ViewModelProvider;
--- 
---+import com.bumptech.glide.Glide;
--- import com.denzcoskun.imageslider.ImageSlider;
--- import com.denzcoskun.imageslider.constants.ScaleTypes;
--- import com.denzcoskun.imageslider.models.SlideModel;
--- import com.example.agrimart.R;
---+import com.example.agrimart.data.model.Product;
---+import com.example.agrimart.data.model.Store;
--- import com.example.agrimart.ui.Store.StoreActivity;
---+import com.example.agrimart.viewmodel.ProductDetailViewModel;
---+
--- 
--- import java.util.ArrayList;
--- 
--- public class ProductDetailActivity extends AppCompatActivity {
----    ImageButton btn_back, btnExpand;
----    TextView description;
----    boolean isExpanded = false;
----    LinearLayout store;
---+    private static final String TAG = "ProductDetailActivity";
---+    private ImageButton btn_back, btnExpand;
---+    private TextView description, productName, productPrice, storeName, storeAddress, storePhoneNumber;
---+    private ImageView storeAvatar;
---+    private boolean isExpanded = false;
---+    private LinearLayout store;
---+    private ProductDetailViewModel viewModel;
--- 
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---@@ -37,24 +49,51 @@
---             return insets;
---         });
--- 
---+        viewModel = new ViewModelProvider(this).get(ProductDetailViewModel.class);
---+
---         description = findViewById(R.id.description);
---+        productName = findViewById(R.id.product_name);
---+        productPrice = findViewById(R.id.product_price);
---         btnExpand = findViewById(R.id.btn_expand);
----
---         btn_back = findViewById(R.id.btn_back);
----        btn_back.setOnClickListener(v -> finish());
---         store = findViewById(R.id.store);
---+        storeName = findViewById(R.id.store_name);
---+        storeAddress = findViewById(R.id.address);
---+        storeAvatar = findViewById(R.id.store_img);
---+
---+        btn_back.setOnClickListener(v -> finish());
---+
---+        Intent intent = getIntent();
---+        Product product = (Product) intent.getSerializableExtra("product");
---+
---+        if (product != null) {
---+            productName.setText(product.getName());
---+            productPrice.setText(String.format("%,.0f đ", product.getPrice()));
---+            description.setText(product.getDescription());
--- 
----        ArrayList<SlideModel> imgList = new ArrayList<>();
----        imgList.add(new SlideModel(R.drawable.banana, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.apple, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.banana, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.apple, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.banana, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.apple, "", ScaleTypes.FIT));
----
----        ImageSlider imageSlider = findViewById(R.id.product_image);
----        imageSlider.setImageList(imgList, ScaleTypes.FIT);
---+            ArrayList<SlideModel> imgList = new ArrayList<>();
---+            if (product.getImages() != null) {
---+                for (String url : product.getImages()) {
---+                    imgList.add(new SlideModel(url, "", ScaleTypes.FIT));
---+                }
---+            }
---+            ImageSlider imageSlider = findViewById(R.id.product_image);
---+            imageSlider.setImageList(imgList, ScaleTypes.FIT);
--- 
---+            viewModel.loadStoreInfo(product.getStoreId());
---+        }
---+
---+        viewModel.getStoreInfo().observe(this, new Observer<Store>() {
---+            @Override
---+            public void onChanged(Store storeInfo) {
---+                if (storeInfo != null) {
---+                    storeName.setText(storeInfo.getName());
---+                    storeAddress.setText(storeInfo.getFullAddress());
---+                    Glide.with(ProductDetailActivity.this).load(storeInfo.getAvatarUrl()).into(storeAvatar);
---+                }
---+            }
---+        });
---+
---         btnExpand.setOnClickListener(v -> {
---             if (isExpanded) {
---                 description.setMaxLines(3);
---@@ -67,8 +106,9 @@
---         });
--- 
---         store.setOnClickListener(v -> {
----            Intent intent = new Intent(ProductDetailActivity.this, StoreActivity.class);
----            startActivity(intent);
---+            Intent storeIntent = new Intent(ProductDetailActivity.this, StoreActivity.class);
---+            storeIntent.putExtra("storeId", product.getStoreId());
---+            startActivity(storeIntent);
---         });
---     }
----}
---\ No newline at end of file
---+}
---Index: app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.List;\r\n\r\npublic class HomeFragmentViewModel extends ViewModel {\r\n    public MutableLiveData<List<Category>> categories;\r\n\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    public HomeFragmentViewModel() {\r\n        categories = new MutableLiveData<>();\r\n    }\r\n\r\n    public void getData(){\r\n        db.collection(\"categories\")\r\n                .orderBy(\"id\")\r\n                .get().addOnCompleteListener(task -> {\r\n            if (task.isSuccessful()) {\r\n                List<Category> categoryList = task.getResult().toObjects(Category.class);\r\n                categories.setValue(categoryList);\r\n            } else {\r\n                Log.e(\"HomeFragmentViewModel\", \"Error getting documents: \", task.getException());\r\n            }\r\n        });\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java
------ a/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java	
---+++ b/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java	
---@@ -6,28 +6,47 @@
--- import androidx.lifecycle.ViewModel;
--- 
--- import com.example.agrimart.data.model.Category;
---+import com.example.agrimart.data.model.Product;
--- import com.google.firebase.firestore.FirebaseFirestore;
--- 
--- import java.util.List;
--- 
--- public class HomeFragmentViewModel extends ViewModel {
---     public MutableLiveData<List<Category>> categories;
---+    public MutableLiveData<List<Product>> products;
--- 
---     FirebaseFirestore db = FirebaseFirestore.getInstance();
---+
---     public HomeFragmentViewModel() {
---         categories = new MutableLiveData<>();
---+        products = new MutableLiveData<>();
---     }
--- 
----    public void getData(){
---+    public void getData() {
---         db.collection("categories")
---                 .orderBy("id")
----                .get().addOnCompleteListener(task -> {
----            if (task.isSuccessful()) {
----                List<Category> categoryList = task.getResult().toObjects(Category.class);
----                categories.setValue(categoryList);
----            } else {
----                Log.e("HomeFragmentViewModel", "Error getting documents: ", task.getException());
----            }
----        });
---+                .get()
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        List<Category> categoryList = task.getResult().toObjects(Category.class);
---+                        categories.setValue(categoryList);
---+                    } else {
---+                        Log.e("HomeFragmentViewModel", "Error getting categories: ", task.getException());
---+                    }
---+                });
---+    }
---+
---+    public void getProducts() {
---+        db.collection("products")
---+                .orderBy("product_id")
---+                .get()
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        List<Product> productList = task.getResult().toObjects(Product.class);
---+                        products.setValue(productList);
---+                    } else {
---+                        Log.e("HomeFragmentViewModel", "Error getting products: ", task.getException());
---+                    }
---+                });
---     }
----}
---\ No newline at end of file
---+}
---Index: app/src/main/java/com/example/agrimart/data/model/User.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.data.model;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\nimport java.io.Serializable;\r\nimport java.util.Date;\r\n\r\npublic class User implements Serializable {\r\n    @SerializedName(\"userId\")\r\n    private String userId;\r\n    @SerializedName(\"role\")\r\n    private String role;\r\n    @SerializedName(\"fullName\")\r\n    private String fullName;\r\n    @SerializedName(\"email\")\r\n    private String email;\r\n    @SerializedName(\"phoneNumber\")\r\n    private String phoneNumber;\r\n    @SerializedName(\"password\")\r\n    private String password;\r\n    @SerializedName(\"address\")\r\n    private Address address;\r\n    @SerializedName(\"storeName\")\r\n    private String storeName;\r\n    @SerializedName(\"storeAddress\")\r\n    private Address storeAddress;\r\n    @SerializedName(\"storeImage\")\r\n    private String storeImage;\r\n    @SerializedName(\"storeRating\")\r\n    private double storeRating;\r\n    @SerializedName(\"paymentAccount\")\r\n    private PaymentAccount paymentAccount;\r\n    @SerializedName(\"createdAt\")\r\n    private Date createdAt;\r\n    @SerializedName(\"updatedAt\")\r\n    private Date updatedAt;\r\n\r\n    public User(String userId, String role, String fullName, String email, String phoneNumber, String password, Address address, String storeName, Address storeAddress, String storeImage, double storeRating, PaymentAccount paymentAccount, Date createdAt, Date updatedAt) {\r\n        this.userId = userId;\r\n        this.role = role;\r\n        this.fullName = fullName;\r\n        this.email = email;\r\n        this.phoneNumber = phoneNumber;\r\n        this.password = password;\r\n        this.address = address;\r\n        this.storeName = storeName;\r\n        this.storeAddress = storeAddress;\r\n        this.storeImage = storeImage;\r\n        this.storeRating = storeRating;\r\n        this.paymentAccount = paymentAccount;\r\n        this.createdAt = createdAt;\r\n        this.updatedAt = updatedAt;\r\n    }\r\n\r\n    public String getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(String userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getRole() {\r\n        return role;\r\n    }\r\n\r\n    public void setRole(String role) {\r\n        this.role = role;\r\n    }\r\n\r\n    public String getFullName() {\r\n        return fullName;\r\n    }\r\n\r\n    public void setFullName(String fullName) {\r\n        this.fullName = fullName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Address getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(Address address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getStoreName() {\r\n        return storeName;\r\n    }\r\n\r\n    public void setStoreName(String storeName) {\r\n        this.storeName = storeName;\r\n    }\r\n\r\n    public Address getStoreAddress() {\r\n        return storeAddress;\r\n    }\r\n\r\n    public void setStoreAddress(Address storeAddress) {\r\n        this.storeAddress = storeAddress;\r\n    }\r\n\r\n    public String getStoreImage() {\r\n        return storeImage;\r\n    }\r\n\r\n    public void setStoreImage(String storeImage) {\r\n        this.storeImage = storeImage;\r\n    }\r\n\r\n    public double getStoreRating() {\r\n        return storeRating;\r\n    }\r\n\r\n    public void setStoreRating(double storeRating) {\r\n        this.storeRating = storeRating;\r\n    }\r\n\r\n    public PaymentAccount getPaymentAccount() {\r\n        return paymentAccount;\r\n    }\r\n\r\n    public void setPaymentAccount(PaymentAccount paymentAccount) {\r\n        this.paymentAccount = paymentAccount;\r\n    }\r\n\r\n    public Date getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(Date createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Date getUpdatedAt() {\r\n        return updatedAt;\r\n    }\r\n\r\n    public void setUpdatedAt(Date updatedAt) {\r\n        this.updatedAt = updatedAt;\r\n    }\r\n\r\n//    public static class Address {\r\n//        @SerializedName(\"street\")\r\n//        private String street;\r\n//        @SerializedName(\"district\")\r\n//        private String district;\r\n//        @SerializedName(\"city\")\r\n//        private String city;\r\n//\r\n//        // Constructors, getters, and setters...\r\n//    }\r\n\r\n    public static class PaymentAccount {\r\n        @SerializedName(\"accountNumber\")\r\n        private String accountNumber;\r\n        @SerializedName(\"bankName\")\r\n        private String bankName;\r\n        @SerializedName(\"branchName\")\r\n        private String branchName;\r\n\r\n        // Constructors, getters, and setters...\r\n    }\r\n\r\n    // Getters and setters for User class fields\r\n    // ...\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/User.java b/app/src/main/java/com/example/agrimart/data/model/User.java
------ a/app/src/main/java/com/example/agrimart/data/model/User.java	
---+++ b/app/src/main/java/com/example/agrimart/data/model/User.java	
---@@ -1,3 +1,4 @@
---+// User.java
--- package com.example.agrimart.data.model;
--- 
--- import com.google.gson.annotations.SerializedName;
---@@ -34,6 +35,10 @@
---     @SerializedName("updatedAt")
---     private Date updatedAt;
--- 
---+    // No-argument constructor
---+    public User() {
---+    }
---+
---     public User(String userId, String role, String fullName, String email, String phoneNumber, String password, Address address, String storeName, Address storeAddress, String storeImage, double storeRating, PaymentAccount paymentAccount, Date createdAt, Date updatedAt) {
---         this.userId = userId;
---         this.role = role;
---@@ -163,16 +168,49 @@
---         this.updatedAt = updatedAt;
---     }
--- 
----//    public static class Address {
----//        @SerializedName("street")
----//        private String street;
----//        @SerializedName("district")
----//        private String district;
----//        @SerializedName("city")
----//        private String city;
----//
----//        // Constructors, getters, and setters...
----//    }
---+    public static class Address {
---+        @SerializedName("street")
---+        private String street;
---+        @SerializedName("district")
---+        private String district;
---+        @SerializedName("city")
---+        private String city;
---+
---+        public Address() {
---+        }
---+
---+        public Address(String street, String district, String city) {
---+            this.street = street;
---+            this.district = district;
---+            this.city = city;
---+        }
---+
---+        // Getters and setters...
---+
---+        public String getStreet() {
---+            return street;
---+        }
---+
---+        public void setStreet(String street) {
---+            this.street = street;
---+        }
---+
---+        public String getDistrict() {
---+            return district;
---+        }
---+
---+        public void setDistrict(String district) {
---+            this.district = district;
---+        }
---+
---+        public String getCity() {
---+            return city;
---+        }
---+
---+        public void setCity(String city) {
---+            this.city = city;
---+        }
---+    }
--- 
---     public static class PaymentAccount {
---         @SerializedName("accountNumber")
---@@ -182,9 +220,15 @@
---         @SerializedName("branchName")
---         private String branchName;
--- 
----        // Constructors, getters, and setters...
----    }
---+        public PaymentAccount() {
---+        }
---+
---+        public PaymentAccount(String accountNumber, String bankName, String branchName) {
---+            this.accountNumber = accountNumber;
---+            this.bankName = bankName;
---+            this.branchName = branchName;
---+        }
--- 
----    // Getters and setters for User class fields
----    // ...
---+        // Getters and setters...
---+    }
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java
---new file mode 100644
------ /dev/null	
---+++ b/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java	
---@@ -0,0 +1,56 @@
---+package com.example.agrimart.viewmodel;
---+
---+import androidx.lifecycle.LiveData;
---+import androidx.lifecycle.MutableLiveData;
---+import androidx.lifecycle.ViewModel;
---+
---+import com.example.agrimart.data.model.Store;
---+import com.google.firebase.firestore.DocumentSnapshot;
---+import com.google.firebase.firestore.FirebaseFirestore;
---+import com.google.firebase.firestore.ListenerRegistration;
---+
---+public class ProductDetailViewModel extends ViewModel {
---+    private final FirebaseFirestore db;
---+    private ListenerRegistration storeListener;
---+    private final MutableLiveData<Store> storeInfo = new MutableLiveData<>();
---+
---+    public ProductDetailViewModel() {
---+        db = FirebaseFirestore.getInstance();
---+    }
---+
---+    public LiveData<Store> getStoreInfo() {
---+        return storeInfo;
---+    }
---+
---+    public void loadStoreInfo(String storeId) {
---+        if (storeListener != null) {
---+            storeListener.remove();
---+        }
---+
---+        storeListener = db.collection("users").document(storeId)
---+                .addSnapshotListener((snapshot, e) -> {
---+                    if (e != null || snapshot == null || !snapshot.exists()) {
---+                        return;
---+                    }
---+                    String name = snapshot.getString("store_name");
---+                    String avatarUrl = snapshot.getString("userImage");
---+                    String street = snapshot.getString("store_address.street");
---+                    String ward = snapshot.getString("store_address.ward");
---+                    String district = snapshot.getString("store_address.district");
---+                    String city = snapshot.getString("store_address.city");
---+                    String phoneNumber = snapshot.getString("store_phone_number");
---+
---+                    Store info = new Store(name, avatarUrl, street, ward, district, city, phoneNumber);
---+                    storeInfo.setValue(info);
---+                });
---+    }
---+
---+    @Override
---+    protected void onCleared() {
---+        super.onCleared();
---+        if (storeListener != null) {
---+            storeListener.remove();
---+        }
---+    }
---+
---+}
---Index: app/src/main/java/com/example/agrimart/data/model/Store.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/Store.java b/app/src/main/java/com/example/agrimart/data/model/Store.java
---new file mode 100644
------ /dev/null	
---+++ b/app/src/main/java/com/example/agrimart/data/model/Store.java	
---@@ -0,0 +1,37 @@
---+package com.example.agrimart.data.model;
---+
---+public class Store {
---+    private final String name;
---+    private final String avatarUrl;
---+    private final String street;
---+    private final String ward;
---+    private final String district;
---+    private final String city;
---+    private final String phoneNumber;
---+
---+    public Store(String name, String avatarUrl, String street, String ward, String district, String city, String phoneNumber) {
---+        this.name = name;
---+        this.avatarUrl = avatarUrl;
---+        this.street = street;
---+        this.ward = ward;
---+        this.district = district;
---+        this.city = city;
---+        this.phoneNumber = phoneNumber;
---+    }
---+
---+    public String getName() {
---+        return name;
---+    }
---+
---+    public String getAvatarUrl() {
---+        return avatarUrl;
---+    }
---+
---+    public String getFullAddress() {
---+        return street + ", " + ward + ", " + district + ", " + city;
---+    }
---+
---+    public String getPhoneNumber() {
---+        return phoneNumber;
---+    }
---+}
---Index: app/src/main/java/com/example/agrimart/data/model/Address.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.data.model;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\n\r\npublic class Address {\r\n    @SerializedName(\"default\")\r\n    private boolean isDefault;\r\n    @SerializedName(\"detailedAddress\")\r\n    private String detailedAddress;\r\n    @SerializedName(\"name\")\r\n    private String name;\r\n    @SerializedName(\"phone\")\r\n    private String phone;\r\n    @SerializedName(\"street\")\r\n    private String street;\r\n\r\n    public String getAddressId() {\r\n        return this.AddressId;\r\n    }\r\n\r\n    public void setAddressId(String AddressId) {\r\n        this.AddressId = AddressId;\r\n    }\r\n\r\n    @SerializedName(\"AddressId\")\r\n    private String AddressId;\r\n    public Address() {\r\n\r\n    }\r\n    // Constructor\r\n    public Address(String AddressId,String name, String phone, String street, String detailedAddress, boolean isDefault) {\r\n        this.name = name;\r\n        this.phone = phone;\r\n        this.street = street;\r\n        this.detailedAddress = detailedAddress;\r\n        this.isDefault = isDefault;\r\n        this.AddressId = AddressId;\r\n    }\r\n\r\n    // Getters and Setters\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getPhone() {\r\n        return phone;\r\n    }\r\n\r\n    public void setPhone(String phone) {\r\n        this.phone = phone;\r\n    }\r\n\r\n    public String getStreet() {\r\n        return street;\r\n    }\r\n\r\n    public void setStreet(String street) {\r\n        this.street = street;\r\n    }\r\n\r\n    public String getDetailedAddress() {\r\n        return detailedAddress;\r\n    }\r\n\r\n    public void setDetailedAddress(String detailedAddress) {\r\n        this.detailedAddress = detailedAddress;\r\n    }\r\n\r\n    public boolean isDefault() {\r\n        return isDefault;\r\n    }\r\n\r\n    public void setDefault(boolean aDefault) {\r\n        isDefault = aDefault;\r\n    }\r\n}\r\n
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/Address.java b/app/src/main/java/com/example/agrimart/data/model/Address.java
------ a/app/src/main/java/com/example/agrimart/data/model/Address.java	
---+++ b/app/src/main/java/com/example/agrimart/data/model/Address.java	
---@@ -27,7 +27,7 @@
---     public Address() {
--- 
---     }
----    // Constructor
---+
---     public Address(String AddressId,String name, String phone, String street, String detailedAddress, boolean isDefault) {
---         this.name = name;
---         this.phone = phone;
--Index: .idea/shelf/Uncommitted_changes_before_rebase__Changes_1.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_rebase__Changes_1.xml b/.idea/shelf/Uncommitted_changes_before_rebase__Changes_1.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_rebase__Changes_1.xml	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ /dev/null	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_rebase_[Changes]1" date="1730832353615" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]1/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before rebase [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_rebase_[Changes]1/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]1/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]1/shelved.patch	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ /dev/null	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--@@ -1,54 +0,0 @@
---Index: app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.databinding.CategoryItemBinding;\r\nimport com.denzcoskun.imageslider.models.SlideModel;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CategoryAdapter extends RecyclerView.Adapter<CategoryAdapter.MyViewHolder> {\r\n    private List<Category> categories;\r\n\r\n    public Category category;\r\n    public CategoryAdapter(List<Category> categories) {\r\n        this.categories = categories;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        CategoryItemBinding binding = CategoryItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        return new MyViewHolder(binding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        holder.bindData(categories.get(position));\r\n        holder.binding.getRoot().setOnClickListener(v -> {\r\n            category = categories.get(position);\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return categories.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        CategoryItemBinding binding;\r\n\r\n        public MyViewHolder(@NonNull CategoryItemBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n\r\n        public void bindData(Category category) {\r\n            Glide.with(binding.getRoot())\r\n                    .load(category.getImg())\r\n                    .into(binding.imgCate);\r\n\r\n            binding.tvName.setText(category.getName());\r\n        }\r\n    }\r\n}\r\n\r\n
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java b/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java
------ a/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java	(revision aaeb065a8f3edd30a5ad853ed31ea946b99700eb)
---+++ b/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java	(date 1730832274853)
---@@ -7,6 +7,7 @@
--- import androidx.recyclerview.widget.RecyclerView;
--- 
--- import com.bumptech.glide.Glide;
---+import com.example.agrimart.R;
--- import com.example.agrimart.data.model.Category;
--- import com.example.agrimart.databinding.CategoryItemBinding;
--- import com.denzcoskun.imageslider.models.SlideModel;
---@@ -17,11 +18,13 @@
--- public class CategoryAdapter extends RecyclerView.Adapter<CategoryAdapter.MyViewHolder> {
---     private List<Category> categories;
--- 
---+    private int selectedPosition = -1;
---     public Category category;
---     public CategoryAdapter(List<Category> categories) {
---         this.categories = categories;
---     }
--- 
---+
---     @NonNull
---     @Override
---     public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
---@@ -32,8 +35,20 @@
---     @Override
---     public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {
---         holder.bindData(categories.get(position));
---+
---+        if (holder.getAdapterPosition() == selectedPosition) {
---+            holder.binding.getRoot().setBackgroundResource(android.R.color.holo_green_light);
---+        } else {
---+            holder.binding.getRoot().setBackgroundResource(android.R.color.transparent);
---+        }
---+
---         holder.binding.getRoot().setOnClickListener(v -> {
----            category = categories.get(position);
---+            category = categories.get(holder.getAdapterPosition());
---+            int prePos=selectedPosition;
---+            selectedPosition=holder.getAdapterPosition();
---+            notifyItemChanged(prePos);
---+            notifyItemChanged(holder.getAdapterPosition());
---+
---         });
---     }
--- 
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ /dev/null	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1" date="1730802371626" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/5/2024 5:25 PM [Changes]" />
---</changelist>
--\ No newline at end of file
--diff --git a/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]/shelved.patch
--deleted file mode 100644
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM__Changes_.xml
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM__Changes_.xml
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM__Changes_.xml	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-+++ /dev/null	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM_[Changes]" date="1731471097165" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM_[Changes]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/13/2024 11:11 AM [Changes]" />
--</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM__Changes_.xml
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM__Changes_.xml
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM__Changes_.xml	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-+++ /dev/null	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM_[Changes]" date="1731470924007" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM_[Changes]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/13/2024 11:08 AM [Changes]" />
--</changelist>
-\ No newline at end of file
-Index: app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.ui.Cart;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.adapter.CheckoutAdapter;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.ui.MyProfile.MyAddress.MyAddressActivity;\r\nimport com.example.agrimart.ui.Payment.VNPaymentActivity;\r\nimport com.example.agrimart.viewmodel.CheckoutViewModel;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.text.NumberFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.widget.Toast;\r\n\r\npublic class CheckoutActivity extends AppCompatActivity {\r\n    private Toolbar toolbar;\r\n    private RecyclerView rvProduct;\r\n    private CheckoutAdapter checkoutAdapter;\r\n    private List<Product> selectedProducts;\r\n    private TextView tvTotalProductPrice, tvTotalShippingPrice, tvFinalTotalPrice, tvTotalPrice;\r\n    private TextView tvUserName, tvPhoneNumber, tvAddress, tvChangeAddress;\r\n    private Button btnPlaceOrder;\r\n    private RadioGroup paymentMethodGroup;\r\n    private RadioButton radVNPay, radCOD;\r\n    private LinearLayout linearLayout;\r\n    private CheckoutViewModel checkoutViewModel;\r\n    private String orderId;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_checkout);\r\n\r\n        setupWindowInsets();\r\n        setupToolbar();\r\n        initializeViews();\r\n        setupRecyclerView();\r\n        setupViewModel();\r\n        setupListeners();\r\n        updatePrices();\r\n        calculateShippingFee();\r\n    }\r\n\r\n    private void setupWindowInsets() {\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));\r\n        }\r\n    }\r\n\r\n    private void setupToolbar() {\r\n        toolbar = findViewById(R.id.header);\r\n        toolbar.setNavigationOnClickListener(v -> finish());\r\n    }\r\n\r\n    private void initializeViews() {\r\n        selectedProducts = getIntent().getParcelableArrayListExtra(\"selectedProducts\");\r\n        if (selectedProducts == null) {\r\n            selectedProducts = new ArrayList<>();\r\n        }\r\n\r\n        rvProduct = findViewById(R.id.rv_product);\r\n        tvTotalProductPrice = findViewById(R.id.tvTotalProductPrice);\r\n        tvTotalShippingPrice = findViewById(R.id.tvTotalShippingPrice);\r\n        tvFinalTotalPrice = findViewById(R.id.tvFinalTotalPrice);\r\n        tvTotalPrice = findViewById(R.id.tvTotalPrice);\r\n        tvUserName = findViewById(R.id.tvUserName1);\r\n        tvPhoneNumber = findViewById(R.id.tvPhoneNumber1);\r\n        tvAddress = findViewById(R.id.tvAddress1);\r\n        tvChangeAddress = findViewById(R.id.tvChangeAddress);\r\n        paymentMethodGroup = findViewById(R.id.radGroupPayment);\r\n        radVNPay = findViewById(R.id.radVNPay);\r\n        radCOD = findViewById(R.id.radCOD);\r\n        btnPlaceOrder = findViewById(R.id.btnPlaceOrder);\r\n        linearLayout = findViewById(R.id.lnGHN);\r\n    }\r\n\r\n    private void setupRecyclerView() {\r\n        rvProduct.setLayoutManager(new LinearLayoutManager(this));\r\n        checkoutAdapter = new CheckoutAdapter(selectedProducts);\r\n        rvProduct.setAdapter(checkoutAdapter);\r\n    }\r\n\r\n    private void setupViewModel() {\r\n        checkoutViewModel = new ViewModelProvider(this).get(CheckoutViewModel.class);\r\n        checkoutViewModel.loadUserData(tvUserName, tvPhoneNumber, tvAddress);\r\n        orderId = checkoutViewModel.generateOrderId();\r\n    }\r\n\r\n    private void setupListeners() {\r\n        tvChangeAddress.setOnClickListener(v -> {\r\n            Intent intent = new Intent(CheckoutActivity.this, MyAddressActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        paymentMethodGroup.setOnCheckedChangeListener((group, checkId) -> {\r\n            if (checkId == R.id.radVNPay) {\r\n                radCOD.setChecked(false);\r\n            } else if (checkId == R.id.radCOD) {\r\n                radVNPay.setChecked(false);\r\n            }\r\n        });\r\n\r\n        btnPlaceOrder.setOnClickListener(v -> placeOrder());\r\n    }\r\n\r\n    private void calculateShippingFee() {\r\n        checkoutViewModel.createOrder(tvAddress.getText().toString(), selectedProducts.get(0).getStoreId());\r\n        checkoutViewModel.shippingFee.observe(CheckoutActivity.this, shippingFee -> {\r\n            tvTotalShippingPrice.setText(shippingFee + \" đ\");\r\n\r\n            int price = Integer.parseInt(tvTotalProductPrice.getText().toString().replaceAll(\"[^0-9]\", \"\"));\r\n            int totalPrice = price + Integer.parseInt(String.valueOf(shippingFee));\r\n            tvTotalPrice.setText(totalPrice + \" đ\");\r\n            checkoutViewModel.updateStatusOrder(orderId, shippingFee);\r\n        });\r\n    }\r\n\r\n    private void placeOrder() {\r\n        String address = tvAddress.getText().toString();\r\n        String storeId = selectedProducts.get(0).getStoreId();\r\n\r\n        if (radVNPay.isChecked()) {\r\n            handleVNPayPayment(address, storeId);\r\n        } else if (radCOD.isChecked()) {\r\n            handleCODPayment(address, storeId);\r\n        } else {\r\n            showPaymentMethodDialog();\r\n        }\r\n    }\r\n\r\n    private void handleVNPayPayment(String address, String storeId) {\r\n        int price = Integer.parseInt(tvTotalPrice.getText().toString().replaceAll(\"[^0-9]\", \"\"));\r\n        String orderInfo = \"Thanh toán đơn hàng \" + orderId;\r\n        List<String> productIds = selectedProducts.stream()\r\n                .map(Product::getProduct_id)\r\n                .collect(Collectors.toList());\r\n        Intent intent = new Intent(CheckoutActivity.this, VNPaymentActivity.class);\r\n        intent.putExtra(\"price\", price);\r\n        intent.putExtra(\"orderInfo\", orderInfo);\r\n        intent.putStringArrayListExtra(\"productIds\", new ArrayList<>(productIds));\r\n        intent.putExtra(\"address\", address);\r\n        intent.putExtra(\"storeId\", storeId);\r\n        intent.putParcelableArrayListExtra(\"products\", new ArrayList<>(selectedProducts));\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void handleCODPayment(String address, String storeId) {\r\n        new AlertDialog.Builder(this)\r\n                .setTitle(\"Xác nhận đặt hàng\")\r\n                .setMessage(\"Bạn có chắc chắn muốn đặt hàng?\")\r\n                .setPositiveButton(\"Đặt hàng\", (dialog, which) -> {\r\n                    double totalPrice = Double.parseDouble(tvTotalPrice.getText().toString().replaceAll(\"[^0-9]\", \"\"));\r\n                    String expectedDeliveryTime = \"3-5 ngày\";\r\n                    double shippingFee = 0;\r\n                    String paymentMethod = \"COD\";\r\n                    String shippingName = \"Giao hàng nhanh\";\r\n                    List<String> productIds = selectedProducts.stream()\r\n                            .map(Product::getProduct_id)\r\n                            .collect(Collectors.toList());\r\n                    checkoutViewModel.placeOrder(totalPrice, expectedDeliveryTime, shippingFee, paymentMethod, shippingName, productIds, address, storeId, selectedProducts, new CheckoutViewModel.OrderCallback() {\r\n                        @Override\r\n                        public void onSuccess(String orderId) {\r\n                            checkoutViewModel.removeOrderedProductsFromCart(FirebaseAuth.getInstance().getCurrentUser().getUid(), new CheckoutViewModel.OrderCallback() {\r\n                                @Override\r\n                                public void onSuccess(String orderId) {\r\n                                    Intent intent = new Intent(CheckoutActivity.this, PlaceOrderActivity.class);\r\n                                    intent.putExtra(\"orderId\", orderId);\r\n                                    checkoutViewModel.loadUserData(tvUserName, tvPhoneNumber, tvAddress);\r\n                                    startActivity(intent);\r\n                                }\r\n\r\n                                @Override\r\n                                public void onFailure(Exception e) {\r\n                                    Toast.makeText(CheckoutActivity.this, \"Đặt hàng thất bại\", Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }, orderId);\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFailure(Exception e) {\r\n                            Toast.makeText(CheckoutActivity.this, \"Đặt hàng thất bại\", Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n                })\r\n                .setNegativeButton(\"Hủy\", (dialog, which) -> {\r\n                })\r\n                .show();\r\n    }\r\n\r\n    private void showPaymentMethodDialog() {\r\n        new AlertDialog.Builder(this)\r\n                .setTitle(\"Chọn phương thức thanh toán\")\r\n                .setMessage(\"Vui lòng chọn phương thức thanh toán\")\r\n                .setPositiveButton(\"OK\", (dialog, which) -> {\r\n                })\r\n                .show();\r\n    }\r\n\r\n    private void showNoAddressDialog() {\r\n        new AlertDialog.Builder(this)\r\n                .setTitle(\"Không có địa chỉ nhận hàng\")\r\n                .setMessage(\"Vui lòng thêm địa chỉ nhận hàng\")\r\n                .setPositiveButton(\"Thêm địa chỉ\", (dialog, which) -> {\r\n                    Intent intent = new Intent(CheckoutActivity.this, MyAddressActivity.class);\r\n                    startActivity(intent);\r\n                })\r\n                .setNegativeButton(\"Thoát\", (dialog, which) -> finish())\r\n                .show();\r\n    }\r\n\r\n    private void updatePrices() {\r\n        double totalProductPrice = 0;\r\n        for (Product product : selectedProducts) {\r\n            totalProductPrice += product.getPrice() * product.getQuantity();\r\n        }\r\n\r\n        double totalShippingPrice = 0;\r\n        double finalTotalPrice = totalProductPrice + totalShippingPrice;\r\n\r\n        NumberFormat format = NumberFormat.getCurrencyInstance(new Locale(\"vi\", \"VN\"));\r\n        tvTotalProductPrice.setText(format.format(totalProductPrice));\r\n        tvTotalShippingPrice.setText(format.format(totalShippingPrice));\r\n        tvFinalTotalPrice.setText(format.format(finalTotalPrice));\r\n        tvTotalPrice.setText(format.format(finalTotalPrice));\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 1 && resultCode == RESULT_OK) {\r\n            checkoutViewModel.loadUserData(tvUserName, tvPhoneNumber, tvAddress);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        checkoutViewModel.loadUserData(tvUserName, tvPhoneNumber, tvAddress);\r\n        checkoutViewModel.isUserDataAvailable(isAvailable -> {\r\n            if (!isAvailable) {\r\n                showNoAddressDialog();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void createOrderWithGHN() {\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        db.collection(\"users\").document(user.getUid())\r\n                .get()\r\n                .addOnSuccessListener(documentSnapshot -> {\r\n                    List<Map<String, Object>> addresses = (List<Map<String, Object>>) documentSnapshot.get(\"addresses\");\r\n\r\n                    if (addresses != null && !addresses.isEmpty()) {\r\n                        Map<String, Object> address = addresses.get(0);\r\n\r\n                        String province = (String) address.get(\"province\");\r\n                        String district = (String) address.get(\"district\");\r\n                        String commune = (String) address.get(\"commune\");\r\n                        String street = (String) address.get(\"street\");\r\n\r\n                        String address5 = street + \", \" + commune + \", \" + district + \", \" + province;\r\n                        checkoutViewModel.createOrder(address5, selectedProducts.get(0).getStoreId());\r\n                        checkoutViewModel.shippingFee.observe(CheckoutActivity.this, shippingFee -> {\r\n                            tvTotalShippingPrice.setText(shippingFee + \" đ\");\r\n\r\n                            int price = Integer.parseInt(tvTotalProductPrice.getText().toString().replaceAll(\"[^0-9]\", \"\"));\r\n                            int totalPrice = price + Integer.parseInt(String.valueOf(shippingFee));\r\n                            tvTotalPrice.setText(totalPrice + \" đ\");\r\n                            checkoutViewModel.updateStatusOrder(orderId, shippingFee);\r\n                        });\r\n                    }\r\n                });\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java b/app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java
---- a/app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-+++ b/app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java	(date 1732094951310)
-@@ -2,7 +2,6 @@
- 
- import android.content.Intent;
- import android.os.Bundle;
--import android.view.View;
- import android.view.Window;
- import android.view.WindowManager;
- import android.widget.Button;
-@@ -26,11 +25,10 @@
- import com.example.agrimart.adapter.CheckoutAdapter;
- import com.example.agrimart.data.model.Product;
- import com.example.agrimart.ui.MyProfile.MyAddress.MyAddressActivity;
--import com.example.agrimart.ui.Payment.VNPaymentActivity;
-+import com.example.agrimart.ui.payment.VNPaymentActivity;
- import com.example.agrimart.viewmodel.CheckoutViewModel;
- import com.google.firebase.auth.FirebaseAuth;
- import com.google.firebase.auth.FirebaseUser;
--import com.google.firebase.firestore.DocumentSnapshot;
- import com.google.firebase.firestore.FirebaseFirestore;
- 
- import java.text.NumberFormat;
-Index: app/src/main/java/com/example/agrimart/ui/payment/VNPaymentActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.ui.Payment;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.API.Config_VNPAY;\r\nimport com.example.agrimart.data.model.Address;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.ui.Cart.PlaceOrderActivity;\r\nimport com.example.agrimart.ui.MainActivity;\r\nimport com.example.agrimart.utils.VnpayUtils;\r\nimport com.example.agrimart.viewmodel.CheckoutViewModel;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class VNPaymentActivity extends AppCompatActivity {\r\n\r\n    private WebView webView;\r\n    private CheckoutViewModel checkoutViewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_vn_payment);\r\n\r\n        int price = getIntent().getIntExtra(\"price\", 0);\r\n        String orderInfo = getIntent().getStringExtra(\"orderInfo\");\r\n\r\n        String address = getIntent().getStringExtra(\"address\");\r\n        String storeId = getIntent().getStringExtra(\"storeId\");\r\n        ArrayList<Product> products = getIntent().getParcelableArrayListExtra(\"products\");\r\n\r\n        Address addr = new Address();\r\n        addr.setStreet(address);\r\n\r\n        webView = findViewById(R.id.webView);\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n\r\n        checkoutViewModel = new ViewModelProvider(this).get(CheckoutViewModel.class);\r\n\r\n        webView.setWebViewClient(new WebViewClient() {\r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n                super.onPageFinished(view, url);\r\n\r\n                if (url.contains(Config_VNPAY.VNP_RETURN_URL)) {\r\n                    if (url.contains(\"vnp_ResponseCode=00\")) {\r\n                        Toast.makeText(VNPaymentActivity.this, \"Thanh toán thành công\", Toast.LENGTH_SHORT).show();\r\n\r\n                        List<String> productIds = getIntent().getStringArrayListExtra(\"productIds\");\r\n                        List<Address> addresses = new ArrayList<>();\r\n                        addresses.add(addr);\r\n\r\n                        checkoutViewModel.placeOrder(price, \"3-5 ngày\", 0, \"VNPay\", \"Giao hàng nhanh\", productIds, address, storeId, products, new CheckoutViewModel.OrderCallback() {\r\n                            @Override\r\n                            public void onSuccess(String orderId) {\r\n                                Intent intent = new Intent(VNPaymentActivity.this, PlaceOrderActivity.class);\r\n                                intent.putExtra(\"orderId\", orderId);\r\n                                intent.putExtra(\"orderInfo\", orderInfo);\r\n                                startActivity(intent);\r\n                            }\r\n\r\n                            @Override\r\n                            public void onFailure(Exception e) {\r\n                                Toast.makeText(VNPaymentActivity.this, \"Đặt hàng thất bại\", Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                    } else if (url.contains(\"vnp_ResponseCode=24\")) {\r\n                        Toast.makeText(VNPaymentActivity.this, \"Thanh toán bị hủy\", Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        Toast.makeText(VNPaymentActivity.this, \"Thanh toán thất bại\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n                    Intent intent = new Intent(VNPaymentActivity.this, MainActivity.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n            }\r\n        });\r\n\r\n        try {\r\n            String paymentUrl = VnpayUtils.createVnpayUrl(\r\n                    price,\r\n                    orderInfo,\r\n                    null,\r\n                    \"vn\"\r\n            );\r\n\r\n            webView.loadUrl(paymentUrl);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            Toast.makeText(this, \"Lỗi khi tạo URL thanh toán\", Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/payment/VNPaymentActivity.java b/app/src/main/java/com/example/agrimart/ui/payment/VNPaymentActivity.java
---- a/app/src/main/java/com/example/agrimart/ui/payment/VNPaymentActivity.java	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-+++ b/app/src/main/java/com/example/agrimart/ui/payment/VNPaymentActivity.java	(date 1732094951303)
-@@ -1,4 +1,4 @@
--package com.example.agrimart.ui.Payment;
-+package com.example.agrimart.ui.payment;
- 
- import android.content.Intent;
- import android.os.Bundle;
-Index: app/src/main/java/com/example/agrimart/ui/payment/VnpayRefund.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.ui.Payment;\r\n\r\nimport com.example.agrimart.data.API.Config_VNPAY;\r\n\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.io.OutputStream;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.*;\r\nimport javax.crypto.Mac;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\npublic class VnpayRefund {\r\n\r\n    public static String createRefundRequest(String transactionNo, int amount, String transactionDate, String orderInfo, String createBy) throws Exception {\r\n        String vnp_Version = Config_VNPAY.VNP_VERSION;\r\n        String vnp_Command = \"refund\";\r\n        String vnp_TmnCode = Config_VNPAY.VNP_TMNCODE;\r\n        String vnp_HashSecret = Config_VNPAY.VNP_HASH_SECRET;\r\n        String vnp_IpAddr = \"127.0.0.1\";\r\n        String vnp_CreateDate = new SimpleDateFormat(\"yyyyMMddHHmmss\").format(new Date());\r\n\r\n        // Tạo tham số cho yêu cầu hoàn tiền\r\n        Map<String, String> vnp_Params = new HashMap<>();\r\n        vnp_Params.put(\"vnp_Version\", vnp_Version);\r\n        vnp_Params.put(\"vnp_Command\", vnp_Command);\r\n        vnp_Params.put(\"vnp_TmnCode\", vnp_TmnCode);\r\n        vnp_Params.put(\"vnp_TransactionNo\", transactionNo);\r\n        vnp_Params.put(\"vnp_Amount\", String.valueOf(amount * 100));\r\n        vnp_Params.put(\"vnp_TransactionDate\", transactionDate);\r\n        vnp_Params.put(\"vnp_OrderInfo\", orderInfo);\r\n        vnp_Params.put(\"vnp_CreateBy\", createBy);\r\n        vnp_Params.put(\"vnp_CreateDate\", vnp_CreateDate);\r\n        vnp_Params.put(\"vnp_IpAddr\", vnp_IpAddr);\r\n\r\n        // Tạo checksum (vnp_SecureHash)\r\n        List<String> fieldNames = new ArrayList<>(vnp_Params.keySet());\r\n        Collections.sort(fieldNames);\r\n        StringBuilder hashData = new StringBuilder();\r\n        StringBuilder query = new StringBuilder();\r\n        for (String fieldName : fieldNames) {\r\n            String fieldValue = vnp_Params.get(fieldName);\r\n            if (fieldValue != null && fieldValue.length() > 0) {\r\n                hashData.append(fieldName).append(\"=\").append(fieldValue).append(\"&\");\r\n                query.append(fieldName).append(\"=\").append(fieldValue).append(\"&\");\r\n            }\r\n        }\r\n\r\n        // Xóa ký tự `&` cuối cùng\r\n        hashData.setLength(hashData.length() - 1);\r\n        query.setLength(query.length() - 1);\r\n\r\n        // Tạo vnp_SecureHash bằng HMAC SHA512\r\n        String vnp_SecureHash = hmacSHA512(vnp_HashSecret, hashData.toString());\r\n        query.append(\"&vnp_SecureHash=\").append(vnp_SecureHash);\r\n\r\n        // Gửi yêu cầu POST đến VNPAY\r\n        URL url = new URL(Config_VNPAY.VNPAY_SANDBOX_REFUND_URL);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setRequestMethod(\"POST\");\r\n        connection.setDoOutput(true);\r\n        connection.setRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n\r\n        OutputStream os = connection.getOutputStream();\r\n        os.write(query.toString().getBytes(\"UTF-8\"));\r\n        os.close();\r\n\r\n        // Nhận phản hồi từ VNPAY\r\n        int responseCode = connection.getResponseCode();\r\n        if (responseCode == HttpURLConnection.HTTP_OK) {\r\n            Scanner scanner = new Scanner(connection.getInputStream());\r\n            StringBuilder response = new StringBuilder();\r\n            while (scanner.hasNext()) {\r\n                response.append(scanner.nextLine());\r\n            }\r\n            scanner.close();\r\n            return response.toString(); // Trả về kết quả từ API\r\n        } else {\r\n            return \"Lỗi: \" + responseCode;\r\n        }\r\n    }\r\n\r\n    // Hàm tạo HMAC SHA512\r\n    public static String hmacSHA512(String key, String data) throws Exception {\r\n        Mac hmacSha512 = Mac.getInstance(\"HmacSHA512\");\r\n        SecretKeySpec secretKeySpec = new SecretKeySpec(key.getBytes(\"UTF-8\"), \"HmacSHA512\");\r\n        hmacSha512.init(secretKeySpec);\r\n        byte[] hashBytes = hmacSha512.doFinal(data.getBytes(\"UTF-8\"));\r\n        StringBuilder result = new StringBuilder();\r\n        for (byte b : hashBytes) {\r\n            result.append(String.format(\"%02x\", b));\r\n        }\r\n        return result.toString();\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/payment/VnpayRefund.java b/app/src/main/java/com/example/agrimart/ui/payment/VnpayRefund.java
---- a/app/src/main/java/com/example/agrimart/ui/payment/VnpayRefund.java	(revision 109dd851fbb27f5b0db392cc68c6f643cfd7ab1e)
-+++ b/app/src/main/java/com/example/agrimart/ui/payment/VnpayRefund.java	(date 1732094951317)
-@@ -1,4 +1,4 @@
--package com.example.agrimart.ui.Payment;
-+package com.example.agrimart.ui.payment;
- 
- import com.example.agrimart.data.API.Config_VNPAY;
- 
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_9_23_PM_[Changes]1/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_9_23_PM_[Changes]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_9_23_PM_[Changes]1/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_9_23_PM_[Changes]1/shelved.patch	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ /dev/null	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
@@ -1,10664 +0,0 @@
-Index: app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.ui.MyProfile;\r\n\r\nimport static android.app.Activity.RESULT_OK;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Dialog;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.request.RequestOptions;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.Account.SignInActivity;\r\nimport com.example.agrimart.ui.MyProfile.MyAccount.MyAccountActivity;\r\nimport com.example.agrimart.ui.MyProfile.MyAddress.MyAddressActivity;\r\nimport com.example.agrimart.ui.MyProfile.MyStore.MyStoreActivity;\r\nimport com.example.agrimart.ui.MyProfile.MyStore.RegisterSellerActivity;\r\nimport com.example.agrimart.ui.MyProfile.PurchasedOrders.PurchasedOrdersActivity;\r\nimport com.facebook.login.LoginManager;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\npublic class MyProfileFragment extends Fragment {\r\n\r\n    private LinearLayout purchase_order, confirm, goods, logout,\r\n            delivery, evaluate, my_store, my_address, setting, my_account, header;\r\n    private TextView userNameTextView;\r\n    private ImageView user_image;\r\n    private FirebaseAuth auth;\r\n    private FirebaseFirestore firestore;\r\n    private static final int MY_ACCOUNT_REQUEST_CODE = 2;\r\n    private String userRole;\r\n\r\n    public MyProfileFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_my_profile, container, false);\r\n        auth = FirebaseAuth.getInstance();\r\n        firestore = FirebaseFirestore.getInstance();\r\n        SharedPreferences sharedPreferences = requireContext().getSharedPreferences(\"user_prefs\", Context.MODE_PRIVATE);\r\n        userRole = sharedPreferences.getString(\"user_role\", \"buyer\");\r\n        addControl(view);\r\n        addEvents();\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getActivity().getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        loadUserInfo();\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == MY_ACCOUNT_REQUEST_CODE && resultCode == RESULT_OK) {\r\n            loadUserInfo(); // Gọi phương thức để tải lại thông tin người dùng\r\n        }\r\n    }\r\n\r\n    @SuppressLint(\"WrongViewCast\")\r\n    void addControl(View view) {\r\n        purchase_order = view.findViewById(R.id.purchase_order);\r\n        confirm = view.findViewById(R.id.waiting_confirm);\r\n        goods = view.findViewById(R.id.waiting_goods);\r\n        delivery = view.findViewById(R.id.waiting_delivery);\r\n        evaluate = view.findViewById(R.id.evaluate);\r\n        my_store = view.findViewById(R.id.my_store);\r\n        my_address = view.findViewById(R.id.my_address);\r\n        setting = view.findViewById(R.id.setting);\r\n        logout = view.findViewById(R.id.logout);\r\n        userNameTextView = view.findViewById(R.id.user_name);\r\n        purchase_order = (LinearLayout)view.findViewById(R.id.purchase_order);\r\n        confirm = (LinearLayout)view.findViewById(R.id.waiting_confirm);\r\n        goods = (LinearLayout)view.findViewById(R.id.waiting_goods);\r\n        delivery = (LinearLayout)view.findViewById(R.id.waiting_delivery);\r\n        evaluate = (LinearLayout)view.findViewById(R.id.evaluate);\r\n        my_store = (LinearLayout)view.findViewById(R.id.my_store);\r\n        my_address = (LinearLayout)view.findViewById(R.id.my_address);\r\n        setting = (LinearLayout)view.findViewById(R.id.setting);\r\n        logout = (LinearLayout)view.findViewById(R.id.logout);\r\n        my_account = (LinearLayout) view.findViewById(R.id.my_account);\r\n        header = (LinearLayout) view.findViewById(R.id.header);\r\n        user_image = (ImageView) view.findViewById(R.id.user_image);\r\n    }\r\n\r\n    void addEvents() {\r\n        purchase_order.setOnClickListener(v -> navigateToPurchasedOrders());\r\n        confirm.setOnClickListener(v -> navigateToWaitingConfirm());\r\n        goods.setOnClickListener(v -> navigateToWaitingGoods());\r\n        delivery.setOnClickListener(v -> navigateToWaitingDeliverey());\r\n        evaluate.setOnClickListener(v -> navigateToEcaluate());\r\n        my_store.setOnClickListener(view -> {\r\n            SharedPreferences sharedPreferences = requireContext().getSharedPreferences(\"user_prefs\", Context.MODE_PRIVATE);\r\n            if (sharedPreferences.getString(\"user_role\", \"seller\").equals(\"seller\")) {\r\n                navigateToMyStore();\r\n            } else {\r\n                showDialog();\r\n            }\r\n        });\r\n        my_address.setOnClickListener(v -> navigateToAddress());\r\n        setting.setOnClickListener(v -> navigateToSettings());\r\n        logout.setOnClickListener(v -> handleLogout());\r\n        header.setOnClickListener(v -> myAccount());\r\n        my_account.setOnClickListener(v -> myAccount());\r\n    }\r\n\r\n    private void myAccount() {\r\n        Intent intent = new Intent(requireContext(), MyAccountActivity.class);\r\n        startActivityForResult(intent, MY_ACCOUNT_REQUEST_CODE);\r\n    }\r\n\r\n    private void loadUserInfo() {\r\n        String userId = auth.getCurrentUser().getUid(); // Lấy UID của người dùng hiện tại\r\n        firestore.collection(\"users\").document(userId)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        DocumentSnapshot document = task.getResult();\r\n                        if (document.exists()) {\r\n                            // Lấy dữ liệu từ document\r\n                            String name = document.getString(\"fullName\");\r\n                            String urlImage = document.getString(\"userImage\");\r\n\r\n                            // Cập nhật TextViews\r\n                            userNameTextView.setText(name);\r\n\r\n                            // Kiểm tra Fragment có được gắn vào không trước khi tải ảnh\r\n                            if (isAdded()) {\r\n                                if (urlImage != null && !urlImage.isEmpty()) {\r\n                                    Glide.with(this)\r\n                                            .load(urlImage)\r\n                                            .apply(RequestOptions.circleCropTransform()) // Bo tròn ảnh khi tải lên\r\n                                            .placeholder(R.drawable.user_img) // ảnh mặc định khi đang tải\r\n                                            .error(R.drawable.user_img) // ảnh mặc định nếu URL không tồn tại hoặc tải ảnh lỗi\r\n                                            .into(user_image);\r\n                                } else {\r\n                                    // Hiển thị ảnh mặc định nếu URL rỗng\r\n                                    Glide.with(this)\r\n                                            .load(R.drawable.user_img)\r\n                                            .apply(RequestOptions.circleCropTransform()) // Bo tròn ảnh mặc định\r\n                                            .into(user_image);\r\n                                }\r\n                            }\r\n\r\n                            // Cập nhật TextView my_store_text dựa trên userRole\r\n                            TextView myStoreTextView = getView().findViewById(R.id.my_store_text);\r\n                            if (\"seller\".equals(userRole)) {\r\n                                myStoreTextView.setText(\"Cửa hàng của tôi\");\r\n                            } else {\r\n                                myStoreTextView.setText(\"Bắt đầu bán\");\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void navigateToPurchasedOrders() {\r\n        Intent intent = new Intent(requireContext(), PurchasedOrdersActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void navigateToAddress() {\r\n        Intent intent = new Intent(requireContext(), MyAddressActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void navigateToWaitingConfirm() {\r\n        Intent intent = new Intent(requireContext(), PurchasedOrdersActivity.class);\r\n        intent.putExtra(\"selectedTab\", 0);  // Tab thứ 2 có chỉ số là 1\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void navigateToWaitingGoods() {\r\n        Intent intent = new Intent(requireContext(), PurchasedOrdersActivity.class);\r\n        intent.putExtra(\"selectedTab\", 1);  // Tab thứ 2 có chỉ số là 1\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void navigateToWaitingDeliverey() {\r\n        Intent intent = new Intent(requireContext(), PurchasedOrdersActivity.class);\r\n        intent.putExtra(\"selectedTab\", 2);  // Tab thứ 2 có chỉ số là 1\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void navigateToMyStore() {\r\n        Intent intent = new Intent(requireContext(), MyStoreActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void navigateToSettings() {\r\n        //Intent intent = new Intent(requireContext(), SettingsActivity.class);\r\n        //startActivity(intent);\r\n    }\r\n\r\n    private void handleLogout() {\r\n        SharedPreferences sharedPreferences = requireContext().getSharedPreferences(\"user_prefs\", Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.clear();\r\n        editor.apply();\r\n\r\n        FirebaseAuth.getInstance().signOut();\r\n        LoginManager.getInstance().logOut();\r\n\r\n        Intent intent = new Intent(requireContext(), SignInActivity.class);\r\n        startActivity(intent);\r\n        requireActivity().finish();\r\n        Toast.makeText(requireContext(), \"Đăng xuất thành công\", Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    private void navigateToEcaluate() {\r\n        // Implement navigation to evaluate\r\n    }\r\n\r\n    void showDialog() {\r\n        Dialog dialog = new Dialog(requireContext());\r\n\r\n        View view = LayoutInflater.from(requireContext()).inflate(R.layout.dialog_seller, null);\r\n        dialog.setContentView(view);\r\n\r\n        Window window = dialog.getWindow();\r\n        if (window != null) {\r\n            window.setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n        }\r\n\r\n        Button button = view.findViewById(R.id.btnCreateSeller);\r\n        button.setOnClickListener(v -> {\r\n            Intent intent = new Intent(requireContext(), RegisterSellerActivity.class);\r\n            startActivity(intent);\r\n            dialog.dismiss();\r\n        });\r\n\r\n        Button btnClose = view.findViewById(R.id.btnCancel);\r\n        btnClose.setOnClickListener(v -> dialog.dismiss());\r\n\r\n        dialog.setCancelable(true);\r\n        dialog.show();\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java
---- a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java	
-+++ b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java	
-@@ -135,7 +135,7 @@
-     }
- 
-     private void loadUserInfo() {
--        String userId = auth.getCurrentUser().getUid(); // Lấy UID của người dùng hiện tại
-+        String userId = auth.getCurrentUser().getUid();
-         firestore.collection("users").document(userId)
-                 .get()
-                 .addOnCompleteListener(task -> {
-@@ -168,11 +168,14 @@
-                             }
- 
-                             // Cập nhật TextView my_store_text dựa trên userRole
--                            TextView myStoreTextView = getView().findViewById(R.id.my_store_text);
--                            if ("seller".equals(userRole)) {
--                                myStoreTextView.setText("Cửa hàng của tôi");
--                            } else {
--                                myStoreTextView.setText("Bắt đầu bán");
-+                            View view = getView();
-+                            if (view != null) {
-+                                TextView myStoreTextView = view.findViewById(R.id.my_store_text);
-+                                if ("seller".equals(userRole)) {
-+                                    myStoreTextView.setText("Cửa hàng của tôi");
-+                                } else {
-+                                    myStoreTextView.setText("Bắt đầu bán");
-+                                }
-                             }
-                         }
-                     }
-Index: app/src/main/java/com/example/agrimart/ui/MainActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.ui;\r\n\r\nimport android.Manifest;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.MenuItem;\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.app.NotificationCompat;\r\nimport androidx.core.app.NotificationManagerCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.model.Notification;\r\nimport com.example.agrimart.ui.Account.SignInActivity;\r\nimport com.example.agrimart.ui.Cart.CartFragment;\r\nimport com.example.agrimart.ui.Explore.ExploreFragment;\r\nimport com.example.agrimart.ui.Homepage.HomeFragment;\r\nimport com.example.agrimart.ui.MyProfile.MyProfileFragment;\r\nimport com.example.agrimart.ui.Notification.NotificationFragment;\r\nimport com.example.agrimart.viewmodel.NotificationViewModel;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentChange;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private SharedPreferences sharedPreferences;\r\n    private FirebaseAuth mAuth;\r\n    private static final int REQUEST_NOTIFICATION_PERMISSION = 1;\r\n    NotificationViewModel notificationViewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_main);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, 0);\r\n            return insets;\r\n        });\r\n\r\n        sharedPreferences = getSharedPreferences(\"user_prefs\", MODE_PRIVATE);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        if (sharedPreferences.getBoolean(\"is_logged_in\", false)) {\r\n            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n            if (currentUser != null) {\r\n                navigateToHome();\r\n                getUserRole(currentUser);\r\n            } else {\r\n                clearLoginState();\r\n                navigateToLogin();\r\n            }\r\n        } else {\r\n            navigateToLogin();\r\n        }\r\n\r\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigation);\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(this::onNavigationItemSelected);\r\n\r\n        if (savedInstanceState == null) {\r\n            loadFragment(new HomeFragment());\r\n            bottomNavigationView.setSelectedItemId(R.id.home);\r\n        }\r\n\r\n        int selectedItemId = getIntent().getIntExtra(\"selected_item_id\", R.id.home);\r\n        if (selectedItemId != R.id.home) {\r\n            bottomNavigationView.setSelectedItemId(selectedItemId);\r\n        }\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.TIRAMISU) {\r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.POST_NOTIFICATIONS}, REQUEST_NOTIFICATION_PERMISSION);\r\n            }\r\n        }\r\n\r\n        createNotificationChannel();\r\n        createNotifications();\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        getUserInfo(mAuth.getCurrentUser());\r\n    }\r\n\r\n    private void navigateToHome() {\r\n        loadFragment(new HomeFragment());\r\n    }\r\n\r\n    private void navigateToLogin() {\r\n        Intent intent = new Intent(MainActivity.this, SignInActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    private void clearLoginState() {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.clear();\r\n        editor.apply();\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n\r\n    private boolean onNavigationItemSelected(MenuItem item) {\r\n        Fragment selectedFragment = null;\r\n\r\n        if (item.getItemId() == R.id.home) {\r\n            selectedFragment = new HomeFragment();\r\n        } else if (item.getItemId() == R.id.category) {\r\n            selectedFragment = new ExploreFragment();\r\n        } else if (item.getItemId() == R.id.notification) {\r\n            selectedFragment = new NotificationFragment();\r\n        } else if (item.getItemId() == R.id.profile) {\r\n            selectedFragment = new MyProfileFragment();\r\n        } else if (item.getItemId() == R.id.cart) {\r\n            selectedFragment = new CartFragment();\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n        if (selectedFragment != null) {\r\n            loadFragment(selectedFragment);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private void getUserRole(FirebaseUser user) {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        DocumentReference docRef = db.collection(\"users\").document(user.getUid());\r\n        docRef.get().addOnSuccessListener(documentSnapshot -> {\r\n            if (documentSnapshot.exists()) {\r\n                String role = documentSnapshot.getString(\"role\");\r\n                if (role != null) {\r\n                    saveUserToSharedPreferences(role);\r\n                }\r\n            }\r\n        }).addOnFailureListener(e -> {\r\n            Log.e(\"FirebaseError\", \"Error getting user role\", e);\r\n        });\r\n    }\r\n\r\n    private void getUserInfo(FirebaseUser user) {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        DocumentReference docRef = db.collection(\"users\").document(user.getUid());\r\n        docRef.get().addOnSuccessListener(documentSnapshot -> {\r\n            if (documentSnapshot.exists()) {\r\n                String userId = documentSnapshot.getString(\"userId\");\r\n            }\r\n        }).addOnFailureListener(e -> {\r\n            Log.e(\"FirebaseError\", \"Error getting user info\", e);\r\n        });\r\n    }\r\n\r\n    private void saveUserToSharedPreferences(String role) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"user_role\", role);\r\n        editor.apply();\r\n    }\r\n\r\n    private void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {\r\n            CharSequence name = \"Default Channel\";\r\n            String description = \"Channel for default notifications\";\r\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\r\n            NotificationChannel channel = new NotificationChannel(\"default_channel\", name, importance);\r\n            channel.setDescription(description);\r\n\r\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_NOTIFICATION_PERMISSION) {\r\n            if (grantResults.length > 0 && grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                Log.d(\"NotificationPermission\", \"Notification permission granted\");\r\n            } else {\r\n                Log.d(\"NotificationPermission\", \"Notification permission denied\");\r\n            }\r\n        }\r\n    }\r\n\r\n    public void sendNotification(String title, String message) {\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, \"default_channel\")\r\n                .setSmallIcon(R.drawable.logo_icon)\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n                .setAutoCancel(true);\r\n\r\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);\r\n        if (PackageManager.PERMISSION_GRANTED != ActivityCompat.checkSelfPermission(this, Manifest.permission.POST_NOTIFICATIONS)) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.POST_NOTIFICATIONS}, REQUEST_NOTIFICATION_PERMISSION);\r\n            return;\r\n        }\r\n        notificationManager.notify((int) System.currentTimeMillis(), builder.build());\r\n    }\r\n\r\n    private void createNotifications() {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n        db.collection(\"orders\")\r\n                .whereEqualTo(\"userId\", FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n                .addSnapshotListener((snapshots, e) -> {\r\n                    if (e != null) {\r\n                        Log.e(\"FirebaseError\", \"Error listening to orders\", e);\r\n                        return;\r\n                    }\r\n\r\n                    if (snapshots != null && !snapshots.isEmpty()) {\r\n                        for (DocumentChange dc : snapshots.getDocumentChanges()) {\r\n                            createNotificationForOrder(dc, db);\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void createNotificationForOrder(DocumentChange dc, FirebaseFirestore db) {\r\n        String status = dc.getDocument().getString(\"status\");\r\n        String orderCode = dc.getDocument().getString(\"order_code\");\r\n        String imageUrl = dc.getDocument().getString(\"image_url\");\r\n        long timestamp = System.currentTimeMillis();\r\n\r\n        String title = \"\";\r\n        String message = \"\";\r\n\r\n        if (status.equals(\"pending\")) {\r\n            boolean notificationSent = dc.getDocument().getBoolean(\"notificationSent\") != null && dc.getDocument().getBoolean(\"notificationSent\");\r\n            if (!notificationSent) {\r\n                title = \"Đặt hàng thành công!\";\r\n                message = \"Đơn hàng của bạn đang được xử lý và sẽ sớm chuyển đến đơn vị vận chuyển.\";\r\n                Notification notification = new Notification(title, message, timestamp, imageUrl);\r\n                sendNotification(title, message);\r\n                saveNotificationToFirestore(notification);\r\n\r\n                // Update the order document to indicate that the notification has been sent\r\n                db.collection(\"orders\").document(dc.getDocument().getId())\r\n                        .update(\"notificationSent\", true)\r\n                        .addOnSuccessListener(aVoid -> Log.d(\"Firestore\", \"Order updated with notificationSent flag\"))\r\n                        .addOnFailureListener(e -> Log.e(\"FirestoreError\", \"Error updating order with notificationSent flag\", e));\r\n            }\r\n        } else {\r\n            switch (status) {\r\n                case \"approved\":\r\n                    title = \"Đơn hàng đang trên đường đến bạn!\";\r\n                    message = \"Đơn hàng của bạn đã được giao cho đơn vị vận chuyển và đang trên đường đến địa chỉ của bạn.\";\r\n                    break;\r\n                case \"delivering\":\r\n                    title = \"Đơn hàng đang trong quá trình vận chuyển\";\r\n                    message = \"Đơn hàng của bạn hiện đang trong quá trình vận chuyển.\";\r\n                    break;\r\n                case \"delivered\":\r\n                    title = \"Đơn hàng đã được giao thành công\";\r\n                    message = \"Đơn hàng của bạn đã được giao thành công. Bạn có hài lòng với sản phẩm đã nhận?\";\r\n                    break;\r\n                case \"cancelled\":\r\n                    title = \"Yêu cầu huỷ đơn hàng đã được chấp nhận\";\r\n                    message = \"Yêu cầu huỷ đơn hàng đã được chấp nhận. Số tiền đã thanh toán sẽ được hoàn lại vào tài khoản của bạn.\";\r\n                    break;\r\n                case \"delivery_failed\":\r\n                    title = \"Giao hàng thất bại\";\r\n                    message = \"Đơn hàng của bạn giao không thành công. Đơn vị vận chuyển sẽ thực hiện giao hàng lại.\";\r\n                    break;\r\n            }\r\n\r\n            if (!title.isEmpty() && !message.isEmpty()) {\r\n                Notification notification = new Notification(title, message, timestamp, imageUrl);\r\n                sendNotification(title, message);\r\n                saveNotificationToFirestore(notification);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void saveNotificationToFirestore(Notification notification) {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        FirebaseUser currentUser = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n        if (currentUser != null) {\r\n            notification.setUserId(currentUser.getUid());\r\n            db.collection(\"notifications\").add(notification)\r\n                    .addOnSuccessListener(documentReference -> {\r\n                        Log.d(\"Firestore\", \"Notification saved successfully\");\r\n                    })\r\n                    .addOnFailureListener(e -> {\r\n                        Log.e(\"FirestoreError\", \"Error saving notification\", e);\r\n                    });\r\n        }\r\n    }\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/MainActivity.java b/app/src/main/java/com/example/agrimart/ui/MainActivity.java
---- a/app/src/main/java/com/example/agrimart/ui/MainActivity.java	
-+++ b/app/src/main/java/com/example/agrimart/ui/MainActivity.java	
-@@ -258,7 +258,6 @@
-                 sendNotification(title, message);
-                 saveNotificationToFirestore(notification);
- 
--                // Update the order document to indicate that the notification has been sent
-                 db.collection("orders").document(dc.getDocument().getId())
-                         .update("notificationSent", true)
-                         .addOnSuccessListener(aVoid -> Log.d("Firestore", "Order updated with notificationSent flag"))
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_8_25_PM_[Changes]/shelved.patch
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_8_25_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_8_25_PM_[Changes]/shelved.patch
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_8_25_PM_[Changes]/shelved.patch	
-+++ /dev/null	
-@@ -1,10588 +0,0 @@
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_1_47_PM__Changes_.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_1_47_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_1_47_PM__Changes_.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_1_47_PM__Changes_.xml	(revision 25d73a32c9fef715bfb6930293c49bee04cf91b7)
--+++ /dev/null	(revision 25d73a32c9fef715bfb6930293c49bee04cf91b7)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_11_6_2024_1_47_PM_[Changes]" date="1730875666198" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_1_47_PM_[Changes]/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/6/2024 1:47 PM [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_2_47_PM__Changes_.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_2_47_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_2_47_PM__Changes_.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_2_47_PM__Changes_.xml	(revision 25d73a32c9fef715bfb6930293c49bee04cf91b7)
--+++ /dev/null	(revision 25d73a32c9fef715bfb6930293c49bee04cf91b7)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_11_6_2024_2_47_PM_[Changes]" date="1730879272477" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_2_47_PM_[Changes]/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/6/2024 2:47 PM [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_12_23_PM__Changes_.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_12_23_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_12_23_PM__Changes_.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_12_23_PM__Changes_.xml	(revision 25d73a32c9fef715bfb6930293c49bee04cf91b7)
--+++ /dev/null	(revision 25d73a32c9fef715bfb6930293c49bee04cf91b7)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_11_6_2024_12_23_PM_[Changes]" date="1730870612721" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_12_23_PM_[Changes]/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/6/2024 12:23 PM [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_11_34_AM__Changes_.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_11_34_AM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_11_34_AM__Changes_.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_11_34_AM__Changes_.xml	(revision 25d73a32c9fef715bfb6930293c49bee04cf91b7)
--+++ /dev/null	(revision 25d73a32c9fef715bfb6930293c49bee04cf91b7)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_11_6_2024_11_34_AM_[Changes]" date="1730867674198" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_11_34_AM_[Changes]/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/6/2024 11:34 AM [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_2_47_PM_[Changes]/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_2_47_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_2_47_PM_[Changes]/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_2_47_PM_[Changes]/shelved.patch	(revision 25d73a32c9fef715bfb6930293c49bee04cf91b7)
--+++ /dev/null	(revision 25d73a32c9fef715bfb6930293c49bee04cf91b7)
--@@ -1,685 +0,0 @@
---Index: app/src/main/java/com/example/agrimart/data/model/Product.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.data.model;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class Product implements Serializable {\r\n    private String productId;\r\n    private String name;\r\n    private double price;\r\n    private String active;\r\n    private String category;\r\n    private String description;\r\n    private int height;\r\n    private List<String> images;\r\n    private int length;\r\n    private int quantity;\r\n    private String storeId;\r\n    private int weight;\r\n    private int width;\r\n    private int soldQuantity;\r\n\r\n    public Product() {\r\n    }\r\n\r\n    public Product(String productId, String name, double price, String active, String category, String description, int height, List<String> images, int length, int quantity, String storeId, int weight, int width, int soldQuantity) {\r\n        this.productId = productId;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.active = active;\r\n        this.category = category;\r\n        this.description = description;\r\n        this.height = height;\r\n        this.images = images;\r\n        this.length = length;\r\n        this.quantity = quantity;\r\n        this.storeId = storeId;\r\n        this.weight = weight;\r\n        this.width = width;\r\n        this.soldQuantity = soldQuantity;\r\n    }\r\n\r\n    public Product(String imageUrl, String name, double price) {\r\n        this.images = Collections.singletonList(imageUrl);\r\n        this.name = name;\r\n        this.price = price;\r\n    }\r\n\r\n    public String getProductId() {\r\n        return productId;\r\n    }\r\n\r\n    public void setProductId(String productId) {\r\n        this.productId = productId;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public String getActive() {\r\n        return active;\r\n    }\r\n\r\n    public void setActive(String active) {\r\n        this.active = active;\r\n    }\r\n\r\n    public String getCategory() {\r\n        return category;\r\n    }\r\n\r\n    public void setCategory(String category) {\r\n        this.category = category;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public int getHeight() {\r\n        return height;\r\n    }\r\n\r\n    public void setHeight(int height) {\r\n        this.height = height;\r\n    }\r\n\r\n    public List<String> getImages() {\r\n        return images;\r\n    }\r\n\r\n    public void setImages(List<String> images) {\r\n        this.images = images;\r\n    }\r\n\r\n    public int getLength() {\r\n        return length;\r\n    }\r\n\r\n    public void setLength(int length) {\r\n        this.length = length;\r\n    }\r\n\r\n    public int getQuantity() {\r\n        return quantity;\r\n    }\r\n\r\n    public void setQuantity(int quantity) {\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public String getStoreId() {\r\n        return storeId;\r\n    }\r\n\r\n    public void setStoreId(String storeId) {\r\n        this.storeId = storeId;\r\n    }\r\n\r\n    public int getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public void setWeight(int weight) {\r\n        this.weight = weight;\r\n    }\r\n\r\n    public int getWidth() {\r\n        return width;\r\n    }\r\n\r\n    public void setWidth(int width) {\r\n        this.width = width;\r\n    }\r\n\r\n    public int getSoldQuantity() {\r\n        return soldQuantity;\r\n    }\r\n\r\n    public void setSoldQuantity(int soldQuantity) {\r\n        this.soldQuantity = soldQuantity;\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/Product.java b/app/src/main/java/com/example/agrimart/data/model/Product.java
------ a/app/src/main/java/com/example/agrimart/data/model/Product.java	(revision dc4f017cf985364b0ceccd66f43fc5d94d004ae6)
---+++ b/app/src/main/java/com/example/agrimart/data/model/Product.java	(date 1730876407978)
---@@ -40,6 +40,45 @@
---         this.soldQuantity = soldQuantity;
---     }
--- 
---+    public static class Address {
---+        private String city;
---+        private String district;
---+        private String street;
---+        private String ward;
---+
---+        public String getCity() {
---+            return city;
---+        }
---+
---+        public void setCity(String city) {
---+            this.city = city;
---+        }
---+
---+        public String getDistrict() {
---+            return district;
---+        }
---+
---+        public void setDistrict(String district) {
---+            this.district = district;
---+        }
---+
---+        public String getStreet() {
---+            return street;
---+        }
---+
---+        public void setStreet(String street) {
---+            this.street = street;
---+        }
---+
---+        public String getWard() {
---+            return ward;
---+        }
---+
---+        public void setWard(String ward) {
---+            this.ward = ward;
---+        }
---+    }
---+
---     public Product(String imageUrl, String name, double price) {
---         this.images = Collections.singletonList(imageUrl);
---         this.name = name;
---Index: app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.databinding.CategoryItemBinding;\r\nimport com.denzcoskun.imageslider.models.SlideModel;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CategoryAdapter extends RecyclerView.Adapter<CategoryAdapter.MyViewHolder> {\r\n    private List<Category> categories;\r\n\r\n    private int selectedPosition = -1;\r\n    public Category category;\r\n    public CategoryAdapter(List<Category> categories) {\r\n        this.categories = categories;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        CategoryItemBinding binding = CategoryItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        return new MyViewHolder(binding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        holder.bindData(categories.get(position));\r\n\r\n        if (holder.getAdapterPosition() == selectedPosition) {\r\n            holder.binding.getRoot().setBackgroundResource(android.R.color.holo_green_light);\r\n        } else {\r\n            holder.binding.getRoot().setBackgroundResource(android.R.color.transparent);\r\n        }\r\n\r\n        holder.binding.getRoot().setOnClickListener(v -> {\r\n            category = categories.get(holder.getAdapterPosition());\r\n            int prePos=selectedPosition;\r\n            selectedPosition=holder.getAdapterPosition();\r\n            notifyItemChanged(prePos);\r\n            notifyItemChanged(holder.getAdapterPosition());\r\n\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return categories.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        CategoryItemBinding binding;\r\n\r\n        public MyViewHolder(@NonNull CategoryItemBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n\r\n        public void bindData(Category category) {\r\n            Glide.with(binding.getRoot())\r\n                    .load(category.getImg())\r\n                    .into(binding.imgCate);\r\n\r\n            binding.tvName.setText(category.getName());\r\n        }\r\n    }\r\n}\r\n\r\n
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java b/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java
------ a/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java	(revision dc4f017cf985364b0ceccd66f43fc5d94d004ae6)
---+++ b/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java	(date 1730875924380)
---@@ -74,4 +74,3 @@
---         }
---     }
--- }
----
---Index: app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.ItemProductBinding;\r\n\r\nimport java.text.NumberFormat;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\npublic class ProductAdapter extends RecyclerView.Adapter<ProductAdapter.MyViewHolder> {\r\n    private List<Product> products;\r\n    private OnItemClickListener listener;\r\n\r\n    public ProductAdapter(List<Product> products, OnItemClickListener listener) {\r\n        this.products = products;\r\n        this.listener = listener;\r\n    }\r\n\r\n    public interface OnItemClickListener {\r\n        void onItemClick(Product product);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        ItemProductBinding binding = ItemProductBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        return new MyViewHolder(binding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        Product product = products.get(position);\r\n        holder.bindData(product);\r\n        holder.itemView.setOnClickListener(v -> listener.onItemClick(product));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return products.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        private final ItemProductBinding binding;\r\n\r\n        public MyViewHolder(@NonNull ItemProductBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n\r\n        public void bindData(Product product) {\r\n            binding.tvName.setText(product.getName());\r\n\r\n            NumberFormat format = NumberFormat.getCurrencyInstance(new Locale(\"vi\", \"VN\"));\r\n            binding.tvPrice.setText(format.format(product.getPrice()));\r\n\r\n            if (product.getImages() != null && !product.getImages().isEmpty()) {\r\n                Glide.with(binding.getRoot().getContext())\r\n                        .load(product.getImages().get(0))\r\n                        .into(binding.imgPro);\r\n            } else if (product.getImages() != null) {\r\n                Glide.with(binding.getRoot().getContext())\r\n                        .load(product.getImages())\r\n                        .into(binding.imgPro);\r\n            }\r\n\r\n            binding.executePendingBindings();\r\n        }\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java b/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java
------ a/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java	(revision dc4f017cf985364b0ceccd66f43fc5d94d004ae6)
---+++ b/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java	(date 1730877843884)
---@@ -7,6 +7,7 @@
--- import androidx.recyclerview.widget.RecyclerView;
--- 
--- import com.bumptech.glide.Glide;
---+import com.example.agrimart.R;
--- import com.example.agrimart.data.model.Product;
--- import com.example.agrimart.databinding.ItemProductBinding;
--- 
---@@ -43,7 +44,7 @@
--- 
---     @Override
---     public int getItemCount() {
----        return products.size();
---+        return products != null ? products.size() : 0;
---     }
--- 
---     public static class MyViewHolder extends RecyclerView.ViewHolder {
---@@ -55,22 +56,22 @@
---         }
--- 
---         public void bindData(Product product) {
----            binding.tvName.setText(product.getName());
----
----            NumberFormat format = NumberFormat.getCurrencyInstance(new Locale("vi", "VN"));
----            binding.tvPrice.setText(format.format(product.getPrice()));
---+            if (product != null) {
---+                binding.tvName.setText(product.getName() != null ? product.getName() : "N/A");
---+                Double price = product.getPrice();
---+                NumberFormat format = NumberFormat.getCurrencyInstance(new Locale("vi", "VN"));
---+                binding.tvPrice.setText(price != null ? format.format(price) : "0 VNĐ");
--- 
----            if (product.getImages() != null && !product.getImages().isEmpty()) {
----                Glide.with(binding.getRoot().getContext())
----                        .load(product.getImages().get(0))
----                        .into(binding.imgPro);
----            } else if (product.getImages() != null) {
----                Glide.with(binding.getRoot().getContext())
----                        .load(product.getImages())
----                        .into(binding.imgPro);
----            }
---+                if (product.getImages() != null && !product.getImages().isEmpty()) {
---+                    Glide.with(binding.getRoot().getContext())
---+                            .load(product.getImages().get(0))
---+                            .into(binding.imgPro);
---+                } else {
---+                    binding.imgPro.setImageResource(R.drawable.apple);
---+                }
--- 
----            binding.executePendingBindings();
---+                binding.executePendingBindings();
---+            }
---         }
---     }
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.ActivitySearchBinding;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\nimport com.example.agrimart.viewmodel.SearchViewModel;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class SearchActivity extends AppCompatActivity {\r\n\r\n    SearchViewModel searchViewModel;\r\n    ActivitySearchBinding binding;\r\n    List<Category> categories=new ArrayList<>();\r\n    CategoryAdapter categoryAdapter;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        searchViewModel= new ViewModelProvider(this).get(SearchViewModel.class);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_search);\r\n        binding.setSearch(searchViewModel);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(binding.getRoot());\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));\r\n        }\r\n\r\n\r\n        categoryAdapter = new CategoryAdapter(categories);\r\n        binding.rvCategories.setLayoutManager(new GridLayoutManager(this, 4));\r\n        binding.rvCategories.setAdapter(categoryAdapter);\r\n        getCategories();\r\n        List<Product> products = new ArrayList<>();\r\n//        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding.rvProducts.setLayoutManager(new GridLayoutManager(this, 2));\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n            Intent intent = new Intent(this, ProductDetailActivity.class);\r\n            startActivity(intent);\r\n        });\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n        searchViewModel.setProducts(products);\r\n\r\n    }\r\n\r\n    private void getCategories() {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        List<Category> categories = new ArrayList<>();\r\n        db.collection(\"categories\")\r\n                .get().addOnCompleteListener(task -> {\r\n            if (task.isSuccessful()) {\r\n                categories.addAll(task.getResult().toObjects(Category.class));\r\n                this.categories.addAll(categories);\r\n                categoryAdapter.notifyDataSetChanged();\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java b/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java	(revision dc4f017cf985364b0ceccd66f43fc5d94d004ae6)
---+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java	(date 1730875970913)
---@@ -34,12 +34,13 @@
--- 
---     SearchViewModel searchViewModel;
---     ActivitySearchBinding binding;
----    List<Category> categories=new ArrayList<>();
---+    List<Category> categories = new ArrayList<>();
---     CategoryAdapter categoryAdapter;
---+
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---         super.onCreate(savedInstanceState);
----        searchViewModel= new ViewModelProvider(this).get(SearchViewModel.class);
---+        searchViewModel = new ViewModelProvider(this).get(SearchViewModel.class);
---         binding = DataBindingUtil.setContentView(this, R.layout.activity_search);
---         binding.setSearch(searchViewModel);
---         EdgeToEdge.enable(this);
---@@ -56,19 +57,12 @@
---             window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));
---         }
--- 
----
---         categoryAdapter = new CategoryAdapter(categories);
---         binding.rvCategories.setLayoutManager(new GridLayoutManager(this, 4));
---         binding.rvCategories.setAdapter(categoryAdapter);
---         getCategories();
---+
---         List<Product> products = new ArrayList<>();
----//        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
----
---         int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);
---         binding.rvProducts.setLayoutManager(new GridLayoutManager(this, 2));
---         binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
---@@ -79,7 +73,6 @@
---         });
---         binding.rvProducts.setAdapter(productAdapter);
---         searchViewModel.setProducts(products);
----
---     }
--- 
---     private void getCategories() {
---@@ -91,9 +84,7 @@
---                 categories.addAll(task.getResult().toObjects(Category.class));
---                 this.categories.addAll(categories);
---                 categoryAdapter.notifyDataSetChanged();
----
---             }
---         });
----
---     }
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/ui/PostProduct/PostProductPhotosFragment.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.PostProduct;\r\n\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.PickVisualMediaRequest;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.widget.AppCompatButton;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.PostProduct;\r\nimport com.example.agrimart.data.model.ProductRequest;\r\nimport com.example.agrimart.databinding.FragmentPostProductPhotosBinding;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.io.File;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link PostProductPhotosFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class PostProductPhotosFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n    FragmentPostProductPhotosBinding binding;\r\n    private List<Uri> imageUris=new ArrayList<>();\r\n    private List<Category> categories=new ArrayList<>();\r\n    private CategoryAdapter categoryAdapter;\r\n    public PostProductPhotosFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment PostPhotosFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static PostProductPhotosFragment newInstance(String param1, String param2) {\r\n        PostProductPhotosFragment fragment = new PostProductPhotosFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    AppCompatButton button_post_product_continue;\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_post_product_photos, container, false);\r\n        binding = FragmentPostProductPhotosBinding.bind(view);\r\n        addControl(view);\r\n        addEvents(view);\r\n\r\n        ActivityResultLauncher<PickVisualMediaRequest> pickMultipleMedia =\r\n                registerForActivityResult(new ActivityResultContracts.PickMultipleVisualMedia(4), uris -> {\r\n                    if (!uris.isEmpty()) {\r\n//                        imageUris.clear();\r\n                        imageUris.addAll(uris);\r\n                        if(uris.size()>0 && imageUris.size()>0){\r\n                            Glide.with(this).load(imageUris.get(0)).into(binding.imageView5);\r\n                            binding.frameLayout1.setVisibility(View.VISIBLE);\r\n                        }\r\n                        if(uris.size()>1 && imageUris.size()>1){\r\n                            Glide.with(this).load(imageUris.get(1)).into(binding.imageView6);\r\n                            binding.frameLayout2.setVisibility(View.VISIBLE);\r\n                        }\r\n                        if(uris.size()>2 && imageUris.size()>2){\r\n                            Glide.with(this).load(imageUris.get(2)).into(binding.imageView7);\r\n                            binding.frameLayout3.setVisibility(View.VISIBLE);\r\n                        }\r\n                        if(uris.size()>3 && imageUris.size()>3){\r\n                            Glide.with(this).load(imageUris.get(3)).into(binding.imageView8);\r\n                            binding.frameLayout4.setVisibility(View.VISIBLE);\r\n                        }\r\n                        binding.linearLayout.setVisibility(View.VISIBLE);\r\n\r\n                    } else {\r\n                        Log.d(\"PhotoPicker\", \"No media selected\");\r\n                    }\r\n                });\r\n        binding.imageButtonCamera.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(!Objects.isNull(imageUris) || !imageUris.isEmpty() || imageUris.size()<4){\r\n                    pickMultipleMedia.launch(new PickVisualMediaRequest.Builder()\r\n                            .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)\r\n                            .build());\r\n                }\r\n                else{\r\n                    Toast.makeText(getContext(), \"Vui long xóa ảnh đã chọn để thêm ảnh mới\", Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n            }\r\n        });\r\n        binding.imageButton3.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                binding.frameLayout1.setVisibility(View.GONE);\r\n                binding.imageButton3.setVisibility(View.GONE);\r\n\r\n                if(!imageUris.isEmpty()){\r\n                    imageUris.remove(0);\r\n                }\r\n                if(imageUris.isEmpty()){\r\n                    binding.linearLayout.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n        binding.imageButton4.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                binding.frameLayout2.setVisibility(View.GONE);\r\n                binding.imageButton4.setVisibility(View.GONE);\r\n\r\n                if(!imageUris.isEmpty()){\r\n                    imageUris.remove(1);\r\n                }\r\n                if(imageUris.isEmpty()){\r\n                    binding.linearLayout.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n        binding.imageButton5.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                binding.frameLayout3.setVisibility(View.GONE);\r\n                binding.imageButton5.setVisibility(View.GONE);\r\n\r\n                if(!imageUris.isEmpty()){\r\n                    imageUris.remove(2);\r\n                }\r\n                if(imageUris.isEmpty()){\r\n                    binding.linearLayout.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n        binding.imageButton6.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                binding.imageView8.setVisibility(View.GONE);\r\n                binding.imageButton6.setVisibility(View.GONE);\r\n\r\n\r\n                if(!imageUris.isEmpty()){\r\n                    imageUris.remove(3);\r\n                }\r\n                if(imageUris.isEmpty()){\r\n                    binding.linearLayout.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n        loadCategory();\r\n        categoryAdapter = new CategoryAdapter(categories);\r\n        binding.rvCategories.setAdapter(categoryAdapter);\r\n        binding.rvCategories.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.HORIZONTAL, false));\r\n\r\n\r\n\r\n        return binding.getRoot();\r\n\r\n    }\r\n\r\n\r\n\r\n    void addControl(View v)\r\n    {\r\n        button_post_product_continue = v.findViewById(R.id.button_post_product_continue);\r\n    }\r\n\r\n    void addEvents(View v) {\r\n        button_post_product_continue.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Fragment newFragment = new PostProductPriceFragment();\r\n                if(categoryAdapter.category==null){\r\n                    Toast.makeText(getContext(), \"Vui long chon danh muc\", Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n                ProductRequest product = new ProductRequest(binding.edtName.getText().toString(),binding.edtDes.getText().toString(),categoryAdapter.category.getId());\r\n                Bundle bundle = new Bundle();\r\n                bundle.putSerializable(\"postProduct\",product);\r\n                bundle.putParcelableArrayList(\"imageUris\", (ArrayList<Uri>) imageUris);\r\n                newFragment.setArguments(bundle);\r\n                FragmentTransaction transaction = getFragmentManager().beginTransaction();\r\n\r\n                transaction.replace(R.id.fragmentPostProduct, newFragment);\r\n\r\n                transaction.addToBackStack(null);\r\n                transaction.commit();\r\n            }\r\n        });\r\n    }\r\n\r\n    void loadCategory(){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        db.collection(\"categories\")\r\n                .orderBy(\"id\")\r\n                .get().addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Category> categoryList = task.getResult().toObjects(Category.class);\r\n                        categories.addAll(categoryList);\r\n                        categoryAdapter.notifyDataSetChanged();\r\n                    } else {\r\n                        Log.e(\"HomeFragmentViewModel\", \"Error getting documents: \", task.getException());\r\n                    }\r\n                });\r\n    }\r\n\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/PostProduct/PostProductPhotosFragment.java b/app/src/main/java/com/example/agrimart/ui/PostProduct/PostProductPhotosFragment.java
------ a/app/src/main/java/com/example/agrimart/ui/PostProduct/PostProductPhotosFragment.java	(revision dc4f017cf985364b0ceccd66f43fc5d94d004ae6)
---+++ b/app/src/main/java/com/example/agrimart/ui/PostProduct/PostProductPhotosFragment.java	(date 1730875984480)
---@@ -20,49 +20,30 @@
--- import com.example.agrimart.R;
--- import com.example.agrimart.adapter.CategoryAdapter;
--- import com.example.agrimart.data.model.Category;
----import com.example.agrimart.data.model.PostProduct;
--- import com.example.agrimart.data.model.ProductRequest;
--- import com.example.agrimart.databinding.FragmentPostProductPhotosBinding;
--- import com.google.firebase.firestore.FirebaseFirestore;
--- 
----import java.io.File;
--- import java.util.ArrayList;
--- import java.util.List;
--- import java.util.Objects;
--- 
----
----/**
---- * A simple {@link Fragment} subclass.
---- * Use the {@link PostProductPhotosFragment#newInstance} factory method to
---- * create an instance of this fragment.
---- */
--- public class PostProductPhotosFragment extends Fragment {
--- 
----    // TODO: Rename parameter arguments, choose names that match
----    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
---     private static final String ARG_PARAM1 = "param1";
---     private static final String ARG_PARAM2 = "param2";
--- 
----    // TODO: Rename and change types of parameters
---     private String mParam1;
---     private String mParam2;
---     FragmentPostProductPhotosBinding binding;
----    private List<Uri> imageUris=new ArrayList<>();
----    private List<Category> categories=new ArrayList<>();
---+    private List<Uri> imageUris = new ArrayList<>();
---+    private List<Category> categories = new ArrayList<>();
---     private CategoryAdapter categoryAdapter;
---+
---     public PostProductPhotosFragment() {
---         // Required empty public constructor
---     }
--- 
----    /**
----     * Use this factory method to create a new instance of
----     * this fragment using the provided parameters.
----     *
----     * @param param1 Parameter 1.
----     * @param param2 Parameter 2.
----     * @return A new instance of fragment PostPhotosFragment.
----     */
----    // TODO: Rename and change types and number of parameters
---     public static PostProductPhotosFragment newInstance(String param1, String param2) {
---         PostProductPhotosFragment fragment = new PostProductPhotosFragment();
---         Bundle args = new Bundle();
---@@ -82,10 +63,10 @@
---     }
--- 
---     AppCompatButton button_post_product_continue;
---+
---     @Override
---     public View onCreateView(LayoutInflater inflater, ViewGroup container,
---                              Bundle savedInstanceState) {
----        // Inflate the layout for this fragment
---         View view = inflater.inflate(R.layout.fragment_post_product_photos, container, false);
---         binding = FragmentPostProductPhotosBinding.bind(view);
---         addControl(view);
---@@ -94,147 +75,121 @@
---         ActivityResultLauncher<PickVisualMediaRequest> pickMultipleMedia =
---                 registerForActivityResult(new ActivityResultContracts.PickMultipleVisualMedia(4), uris -> {
---                     if (!uris.isEmpty()) {
----//                        imageUris.clear();
---                         imageUris.addAll(uris);
----                        if(uris.size()>0 && imageUris.size()>0){
---+                        if (uris.size() > 0 && imageUris.size() > 0) {
---                             Glide.with(this).load(imageUris.get(0)).into(binding.imageView5);
---                             binding.frameLayout1.setVisibility(View.VISIBLE);
---                         }
----                        if(uris.size()>1 && imageUris.size()>1){
---+                        if (uris.size() > 1 && imageUris.size() > 1) {
---                             Glide.with(this).load(imageUris.get(1)).into(binding.imageView6);
---                             binding.frameLayout2.setVisibility(View.VISIBLE);
---                         }
----                        if(uris.size()>2 && imageUris.size()>2){
---+                        if (uris.size() > 2 && imageUris.size() > 2) {
---                             Glide.with(this).load(imageUris.get(2)).into(binding.imageView7);
---                             binding.frameLayout3.setVisibility(View.VISIBLE);
---                         }
----                        if(uris.size()>3 && imageUris.size()>3){
---+                        if (uris.size() > 3 && imageUris.size() > 3) {
---                             Glide.with(this).load(imageUris.get(3)).into(binding.imageView8);
---                             binding.frameLayout4.setVisibility(View.VISIBLE);
---                         }
---                         binding.linearLayout.setVisibility(View.VISIBLE);
----
---                     } else {
---                         Log.d("PhotoPicker", "No media selected");
---                     }
---                 });
----        binding.imageButtonCamera.setOnClickListener(new View.OnClickListener() {
----            @Override
----            public void onClick(View view) {
----                if(!Objects.isNull(imageUris) || !imageUris.isEmpty() || imageUris.size()<4){
----                    pickMultipleMedia.launch(new PickVisualMediaRequest.Builder()
----                            .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)
----                            .build());
----                }
----                else{
----                    Toast.makeText(getContext(), "Vui long xóa ảnh đã chọn để thêm ảnh mới", Toast.LENGTH_SHORT).show();
----                }
----
---+
---+        binding.imageButtonCamera.setOnClickListener(view1 -> {
---+            if (!Objects.isNull(imageUris) || !imageUris.isEmpty() || imageUris.size() < 4) {
---+                pickMultipleMedia.launch(new PickVisualMediaRequest.Builder()
---+                        .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)
---+                        .build());
---+            } else {
---+                Toast.makeText(getContext(), "Vui long xóa ảnh đã chọn để thêm ảnh mới", Toast.LENGTH_SHORT).show();
---             }
---         });
----        binding.imageButton3.setOnClickListener(new View.OnClickListener() {
----            @Override
----            public void onClick(View view) {
----                binding.frameLayout1.setVisibility(View.GONE);
----                binding.imageButton3.setVisibility(View.GONE);
---+
---+        binding.imageButton3.setOnClickListener(view12 -> {
---+            binding.frameLayout1.setVisibility(View.GONE);
---+            binding.imageButton3.setVisibility(View.GONE);
--- 
----                if(!imageUris.isEmpty()){
----                    imageUris.remove(0);
----                }
----                if(imageUris.isEmpty()){
----                    binding.linearLayout.setVisibility(View.GONE);
----                }
---+            if (!imageUris.isEmpty()) {
---+                imageUris.remove(0);
---+            }
---+            if (imageUris.isEmpty()) {
---+                binding.linearLayout.setVisibility(View.GONE);
---             }
---         });
----        binding.imageButton4.setOnClickListener(new View.OnClickListener() {
----            @Override
----            public void onClick(View view) {
----                binding.frameLayout2.setVisibility(View.GONE);
----                binding.imageButton4.setVisibility(View.GONE);
---+
---+        binding.imageButton4.setOnClickListener(view13 -> {
---+            binding.frameLayout2.setVisibility(View.GONE);
---+            binding.imageButton4.setVisibility(View.GONE);
--- 
----                if(!imageUris.isEmpty()){
----                    imageUris.remove(1);
----                }
----                if(imageUris.isEmpty()){
----                    binding.linearLayout.setVisibility(View.GONE);
----                }
---+            if (!imageUris.isEmpty()) {
---+                imageUris.remove(1);
---+            }
---+            if (imageUris.isEmpty()) {
---+                binding.linearLayout.setVisibility(View.GONE);
---             }
---         });
----        binding.imageButton5.setOnClickListener(new View.OnClickListener() {
----            @Override
----            public void onClick(View view) {
----                binding.frameLayout3.setVisibility(View.GONE);
----                binding.imageButton5.setVisibility(View.GONE);
---+
---+        binding.imageButton5.setOnClickListener(view14 -> {
---+            binding.frameLayout3.setVisibility(View.GONE);
---+            binding.imageButton5.setVisibility(View.GONE);
--- 
----                if(!imageUris.isEmpty()){
----                    imageUris.remove(2);
----                }
----                if(imageUris.isEmpty()){
----                    binding.linearLayout.setVisibility(View.GONE);
----                }
---+            if (!imageUris.isEmpty()) {
---+                imageUris.remove(2);
---+            }
---+            if (imageUris.isEmpty()) {
---+                binding.linearLayout.setVisibility(View.GONE);
---             }
---         });
----        binding.imageButton6.setOnClickListener(new View.OnClickListener() {
----            @Override
----            public void onClick(View view) {
----                binding.imageView8.setVisibility(View.GONE);
----                binding.imageButton6.setVisibility(View.GONE);
---+
---+        binding.imageButton6.setOnClickListener(view15 -> {
---+            binding.imageView8.setVisibility(View.GONE);
---+            binding.imageButton6.setVisibility(View.GONE);
--- 
----
----                if(!imageUris.isEmpty()){
----                    imageUris.remove(3);
----                }
----                if(imageUris.isEmpty()){
----                    binding.linearLayout.setVisibility(View.GONE);
----                }
---+            if (!imageUris.isEmpty()) {
---+                imageUris.remove(3);
---+            }
---+            if (imageUris.isEmpty()) {
---+                binding.linearLayout.setVisibility(View.GONE);
---             }
---         });
----
----
--- 
---         loadCategory();
---         categoryAdapter = new CategoryAdapter(categories);
---         binding.rvCategories.setAdapter(categoryAdapter);
---         binding.rvCategories.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.HORIZONTAL, false));
--- 
----
----
---         return binding.getRoot();
----
---     }
--- 
----
----
----    void addControl(View v)
----    {
---+    void addControl(View v) {
---         button_post_product_continue = v.findViewById(R.id.button_post_product_continue);
---     }
--- 
---     void addEvents(View v) {
----        button_post_product_continue.setOnClickListener(new View.OnClickListener() {
----            @Override
----            public void onClick(View v) {
----                Fragment newFragment = new PostProductPriceFragment();
----                if(categoryAdapter.category==null){
----                    Toast.makeText(getContext(), "Vui long chon danh muc", Toast.LENGTH_SHORT).show();
----                    return;
----                }
----                ProductRequest product = new ProductRequest(binding.edtName.getText().toString(),binding.edtDes.getText().toString(),categoryAdapter.category.getId());
----                Bundle bundle = new Bundle();
----                bundle.putSerializable("postProduct",product);
----                bundle.putParcelableArrayList("imageUris", (ArrayList<Uri>) imageUris);
----                newFragment.setArguments(bundle);
----                FragmentTransaction transaction = getFragmentManager().beginTransaction();
---+        button_post_product_continue.setOnClickListener(v1 -> {
---+            Fragment newFragment = new PostProductPriceFragment();
---+            if (categoryAdapter.category == null) {
---+                Toast.makeText(getContext(), "Vui long chon danh muc", Toast.LENGTH_SHORT).show();
---+                return;
---+            }
---+            ProductRequest product = new ProductRequest(binding.edtName.getText().toString(), binding.edtDes.getText().toString(), categoryAdapter.category.getId());
---+            Bundle bundle = new Bundle();
---+            bundle.putSerializable("postProduct", product);
---+            bundle.putParcelableArrayList("imageUris", (ArrayList<Uri>) imageUris);
---+            newFragment.setArguments(bundle);
---+            FragmentTransaction transaction = getFragmentManager().beginTransaction();
--- 
----                transaction.replace(R.id.fragmentPostProduct, newFragment);
---+            transaction.replace(R.id.fragmentPostProduct, newFragment);
--- 
----                transaction.addToBackStack(null);
----                transaction.commit();
----            }
---+            transaction.addToBackStack(null);
---+            transaction.commit();
---         });
---     }
--- 
----    void loadCategory(){
---+    void loadCategory() {
---         FirebaseFirestore db = FirebaseFirestore.getInstance();
---         db.collection("categories")
---                 .orderBy("id")
---@@ -248,5 +203,4 @@
---                     }
---                 });
---     }
----
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.List;\r\n\r\npublic class HomeFragmentViewModel extends ViewModel {\r\n    public MutableLiveData<List<Category>> categories;\r\n    public MutableLiveData<List<Product>> products;\r\n\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n    public HomeFragmentViewModel() {\r\n        categories = new MutableLiveData<>();\r\n        products = new MutableLiveData<>();\r\n    }\r\n\r\n    public void getData() {\r\n        db.collection(\"categories\")\r\n                .orderBy(\"id\")\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Category> categoryList = task.getResult().toObjects(Category.class);\r\n                        categories.setValue(categoryList);\r\n                    } else {\r\n                        Log.e(\"HomeFragmentViewModel\", \"Error getting categories: \", task.getException());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void getProducts() {\r\n        db.collection(\"products\")\r\n                .orderBy(\"product_id\")\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Product> productList = task.getResult().toObjects(Product.class);\r\n                        products.setValue(productList);\r\n                    } else {\r\n                        Log.e(\"HomeFragmentViewModel\", \"Error getting products: \", task.getException());\r\n                    }\r\n                });\r\n    }\r\n}\r\n
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java
------ a/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java	(revision dc4f017cf985364b0ceccd66f43fc5d94d004ae6)
---+++ b/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java	(date 1730877515967)
---@@ -14,8 +14,7 @@
--- public class HomeFragmentViewModel extends ViewModel {
---     public MutableLiveData<List<Category>> categories;
---     public MutableLiveData<List<Product>> products;
----
----    FirebaseFirestore db = FirebaseFirestore.getInstance();
---+    private final FirebaseFirestore db = FirebaseFirestore.getInstance();
--- 
---     public HomeFragmentViewModel() {
---         categories = new MutableLiveData<>();
---@@ -50,3 +49,4 @@
---                 });
---     }
--- }
---+
---Index: app/src/main/java/com/example/agrimart/ui/ProductPage/CategoryActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.ProductPage;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\n\r\nimport com.example.agrimart.R;\r\n\r\npublic class CategoryActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_category);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/ProductPage/CategoryActivity.java b/app/src/main/java/com/example/agrimart/ui/ProductPage/CategoryActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/ProductPage/CategoryActivity.java	(revision dc4f017cf985364b0ceccd66f43fc5d94d004ae6)
---+++ b/app/src/main/java/com/example/agrimart/ui/ProductPage/CategoryActivity.java	(date 1730875794260)
---@@ -1,26 +1,76 @@
--- package com.example.agrimart.ui.ProductPage;
--- 
--- import android.os.Bundle;
---+import android.widget.Toast;
--- 
----import androidx.activity.EdgeToEdge;
--- import androidx.appcompat.app.AppCompatActivity;
--- import androidx.core.graphics.Insets;
--- import androidx.core.view.ViewCompat;
--- import androidx.core.view.WindowInsetsCompat;
---+import androidx.lifecycle.ViewModelProvider;
---+import androidx.recyclerview.widget.GridLayoutManager;
---+import androidx.recyclerview.widget.RecyclerView;
--- 
--- import com.example.agrimart.R;
---+import com.example.agrimart.adapter.ProductAdapter;
---+import com.example.agrimart.data.model.Product;
---+import com.example.agrimart.viewmodel.CategoryViewModel;
---+
---+import java.util.ArrayList;
---+import java.util.List;
--- 
--- public class CategoryActivity extends AppCompatActivity {
--- 
---+    private RecyclerView rvProducts;
---+    private ProductAdapter productAdapter;
---+    private List<Product> productList;
---+    private CategoryViewModel categoryViewModel;
---+    private String categoryId;
---+
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---         super.onCreate(savedInstanceState);
----        EdgeToEdge.enable(this);
---         setContentView(R.layout.activity_category);
---+
---+        categoryId = getIntent().getStringExtra("category_id");
---+        if (categoryId == null) {
---+            Toast.makeText(this, "Category ID is missing", Toast.LENGTH_SHORT).show();
---+            finish();
---+            return;
---+        }
---+
---+        setupWindowInsets();
---+        addControls();
---+
---+        categoryViewModel = new ViewModelProvider(this).get(CategoryViewModel.class);
---+
---+        productList = new ArrayList<>();
---+        productAdapter = new ProductAdapter(productList, product -> {
---+            // Handle product click
---+        });
---+        rvProducts.setLayoutManager(new GridLayoutManager(this, 2));
---+        rvProducts.setAdapter(productAdapter);
---+
---+        loadProducts();
---+    }
---+
---+    private void setupWindowInsets() {
---         ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {
---             Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
---             v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
---             return insets;
---         });
---     }
---+
---+    private void addControls() {
---+        rvProducts = findViewById(R.id.rvProducts);
---+    }
---+
---+    private void loadProducts() {
---+        categoryViewModel.getProductsByCategory(categoryId).observe(this, products -> {
---+            productList.clear();
---+            productList.addAll(products);
---+            productAdapter.notifyDataSetChanged();
---+        });
---+    }
--- }
---\ No newline at end of file
---Index: app/src/main/res/layout/activity_category.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.ProductPage.CategoryActivity\">\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/activity_category.xml b/app/src/main/res/layout/activity_category.xml
------ a/app/src/main/res/layout/activity_category.xml	(revision dc4f017cf985364b0ceccd66f43fc5d94d004ae6)
---+++ b/app/src/main/res/layout/activity_category.xml	(date 1730875666010)
---@@ -1,10 +1,14 @@
--- <?xml version="1.0" encoding="utf-8"?>
----<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
---+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
---     xmlns:app="http://schemas.android.com/apk/res-auto"
----    xmlns:tools="http://schemas.android.com/tools"
----    android:id="@+id/main"
---     android:layout_width="match_parent"
----    android:layout_height="match_parent"
----    tools:context=".ui.ProductPage.CategoryActivity">
---+    android:layout_height="wrap_content"
---+    android:layout_margin="8dp"
---+    app:cardCornerRadius="8dp"
---+    app:cardElevation="4dp">
--- 
----</androidx.constraintlayout.widget.ConstraintLayout>
---\ No newline at end of file
---+    <androidx.recyclerview.widget.RecyclerView
---+        android:id="@+id/rvProduct"
---+        android:layout_width="match_parent"
---+        android:layout_height="match_parent"/>
---+</RelativeLayout>
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/viewmodel/CategoryViewModel.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/viewmodel/CategoryViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/CategoryViewModel.java
---new file mode 100644
------ /dev/null	(date 1730875666037)
---+++ b/app/src/main/java/com/example/agrimart/viewmodel/CategoryViewModel.java	(date 1730875666037)
---@@ -0,0 +1,29 @@
---+package com.example.agrimart.viewmodel;
---+
---+import androidx.lifecycle.LiveData;
---+import androidx.lifecycle.MutableLiveData;
---+import androidx.lifecycle.ViewModel;
---+
---+import com.example.agrimart.data.model.Product;
---+import com.google.firebase.firestore.FirebaseFirestore;
---+
---+import java.util.List;
---+
---+public class CategoryViewModel extends ViewModel {
---+    private MutableLiveData<List<Product>> products = new MutableLiveData<>();
---+    private FirebaseFirestore db = FirebaseFirestore.getInstance();
---+
---+    public LiveData<List<Product>> getProductsByCategory(String categoryId) {
---+        db.collection("products")
---+                .whereEqualTo("category_id", categoryId)
---+                .get()
---+                .addOnSuccessListener(queryDocumentSnapshots -> {
---+                    List<Product> productList = queryDocumentSnapshots.toObjects(Product.class);
---+                    products.setValue(productList);
---+                })
---+                .addOnFailureListener(e -> {
---+                    // Handle error
---+                });
---+        return products;
---+    }
---+}
---\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_11_34_AM_[Changes]/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_11_34_AM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_11_34_AM_[Changes]/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_11_34_AM_[Changes]/shelved.patch	(revision 25d73a32c9fef715bfb6930293c49bee04cf91b7)
--+++ /dev/null	(revision 25d73a32c9fef715bfb6930293c49bee04cf91b7)
--@@ -1,9214 +0,0 @@
---Index: app/src/main/res/layout/activity_product_detail.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main1\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:padding=\"16dp\"\r\n    tools:context=\".ui.ProductPage.ProductDetailActivity\">\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/header\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:padding=\"8dp\">\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/btn_back\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_marginStart=\"8dp\"\r\n            android:layout_marginTop=\"8dp\"\r\n            android:background=\"@color/background_light\"\r\n            android:src=\"@drawable/chevron_left\"\r\n            android:backgroundTint=\"@color/white\"/>\r\n    </RelativeLayout>\r\n\r\n    <ScrollView\r\n        android:id=\"@+id/scrollView\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/header\"\r\n        android:layout_above=\"@id/footer\"\r\n        android:scrollbars=\"none\">\r\n\r\n        <RelativeLayout\r\n            android:id=\"@+id/product_detail\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n            <com.denzcoskun.imageslider.ImageSlider\r\n                android:id=\"@+id/product_image\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"250dp\"\r\n                android:background=\"@null\"\r\n                app:iss_auto_cycle=\"true\"\r\n                app:iss_period=\"1000\"\r\n                app:iss_title_background=\"@color/transparent\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_price\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginEnd=\"16dp\"\r\n                android:layout_marginBottom=\"8dp\"\r\n                android:text=\"@string/price\"\r\n                android:layout_below=\"@+id/product_name\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"28sp\"\r\n                android:textColor=\"@android:color/holo_red_dark\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_name\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"15dp\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginEnd=\"16dp\"\r\n                android:text=\"@string/product_name\"\r\n                android:layout_below=\"@+id/product_image\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"20sp\"\r\n                android:textAllCaps=\"true\"\r\n                android:textColor=\"@color/black\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/address\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginEnd=\"16dp\"\r\n                android:layout_marginBottom=\"16dp\"\r\n                android:text=\"@string/address\"\r\n                android:layout_below=\"@+id/product_price\"\r\n                android:fontFamily=\"@font/circular_std\"\r\n                android:textSize=\"16sp\"\r\n                android:drawableStart=\"@drawable/location\"/>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/quantity\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/address\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginBottom=\"10dp\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_decrease\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"-\"\r\n                    android:textColor=\"#9E9E9E\"\r\n                    android:textSize=\"24sp\"\r\n                    android:padding=\"8dp\"\r\n                    android:gravity=\"center\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_quantity\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_marginStart=\"8dp\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:layout_marginBottom=\"8dp\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"1\"\r\n                    android:textSize=\"18sp\"\r\n                    android:textColor=\"#212121\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:background=\"@drawable/round_border\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_increase\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"+\"\r\n                    android:textColor=\"#4CAF50\"\r\n                    android:textSize=\"24sp\"\r\n                    android:padding=\"8dp\"\r\n                    android:gravity=\"center\"/>\r\n            </LinearLayout>\r\n\r\n            <RelativeLayout\r\n                android:id=\"@+id/product_description\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/quantity\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/description_title\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"15dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"@string/description\"\r\n                    android:textSize=\"17sp\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:textColor=\"@color/black\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/description\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_below=\"@+id/description_title\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:textSize=\"15sp\"\r\n                    android:text=\"@string/descriptions\"\r\n                    android:maxLines=\"3\"\r\n                    android:ellipsize=\"end\"/>\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/btn_expand\"\r\n                    android:layout_width=\"32dp\"\r\n                    android:layout_height=\"32dp\"\r\n                    android:layout_below=\"@+id/description\"\r\n                    android:layout_centerHorizontal=\"true\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:src=\"@drawable/down\"\r\n                    android:background=\"@color/transparent\"/>\r\n            </RelativeLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/shop_info\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/product_description\"\r\n                android:layout_margin=\"8dp\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:background=\"@color/transparent\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <androidx.cardview.widget.CardView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"8dp\"\r\n                    android:background=\"@color/background_light\"\r\n                    app:cardElevation=\"0dp\">\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/store\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"horizontal\">\r\n\r\n                        <de.hdodenhof.circleimageview.CircleImageView\r\n                            android:id=\"@+id/store_img\"\r\n                            android:layout_width=\"50dp\"\r\n                            android:layout_height=\"50dp\"\r\n                            android:layout_marginEnd=\"16dp\"\r\n                            android:src=\"@drawable/user\"\r\n                            app:civ_border_color=\"#FF000000\"\r\n                            app:civ_border_width=\"2dp\" />\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/store_name\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Tên người bán\"\r\n                            android:textColor=\"#000000\"\r\n                            android:textSize=\"20sp\"\r\n                            android:textStyle=\"bold\" />\r\n                    </LinearLayout>\r\n                </androidx.cardview.widget.CardView>\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/rating\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/shop_info\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:orientation=\"horizontal\"\r\n                android:padding=\"8dp\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/quantity_title\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:textSize=\"16sp\"\r\n                    android:text=\"Đánh giá sản phẩm\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:textColor=\"@color/black\"/>\r\n\r\n                <RatingBar\r\n                    android:id=\"@+id/totalRating\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:rating=\"4.5\"\r\n                    style=\"?android:attr/ratingBarStyleIndicator\"\r\n                    android:progressTint=\"#FFCC01\"\r\n                    android:layout_marginStart=\"40dp\"/>\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/reviews\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/rating\"\r\n                android:padding=\"8dp\">\r\n\r\n                <de.hdodenhof.circleimageview.CircleImageView\r\n                    android:id=\"@+id/user_avatar\"\r\n                    android:layout_width=\"40dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:src=\"@drawable/user\"\r\n                    app:civ_border_width=\"2dp\"\r\n                    app:civ_border_color=\"#FF000000\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"16dp\"/>\r\n\r\n                <LinearLayout\r\n                    android:id=\"@+id/user_rv\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"vertical\"\r\n                    android:layout_weight=\"1\"\r\n                    android:padding=\"10dp\">\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_name\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"User name\"\r\n                        android:textStyle=\"bold\"\r\n                        android:textSize=\"16sp\"\r\n                        android:textColor=\"#000000\" />\r\n\r\n                    <RatingBar\r\n                        android:id=\"@+id/userRating\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:rating=\"3\"\r\n                        style=\"?android:attr/ratingBarStyleIndicator\"\r\n                        android:progressTint=\"#FFCC01\"/>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_review\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"4dp\"\r\n                        android:text=\"@string/user_review\"\r\n                        android:textSize=\"14sp\"\r\n                        android:textColor=\"#616161\" />\r\n                </LinearLayout>\r\n            </LinearLayout>\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"16dp\"\r\n                android:layout_below=\"@id/reviews\"/>\r\n        </RelativeLayout>\r\n    </ScrollView>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/footer\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentBottom=\"true\"\r\n        android:padding=\"16dp\">\r\n\r\n        <Button\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_marginStart=\"48dp\"\r\n            android:layout_marginEnd=\"48dp\"\r\n            android:backgroundTint=\"@color/green\"\r\n            app:cornerRadius=\"24dp\"\r\n            android:text=\"@string/add_cart\"/>\r\n    </RelativeLayout>\r\n</RelativeLayout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/activity_product_detail.xml b/app/src/main/res/layout/activity_product_detail.xml
------ a/app/src/main/res/layout/activity_product_detail.xml	(revision 05e31456dd5fe606469b8af23a451f0455aa39f8)
---+++ b/app/src/main/res/layout/activity_product_detail.xml	(date 1730810050611)
---@@ -41,7 +41,7 @@
---             <com.denzcoskun.imageslider.ImageSlider
---                 android:id="@+id/product_image"
---                 android:layout_width="match_parent"
----                android:layout_height="250dp"
---+                android:layout_height="300dp"
---                 android:background="@null"
---                 app:iss_auto_cycle="true"
---                 app:iss_period="1000"
---Index: .idea/shelf/Uncommitted_changes_before_Update_at_10_29_2024_9_10_PM_[Changes]/shelved.patch
---===================================================================
---diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_10_29_2024_9_10_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_10_29_2024_9_10_PM_[Changes]/shelved.patch
---deleted file mode 100644
------ a/.idea/shelf/Uncommitted_changes_before_Update_at_10_29_2024_9_10_PM_[Changes]/shelved.patch	(revision 05e31456dd5fe606469b8af23a451f0455aa39f8)
---+++ /dev/null	(revision 05e31456dd5fe606469b8af23a451f0455aa39f8)
---@@ -1,9176 +0,0 @@
----Index: .idea/shelf/Uncommitted_changes_before_Update_at_10_8_2024_5_03_PM_[Changes]/shelved.patch
----===================================================================
----diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_10_8_2024_5_03_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_10_8_2024_5_03_PM_[Changes]/shelved.patch
----deleted file mode 100644
------- a/.idea/shelf/Uncommitted_changes_before_Update_at_10_8_2024_5_03_PM_[Changes]/shelved.patch	(revision 418748358ae1dd73a3925e005574cb2a68b36576)
----+++ /dev/null	(revision 418748358ae1dd73a3925e005574cb2a68b36576)
----@@ -1,67 +0,0 @@
-----Index: app/google-services.json
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/google-services.json b/app/google-services.json
-----new file mode 100644
-------- /dev/null	(date 1728381524999)
-----+++ b/app/google-services.json	(date 1728381524999)
-----@@ -0,0 +1,56 @@
-----+{
-----+  "project_info": {
-----+    "project_number": "689266518488",
-----+    "firebase_url": "https://agri-mart-2342e-default-rtdb.asia-southeast1.firebasedatabase.app",
-----+    "project_id": "agri-mart-2342e",
-----+    "storage_bucket": "agri-mart-2342e.appspot.com"
-----+  },
-----+  "client": [
-----+    {
-----+      "client_info": {
-----+        "mobilesdk_app_id": "1:689266518488:android:17ce7ec837891de56e6aad",
-----+        "android_client_info": {
-----+          "package_name": "com.example.agrimart"
-----+        }
-----+      },
-----+      "oauth_client": [
-----+        {
-----+          "client_id": "689266518488-dgatvilaraorios1it9b539v2sf034h0.apps.googleusercontent.com",
-----+          "client_type": 1,
-----+          "android_info": {
-----+            "package_name": "com.example.agrimart",
-----+            "certificate_hash": "dc2f4277f7796fc7189ad261b176620c8336ea2f"
-----+          }
-----+        },
-----+        {
-----+          "client_id": "689266518488-ma86an6gtkbsa9t34mu0ipu9jr3s8c69.apps.googleusercontent.com",
-----+          "client_type": 1,
-----+          "android_info": {
-----+            "package_name": "com.example.agrimart",
-----+            "certificate_hash": "52595998b3de1856eaa4c5ae75c297a95a7c3881"
-----+          }
-----+        },
-----+        {
-----+          "client_id": "689266518488-dggpokj3cbc4t7hoa53j2vsa6vt59qi4.apps.googleusercontent.com",
-----+          "client_type": 3
-----+        }
-----+      ],
-----+      "api_key": [
-----+        {
-----+          "current_key": "AIzaSyBia8F9-owPF47X_H4wF1xt4AzCoYfiCtM"
-----+        }
-----+      ],
-----+      "services": {
-----+        "appinvite_service": {
-----+          "other_platform_oauth_client": [
-----+            {
-----+              "client_id": "689266518488-dggpokj3cbc4t7hoa53j2vsa6vt59qi4.apps.googleusercontent.com",
-----+              "client_type": 3
-----+            }
-----+          ]
-----+        }
-----+      }
-----+    }
-----+  ],
-----+  "configuration_version": "1"
-----+}
-----\ No newline at end of file
----Index: .idea/shelf/Uncommitted_changes_before_Update_at_10_10_2024_8_08_PM_[Changes]/shelved.patch
----===================================================================
----diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_10_10_2024_8_08_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_10_10_2024_8_08_PM_[Changes]/shelved.patch
----deleted file mode 100644
------- a/.idea/shelf/Uncommitted_changes_before_Update_at_10_10_2024_8_08_PM_[Changes]/shelved.patch	(revision 418748358ae1dd73a3925e005574cb2a68b36576)
----+++ /dev/null	(revision 418748358ae1dd73a3925e005574cb2a68b36576)
----@@ -1,19 +0,0 @@
-----Index: app/src/main/res/layout/activity_my_account.xml
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-----<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.MyProfile.MyAccount.MyAccountActivity\">\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"vertical\"\r\n        tools:ignore=\"MissingConstraints\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:paddingStart=\"12dp\"\r\n            android:paddingEnd=\"12dp\"\r\n            android:paddingTop=\"10dp\"\r\n            android:paddingBottom=\"10dp\"\r\n            android:background=\"@color/white\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/btn_back\"\r\n                android:layout_width=\"30dp\"\r\n                android:layout_height=\"35dp\"\r\n                android:src=\"@drawable/ic_left\"\r\n                android:scaleType=\"fitCenter\"\r\n                android:layout_marginStart=\"5dp\"\r\n                android:layout_gravity=\"center_vertical\"\r\n                android:background=\"@color/white\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textView1\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"35dp\"\r\n                android:layout_weight=\"1\"\r\n                android:gravity=\"start\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:text=\"Tài khoản &amp; Bảo mật\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"11pt\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"10dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/my_account\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/my_profile_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"2\"\r\n                android:text=\"Hồ sơ của tôi\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/my_profile_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/my_user_name\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_name\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Tên người dùng\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_name_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_marginEnd=\"40dp\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"longct29\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/my_phone_number\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/my_phone_number_text1\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Điện thoại\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/my_phone_number_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"******67\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/my_phone_number_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/my_email\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/email\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Email\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/email_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_marginEnd=\"40dp\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"h*******3@gmail.com\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/change_password\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/change_password_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"2\"\r\n                android:text=\"Đổi mật khẩu\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/change_password_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n\r\n    </LinearLayout>\r\n</androidx.constraintlayout.widget.ConstraintLayout>
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/src/main/res/layout/activity_my_account.xml b/app/src/main/res/layout/activity_my_account.xml
-------- a/app/src/main/res/layout/activity_my_account.xml	(revision e6a9b6b41875c4569f90198b5ecf86dc201f8d56)
-----+++ b/app/src/main/res/layout/activity_my_account.xml	(date 1728565246639)
-----@@ -107,7 +107,7 @@
-----                 android:gravity="end"
-----                 android:layout_marginEnd="40dp"
-----                 android:layout_weight="1"
------                android:text="longct29"
-----+                android:text="Hoàng Huy Long"
-----                 android:textColor="@color/black"
-----                 android:textSize="8pt" />
----- 
----Index: .idea/shelf/Uncommitted_changes_before_Checkout_at_10_5_2024_3_35_PM_[Changes]/shelved.patch
----===================================================================
----diff --git a/.idea/shelf/Uncommitted_changes_before_Checkout_at_10_5_2024_3_35_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Checkout_at_10_5_2024_3_35_PM_[Changes]/shelved.patch
----deleted file mode 100644
------- a/.idea/shelf/Uncommitted_changes_before_Checkout_at_10_5_2024_3_35_PM_[Changes]/shelved.patch	(revision 418748358ae1dd73a3925e005574cb2a68b36576)
----+++ /dev/null	(revision 418748358ae1dd73a3925e005574cb2a68b36576)
----@@ -1,7860 +0,0 @@
-----Index: .idea/shelf/Uncommitted_changes_before_Update_at_9_20_2024_7_45_PM__Changes_.xml
-----===================================================================
-----diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_9_20_2024_7_45_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_9_20_2024_7_45_PM__Changes_.xml
-----deleted file mode 100644
-------- a/.idea/shelf/Uncommitted_changes_before_Update_at_9_20_2024_7_45_PM__Changes_.xml	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----+++ /dev/null	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----@@ -1,4 +0,0 @@
------<changelist name="Uncommitted_changes_before_Update_at_9_20_2024_7_45_PM_[Changes]" date="1726836363748" recycled="true" deleted="true">
------  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_9_20_2024_7_45_PM_[Changes]/shelved.patch" />
------  <option name="DESCRIPTION" value="Uncommitted changes before Update at 9/20/2024 7:45 PM [Changes]" />
------</changelist>
-----\ No newline at end of file
-----Index: .idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_12_16_AM_[Changes]/shelved.patch
-----===================================================================
-----diff --git a/.idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_12_16_AM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_12_16_AM_[Changes]/shelved.patch
-----deleted file mode 100644
-------- a/.idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_12_16_AM_[Changes]/shelved.patch	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----+++ /dev/null	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----@@ -1,2170 +0,0 @@
------Index: app/src/main/java/com/example/agrimart/data/adapter/ProductAdapter.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.data.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.ProductItemBinding;\r\n\r\nimport java.util.List;\r\n\r\npublic class ProductAdapter extends RecyclerView.Adapter<ProductAdapter.MyViewHolder> {\r\n    private List<Product> products;\r\n    private OnItemClickListener listener;\r\n\r\n    public ProductAdapter(List<Product> products, OnItemClickListener listener) {\r\n        this.products = products;\r\n        this.listener = listener;\r\n    }\r\n\r\n    public interface OnItemClickListener {\r\n        void onItemClick(Product product);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        ProductItemBinding binding = ProductItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        return new MyViewHolder(binding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        Product product = products.get(position);\r\n        holder.bindData(product);\r\n        holder.itemView.setOnClickListener(v -> listener.onItemClick(product)); // Sử dụng listener để bắt sự kiện click\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return products.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        private final ProductItemBinding binding;\r\n\r\n        public MyViewHolder(@NonNull ProductItemBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n\r\n        public void bindData(Product product) {\r\n            binding.imgPro.setImageResource(product.getImage());\r\n            binding.tvName.setText(product.getName());\r\n            binding.tvPrice.setText(product.getPrice());\r\n            binding.tvUnit.setText(product.getUnit());\r\n        }\r\n    }\r\n}\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/data/adapter/ProductAdapter.java b/app/src/main/java/com/example/agrimart/data/adapter/ProductAdapter.java
--------- a/app/src/main/java/com/example/agrimart/data/adapter/ProductAdapter.java	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/java/com/example/agrimart/data/adapter/ProductAdapter.java	(date 1726766190771)
------@@ -7,7 +7,7 @@
------ import androidx.recyclerview.widget.RecyclerView;
------ 
------ import com.example.agrimart.data.model.Product;
-------import com.example.agrimart.databinding.ProductItemBinding;
------+import com.example.agrimart.databinding.ItemProductBinding;
------ 
------ import java.util.List;
------ 
------@@ -27,7 +27,7 @@
------     @NonNull
------     @Override
------     public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
-------        ProductItemBinding binding = ProductItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);
------+        ItemProductBinding binding = ItemProductBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);
------         return new MyViewHolder(binding);
------     }
------ 
------@@ -35,7 +35,7 @@
------     public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {
------         Product product = products.get(position);
------         holder.bindData(product);
-------        holder.itemView.setOnClickListener(v -> listener.onItemClick(product)); // Sử dụng listener để bắt sự kiện click
------+        holder.itemView.setOnClickListener(v -> listener.onItemClick(product));
------     }
------ 
------     @Override
------@@ -44,18 +44,16 @@
------     }
------ 
------     public static class MyViewHolder extends RecyclerView.ViewHolder {
-------        private final ProductItemBinding binding;
------+        private final ItemProductBinding binding;
------ 
-------        public MyViewHolder(@NonNull ProductItemBinding binding) {
------+        public MyViewHolder(@NonNull ItemProductBinding binding) {
------             super(binding.getRoot());
------             this.binding = binding;
------         }
------ 
------         public void bindData(Product product) {
-------            binding.imgPro.setImageResource(product.getImage());
-------            binding.tvName.setText(product.getName());
-------            binding.tvPrice.setText(product.getPrice());
-------            binding.tvUnit.setText(product.getUnit());
------+            binding.setProduct(product);
------+            binding.executePendingBindings();
------         }
------     }
-------}
------+}
------\ No newline at end of file
------Index: app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.data.adapter.CategoryAdapter;\r\nimport com.example.agrimart.data.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\nimport com.example.agrimart.ui.Notification.NotificationActivity;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    ImageButton btnSearch, btnNotification;\r\n    TextView search;\r\n\r\n    private FragmentHomeBinding binding;\r\n\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    public static HomeFragment newInstance() {\r\n        return new HomeFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n        View view = binding.getRoot();\r\n\r\n        if (getActivity() != null) {\r\n            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        RecyclerView rvCategories = view.findViewById(R.id.rvCategories);\r\n        int numberOfColumns = 4;\r\n        rvCategories.setLayoutManager(new GridLayoutManager(getContext(), numberOfColumns));\r\n\r\n        List<Category> categories = new ArrayList<>();\r\n        categories.add(new Category(R.drawable.vegetable, \"Rau củ quả\"));\r\n        categories.add(new Category(R.drawable.fruit, \"Trái cây\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Ngũ cốc và hạt\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Gia vị\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Mật ong\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Trà\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Cây cảnh\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Khác\"));\r\n\r\n        CategoryAdapter categoryAdapter = new CategoryAdapter(categories);\r\n        rvCategories.setAdapter(categoryAdapter);\r\n\r\n        List<Product> products = new ArrayList<>();\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n            Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n\r\n        addControls(view);\r\n        addEvents();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void addEvents() {\r\n        btnSearch.setOnClickListener(View -> {\r\n            loadFragment(new SearchFragment());\r\n        });\r\n\r\n        btnNotification.setOnClickListener(View -> {\r\n            Intent intent = new Intent(getContext(), NotificationActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        search.setOnClickListener(View -> {\r\n            loadFragment(new SearchFragment());\r\n        });\r\n    }\r\n\r\n    private void addControls(View view) {\r\n        btnSearch = view.findViewById(R.id.search_icon);\r\n        btnNotification = view.findViewById(R.id.notification_icon);\r\n        search = view.findViewById(R.id.search_input);\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getActivity().getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
--------- a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(date 1726766190777)
------@@ -76,12 +76,12 @@
------         rvCategories.setAdapter(categoryAdapter);
------ 
------         List<Product> products = new ArrayList<>();
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------ 
------         ProductAdapter productAdapter = new ProductAdapter(products, product -> {
------             Intent intent = new Intent(getContext(), ProductDetailActivity.class);
------Index: app/src/main/res/layout/product_item.xml
------===================================================================
------diff --git a/app/src/main/res/layout/product_item.xml b/app/src/main/res/layout/product_item.xml
------deleted file mode 100644
--------- a/app/src/main/res/layout/product_item.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ /dev/null	(revision eb94698d266807611d83e36806b90a7a00312314)
------@@ -1,70 +0,0 @@
-------<?xml version="1.0" encoding="utf-8"?>
-------<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
-------    xmlns:app="http://schemas.android.com/apk/res-auto"
-------    android:layout_width="173dp"
-------    android:background="@drawable/bg_product"
-------    android:layout_height="249dp">
-------
-------    <FrameLayout
-------        android:id="@+id/frame_layout"
-------        android:layout_width="match_parent"
-------        android:layout_height="124dp">
-------
-------        <ImageView
-------            android:id="@+id/imgPro"
-------            android:layout_width="99dp"
-------            android:layout_height="79dp"
-------            android:scaleType="centerCrop"
-------            android:layout_gravity="center"
-------            app:srcCompat="@drawable/banana" />
-------    </FrameLayout>
-------
-------    <TextView
-------        android:id="@+id/tvName"
-------        android:layout_width="129dp"
-------        android:layout_height="wrap_content"
-------        android:layout_below="@id/frame_layout"
-------        android:layout_marginTop="12dp"
-------        android:textSize="16sp"
-------        android:textColor="#333333"
-------        android:letterSpacing="0.01"
-------        android:layout_marginStart="15dp"
-------        android:ellipsize="end"
-------        android:maxLines="1"
-------        android:text="Organic Bananas" />
-------
-------    <TextView
-------        android:id="@+id/tvUnit"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:layout_below="@id/tvName"
-------        android:layout_marginTop="14dp"
-------        android:layout_marginEnd="4dp"
-------        android:layout_marginStart="15dp"
-------        android:text="@string/_200kg"
-------        android:textColor="#8A8A8E"
-------        android:textSize="12sp" />
-------
-------    <TextView
-------        android:id="@+id/tvPrice"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:layout_below="@id/tvUnit"
-------        android:textSize="18sp"
-------        android:layout_marginStart="15dp"
-------        android:layout_marginTop="12dp"
-------        android:textColor="#181725"
-------        android:letterSpacing="0.01"
-------        android:text="@string/_45_000_kg"  />
-------
-------    <ImageButton
-------        android:id="@+id/imageButton"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:background="@color/transparent"
-------        android:layout_below="@id/tvUnit"
-------        android:layout_alignParentEnd="true"
-------        android:layout_marginEnd="16dp"
-------        app:srcCompat="@drawable/ic_plus_1" />
-------
-------</RelativeLayout>
------\ No newline at end of file
------Index: app/src/main/res/layout/cart_item.xml
------===================================================================
------diff --git a/app/src/main/res/layout/cart_item.xml b/app/src/main/res/layout/cart_item.xml
------deleted file mode 100644
--------- a/app/src/main/res/layout/cart_item.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ /dev/null	(revision eb94698d266807611d83e36806b90a7a00312314)
------@@ -1,109 +0,0 @@
-------<?xml version="1.0" encoding="utf-8"?>
-------<androidx.constraintlayout.widget.ConstraintLayout
-------    xmlns:android="http://schemas.android.com/apk/res/android"
-------    xmlns:app="http://schemas.android.com/apk/res-auto"
-------    xmlns:tools="http://schemas.android.com/tools"
-------    android:layout_width="match_parent"
-------    android:layout_height="wrap_content"
-------    android:padding="16dp"
-------    android:background="@drawable/round_border">
-------
-------    <com.google.android.material.imageview.ShapeableImageView
-------        android:id="@+id/img_product"
-------        android:layout_width="80dp"
-------        android:layout_height="80dp"
-------        android:scaleType="centerCrop"
-------        android:src="@drawable/apple"
-------        app:layout_constraintStart_toStartOf="parent"
-------        app:layout_constraintTop_toTopOf="parent"
-------        app:layout_constraintBottom_toBottomOf="parent"
-------        android:background="@drawable/round_border"/>
-------
-------    <TextView
-------        android:id="@+id/tv_product_name"
-------        android:layout_width="0dp"
-------        android:layout_height="wrap_content"
-------        android:layout_marginStart="16dp"
-------        android:layout_marginTop="12dp"
-------        android:text="@string/product_name"
-------        android:textColor="@android:color/black"
-------        android:textSize="14sp"
-------        android:textStyle="bold"
-------        app:layout_constraintEnd_toStartOf="@+id/tv_product_price"
-------        app:layout_constraintHorizontal_bias="0.0"
-------        app:layout_constraintStart_toEndOf="@+id/img_product"
-------        app:layout_constraintTop_toTopOf="parent" />
-------
-------    <TextView
-------        android:id="@+id/tv_product_price"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:layout_marginEnd="64dp"
-------        android:text="50.000đ"
-------        android:textColor="@android:color/black"
-------        android:textSize="16sp"
-------        android:textStyle="bold"
-------        app:layout_constraintBottom_toBottomOf="parent"
-------        app:layout_constraintEnd_toEndOf="parent"
-------        app:layout_constraintTop_toTopOf="parent"
-------        app:layout_constraintVertical_bias="0.605" />
-------
-------    <LinearLayout
-------        android:id="@+id/quantity"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:layout_marginTop="44dp"
-------        app:layout_constraintEnd_toEndOf="parent"
-------        app:layout_constraintHorizontal_bias="0.362"
-------        app:layout_constraintStart_toStartOf="parent"
-------        app:layout_constraintTop_toTopOf="parent">
-------
-------        <TextView
-------            android:id="@+id/btn_decrease"
-------            android:layout_width="30dp"
-------            android:layout_height="wrap_content"
-------            android:gravity="center"
-------            android:padding="8dp"
-------            android:text="-"
-------            android:textColor="#9E9E9E"
-------            android:textSize="24sp" />
-------
-------        <TextView
-------            android:id="@+id/tv_quantity"
-------            android:layout_width="60dp"
-------            android:layout_height="40dp"
-------            android:layout_marginStart="8dp"
-------            android:layout_marginEnd="8dp"
-------            android:layout_marginBottom="8dp"
-------            android:background="@drawable/round_border"
-------            android:fontFamily="@font/gabarito"
-------            android:gravity="center"
-------            android:text="1"
-------            android:textColor="#212121"
-------            android:textSize="18sp" />
-------
-------        <TextView
-------            android:id="@+id/btn_increase"
-------            android:layout_width="30dp"
-------            android:layout_height="wrap_content"
-------            android:gravity="center"
-------            android:padding="8dp"
-------            android:text="+"
-------            android:textColor="#4CAF50"
-------            android:textSize="24sp" />
-------    </LinearLayout>
-------
-------    <ImageButton
-------        android:id="@+id/btn_remove"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:layout_marginEnd="8dp"
-------        android:background="@android:color/transparent"
-------        android:contentDescription="Remove Product"
-------        android:src="@drawable/delete"
-------        app:layout_constraintBottom_toBottomOf="parent"
-------        app:layout_constraintEnd_toEndOf="parent"
-------        app:layout_constraintTop_toTopOf="parent"
-------        app:layout_constraintVertical_bias="0.638" />
-------
-------</androidx.constraintlayout.widget.ConstraintLayout>
------Index: app/src/main/java/com/example/agrimart/data/model/Product.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.data.model;\r\n\r\npublic class Product {\r\n    private int image;\r\n    private String name;\r\n    private String price;\r\n    private String unit;\r\n    private String active;\r\n\r\n    public Product() {\r\n    }\r\n\r\n    public Product(int image, String name, String price, String unit) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.unit = unit;\r\n    }\r\n\r\n    public Product(int image, String name, String price, String unit, String active) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.unit = unit;\r\n        this.active = active;\r\n    }\r\n\r\n    public int getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(int image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(String price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public String getUnit() {\r\n        return unit;\r\n    }\r\n\r\n    public void setUnit(String unit) {\r\n        this.unit = unit;\r\n    }\r\n\r\n    public String getActive() {\r\n        return active;\r\n    }\r\n\r\n    public void setActive(String active) {\r\n        this.active = active;\r\n    }\r\n}\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/data/model/Product.java b/app/src/main/java/com/example/agrimart/data/model/Product.java
--------- a/app/src/main/java/com/example/agrimart/data/model/Product.java	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/java/com/example/agrimart/data/model/Product.java	(date 1726766190817)
------@@ -4,24 +4,21 @@
------     private int image;
------     private String name;
------     private String price;
-------    private String unit;
------     private String active;
------ 
------     public Product() {
------     }
------ 
-------    public Product(int image, String name, String price, String unit) {
------+    public Product(int image, String name, String price) {
------         this.image = image;
------         this.name = name;
------         this.price = price;
-------        this.unit = unit;
------     }
------ 
-------    public Product(int image, String name, String price, String unit, String active) {
------+    public Product(int image, String name, String price, String active) {
------         this.image = image;
------         this.name = name;
------         this.price = price;
-------        this.unit = unit;
------         this.active = active;
------     }
------ 
------@@ -49,14 +46,6 @@
------         this.price = price;
------     }
------ 
-------    public String getUnit() {
-------        return unit;
-------    }
-------
-------    public void setUnit(String unit) {
-------        this.unit = unit;
-------    }
-------
------     public String getActive() {
------         return active;
------     }
------@@ -64,4 +53,4 @@
------     public void setActive(String active) {
------         this.active = active;
------     }
-------}
------+}
------\ No newline at end of file
------Index: app/src/main/res/layout/activity_notification.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:id=\"@+id/main\"\r\n    tools:context=\".ui.Notification.NotificationActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"32dp\"\r\n        android:layout_height=\"32dp\"\r\n        android:layout_marginStart=\"16dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:background=\"@color/background_light\"\r\n        android:backgroundTint=\"@color/white\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/tv_title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"THÔNG BÁO\"\r\n        android:textSize=\"18sp\"\r\n        android:textStyle=\"bold\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:layout_marginBottom=\"8dp\"\r\n        android:gravity=\"center\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:layout_gravity=\"center\" />\r\n\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:id=\"@+id/recycler_notifications\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"0dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tv_title\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:dividerHeight=\"1dp\"\r\n        android:padding=\"8dp\" />\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"4dp\"\r\n        android:background=\"@drawable/round_border\"\r\n        android:padding=\"16dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tv_title\"\r\n        tools:layout_editor_absoluteX=\"0dp\"\r\n        android:layout_marginStart=\"16dp\"\r\n        android:layout_marginEnd=\"16dp\">\r\n\r\n        <de.hdodenhof.circleimageview.CircleImageView\r\n            android:id=\"@+id/notification_icon\"\r\n            android:layout_width=\"40dp\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginEnd=\"8dp\"\r\n            android:src=\"@drawable/banana\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/notification_message\"\r\n            android:layout_width=\"252dp\"\r\n            android:layout_height=\"43dp\"\r\n            android:layout_marginStart=\"14dp\"\r\n            android:layout_marginTop=\"4dp\"\r\n            android:layout_marginBottom=\"16dp\"\r\n            android:text=\"@string/notification_message\"\r\n            android:textColor=\"@android:color/black\"\r\n            android:textSize=\"14sp\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toStartOf=\"@id/notification_time\"\r\n            app:layout_constraintHorizontal_bias=\"0\"\r\n            app:layout_constraintStart_toEndOf=\"@id/notification_icon\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"1.0\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/notification_time\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"@string/notification_time\"\r\n            android:textColor=\"@android:color/darker_gray\"\r\n            android:textSize=\"12sp\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toEndOf=\"@id/notification_message\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_notification.xml b/app/src/main/res/layout/activity_notification.xml
--------- a/app/src/main/res/layout/activity_notification.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/res/layout/activity_notification.xml	(date 1726766190823)
------@@ -6,6 +6,7 @@
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------     android:id="@+id/main"
------+    android:background="@color/white"
------     tools:context=".ui.Notification.NotificationActivity">
------ 
------     <ImageButton
------Index: app/src/main/res/layout/activity_forgot_password.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/background_light\"\r\n    tools:context=\".ui.Account.ForgotPasswordActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:background=\"@color/background_light\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.077\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        style=\"@style/title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"96dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"Đặt lại mật khẩu\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.15\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"30dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n        app:boxBackgroundColor=\"@color/background_light\"\r\n        app:startIconDrawable=\"@drawable/telephone\"\r\n        app:boxBackgroundMode=\"outline\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"Nhập số điện thoại của bạn\"\r\n            android:inputType=\"phone\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_continue\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"36dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"Tiếp tục\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.905\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_forgot_password.xml b/app/src/main/res/layout/activity_forgot_password.xml
--------- a/app/src/main/res/layout/activity_forgot_password.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/res/layout/activity_forgot_password.xml	(date 1726766190836)
------@@ -5,7 +5,7 @@
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
-------    android:background="@color/background_light"
------+    android:background="@color/white"
------     tools:context=".ui.Account.ForgotPasswordActivity">
------ 
------     <ImageButton
------@@ -13,7 +13,7 @@
------         android:layout_width="wrap_content"
------         android:layout_height="wrap_content"
------         android:layout_marginTop="32dp"
-------        android:background="@color/background_light"
------+        android:background="@color/white"
------         android:src="@drawable/chevron_left"
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintHorizontal_bias="0.077"
------@@ -44,7 +44,7 @@
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintStart_toStartOf="parent"
------         app:layout_constraintTop_toBottomOf="@+id/textView2"
-------        app:boxBackgroundColor="@color/background_light"
------+        app:boxBackgroundColor="@color/white"
------         app:startIconDrawable="@drawable/telephone"
------         app:boxBackgroundMode="outline">
------ 
------Index: app/src/main/res/layout/activity_enter_otpactivity.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/background_light\"\r\n    android:id=\"@+id/main\"\r\n    tools:context=\".ui.Account.EnterOTPActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:background=\"@color/background_light\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.077\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        style=\"@style/title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"92dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"Nhập mã OTP\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/tv_description\"\r\n        android:layout_width=\"289dp\"\r\n        android:layout_height=\"52dp\"\r\n        android:layout_marginStart=\"63dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"70dp\"\r\n        android:text=\"Nhập mã vừa được gửi đến số điện thoại +84123**678\"\r\n        android:textColor=\"@color/black\"\r\n        android:textSize=\"16sp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.181\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\" />\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:boxBackgroundColor=\"@color/background_light\"\r\n        app:boxBackgroundMode=\"outline\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"1.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tv_description\"\r\n        app:startIconDrawable=\"@drawable/password\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"Nhập mã OTP\"\r\n            android:inputType=\"numberDecimal\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n\r\n    <TextView\r\n        android:id=\"@+id/haveAccount\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:fontFamily=\"@font/circular_std\"\r\n        android:text=\"@string/g_i_l_i\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.498\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/btn_confirm\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_confirm\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"32dp\"\r\n        android:layout_marginTop=\"40dp\"\r\n        android:layout_marginEnd=\"32dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"XÁC NHẬN\"\r\n        android:textAllCaps=\"true\"\r\n        android:textColor=\"@color/white\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.497\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_enter_otpactivity.xml b/app/src/main/res/layout/activity_enter_otpactivity.xml
--------- a/app/src/main/res/layout/activity_enter_otpactivity.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/res/layout/activity_enter_otpactivity.xml	(date 1726766190841)
------@@ -4,7 +4,7 @@
------     xmlns:tools="http://schemas.android.com/tools"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
-------    android:background="@color/background_light"
------+    android:background="@color/white"
------     android:id="@+id/main"
------     tools:context=".ui.Account.EnterOTPActivity">
------ 
------@@ -13,7 +13,7 @@
------         android:layout_width="wrap_content"
------         android:layout_height="wrap_content"
------         android:layout_marginTop="32dp"
-------        android:background="@color/background_light"
------+        android:background="@color/white"
------         android:src="@drawable/chevron_left"
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintHorizontal_bias="0.077"
------@@ -55,7 +55,7 @@
------         android:layout_marginStart="24dp"
------         android:layout_marginTop="20dp"
------         android:layout_marginEnd="24dp"
-------        app:boxBackgroundColor="@color/background_light"
------+        app:boxBackgroundColor="@color/white"
------         app:boxBackgroundMode="outline"
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintHorizontal_bias="1.0"
------Index: app/src/main/res/layout/activity_sign_in.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Account.SignInActivity\">\r\n\r\n    <ImageView\r\n        android:layout_width=\"200dp\"\r\n        android:layout_height=\"100dp\"\r\n        android:src=\"@drawable/logo\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        android:layout_marginTop=\"20dp\"/>\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"160dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"@string/ng_nh_p\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.092\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        style=\"@style/title\"/>\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n        app:boxBackgroundColor=\"@color/background_light\"\r\n        app:startIconDrawable=\"@drawable/telephone\"\r\n        app:boxBackgroundMode=\"outline\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"@string/sodienthoai\"\r\n            android:inputType=\"text\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout3\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\"\r\n        app:startIconDrawable=\"@drawable/key\"\r\n        app:passwordToggleEnabled=\"true\"\r\n        app:boxBackgroundMode=\"outline\"\r\n        app:boxBackgroundColor=\"@color/background_light\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPassword\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:hint=\"@string/m_t_kh_u\"\r\n            android:inputType=\"textPassword\"\r\n            android:password=\"true\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/btnSignIn\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"50dp\"\r\n        android:layout_marginTop=\"36dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:drawableEnd=\"@drawable/arrowright\"\r\n        android:text=\"Đăng nhập\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.905\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout3\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btnSignInGoogle\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"50dp\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"44dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:backgroundTintMode=\"screen\"\r\n        android:drawableLeft=\"@drawable/google\"\r\n        android:drawablePadding=\"10dp\"\r\n        android:fontFamily=\"@font/circular_std\"\r\n        android:text=\"@string/continue_with_google\"\r\n        android:textFontWeight=\"500\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/btnSignIn\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/dontHaveAccount\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:layout_marginBottom=\"30dp\"\r\n        android:backgroundTint=\"@color/background_green\"\r\n        android:backgroundTintMode=\"screen\"\r\n        android:drawablePadding=\"10dp\"\r\n        android:fontFamily=\"@font/circular_std\"\r\n        android:text=\"@string/dang_ky\"\r\n        android:textFontWeight=\"500\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/forgotPassword\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:text=\"@string/qu_n_m_t_kh_u\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout3\"\r\n        android:fontFamily=\"@font/circular_std\"/>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_sign_in.xml b/app/src/main/res/layout/activity_sign_in.xml
--------- a/app/src/main/res/layout/activity_sign_in.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/res/layout/activity_sign_in.xml	(date 1726766190846)
------@@ -5,6 +5,7 @@
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------+    android:background="@color/white"
------     tools:context=".ui.Account.SignInActivity">
------ 
------     <ImageView
------@@ -39,7 +40,7 @@
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintStart_toStartOf="parent"
------         app:layout_constraintTop_toBottomOf="@+id/textView2"
-------        app:boxBackgroundColor="@color/background_light"
------+        app:boxBackgroundColor="@color/white"
------         app:startIconDrawable="@drawable/telephone"
------         app:boxBackgroundMode="outline">
------ 
------@@ -65,7 +66,7 @@
------         app:startIconDrawable="@drawable/key"
------         app:passwordToggleEnabled="true"
------         app:boxBackgroundMode="outline"
-------        app:boxBackgroundColor="@color/background_light">
------+        app:boxBackgroundColor="@color/white">
------ 
------         <com.google.android.material.textfield.TextInputEditText
------             android:id="@+id/edtPassword"
------Index: .idea/misc.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ExternalStorageConfigurationManager\" enabled=\"true\" />\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_17\" default=\"true\" project-jdk-name=\"jbr-17\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n</project>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/.idea/misc.xml b/.idea/misc.xml
--------- a/.idea/misc.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/.idea/misc.xml	(date 1726766190856)
------@@ -1,4 +1,3 @@
-------<?xml version="1.0" encoding="UTF-8"?>
------ <project version="4">
------   <component name="ExternalStorageConfigurationManager" enabled="true" />
------   <component name="ProjectRootManager" version="2" languageLevel="JDK_17" default="true" project-jdk-name="jbr-17" project-jdk-type="JavaSDK">
------Index: app/src/main/res/layout/fragment_cart.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\"com.example.agrimart.ui.Cart.CartFragment\">\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/header\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_title\"\r\n            android:layout_width=\"126dp\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_alignParentStart=\"true\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_gravity=\"center\"\r\n            android:layout_marginStart=\"145dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:layout_marginEnd=\"140dp\"\r\n            android:layout_marginBottom=\"8dp\"\r\n            android:gravity=\"center\"\r\n            android:text=\"GIỎ HÀNG\"\r\n            android:textSize=\"18sp\"\r\n            android:textStyle=\"bold\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n    </RelativeLayout>\r\n\r\n\r\n    <FrameLayout\r\n        android:id=\"@+id/container\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_below=\"@+id/header\"\r\n        android:layout_above=\"@+id/footer\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/header\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginEnd=\"16dp\">\r\n            <com.google.android.material.imageview.ShapeableImageView\r\n                android:id=\"@+id/img_product\"\r\n                android:layout_width=\"80dp\"\r\n                android:layout_height=\"80dp\"\r\n                android:scaleType=\"centerCrop\"\r\n                android:src=\"@drawable/apple\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                android:background=\"@drawable/round_border\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_product_name\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginTop=\"12dp\"\r\n                android:text=\"@string/product_name\"\r\n                android:textColor=\"@android:color/black\"\r\n                android:textSize=\"14sp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintEnd_toStartOf=\"@+id/tv_product_price\"\r\n                app:layout_constraintHorizontal_bias=\"0.0\"\r\n                app:layout_constraintStart_toEndOf=\"@+id/img_product\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_product_price\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginEnd=\"64dp\"\r\n                android:text=\"50.000đ\"\r\n                android:textColor=\"@android:color/black\"\r\n                android:textSize=\"16sp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:layout_constraintVertical_bias=\"0.605\" />\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/quantity\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"44dp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHorizontal_bias=\"0.362\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_decrease\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:gravity=\"center\"\r\n                    android:padding=\"8dp\"\r\n                    android:text=\"-\"\r\n                    android:textColor=\"#9E9E9E\"\r\n                    android:textSize=\"24sp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_quantity\"\r\n                    android:layout_width=\"60dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:layout_marginStart=\"8dp\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:layout_marginBottom=\"8dp\"\r\n                    android:background=\"@drawable/round_border\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"1\"\r\n                    android:textColor=\"#212121\"\r\n                    android:textSize=\"18sp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_increase\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:gravity=\"center\"\r\n                    android:padding=\"8dp\"\r\n                    android:text=\"+\"\r\n                    android:textColor=\"#4CAF50\"\r\n                    android:textSize=\"24sp\" />\r\n            </LinearLayout>\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/btn_remove\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginEnd=\"8dp\"\r\n                android:background=\"@android:color/transparent\"\r\n                android:contentDescription=\"Remove Product\"\r\n                android:src=\"@drawable/delete\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:layout_constraintVertical_bias=\"0.638\" />\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n    </FrameLayout>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/footer\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentBottom=\"true\">\r\n\r\n        <Button\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_marginStart=\"48dp\"\r\n            android:layout_marginEnd=\"48dp\"\r\n            android:backgroundTint=\"@color/green\"\r\n            app:cornerRadius=\"24dp\"\r\n            android:text=\"Thanh toán\"/>\r\n    </RelativeLayout>\r\n\r\n</RelativeLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/fragment_cart.xml b/app/src/main/res/layout/fragment_cart.xml
--------- a/app/src/main/res/layout/fragment_cart.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/res/layout/fragment_cart.xml	(date 1726766190861)
------@@ -1,16 +1,17 @@
-------<?xml version="1.0" encoding="utf-8"?>
------ <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
------     xmlns:app="http://schemas.android.com/apk/res-auto"
------     xmlns:tools="http://schemas.android.com/tools"
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------+    android:background="@color/white"
------     tools:context="com.example.agrimart.ui.Cart.CartFragment">
------ 
------     <RelativeLayout
------         android:id="@+id/header"
------         android:layout_width="match_parent"
-------        android:layout_height="wrap_content">
------+        android:layout_height="wrap_content"
------+        android:background="@color/green">
------ 
------         <TextView
------             android:id="@+id/tv_title"
------@@ -32,120 +33,114 @@
------             app:layout_constraintTop_toTopOf="parent" />
------     </RelativeLayout>
------ 
-------
------     <FrameLayout
------         android:id="@+id/container"
------         android:layout_width="match_parent"
-------        android:layout_height="match_parent"
------+        android:layout_height="wrap_content"
------         android:layout_below="@+id/header"
------         android:layout_above="@+id/footer">
------ 
-------        <androidx.constraintlayout.widget.ConstraintLayout
-------            android:layout_width="match_parent"
-------            android:layout_height="wrap_content"
-------            android:layout_below="@id/header"
-------            android:layout_marginStart="16dp"
-------            android:layout_marginEnd="16dp">
-------            <com.google.android.material.imageview.ShapeableImageView
-------                android:id="@+id/img_product"
-------                android:layout_width="80dp"
-------                android:layout_height="80dp"
-------                android:scaleType="centerCrop"
-------                android:src="@drawable/apple"
-------                app:layout_constraintStart_toStartOf="parent"
-------                app:layout_constraintTop_toTopOf="parent"
-------                app:layout_constraintBottom_toBottomOf="parent"
-------                android:background="@drawable/round_border"/>
------+        <androidx.cardview.widget.CardView
------+            android:layout_width="match_parent"
------+            android:layout_height="wrap_content"
------+            android:layout_margin="10dp"
------+            app:cardCornerRadius="8dp"
------+            app:cardElevation="4dp"
------+            app:cardBackgroundColor="@android:color/white">
------+
------+            <androidx.constraintlayout.widget.ConstraintLayout
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:padding="10dp">
------+
------+                <CheckBox
------+                    android:id="@+id/checkbox_select"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    app:layout_constraintStart_toStartOf="parent"
------+                    app:layout_constraintTop_toTopOf="parent"
------+                    app:layout_constraintBottom_toBottomOf="parent" />
------+
------+                <com.google.android.material.imageview.ShapeableImageView
------+                    android:id="@+id/img_product"
------+                    android:layout_width="60dp"
------+                    android:layout_height="60dp"
------+                    android:scaleType="centerCrop"
------+                    android:src="@drawable/apple"
------+                    app:layout_constraintStart_toEndOf="@id/checkbox_select"
------+                    app:layout_constraintTop_toTopOf="parent"
------+                    app:layout_constraintBottom_toBottomOf="parent"
------+                    android:background="@drawable/round_border"/>
------ 
-------            <TextView
-------                android:id="@+id/tv_product_name"
-------                android:layout_width="0dp"
-------                android:layout_height="wrap_content"
-------                android:layout_marginStart="16dp"
-------                android:layout_marginTop="12dp"
-------                android:text="@string/product_name"
-------                android:textColor="@android:color/black"
-------                android:textSize="14sp"
-------                android:textStyle="bold"
-------                app:layout_constraintEnd_toStartOf="@+id/tv_product_price"
-------                app:layout_constraintHorizontal_bias="0.0"
-------                app:layout_constraintStart_toEndOf="@+id/img_product"
-------                app:layout_constraintTop_toTopOf="parent" />
------+                <TextView
------+                    android:id="@+id/tv_product_name"
------+                    android:layout_width="0dp"
------+                    android:layout_height="wrap_content"
------+                    android:layout_marginStart="16dp"
------+                    android:layout_marginTop="12dp"
------+                    android:text="@string/product_name"
------+                    android:textColor="@android:color/black"
------+                    android:textSize="18sp"
------+                    android:textStyle="bold"
------+                    app:layout_constraintEnd_toStartOf="@id/tv_product_price"
------+                    app:layout_constraintStart_toEndOf="@id/img_product"
------+                    app:layout_constraintTop_toTopOf="parent" />
------ 
-------            <TextView
-------                android:id="@+id/tv_product_price"
-------                android:layout_width="wrap_content"
-------                android:layout_height="wrap_content"
-------                android:layout_marginEnd="64dp"
-------                android:text="50.000đ"
-------                android:textColor="@android:color/black"
-------                android:textSize="16sp"
-------                android:textStyle="bold"
-------                app:layout_constraintBottom_toBottomOf="parent"
-------                app:layout_constraintEnd_toEndOf="parent"
-------                app:layout_constraintTop_toTopOf="parent"
-------                app:layout_constraintVertical_bias="0.605" />
-------
-------            <LinearLayout
-------                android:id="@+id/quantity"
-------                android:layout_width="wrap_content"
-------                android:layout_height="wrap_content"
-------                android:layout_marginTop="44dp"
-------                app:layout_constraintEnd_toEndOf="parent"
-------                app:layout_constraintHorizontal_bias="0.362"
-------                app:layout_constraintStart_toStartOf="parent"
-------                app:layout_constraintTop_toTopOf="parent">
-------
-------                <TextView
-------                    android:id="@+id/btn_decrease"
-------                    android:layout_width="30dp"
-------                    android:layout_height="wrap_content"
-------                    android:gravity="center"
-------                    android:padding="8dp"
-------                    android:text="-"
-------                    android:textColor="#9E9E9E"
-------                    android:textSize="24sp" />
-------
-------                <TextView
-------                    android:id="@+id/tv_quantity"
-------                    android:layout_width="60dp"
-------                    android:layout_height="40dp"
-------                    android:layout_marginStart="8dp"
-------                    android:layout_marginEnd="8dp"
-------                    android:layout_marginBottom="8dp"
-------                    android:background="@drawable/round_border"
-------                    android:fontFamily="@font/gabarito"
-------                    android:gravity="center"
-------                    android:text="1"
-------                    android:textColor="#212121"
-------                    android:textSize="18sp" />
-------
-------                <TextView
-------                    android:id="@+id/btn_increase"
-------                    android:layout_width="30dp"
-------                    android:layout_height="wrap_content"
-------                    android:gravity="center"
-------                    android:padding="8dp"
-------                    android:text="+"
-------                    android:textColor="#4CAF50"
-------                    android:textSize="24sp" />
-------            </LinearLayout>
------+                <TextView
------+                    android:id="@+id/quantity"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:layout_marginTop="20dp"
------+                    android:text="1kg"
------+                    app:layout_constraintEnd_toStartOf="@id/tv_product_price"
------+                    app:layout_constraintHorizontal_bias="0.093"
------+                    app:layout_constraintStart_toEndOf="@id/img_product"
------+                    app:layout_constraintTop_toBottomOf="@id/tv_product_name" />
------+
------+                <TextView
------+                    android:id="@+id/tv_product_price"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:layout_marginEnd="4dp"
------+                    android:text="50.000đ"
------+                    android:textColor="@android:color/black"
------+                    android:textSize="16sp"
------+                    android:textStyle="bold"
------+                    app:layout_constraintBottom_toBottomOf="parent"
------+                    app:layout_constraintEnd_toEndOf="parent"
------+                    app:layout_constraintTop_toTopOf="parent"
------+                    app:layout_constraintVertical_bias="1.0" />
------ 
-------            <ImageButton
-------                android:id="@+id/btn_remove"
-------                android:layout_width="wrap_content"
-------                android:layout_height="wrap_content"
-------                android:layout_marginEnd="8dp"
-------                android:background="@android:color/transparent"
-------                android:contentDescription="Remove Product"
-------                android:src="@drawable/delete"
-------                app:layout_constraintBottom_toBottomOf="parent"
-------                app:layout_constraintEnd_toEndOf="parent"
-------                app:layout_constraintTop_toTopOf="parent"
-------                app:layout_constraintVertical_bias="0.638" />
-------        </androidx.constraintlayout.widget.ConstraintLayout>
------+                <ImageButton
------+                    android:id="@+id/btn_remove"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:layout_marginEnd="4dp"
------+                    android:background="@android:color/transparent"
------+                    android:contentDescription="Remove Product"
------+                    android:src="@drawable/delete"
------+                    app:layout_constraintBottom_toBottomOf="parent"
------+                    app:layout_constraintEnd_toEndOf="parent"
------+                    app:layout_constraintTop_toTopOf="parent"
------+                    app:layout_constraintVertical_bias="0.0" />
------+            </androidx.constraintlayout.widget.ConstraintLayout>
------+        </androidx.cardview.widget.CardView>
------     </FrameLayout>
------ 
------+    <RelativeLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="wrap_content"
------+        android:layout_above="@id/footer">
------+        <TextView
------+            android:id="@+id/tv_total_price"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:text="Tổng tiền: 0đ"
------+            android:textSize="18sp"
------+            android:textStyle="bold"
------+            android:layout_margin="16dp"/>
------+    </RelativeLayout>
------+
------     <RelativeLayout
------         android:id="@+id/footer"
------         android:layout_width="match_parent"
------@@ -153,6 +148,7 @@
------         android:layout_alignParentBottom="true">
------ 
------         <Button
------+            android:id="@+id/btn_checkout"
------             android:layout_width="match_parent"
------             android:layout_height="60dp"
------             android:layout_marginStart="48dp"
------Index: app/src/main/res/layout/fragment_explore.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Explore.ExploreFragment\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/header\"\r\n        android:background=\"@color/green\"\r\n        android:orientation=\"horizontal\"\r\n        android:padding=\"16dp\">\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/search_card\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_weight=\"1\"\r\n            app:cardCornerRadius=\"8dp\"\r\n            app:cardElevation=\"4dp\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:padding=\"8dp\"\r\n                android:id=\"@+id/search_bar\">\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/search_icon\"\r\n                    android:layout_width=\"24dp\"\r\n                    android:layout_height=\"24dp\"\r\n                    android:src=\"@drawable/ic_search\"\r\n                    android:tint=\"@color/black\"\r\n                    android:layout_gravity=\"center_vertical\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:background=\"@color/white\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/search_input\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"1\"\r\n                    android:hint=\"@string/search\"\r\n                    android:background=\"@null\"\r\n                    android:padding=\"8dp\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:textColorHint=\"@android:color/darker_gray\" />\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/filter_icon\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_gravity=\"center_vertical\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:layout_marginEnd=\"4dp\"\r\n            android:background=\"@color/green\"\r\n            android:src=\"@drawable/filter\"\r\n            android:tint=\"@color/black\" />\r\n\r\n    </LinearLayout>\r\n\r\n    <com.google.android.material.tabs.TabLayout\r\n        android:id=\"@+id/tabLayout\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/header\"\r\n        android:paddingStart=\"5dp\"\r\n        android:paddingEnd=\"5dp\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:layout_marginStart=\"10dp\"\r\n        android:layout_marginEnd=\"10dp\"\r\n        app:tabMode=\"scrollable\"\r\n        app:tabGravity=\"fill\"\r\n        app:tabBackground=\"@drawable/tab_background\"\r\n        app:tabIndicator=\"@null\"\r\n        app:tabTextColor=\"@color/black\"\r\n        app:tabSelectedTextColor=\"@color/white\"\r\n        app:tabSelectedTextAppearance=\"@color/transparent\"\r\n        app:tabTextAppearance=\"@style/TabTextAppearance\" />\r\n\r\n\r\n    <androidx.viewpager2.widget.ViewPager2\r\n        android:id=\"@+id/viewPager\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_below=\"@id/tabLayout\"/>\r\n</RelativeLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/fragment_explore.xml b/app/src/main/res/layout/fragment_explore.xml
--------- a/app/src/main/res/layout/fragment_explore.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/res/layout/fragment_explore.xml	(date 1726766190866)
------@@ -67,7 +67,7 @@
------     <com.google.android.material.tabs.TabLayout
------         android:id="@+id/tabLayout"
------         android:layout_width="match_parent"
-------        android:layout_height="wrap_content"
------+        android:layout_height="30dp"
------         android:layout_below="@id/header"
------         android:paddingStart="5dp"
------         android:paddingEnd="5dp"
------@@ -76,12 +76,14 @@
------         android:layout_marginEnd="10dp"
------         app:tabMode="scrollable"
------         app:tabGravity="fill"
------+        app:tabIndicatorGravity="center"
------         app:tabBackground="@drawable/tab_background"
------         app:tabIndicator="@null"
------         app:tabTextColor="@color/black"
------         app:tabSelectedTextColor="@color/white"
------         app:tabSelectedTextAppearance="@color/transparent"
-------        app:tabTextAppearance="@style/TabTextAppearance" />
------+        app:tabTextAppearance="@style/TabTextAppearance"
------+        app:tabRippleColor="@null" />
------ 
------ 
------     <androidx.viewpager2.widget.ViewPager2
------Index: app/src/main/res/layout/fragment_my_profile.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.MyProfile.MyProfileFragment\">\r\n\r\n    <LinearLayout\r\n        android:id=\"@+id/id_myProject\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"200dp\"\r\n        android:layout_marginBottom=\"20dp\"\r\n        android:background=\"@drawable/shape_rounded_bottom\"\r\n        android:gravity=\"center|top\"\r\n        android:backgroundTint=\"@color/account_my_project\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/profile_title\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"10dp\"\r\n            android:layout_marginBottom=\"30dp\"\r\n            android:text=\"Hồ Sơ Của Tôi\"\r\n            android:textColor=\"@color/white\"\r\n            android:textSize=\"11pt\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"101dp\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <RelativeLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\">\r\n\r\n                <!-- Ảnh chính với nền tròn -->\r\n                <com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=\"@+id/profile_image\"\r\n                    android:layout_width=\"100dp\"\r\n                    android:layout_height=\"100dp\"\r\n                    android:layout_marginStart=\"20dp\"\r\n                    android:scaleType=\"centerCrop\"\r\n                    android:src=\"@drawable/apple\"\r\n                    app:shapeAppearanceOverlay=\"@style/CircleShape\" />\r\n\r\n                <!-- Biểu tượng chỉnh sửa bên dưới ảnh chính -->\r\n                <ImageView\r\n                    android:id=\"@+id/edit_profile_icon\"\r\n                    android:layout_width=\"40dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:layout_alignEnd=\"@+id/profile_image\"\r\n                    android:layout_alignBottom=\"@+id/profile_image\"\r\n                    android:layout_marginEnd=\"0dp\"\r\n                    android:layout_marginBottom=\"0dp\"\r\n                    android:background=\"@drawable/rounded_edit_profile\"\r\n                    android:padding=\"10dp\"\r\n                    android:src=\"@drawable/edit\" />\r\n\r\n            </RelativeLayout>\r\n\r\n            <TextView\r\n                android:id=\"@+id/profile_name\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_marginStart=\"25dp\"\r\n                android:layout_marginEnd=\"20dp\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/white\"\r\n                android:text=\"Hoàng Huy Long\"\r\n                android:textSize=\"11pt\"\r\n                android:textStyle=\"bold\" />\r\n\r\n        </LinearLayout>\r\n\r\n    </LinearLayout>\r\n\r\n    <ScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:id=\"@+id/id_ScrollView_myProject\"\r\n        android:layout_above=\"@+id/frameLayout_MyProject\"\r\n        android:layout_below=\"@+id/id_myProject\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <!-- Chỉnh sửa hồ sơ -->\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/edit_profile_nex1t\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_weight=\"1\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/editing\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/edit_profile_text\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"3\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"11pt\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:text=\"Chỉnh sửa hồ sơ\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/edit_profile_next\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:layout_weight=\"1\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <!-- Divider -->\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"1dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:layout_marginEnd=\"15dp\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:background=\"#65424242\" />\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"56dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_map_img\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/map\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/my_map_text\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"3\"\r\n                    android:text=\"Địa chỉ\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"11pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_map_next\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"1dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:layout_marginEnd=\"15dp\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:background=\"#65424242\" />\r\n\r\n            <!-- Thay đổi mật khẩu -->\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"56dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/change_password_next1\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/padlock\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/change_password_text\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"3\"\r\n                    android:text=\"Thay đổi mật khẩu\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"11pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/change_password_next\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <!-- Divider -->\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"1dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:layout_marginEnd=\"15dp\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:background=\"#65424242\" />\r\n\r\n            <!-- Phương thức thanh toán -->\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"56dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/payment_method_next1\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/valid\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/payment_method_text\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"3\"\r\n                    android:text=\"Phương thức thanh toán\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"11pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/payment_method_next\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <!-- Divider -->\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"1dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:layout_marginEnd=\"15dp\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:background=\"#65424242\" />\r\n\r\n            <!-- Đơn hàng của tôi -->\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"56dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_orders_next1\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/logistics\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/my_orders_text\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"3\"\r\n                    android:text=\"Đơn hàng của tôi\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"11pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_orders_next\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/next\" />\r\n\r\n\r\n            </LinearLayout>\r\n\r\n\r\n\r\n        </LinearLayout>\r\n\r\n\r\n    </ScrollView>\r\n\r\n    <FrameLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:id=\"@+id/frameLayout_MyProject\"\r\n        android:layout_alignParentBottom=\"true\"\r\n        android:layout_height=\"wrap_content\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"350dp\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_gravity=\"top|center\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:layout_marginBottom=\"20dp\"\r\n            android:backgroundTint=\"@color/account_my_project\"\r\n            android:background=\"@drawable/rounded_edittext\"\r\n\r\n            android:gravity=\"center\"\r\n            android:orientation=\"horizontal\"> <!-- Thêm sự kiện onClick -->\r\n\r\n\r\n            <ImageView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:contentDescription=\"@string/todo\"\r\n                android:paddingEnd=\"8dp\"\r\n                android:src=\"@drawable/logout\" /> <!-- Điều chỉnh khoảng cách giữa icon và chữ -->\r\n\r\n            <TextView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"Đăng xuất\"\r\n                android:textAllCaps=\"false\"\r\n                android:textColor=\"@color/white\"\r\n                android:textSize=\"11pt\" />\r\n\r\n        </LinearLayout>\r\n    </FrameLayout>\r\n\r\n\r\n</RelativeLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/fragment_my_profile.xml b/app/src/main/res/layout/fragment_my_profile.xml
--------- a/app/src/main/res/layout/fragment_my_profile.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/res/layout/fragment_my_profile.xml	(date 1726766190871)
------@@ -5,132 +5,58 @@
------     android:layout_height="match_parent"
------     tools:context=".ui.MyProfile.MyProfileFragment">
------ 
-------    <LinearLayout
-------        android:id="@+id/id_myProject"
-------        android:layout_width="match_parent"
-------        android:layout_height="200dp"
-------        android:layout_marginBottom="20dp"
-------        android:background="@drawable/shape_rounded_bottom"
-------        android:gravity="center|top"
-------        android:backgroundTint="@color/account_my_project"
-------        android:orientation="vertical">
-------
-------        <TextView
-------            android:id="@+id/profile_title"
-------            android:layout_width="wrap_content"
-------            android:layout_height="wrap_content"
-------            android:layout_marginTop="10dp"
-------            android:layout_marginBottom="30dp"
-------            android:text="Hồ Sơ Của Tôi"
-------            android:textColor="@color/white"
-------            android:textSize="11pt"
-------            android:textStyle="bold" />
-------
-------        <LinearLayout
-------            android:layout_width="match_parent"
-------            android:layout_height="101dp"
-------            android:orientation="horizontal">
-------
-------            <RelativeLayout
-------                android:layout_width="wrap_content"
-------                android:layout_height="wrap_content">
-------
-------                <!-- Ảnh chính với nền tròn -->
-------                <com.google.android.material.imageview.ShapeableImageView
-------                    android:id="@+id/profile_image"
-------                    android:layout_width="100dp"
-------                    android:layout_height="100dp"
-------                    android:layout_marginStart="20dp"
-------                    android:scaleType="centerCrop"
-------                    android:src="@drawable/apple"
-------                    app:shapeAppearanceOverlay="@style/CircleShape" />
-------
-------                <!-- Biểu tượng chỉnh sửa bên dưới ảnh chính -->
-------                <ImageView
-------                    android:id="@+id/edit_profile_icon"
-------                    android:layout_width="40dp"
-------                    android:layout_height="40dp"
-------                    android:layout_alignEnd="@+id/profile_image"
-------                    android:layout_alignBottom="@+id/profile_image"
-------                    android:layout_marginEnd="0dp"
-------                    android:layout_marginBottom="0dp"
-------                    android:background="@drawable/rounded_edit_profile"
-------                    android:padding="10dp"
-------                    android:src="@drawable/edit" />
-------
-------            </RelativeLayout>
-------
-------            <TextView
-------                android:id="@+id/profile_name"
-------                android:layout_width="wrap_content"
-------                android:layout_height="wrap_content"
-------                android:layout_gravity="center"
-------                android:layout_marginStart="25dp"
-------                android:layout_marginEnd="20dp"
-------                android:layout_weight="1"
-------                android:textColor="@color/white"
-------                android:text="Hoàng Huy Long"
-------                android:textSize="11pt"
-------                android:textStyle="bold" />
-------
-------        </LinearLayout>
-------
-------    </LinearLayout>
------ 
------     <ScrollView
------+        android:id="@+id/id_ScrollView_myProject"
------         android:layout_width="match_parent"
------         android:layout_height="match_parent"
-------        android:id="@+id/id_ScrollView_myProject"
-------        android:layout_above="@+id/frameLayout_MyProject"
-------        android:layout_below="@+id/id_myProject">
------+        android:layout_above="@+id/frameLayout_MyProject">
------ 
------         <LinearLayout
------             android:layout_width="match_parent"
------             android:layout_height="wrap_content"
------             android:orientation="vertical">
------ 
-------            <!-- Chỉnh sửa hồ sơ -->
------             <LinearLayout
------                 android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------                 android:layout_marginTop="20dp"
------                 android:layout_marginBottom="15dp"
-------                android:layout_height="wrap_content"
------                 android:orientation="horizontal">
------ 
------                 <ImageView
------                     android:id="@+id/edit_profile_nex1t"
-------                    android:layout_width="0dp"
------+                    android:layout_width="75dp"
------                     android:layout_height="30dp"
------+                    android:layout_gravity="center"
------                     android:layout_weight="1"
-------                    android:layout_gravity="center"
------                     android:src="@drawable/editing" />
------ 
------                 <TextView
------                     android:id="@+id/edit_profile_text"
------                     android:layout_width="0dp"
------                     android:layout_height="wrap_content"
------+                    android:layout_gravity="center"
------                     android:layout_weight="3"
------+                    android:text="Đăng bán"
------                     android:textColor="@color/black"
-------                    android:textSize="11pt"
-------                    android:layout_gravity="center"
-------                    android:text="Chỉnh sửa hồ sơ" />
------+                    android:textSize="11pt" />
------ 
------                 <ImageView
------                     android:id="@+id/edit_profile_next"
------                     android:layout_width="0dp"
------                     android:layout_height="25dp"
-------                    android:layout_weight="1"
------                     android:layout_gravity="center"
------+                    android:layout_weight="1"
------                     android:src="@drawable/next" />
------             </LinearLayout>
------ 
-------            <!-- Divider -->
------             <View
------                 android:layout_width="match_parent"
------                 android:layout_height="1dp"
------                 android:layout_marginStart="15dp"
-------                android:layout_marginEnd="15dp"
------                 android:layout_marginTop="5dp"
------+                android:layout_marginEnd="15dp"
------                 android:background="#65424242" />
------ 
------             <LinearLayout
------@@ -154,7 +80,7 @@
------                     android:layout_height="wrap_content"
------                     android:layout_gravity="center"
------                     android:layout_weight="3"
-------                    android:text="Địa chỉ"
------+                    android:text="Quản lý đơn hàng"
------                     android:textColor="@color/black"
------                     android:textSize="11pt" />
------ 
------@@ -171,136 +97,20 @@
------                 android:layout_width="match_parent"
------                 android:layout_height="1dp"
------                 android:layout_marginStart="15dp"
-------                android:layout_marginEnd="15dp"
------                 android:layout_marginTop="5dp"
------+                android:layout_marginEnd="15dp"
------                 android:background="#65424242" />
------ 
-------            <!-- Thay đổi mật khẩu -->
-------            <LinearLayout
-------                android:layout_width="match_parent"
-------                android:layout_height="56dp"
-------                android:layout_marginTop="20dp"
-------                android:layout_marginBottom="15dp"
-------                android:orientation="horizontal">
-------
-------                <ImageView
-------                    android:id="@+id/change_password_next1"
-------                    android:layout_width="0dp"
-------                    android:layout_height="30dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/padlock" />
-------
-------                <TextView
-------                    android:id="@+id/change_password_text"
-------                    android:layout_width="0dp"
-------                    android:layout_height="wrap_content"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="3"
-------                    android:text="Thay đổi mật khẩu"
-------                    android:textColor="@color/black"
-------                    android:textSize="11pt" />
-------
-------                <ImageView
-------                    android:id="@+id/change_password_next"
-------                    android:layout_width="0dp"
-------                    android:layout_height="25dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/next" />
-------            </LinearLayout>
------ 
------             <!-- Divider -->
------             <View
------                 android:layout_width="match_parent"
------                 android:layout_height="1dp"
------                 android:layout_marginStart="15dp"
-------                android:layout_marginEnd="15dp"
------                 android:layout_marginTop="5dp"
-------                android:background="#65424242" />
-------
-------            <!-- Phương thức thanh toán -->
-------            <LinearLayout
-------                android:layout_width="match_parent"
-------                android:layout_height="56dp"
-------                android:layout_marginTop="20dp"
-------                android:layout_marginBottom="15dp"
-------                android:orientation="horizontal">
-------
-------                <ImageView
-------                    android:id="@+id/payment_method_next1"
-------                    android:layout_width="0dp"
-------                    android:layout_height="30dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/valid" />
-------
-------                <TextView
-------                    android:id="@+id/payment_method_text"
-------                    android:layout_width="0dp"
-------                    android:layout_height="wrap_content"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="3"
-------                    android:text="Phương thức thanh toán"
-------                    android:textColor="@color/black"
-------                    android:textSize="11pt" />
-------
-------                <ImageView
-------                    android:id="@+id/payment_method_next"
-------                    android:layout_width="0dp"
-------                    android:layout_height="25dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/next" />
-------            </LinearLayout>
-------
-------            <!-- Divider -->
-------            <View
-------                android:layout_width="match_parent"
-------                android:layout_height="1dp"
-------                android:layout_marginStart="15dp"
------                 android:layout_marginEnd="15dp"
-------                android:layout_marginTop="5dp"
------                 android:background="#65424242" />
------ 
-------            <!-- Đơn hàng của tôi -->
-------            <LinearLayout
-------                android:layout_width="match_parent"
-------                android:layout_height="56dp"
-------                android:layout_marginTop="20dp"
-------                android:layout_marginBottom="15dp"
-------                android:orientation="horizontal">
-------
-------                <ImageView
-------                    android:id="@+id/my_orders_next1"
-------                    android:layout_width="0dp"
-------                    android:layout_height="30dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/logistics" />
-------
-------                <TextView
-------                    android:id="@+id/my_orders_text"
-------                    android:layout_width="0dp"
-------                    android:layout_height="wrap_content"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="3"
-------                    android:text="Đơn hàng của tôi"
-------                    android:textColor="@color/black"
-------                    android:textSize="11pt" />
-------
-------                <ImageView
-------                    android:id="@+id/my_orders_next"
-------                    android:layout_width="0dp"
-------                    android:layout_height="25dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/next" />
-------
-------
-------            </LinearLayout>
-------
-------
------ 
------         </LinearLayout>
------ 
------@@ -320,7 +130,7 @@
------             android:layout_marginStart="10dp"
------             android:layout_marginTop="20dp"
------             android:layout_marginBottom="20dp"
-------            android:backgroundTint="@color/account_my_project"
------+            android:backgroundTint="@color/green"
------             android:background="@drawable/rounded_edittext"
------ 
------             android:gravity="center"
------Index: app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.MyProfile;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\n\r\nimport com.example.agrimart.R;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link MyProfileFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class MyProfileFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public MyProfileFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment MyProfileFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static MyProfileFragment newInstance(String param1, String param2) {\r\n        MyProfileFragment fragment = new MyProfileFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_my_profile, container, false);\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getActivity().getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.account_my_project)); // Thay \"your_color\" bằng màu bạn muốn\r\n        }\r\n\r\n        return view;\r\n    }\r\n\r\n    public void onLogoutClick(View view) {\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java
--------- a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java	(date 1726766190877)
------@@ -69,7 +69,7 @@
------         if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
------             Window window = getActivity().getWindow();
------             window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);
-------            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.account_my_project)); // Thay "your_color" bằng màu bạn muốn
------+            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));
------         }
------ 
------         return view;
------Index: app/src/main/res/layout/fragment_home.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><RelativeLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Homepage.HomeFragment\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/header\"\r\n        android:background=\"@color/green\"\r\n        android:orientation=\"horizontal\"\r\n        android:padding=\"16dp\">\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/search_card\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_weight=\"1\"\r\n            app:cardCornerRadius=\"8dp\"\r\n            app:cardElevation=\"4dp\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:padding=\"8dp\"\r\n                android:id=\"@+id/search_bar\">\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/search_icon\"\r\n                    android:layout_width=\"24dp\"\r\n                    android:layout_height=\"24dp\"\r\n                    android:src=\"@drawable/ic_search\"\r\n                    android:tint=\"@color/black\"\r\n                    android:layout_gravity=\"center_vertical\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:background=\"@color/white\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/search_input\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"1\"\r\n                    android:hint=\"@string/search\"\r\n                    android:background=\"@null\"\r\n                    android:padding=\"8dp\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:textColorHint=\"@android:color/darker_gray\" />\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/notification_icon\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_gravity=\"center_vertical\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:layout_marginEnd=\"4dp\"\r\n            android:background=\"@color/green\"\r\n            android:src=\"@drawable/bell\"\r\n            android:tint=\"@color/black\" />\r\n    </LinearLayout>\r\n\r\n    <androidx.core.widget.NestedScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/header\"\r\n        android:scrollbars=\"none\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\"\r\n            android:layout_marginTop=\"10dp\">\r\n            <RelativeLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\">\r\n                <TextView\r\n                    android:id=\"@+id/categories\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"20sp\"\r\n                    android:layout_marginStart=\"24dp\"\r\n                    android:textStyle=\"bold\"\r\n                    android:textColor=\"#272727\"\r\n                    android:fontFamily=\"@font/circular_std\"\r\n                    android:text=\"@string/categories\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/see_all\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_alignParentEnd=\"true\"\r\n                    android:layout_marginEnd=\"23dp\"\r\n                    android:fontFamily=\"@font/circular_std\"\r\n                    android:text=\"@string/see_all\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"14sp\"/>\r\n            </RelativeLayout>\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/rvCategories\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:padding=\"8dp\"\r\n                android:clipToPadding=\"false\" />\r\n            <RelativeLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\">\r\n                <TextView\r\n                    android:id=\"@+id/top_selling\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"20sp\"\r\n                    android:text=\"@string/top_selling\"\r\n                    android:layout_marginTop=\"24dp\"\r\n                    android:textColor=\"#272727\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:layout_marginStart=\"24dp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/see_all1\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"14sp\"\r\n                    android:layout_alignParentEnd=\"true\"\r\n                    android:layout_marginEnd=\"24dp\"\r\n                    android:layout_marginTop=\"24dp\"\r\n                    android:fontFamily=\"@font/circular_std\"\r\n                    android:text=\"@string/see_all\"\r\n                    android:textColor=\"@color/black\" />\r\n            </RelativeLayout>\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/rvProducts\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginStart=\"10dp\"\r\n                android:layout_marginEnd=\"10dp\"\r\n                android:nestedScrollingEnabled=\"false\"/>\r\n        </LinearLayout>\r\n    </androidx.core.widget.NestedScrollView>\r\n</RelativeLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/fragment_home.xml b/app/src/main/res/layout/fragment_home.xml
--------- a/app/src/main/res/layout/fragment_home.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/res/layout/fragment_home.xml	(date 1726766190910)
------@@ -14,6 +14,12 @@
------         android:background="@color/green"
------         android:orientation="horizontal"
------         android:padding="16dp">
------+        <RelativeLayout
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:id="@+id/top">
------+
------+        </RelativeLayout>
------ 
------         <androidx.cardview.widget.CardView
------             android:id="@+id/search_card"
------Index: app/src/main/res/drawable/tab_background.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><selector xmlns:android=\"http://schemas.android.com/apk/res/android\">\r\n    <item android:state_selected=\"true\">\r\n        <shape android:shape=\"rectangle\">\r\n            <solid android:color=\"@color/green\"/>\r\n            <corners android:radius=\"24dp\"/>\r\n            <padding android:left=\"0dp\" android:top=\"0dp\" android:right=\"0dp\" android:bottom=\"0dp\"/>\r\n        </shape>\r\n    </item>\r\n    <item>\r\n        <shape android:shape=\"rectangle\">\r\n            <solid android:color=\"@color/white\"/>\r\n            <corners android:radius=\"24dp\"/>\r\n            <padding android:left=\"4dp\" android:top=\"0dp\" android:right=\"0dp\" android:bottom=\"0dp\"/>\r\n        </shape>\r\n    </item>\r\n</selector>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/drawable/tab_background.xml b/app/src/main/res/drawable/tab_background.xml
--------- a/app/src/main/res/drawable/tab_background.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/res/drawable/tab_background.xml	(date 1726766190915)
------@@ -8,9 +8,9 @@
------     </item>
------     <item>
------         <shape android:shape="rectangle">
-------            <solid android:color="@color/white"/>
------+            <solid android:color="@color/transparent"/>
------             <corners android:radius="24dp"/>
-------            <padding android:left="4dp" android:top="0dp" android:right="0dp" android:bottom="0dp"/>
------+            <padding android:left="0dp" android:top="0dp" android:right="0dp" android:bottom="0dp"/>
------         </shape>
------     </item>
-------</selector>
------+</selector>
------\ No newline at end of file
------Index: app/src/main/java/com/example/agrimart/ui/Explore/CategoryFragment.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.Explore;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Product;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CategoryFragment extends Fragment {\r\n    private String categoryName;\r\n\r\n    public CategoryFragment(String categoryName) {\r\n        this.categoryName = categoryName;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_category, container, false);\r\n\r\n        RecyclerView recyclerView = view.findViewById(R.id.recyclerView);\r\n        recyclerView.setLayoutManager(new GridLayoutManager(getContext(), 2));\r\n\r\n        List<Product> products = new ArrayList<>();\r\n\r\n        if (categoryName.equals(\"Rau củ quả\")) {\r\n            products.add(new Product(R.drawable.vegetable, \"Vegetable 1\", \"Price\", \"Quantity\", \"Description\"));\r\n        }\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n        });\r\n        recyclerView.setAdapter(productAdapter);\r\n\r\n        return view;\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Explore/CategoryFragment.java b/app/src/main/java/com/example/agrimart/ui/Explore/CategoryFragment.java
--------- a/app/src/main/java/com/example/agrimart/ui/Explore/CategoryFragment.java	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/java/com/example/agrimart/ui/Explore/CategoryFragment.java	(date 1726766190920)
------@@ -34,7 +34,14 @@
------         List<Product> products = new ArrayList<>();
------ 
------         if (categoryName.equals("Rau củ quả")) {
-------            products.add(new Product(R.drawable.vegetable, "Vegetable 1", "Price", "Quantity", "Description"));
------+            products.add(new Product(R.drawable.vegetable, "Cà chua", "20.000đ"));
------+            products.add(new Product(R.drawable.vegetable, "Cà rốt", "15.000đ"));
------+            products.add(new Product(R.drawable.vegetable, "Bí đỏ", "10.000đ"));
------+        }
------+        else if (categoryName.equals("Trái cây")) {
------+            products.add(new Product(R.drawable.apple, "Dâu tây", "30.000đ"));
------+            products.add(new Product(R.drawable.apple, "Chuối", "10.000đ"));
------+            products.add(new Product(R.drawable.apple, "Cam", "20.000đ"));
------         }
------ 
------         ProductAdapter productAdapter = new ProductAdapter(products, product -> {
------Index: app/src/main/res/layout/activity_post_product.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><LinearLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"vertical\"\r\n    android:id=\"@+id/main\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:paddingStart=\"12dp\"\r\n        android:paddingEnd=\"12dp\"\r\n\r\n        android:paddingTop=\"16dp\"\r\n        android:orientation=\"horizontal\">\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/btn_back\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"30dp\"\r\n            android:layout_marginTop=\"2dp\"\r\n            android:layout_weight=\"1\"\r\n            android:src=\"@drawable/chevron_left\"\r\n            android:background=\"@color/white\"/>\r\n\r\n        <TextView\r\n            android:id=\"@+id/textView1\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_gravity=\"center_horizontal\"\r\n            android:layout_weight=\"1\"\r\n            android:gravity=\"center\"\r\n            android:paddingBottom=\"16dp\"\r\n            android:text=\"@string/dang_san_pham\"\r\n            android:textSize=\"24sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/textView2\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_weight=\"1\"\r\n            android:text=\"\" />\r\n    </LinearLayout>\r\n\r\n    <View\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"3dp\"\r\n        android:background=\"#65424242\" />\r\n\r\n    <FrameLayout\r\n        android:id=\"@+id/fragmentPostProduct\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"/>\r\n\r\n</LinearLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_post_product.xml b/app/src/main/res/layout/activity_post_product.xml
--------- a/app/src/main/res/layout/activity_post_product.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/res/layout/activity_post_product.xml	(date 1726766190941)
------@@ -3,7 +3,8 @@
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------     android:orientation="vertical"
-------    android:id="@+id/main">
------+    android:id="@+id/main"
------+    android:background="@color/white">
------ 
------     <LinearLayout
------         android:layout_width="match_parent"
------Index: app/src/main/res/layout/activity_checkout.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_checkout.xml b/app/src/main/res/layout/activity_checkout.xml
------new file mode 100644
--------- /dev/null	(date 1726766190955)
------+++ b/app/src/main/res/layout/activity_checkout.xml	(date 1726766190955)
------@@ -0,0 +1,494 @@
------+<androidx.constraintlayout.widget.ConstraintLayout
------+    xmlns:android="http://schemas.android.com/apk/res/android"
------+    xmlns:app="http://schemas.android.com/apk/res-auto"
------+    xmlns:tools="http://schemas.android.com/tools"
------+    android:layout_width="match_parent"
------+    android:layout_height="match_parent"
------+    android:id="@+id/main"
------+    android:background="@color/white">
------+
------+    <RelativeLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="50dp"
------+        android:id="@+id/header"
------+        app:layout_constraintTop_toTopOf="parent"
------+        android:layout_alignParentTop="true"
------+        android:background="@color/green">
------+
------+        <ImageButton
------+            android:id="@+id/btnBack"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:background="@null"
------+            android:layout_marginTop="10dp"
------+            android:layout_marginStart="5dp"
------+            android:src="@drawable/chevron_left" />
------+
------+        <TextView
------+            android:id="@+id/tvTitle"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_centerInParent="true"
------+            android:text="Thanh toán"
------+            android:textSize="20sp"
------+            android:textStyle="bold"
------+            android:textColor="@color/black"/>
------+    </RelativeLayout>
------+
------+    <ScrollView
------+        android:id="@+id/scrollView"
------+        android:layout_width="match_parent"
------+        android:layout_height="0dp"
------+        app:layout_constraintTop_toBottomOf="@id/header"
------+        app:layout_constraintBottom_toBottomOf="@id/footer"
------+        android:fillViewport="true">
------+
------+        <LinearLayout
------+            android:layout_width="match_parent"
------+            android:layout_height="wrap_content"
------+            android:orientation="vertical"
------+            android:padding="16dp">
------+
------+            <TextView
------+                android:id="@+id/tvSeller1"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Sản phẩm"
------+                android:textSize="18sp"
------+                android:textStyle="bold"
------+                android:textColor="@color/black"
------+                android:fontFamily="@font/gabarito"
------+                android:layout_marginBottom="8dp" />
------+
------+            <TextView
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Cửa hàng 1"
------+                android:textSize="14sp"
------+                android:textStyle="bold"
------+                android:textColor="@color/black"
------+                android:layout_marginBottom="8dp" />
------+
------+            <androidx.cardview.widget.CardView
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_margin="8dp"
------+                android:background="@android:color/background_light">
------+
------+                <LinearLayout
------+                    android:layout_width="match_parent"
------+                    android:layout_height="wrap_content"
------+                    android:orientation="horizontal"
------+                    android:padding="16dp">
------+
------+                    <ImageView
------+                        android:id="@+id/imgProduct"
------+                        android:layout_width="60dp"
------+                        android:layout_height="60dp"
------+                        android:layout_gravity="center_vertical"
------+                        android:contentDescription="Product Image"
------+                        android:src="@drawable/apple"
------+                        android:scaleType="centerCrop"
------+                        android:layout_marginEnd="16dp"/>
------+
------+                    <LinearLayout
------+                        android:layout_width="0dp"
------+                        android:layout_height="wrap_content"
------+                        android:orientation="vertical"
------+                        android:layout_weight="1">
------+
------+                        <TextView
------+                            android:id="@+id/tvProductName"
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Tên sản phẩm"
------+                            android:textStyle="bold"
------+                            android:textColor="@color/black"
------+                            android:textSize="16sp"/>
------+
------+                        <TextView
------+                            android:id="@+id/tvProductQuantity"
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Số lượng: 1kg"
------+                            android:textColor="@color/black"
------+                            android:textSize="14sp"
------+                            android:layout_marginTop="4dp"/>
------+
------+                    </LinearLayout>
------+
------+                    <TextView
------+                        android:id="@+id/tvProductPrice"
------+                        android:layout_width="wrap_content"
------+                        android:layout_height="wrap_content"
------+                        android:text="500.000đ"
------+                        android:textSize="16sp"
------+                        android:textColor="@color/black"
------+                        android:layout_gravity="center_vertical"/>
------+
------+                </LinearLayout>
------+
------+            </androidx.cardview.widget.CardView>
------+
------+            <androidx.cardview.widget.CardView
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_margin="8dp"
------+                android:background="@android:color/background_light">
------+
------+                <LinearLayout
------+                    android:layout_width="match_parent"
------+                    android:layout_height="wrap_content"
------+                    android:orientation="horizontal"
------+                    android:padding="16dp">
------+
------+                    <ImageView
------+                        android:layout_width="60dp"
------+                        android:layout_height="60dp"
------+                        android:layout_gravity="center_vertical"
------+                        android:src="@drawable/apple"
------+                        android:scaleType="centerCrop"
------+                        android:layout_marginEnd="16dp"/>
------+
------+                    <LinearLayout
------+                        android:layout_width="0dp"
------+                        android:layout_height="wrap_content"
------+                        android:orientation="vertical"
------+                        android:layout_weight="1">
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Tên sản phẩm"
------+                            android:textStyle="bold"
------+                            android:textColor="@color/black"
------+                            android:textSize="16sp"/>
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Số lượng: 1kg"
------+                            android:textColor="@color/black"
------+                            android:textSize="14sp"
------+                            android:layout_marginTop="4dp"/>
------+
------+                    </LinearLayout>
------+
------+                    <TextView
------+                        android:layout_width="wrap_content"
------+                        android:layout_height="wrap_content"
------+                        android:text="500.000đ"
------+                        android:textSize="16sp"
------+                        android:textColor="@color/black"
------+                        android:layout_gravity="center_vertical"/>
------+
------+                </LinearLayout>
------+
------+            </androidx.cardview.widget.CardView>
------+
------+            <TextView
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Phí vận chuyển: 50.000đ"
------+                android:textSize="16sp"
------+                android:layout_marginBottom="16dp" />
------+
------+            <TextView
------+                android:id="@+id/tvSeller2"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Cửa hàng 2"
------+                android:textSize="14sp"
------+                android:textStyle="bold"
------+                android:textColor="@color/black"
------+                android:layout_marginBottom="8dp" />
------+
------+            <androidx.cardview.widget.CardView
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_margin="8dp"
------+                android:background="@android:color/background_light">
------+
------+                <LinearLayout
------+                    android:layout_width="match_parent"
------+                    android:layout_height="wrap_content"
------+                    android:orientation="horizontal"
------+                    android:padding="16dp">
------+
------+                    <ImageView
------+                        android:layout_width="60dp"
------+                        android:layout_height="60dp"
------+                        android:layout_gravity="center_vertical"
------+                        android:contentDescription="Product Image"
------+                        android:src="@drawable/apple"
------+                        android:scaleType="centerCrop"
------+                        android:layout_marginEnd="16dp"/>
------+
------+                    <LinearLayout
------+                        android:layout_width="0dp"
------+                        android:layout_height="wrap_content"
------+                        android:orientation="vertical"
------+                        android:layout_weight="1">
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Tên sản phẩm"
------+                            android:textStyle="bold"
------+                            android:textColor="@color/black"
------+                            android:textSize="16sp"/>
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Số lượng: 1kg"
------+                            android:textColor="@color/black"
------+                            android:textSize="14sp"
------+                            android:layout_marginTop="4dp"/>
------+
------+                    </LinearLayout>
------+
------+                    <TextView
------+                        android:layout_width="wrap_content"
------+                        android:layout_height="wrap_content"
------+                        android:text="500.000đ"
------+                        android:textSize="16sp"
------+                        android:textColor="@color/black"
------+                        android:layout_gravity="center_vertical"/>
------+
------+                </LinearLayout>
------+
------+            </androidx.cardview.widget.CardView>
------+
------+            <androidx.cardview.widget.CardView
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_margin="8dp"
------+                android:background="@android:color/background_light">
------+
------+                <LinearLayout
------+                    android:layout_width="match_parent"
------+                    android:layout_height="wrap_content"
------+                    android:orientation="horizontal"
------+                    android:padding="16dp">
------+
------+                    <ImageView
------+                        android:layout_width="60dp"
------+                        android:layout_height="60dp"
------+                        android:layout_gravity="center_vertical"
------+                        android:src="@drawable/apple"
------+                        android:scaleType="centerCrop"
------+                        android:layout_marginEnd="16dp"/>
------+
------+                    <LinearLayout
------+                        android:layout_width="0dp"
------+                        android:layout_height="wrap_content"
------+                        android:orientation="vertical"
------+                        android:layout_weight="1">
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Tên sản phẩm"
------+                            android:textStyle="bold"
------+                            android:textColor="@color/black"
------+                            android:textSize="16sp"/>
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Số lượng: 1kg"
------+                            android:textColor="@color/black"
------+                            android:textSize="14sp"
------+                            android:layout_marginTop="4dp"/>
------+
------+                    </LinearLayout>
------+
------+                    <TextView
------+                        android:layout_width="wrap_content"
------+                        android:layout_height="wrap_content"
------+                        android:text="500.000đ"
------+                        android:textSize="16sp"
------+                        android:textColor="@color/black"
------+                        android:layout_gravity="center_vertical"/>
------+
------+                </LinearLayout>
------+
------+            </androidx.cardview.widget.CardView>
------+
------+
------+            <TextView
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Phí vận chuyển: 30.000đ"
------+                android:textSize="16sp"
------+                android:layout_marginBottom="16dp" />
------+
------+            <TextView
------+                android:id="@+id/tvShippingTitle"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="16dp"
------+                android:layout_marginBottom="8dp"
------+                android:text="Đơn vị vận chuyển"
------+                android:textColor="@color/black"
------+                android:textSize="18sp"
------+                android:textStyle="bold" />
------+
------+            <LinearLayout
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:orientation="horizontal">
------+
------+                <TextView
------+                    android:id="@+id/tvShippingMethod"
------+                    android:layout_width="0dp"
------+                    android:layout_height="wrap_content"
------+                    android:layout_weight="1"
------+                    android:text="Giao hàng nhanh"
------+                    android:textColor="@color/black"
------+                    android:textSize="16sp" />
------+            </LinearLayout>
------+
------+            <TextView
------+                android:id="@+id/tvPaymentTitle"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="16dp"
------+                android:text="Phương thức thanh toán"
------+                android:textColor="@color/black"
------+                android:textSize="18sp"
------+                android:textStyle="bold" />
------+
------+            <RadioGroup
------+                android:id="@+id/radioGroupPayment"
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="8dp">
------+
------+                <RadioButton
------+                    android:id="@+id/radioCreditCard"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Thẻ tín dụng"
------+                    android:textSize="16sp" />
------+
------+                <RadioButton
------+                    android:id="@+id/radioPayPal"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Ví điện tử"
------+                    android:textSize="16sp" />
------+
------+                <RadioButton
------+                    android:id="@+id/radioCOD"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Thanh toán khi nhận hàng"
------+                    android:textSize="16sp" />
------+            </RadioGroup>
------+
------+            <TextView
------+                android:id="@+id/tvTotalBreakdownTitle"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="16dp"
------+                android:text="Chi tiết thanh toán"
------+                android:textColor="@color/black"
------+                android:textSize="18sp"
------+                android:textStyle="bold" />
------+
------+            <LinearLayout
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="8dp"
------+                android:orientation="horizontal">
------+
------+                <TextView
------+                    android:id="@+id/tvTotalProductLabel"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Tổng tiền hàng: "
------+                    android:textColor="@color/black"
------+                    android:textSize="16sp"
------+                    android:layout_marginEnd="10dp"/>
------+
------+                <TextView
------+                    android:id="@+id/tvTotalProductPrice"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="1.000.000đ"
------+                    android:textColor="@color/black"
------+                    android:textSize="16sp" />
------+            </LinearLayout>
------+
------+            <LinearLayout
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="8dp"
------+                android:orientation="horizontal">
------+
------+                <TextView
------+                    android:id="@+id/tvTotalShippingLabel"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Tổng phí vận chuyển"
------+                    android:textColor="@color/black"
------+                    android:layout_marginEnd="10dp"
------+                    android:textSize="16sp" />
------+
------+                <TextView
------+                    android:id="@+id/tvTotalShippingPrice"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="50.000đ"
------+                    android:textColor="@color/black"
------+                    android:textSize="16sp" />
------+            </LinearLayout>
------+
------+            <LinearLayout
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="8dp"
------+                android:orientation="horizontal">
------+
------+                <TextView
------+                    android:id="@+id/tvFinalTotalLabel"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Tổng thanh toán"
------+                    android:textColor="@color/black"
------+                    android:textSize="18sp"
------+                    android:layout_marginEnd="10dp"
------+                    android:textStyle="bold" />
------+
------+                <TextView
------+                    android:id="@+id/tvFinalTotalPrice"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="1.050.000đ"
------+                    android:textColor="@color/black"
------+                    android:textSize="18sp"
------+                    android:textStyle="bold" />
------+            </LinearLayout>
------+        </LinearLayout>
------+    </ScrollView>
------+
------+    <RelativeLayout
------+        android:id="@+id/footer"
------+        android:layout_width="match_parent"
------+        android:layout_height="wrap_content"
------+        android:layout_alignParentBottom="true"
------+        app:layout_constraintBottom_toBottomOf="parent"
------+        tools:layout_editor_absoluteX="16dp">
------+
------+        <Button
------+            android:layout_width="match_parent"
------+            android:layout_height="60dp"
------+            android:layout_marginStart="48dp"
------+            android:layout_marginEnd="48dp"
------+            android:backgroundTint="@color/green"
------+            android:text="Đặt hàng"
------+            app:cornerRadius="24dp" />
------+    </RelativeLayout>
------+</androidx.constraintlayout.widget.ConstraintLayout>
------\ No newline at end of file
------Index: app/src/main/res/layout/notification_item.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/notification_item.xml b/app/src/main/res/layout/item_notification.xml
------rename from app/src/main/res/layout/notification_item.xml
------rename to app/src/main/res/layout/item_notification.xml
--------- a/app/src/main/res/layout/notification_item.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/res/layout/item_notification.xml	(date 1726766190884)
------@@ -4,7 +4,8 @@
------     xmlns:app="http://schemas.android.com/apk/res-auto"
------     android:layout_width="match_parent"
------     android:layout_height="wrap_content"
-------    android:padding="16dp"
------+    android:paddingStart="10dp"
------+    android:paddingEnd="10dp"
------     android:background="@drawable/round_border">
------ 
------     <de.hdodenhof.circleimageview.CircleImageView
------Index: app/src/main/res/layout/activity_sign_up.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/background_light\"\r\n    tools:context=\".ui.Account.SignUpActivity\">\r\n\r\n  <ImageButton\r\n      android:id=\"@+id/btn_back\"\r\n      android:layout_width=\"32dp\"\r\n      android:layout_height=\"32dp\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"32dp\"\r\n      android:background=\"@color/background_light\"\r\n      android:src=\"@drawable/chevron_left\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"0.0\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toTopOf=\"parent\"\r\n      tools:ignore=\"MissingConstraints\" />\r\n\r\n  <TextView\r\n      android:id=\"@+id/textView2\"\r\n      android:layout_width=\"wrap_content\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginTop=\"60dp\"\r\n      android:fontFamily=\"@font/gabarito\"\r\n      android:text=\"Đăng ký\"\r\n      android:textSize=\"34sp\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toTopOf=\"parent\"\r\n      style=\"@style/title\"/>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout2\"\r\n      android:layout_width=\"366dp\"\r\n      android:layout_height=\"67dp\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"40dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"1.0\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n      app:startIconDrawable=\"@drawable/signature\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtUsername\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@null\"\r\n        android:hint=\"Họ và tên\"\r\n        android:inputType=\"text\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout5\"\r\n      android:layout_width=\"366dp\"\r\n      android:layout_height=\"67dp\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"20dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"1.0\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\"\r\n      app:startIconDrawable=\"@drawable/telephone\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtPhoneNumber\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@null\"\r\n        android:hint=\"Số điện thoại\"\r\n        android:inputType=\"phone\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout3\"\r\n      android:layout_width=\"match_parent\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"20dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout5\"\r\n      app:passwordToggleEnabled=\"true\"\r\n      app:startIconDrawable=\"@drawable/key\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtPassword\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:hint=\"@string/m_t_kh_u\"\r\n        android:inputType=\"textPassword\"\r\n        android:password=\"true\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout4\"\r\n      android:layout_width=\"match_parent\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"20dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout3\"\r\n      app:passwordToggleEnabled=\"true\"\r\n      app:startIconDrawable=\"@drawable/key\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtRePassword\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:hint=\"Nhập lại mật khẩu\"\r\n        android:inputType=\"textPassword\"\r\n        android:password=\"true\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <TextView\r\n      android:id=\"@+id/haveAccount\"\r\n      android:layout_width=\"wrap_content\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"124dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      android:fontFamily=\"@font/circular_std\"\r\n      android:text=\"@string/c_t_i_kho_n\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"0.498\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/btn_signin\"\r\n      tools:ignore=\"MissingConstraints\" />\r\n\r\n  <Button\r\n      android:id=\"@+id/btn_signin\"\r\n      android:layout_width=\"wrap_content\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginTop=\"32dp\"\r\n      android:backgroundTint=\"@color/green\"\r\n      android:drawableEnd=\"@drawable/arrowright\"\r\n      android:text=\"Đăng ký\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"0.498\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout4\"\r\n      app:cornerRadius=\"24dp\"/>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_sign_up.xml b/app/src/main/res/layout/activity_sign_up.xml
--------- a/app/src/main/res/layout/activity_sign_up.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/res/layout/activity_sign_up.xml	(date 1726766190962)
------@@ -5,7 +5,7 @@
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
-------    android:background="@color/background_light"
------+    android:background="@color/white"
------     tools:context=".ui.Account.SignUpActivity">
------ 
------   <ImageButton
------@@ -14,7 +14,7 @@
------       android:layout_height="32dp"
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="32dp"
-------      android:background="@color/background_light"
------+      android:background="@color/white"
------       android:src="@drawable/chevron_left"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintHorizontal_bias="0.0"
------@@ -37,12 +37,12 @@
------ 
------   <com.google.android.material.textfield.TextInputLayout
------       android:id="@+id/textInputLayout2"
-------      android:layout_width="366dp"
-------      android:layout_height="67dp"
------+      android:layout_width="match_parent"
------+      android:layout_height="wrap_content"
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="40dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintHorizontal_bias="1.0"
------@@ -61,12 +61,12 @@
------ 
------   <com.google.android.material.textfield.TextInputLayout
------       android:id="@+id/textInputLayout5"
-------      android:layout_width="366dp"
-------      android:layout_height="67dp"
------+      android:layout_width="match_parent"
------+      android:layout_height="wrap_content"
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="20dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintHorizontal_bias="1.0"
------@@ -90,7 +90,7 @@
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="20dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintStart_toStartOf="parent"
------@@ -114,7 +114,7 @@
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="20dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintStart_toStartOf="parent"
------Index: app/src/main/res/values/style.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <style name=\"BottomNavigationViewText\" parent=\"TextAppearance.AppCompat.Caption\">\r\n        <item name=\"android:textSize\">12sp</item>\r\n        <item name=\"fontFamily\">@font/circular_std</item>\r\n    </style>\r\n\r\n    <style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\">\r\n        <item name=\"android:statusBarColor\">@color/status_bar_color</item>\r\n    </style>\r\n\r\n    <style name=\"button\">\r\n    <item name=\"android:backgroundTint\">#f4f4f4</item>\r\n    </style>\r\n\r\n    <style name=\"title\">\r\n        <item name=\"android:textSize\">34sp</item>\r\n        <item name=\"android:textColor\">@color/black</item>\r\n        <item name=\"fontFamily\">@font/gabarito</item>\r\n    </style>\r\n\r\n    <style name=\"CustomButton\" parent=\"Widget.MaterialComponents.Button\">\r\n        <item name=\"cornerRadius\">8dp</item>\r\n    </style>\r\n\r\n\r\n\r\n    <style name=\"CircleShape\">\r\n        <item name=\"cornerFamily\">rounded</item>\r\n        <item name=\"cornerSize\">50%</item>\r\n    </style>\r\n\r\n</resources>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/values/style.xml b/app/src/main/res/values/style.xml
--------- a/app/src/main/res/values/style.xml	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/res/values/style.xml	(date 1726766190968)
------@@ -23,11 +23,16 @@
------         <item name="cornerRadius">8dp</item>
------     </style>
------ 
-------
-------
------     <style name="CircleShape">
------         <item name="cornerFamily">rounded</item>
------         <item name="cornerSize">50%</item>
------     </style>
------ 
------+    <style name="TabTextAppearance" parent="TextAppearance.Design.Tab">
------+        <item name="android:textSize">14sp</item>
------+        <item name="android:fontFamily">@font/gabarito</item>
------+        <item name="android:textAllCaps">false</item>
------+    </style>
------+
------+
------ </resources>
------\ No newline at end of file
------Index: app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java b/app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java
------new file mode 100644
--------- /dev/null	(date 1726766190951)
------+++ b/app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java	(date 1726766190951)
------@@ -0,0 +1,26 @@
------+package com.example.agrimart.ui.Cart;
------+
------+import android.os.Bundle;
------+
------+import androidx.activity.EdgeToEdge;
------+import androidx.appcompat.app.AppCompatActivity;
------+import androidx.core.graphics.Insets;
------+import androidx.core.view.ViewCompat;
------+import androidx.core.view.WindowInsetsCompat;
------+
------+import com.example.agrimart.R;
------+
------+public class CheckoutActivity extends AppCompatActivity {
------+
------+    @Override
------+    protected void onCreate(Bundle savedInstanceState) {
------+        super.onCreate(savedInstanceState);
------+        EdgeToEdge.enable(this);
------+        setContentView(R.layout.activity_checkout);
------+        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {
------+            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
------+            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
------+            return insets;
------+        });
------+    }
------+}
------\ No newline at end of file
------Index: app/src/main/res/layout/item_product_checkout.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/item_product_checkout.xml b/app/src/main/res/layout/item_product_checkout.xml
------new file mode 100644
--------- /dev/null	(date 1726766190946)
------+++ b/app/src/main/res/layout/item_product_checkout.xml	(date 1726766190946)
------@@ -0,0 +1,61 @@
------+<androidx.cardview.widget.CardView
------+    xmlns:android="http://schemas.android.com/apk/res/android"
------+    android:layout_width="match_parent"
------+    android:layout_height="wrap_content"
------+    android:layout_margin="8dp"
------+    android:background="@android:color/background_light">
------+
------+    <LinearLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="wrap_content"
------+        android:orientation="horizontal"
------+        android:padding="16dp">
------+
------+        <ImageView
------+            android:id="@+id/imgProduct"
------+            android:layout_width="60dp"
------+            android:layout_height="60dp"
------+            android:layout_gravity="center_vertical"
------+            android:contentDescription="Product Image"
------+            android:src="@drawable/apple"
------+            android:scaleType="centerCrop"
------+            android:layout_marginEnd="16dp"/>
------+
------+        <LinearLayout
------+            android:layout_width="0dp"
------+            android:layout_height="wrap_content"
------+            android:orientation="vertical"
------+            android:layout_weight="1">
------+
------+            <TextView
------+                android:id="@+id/tvProductName"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Tên sản phẩm"
------+                android:textStyle="bold"
------+                android:textColor="@color/black"
------+                android:textSize="16sp"/>
------+
------+            <TextView
------+                android:id="@+id/tvProductQuantity"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Số lượng: 1kg"
------+                android:textColor="@color/black"
------+                android:textSize="14sp"
------+                android:layout_marginTop="4dp"/>
------+
------+        </LinearLayout>
------+
------+        <TextView
------+            android:id="@+id/tvProductPrice"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:text="500.000đ"
------+            android:textSize="16sp"
------+            android:textColor="@color/black"
------+            android:layout_gravity="center_vertical"/>
------+
------+    </LinearLayout>
------+
------+</androidx.cardview.widget.CardView>
------Index: app/src/main/res/layout/item_cart.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/item_cart.xml b/app/src/main/res/layout/item_cart.xml
------new file mode 100644
--------- /dev/null	(date 1726766190829)
------+++ b/app/src/main/res/layout/item_cart.xml	(date 1726766190829)
------@@ -0,0 +1,88 @@
------+<androidx.cardview.widget.CardView
------+    xmlns:android="http://schemas.android.com/apk/res/android"
------+    android:layout_width="match_parent"
------+    android:layout_height="wrap_content"
------+    android:layout_margin="10dp"
------+    xmlns:app="http://schemas.android.com/apk/res-auto"
------+    xmlns:tools="http://schemas.android.com/tools"
------+    app:cardCornerRadius="8dp"
------+    app:cardElevation="4dp"
------+    app:cardBackgroundColor="@android:color/white">
------+
------+    <androidx.constraintlayout.widget.ConstraintLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="wrap_content"
------+        android:padding="10dp">
------+
------+        <CheckBox
------+            android:id="@+id/checkbox_select"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            app:layout_constraintStart_toStartOf="parent"
------+            app:layout_constraintTop_toTopOf="parent"
------+            app:layout_constraintBottom_toBottomOf="parent" />
------+
------+        <com.google.android.material.imageview.ShapeableImageView
------+            android:id="@+id/img_product"
------+            android:layout_width="60dp"
------+            android:layout_height="60dp"
------+            android:scaleType="centerCrop"
------+            android:src="@drawable/apple"
------+            app:layout_constraintStart_toEndOf="@id/checkbox_select"
------+            app:layout_constraintTop_toTopOf="parent"
------+            app:layout_constraintBottom_toBottomOf="parent"
------+            android:background="@drawable/round_border"/>
------+
------+        <TextView
------+            android:id="@+id/tv_product_name"
------+            android:layout_width="0dp"
------+            android:layout_height="wrap_content"
------+            android:layout_marginStart="16dp"
------+            android:layout_marginTop="12dp"
------+            android:text="@string/product_name"
------+            android:textColor="@android:color/black"
------+            android:textSize="18sp"
------+            android:textStyle="bold"
------+            app:layout_constraintEnd_toStartOf="@id/tv_product_price"
------+            app:layout_constraintStart_toEndOf="@id/img_product"
------+            app:layout_constraintTop_toTopOf="parent" />
------+
------+        <TextView
------+            android:id="@+id/quantity"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_marginTop="20dp"
------+            android:text="1kg"
------+            app:layout_constraintEnd_toStartOf="@id/tv_product_price"
------+            app:layout_constraintHorizontal_bias="0.093"
------+            app:layout_constraintStart_toEndOf="@id/img_product"
------+            app:layout_constraintTop_toBottomOf="@id/tv_product_name" />
------+
------+        <TextView
------+            android:id="@+id/tv_product_price"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_marginEnd="4dp"
------+            android:text="50.000đ"
------+            android:textColor="@android:color/black"
------+            android:textSize="16sp"
------+            android:textStyle="bold"
------+            app:layout_constraintBottom_toBottomOf="parent"
------+            app:layout_constraintEnd_toEndOf="parent"
------+            app:layout_constraintTop_toTopOf="parent"
------+            app:layout_constraintVertical_bias="1.0" />
------+
------+        <ImageButton
------+            android:id="@+id/btn_remove"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_marginEnd="4dp"
------+            android:background="@android:color/transparent"
------+            android:contentDescription="Remove Product"
------+            android:src="@drawable/delete"
------+            app:layout_constraintBottom_toBottomOf="parent"
------+            app:layout_constraintEnd_toEndOf="parent"
------+            app:layout_constraintTop_toTopOf="parent"
------+            app:layout_constraintVertical_bias="0.0" />
------+    </androidx.constraintlayout.widget.ConstraintLayout>
------+</androidx.cardview.widget.CardView>
------\ No newline at end of file
------Index: app/src/main/res/layout/item_product.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/item_product.xml b/app/src/main/res/layout/item_product.xml
------new file mode 100644
--------- /dev/null	(date 1726766190781)
------+++ b/app/src/main/res/layout/item_product.xml	(date 1726766190781)
------@@ -0,0 +1,71 @@
------+<?xml version="1.0" encoding="utf-8"?>
------+<layout xmlns:android="http://schemas.android.com/apk/res/android"
------+    xmlns:app="http://schemas.android.com/apk/res-auto">
------+
------+    <data>
------+        <variable
------+            name="product"
------+            type="com.example.agrimart.data.model.Product" />
------+    </data>
------+
------+    <RelativeLayout
------+        android:layout_width="173dp"
------+        android:background="@drawable/bg_product"
------+        android:layout_height="249dp"
------+        android:layout_marginStart="5dp"
------+        android:layout_marginTop="5dp">
------+
------+        <FrameLayout
------+            android:id="@+id/frame_layout"
------+            android:layout_width="match_parent"
------+            android:layout_height="124dp">
------+
------+            <ImageView
------+                android:id="@+id/imgPro"
------+                android:layout_width="99dp"
------+                android:layout_height="79dp"
------+                android:scaleType="centerCrop"
------+                android:layout_gravity="center"
------+                app:srcCompat="@drawable/banana" />
------+        </FrameLayout>
------+
------+        <TextView
------+            android:id="@+id/tvName"
------+            android:layout_width="129dp"
------+            android:layout_height="wrap_content"
------+            android:layout_below="@id/frame_layout"
------+            android:layout_marginTop="12dp"
------+            android:textSize="16sp"
------+            android:textColor="#333333"
------+            android:letterSpacing="0.01"
------+            android:layout_marginStart="15dp"
------+            android:ellipsize="end"
------+            android:maxLines="1"
------+            android:textStyle="bold"
------+            android:text="@{product.name}" />
------+
------+        <TextView
------+            android:id="@+id/tvPrice"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_below="@id/tvName"
------+            android:textSize="18sp"
------+            android:layout_marginStart="15dp"
------+            android:layout_marginTop="16dp"
------+            android:textColor="#F44336"
------+            android:letterSpacing="0.01"
------+            android:text="@{product.price}" />
------+
------+        <ImageButton
------+            android:id="@+id/imageButton"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:background="@color/transparent"
------+            android:layout_below="@id/tvName"
------+            android:layout_alignParentEnd="true"
------+            android:layout_marginTop="20dp"
------+            android:layout_marginEnd="16dp"
------+            app:srcCompat="@drawable/ic_plus_1" />
------+
------+    </RelativeLayout>
------+</layout>
------\ No newline at end of file
------Index: app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.Cart;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.databinding.FragmentCartBinding;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\n\r\npublic class CartFragment extends Fragment {\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_cart, container, false);\r\n        if (getActivity() != null) {\r\n            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.white));\r\n        }\r\n\r\n\r\n        return view;\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java b/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java
--------- a/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java	(revision eb94698d266807611d83e36806b90a7a00312314)
------+++ b/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java	(date 1726766194029)
------@@ -1,5 +1,6 @@
------ package com.example.agrimart.ui.Cart;
------ 
------+import android.content.Intent;
------ import android.os.Build;
------ import android.os.Bundle;
------ 
------@@ -11,20 +12,27 @@
------ import android.view.ViewGroup;
------ import android.view.Window;
------ import android.view.WindowManager;
------+import android.widget.Button;
------ 
------ import com.example.agrimart.R;
------ import com.example.agrimart.databinding.FragmentCartBinding;
------ import com.example.agrimart.databinding.FragmentHomeBinding;
------ 
------ public class CartFragment extends Fragment {
------+    Button btnCheckout;
------     @Override
------     public View onCreateView(LayoutInflater inflater, ViewGroup container,
------                              Bundle savedInstanceState) {
------         View view = inflater.inflate(R.layout.fragment_cart, container, false);
------         if (getActivity() != null) {
-------            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.white));
------+            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));
------         }
------ 
------+        btnCheckout = view.findViewById(R.id.btn_checkout);
------+
------+        btnCheckout.setOnClickListener(View -> {
------+            Intent intent = new Intent(getActivity(), CheckoutActivity.class);
------+        });
------ 
------         return view;
------     }
------diff --git a/app/src/main/res/layout/review_item.xml b/app/src/main/res/layout/item_review.xml
------rename from app/src/main/res/layout/review_item.xml
------rename to app/src/main/res/layout/item_review.xml
-----Index: .idea/shelf/Uncommitted_changes_before_Checkout_at_9_20_2024_12_16_AM__Changes_1.xml
-----===================================================================
-----diff --git a/.idea/shelf/Uncommitted_changes_before_Checkout_at_9_20_2024_12_16_AM__Changes_1.xml b/.idea/shelf/Uncommitted_changes_before_Checkout_at_9_20_2024_12_16_AM__Changes_1.xml
-----deleted file mode 100644
-------- a/.idea/shelf/Uncommitted_changes_before_Checkout_at_9_20_2024_12_16_AM__Changes_1.xml	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----+++ /dev/null	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----@@ -1,9 +0,0 @@
------<changelist name="Uncommitted_changes_before_Checkout_at_9_20_2024_12_16_AM_[Changes]1" date="1726766199661" recycled="true" deleted="true">
------  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_9_20_2024_12_16_AM_[Changes]1/shelved.patch" />
------  <option name="DESCRIPTION" value="Uncommitted changes before Checkout at 9/20/2024 12:16 AM [Changes]" />
------  <binary>
------    <option name="BEFORE_PATH" value="app/src/main/res/drawable/logo.png" />
------    <option name="AFTER_PATH" value="app/src/main/res/drawable/logo.png" />
------    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_9_20_2024_12_16_AM_[Changes]1/logo.png" />
------  </binary>
------</changelist>
-----\ No newline at end of file
-----Index: .idea/shelf/Uncommitted_changes_before_rebase__Changes_.xml
-----===================================================================
-----diff --git a/.idea/shelf/Uncommitted_changes_before_rebase__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_rebase__Changes_.xml
-----deleted file mode 100644
-------- a/.idea/shelf/Uncommitted_changes_before_rebase__Changes_.xml	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----+++ /dev/null	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----@@ -1,9 +0,0 @@
------<changelist name="Uncommitted_changes_before_rebase_[Changes]" date="1726766331794" recycled="true" deleted="true">
------  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]/shelved.patch" />
------  <option name="DESCRIPTION" value="Uncommitted changes before rebase [Changes]" />
------  <binary>
------    <option name="BEFORE_PATH" value="app/src/main/res/drawable/logo.png" />
------    <option name="AFTER_PATH" value="app/src/main/res/drawable/logo.png" />
------    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]/logo.png" />
------  </binary>
------</changelist>
-----\ No newline at end of file
-----Index: .idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_8_28_PM_[Changes]/shelved.patch
-----===================================================================
-----diff --git a/.idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_8_28_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_8_28_PM_[Changes]/shelved.patch
-----deleted file mode 100644
-------- a/.idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_8_28_PM_[Changes]/shelved.patch	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----+++ /dev/null	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----@@ -1,353 +0,0 @@
------Index: app/src/main/AndroidManifest.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\r\n        android:fullBackupContent=\"@xml/backup_rules\"\r\n        android:icon=\"@drawable/logo_icon\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@drawable/logo_icon\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.AgriMart\"\r\n        tools:ignore=\"ExtraText\"\r\n        tools:targetApi=\"31\">\r\n        <activity\r\n            android:name=\".ui.MyProfile.ShopProfileActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Homepage.SearchActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Cart.CheckoutActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Notification.NotificationActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.ProductPage.ProductDetailActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.YourProductListingsActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.PostProductActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MainActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.EnterOTPActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.ForgotPasswordActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.SignUpActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Homepage.HomeFragment\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.SignInActivity\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--------- a/app/src/main/AndroidManifest.xml	(revision 0215a45c1694ceb27ff24a580fa459e026fa2294)
------+++ b/app/src/main/AndroidManifest.xml	(date 1726838897727)
------@@ -14,13 +14,15 @@
------         tools:ignore="ExtraText"
------         tools:targetApi="31">
------         <activity
------+            android:name=".ui.Store.StoreActivity"
------+            android:exported="false" />
------+        <activity
------             android:name=".ui.MyProfile.ShopProfileActivity"
------             android:exported="false" />
------         <activity
------             android:name=".ui.Homepage.SearchActivity"
------             android:exported="false" />
-------        <activity
-------            android:name=".ui.Cart.CheckoutActivity"
------+        <activity android:name=".ui.Cart.CheckoutActivity"
------             android:exported="false" />
------         <activity
------             android:name=".ui.Notification.NotificationActivity"
------@@ -35,7 +37,7 @@
------             android:name=".ui.PostProduct.PostProductActivity"
------             android:exported="false" />
------         <activity
-------            android:name=".ui.MainActivity"
------+            android:name=".ui.Account.SignInActivity"
------             android:exported="false" />
------         <activity
------             android:name=".ui.Account.EnterOTPActivity"
------@@ -50,7 +52,7 @@
------             android:name=".ui.Homepage.HomeFragment"
------             android:exported="false" />
------         <activity
-------            android:name=".ui.Account.SignInActivity"
------+            android:name=".ui.MainActivity"
------             android:exported="true">
------             <intent-filter>
------                 <action android:name="android.intent.action.MAIN" />
------Index: app/src/main/res/layout/activity_product_detail.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.ProductPage.ProductDetailActivity\">\r\n    <RelativeLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/header\">\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/btn_back\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:layout_marginBottom=\"8dp\"\r\n            android:background=\"@color/background_light\"\r\n            android:src=\"@drawable/chevron_left\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.0\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            tools:ignore=\"MissingConstraints\"\r\n            android:backgroundTint=\"@color/white\"/>\r\n    </RelativeLayout>\r\n\r\n    <ScrollView\r\n        android:id=\"@+id/scrollView\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"4dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/header\"\r\n        tools:layout_editor_absoluteX=\"0dp\"\r\n        android:layout_below=\"@id/header\"\r\n        android:scrollbars=\"none\"\r\n        android:layout_above=\"@id/footer\">\r\n\r\n        <RelativeLayout\r\n            android:id=\"@+id/product_detail\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n            <com.denzcoskun.imageslider.ImageSlider\r\n                android:id=\"@+id/product_image\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"250dp\"\r\n                android:background=\"@null\"\r\n                app:iss_auto_cycle=\"true\"\r\n                app:iss_period=\"1000\"\r\n                app:iss_title_background=\"@color/transparent\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_name\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"8dp\"\r\n                android:text=\"@string/product_name\"\r\n                android:layout_below=\"@+id/product_image\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"20sp\"\r\n                android:textAllCaps=\"true\"\r\n                android:textColor=\"@color/black\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_price\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"24dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"8dp\"\r\n                android:text=\"@string/price\"\r\n                android:layout_below=\"@+id/product_name\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"24sp\"\r\n                android:textColor=\"@android:color/holo_red_dark\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/address\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"24dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"16dp\"\r\n                android:text=\"@string/address\"\r\n                android:layout_below=\"@+id/product_price\"\r\n                android:fontFamily=\"@font/circular_std\"\r\n                android:textSize=\"16sp\"\r\n                android:drawableStart=\"@drawable/location\"/>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/quantity\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/address\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginBottom=\"10dp\">\r\n                <TextView\r\n                    android:id=\"@+id/btn_decrease\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"-\"\r\n                    android:textColor=\"#9E9E9E\"\r\n                    android:textSize=\"24sp\"\r\n                    android:padding=\"8dp\"\r\n                    android:gravity=\"center\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_quantity\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_marginStart=\"8dp\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:layout_marginBottom=\"8dp\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"1\"\r\n                    android:textSize=\"18sp\"\r\n                    android:textColor=\"#212121\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:background=\"@drawable/round_border\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_increase\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"+\"\r\n                    android:textColor=\"#4CAF50\"\r\n                    android:textSize=\"24sp\"\r\n                    android:padding=\"8dp\"\r\n                    android:gravity=\"center\"/>\r\n            </LinearLayout>\r\n\r\n            <RelativeLayout\r\n                android:id=\"@+id/product_description\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/quantity\">\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"@string/description\"\r\n                    android:textSize=\"16sp\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:id=\"@+id/description_title\"\r\n                    android:textColor=\"@color/black\"/>\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:id=\"@+id/description\"\r\n                    android:layout_below=\"@+id/description_title\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:textSize=\"13sp\"\r\n                    android:text=\"@string/descriptions\"\r\n                    android:maxLines=\"3\"\r\n                    android:ellipsize=\"end\"/>\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/btn_expand\"\r\n                    android:layout_width=\"32dp\"\r\n                    android:layout_height=\"32dp\"\r\n                    android:layout_below=\"@+id/description\"\r\n                    android:layout_centerHorizontal=\"true\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:src=\"@drawable/down\"\r\n                    android:background=\"@color/transparent\"/>\r\n            </RelativeLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/shop_info\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/product_description\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <androidx.cardview.widget.CardView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"8dp\"\r\n                    android:background=\"@color/background_light\"\r\n                    app:cardElevation=\"0dp\">\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"horizontal\"\r\n                        android:padding=\"16dp\">\r\n\r\n                        <de.hdodenhof.circleimageview.CircleImageView\r\n                            android:id=\"@+id/shop_avatar\"\r\n                            android:layout_width=\"40dp\"\r\n                            android:layout_height=\"40dp\"\r\n                            android:src=\"@drawable/user\"\r\n                            app:civ_border_width=\"2dp\"\r\n                            app:civ_border_color=\"#FF000000\"\r\n                            android:layout_marginEnd=\"16dp\"/>\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/shop_name\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Tên người bán\"\r\n                            android:textSize=\"16sp\"\r\n                            android:textStyle=\"bold\"\r\n                            android:textColor=\"#000000\"/>\r\n                    </LinearLayout>\r\n                </androidx.cardview.widget.CardView>\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/rating\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/shop_info\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:orientation=\"horizontal\">\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:textSize=\"16sp\"\r\n                    android:text=\"Đánh giá sản phẩm\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:id=\"@+id/quantity_title\"\r\n                    android:textColor=\"@color/black\"/>\r\n\r\n                <RatingBar\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:rating=\"4.5\"\r\n                    style=\"?android:attr/ratingBarStyleIndicator\"\r\n                    android:progressTint=\"#FFCC01\"\r\n                    android:id=\"@+id/totalRating\"\r\n                    android:layout_marginStart=\"40dp\"/>\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/reviews\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/rating\">\r\n\r\n                <de.hdodenhof.circleimageview.CircleImageView\r\n                    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n                    android:id=\"@+id/user_avatar\"\r\n                    android:layout_width=\"40dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:src=\"@drawable/user\"\r\n                    app:civ_border_width=\"2dp\"\r\n                    app:civ_border_color=\"#FF000000\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"16dp\"/>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"vertical\"\r\n                    android:layout_weight=\"1\"\r\n                    android:padding=\"10dp\"\r\n                    android:id=\"@+id/user_rv\">\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_name\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"User name\"\r\n                        android:textStyle=\"bold\"\r\n                        android:textSize=\"16sp\"\r\n                        android:textColor=\"#000000\" />\r\n\r\n                    <RatingBar\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:rating=\"3\"\r\n                        style=\"?android:attr/ratingBarStyleIndicator\"\r\n                        android:progressTint=\"#FFCC01\"\r\n                        android:id=\"@+id/userRating\"/>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_review\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"4dp\"\r\n                        android:text=\"@string/user_review\"\r\n                        android:textSize=\"14sp\"\r\n                        android:textColor=\"#616161\" />\r\n                </LinearLayout>\r\n            </LinearLayout>\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"16dp\"\r\n                android:layout_below=\"@id/reviews\"/>\r\n\r\n        </RelativeLayout>\r\n    </ScrollView>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/footer\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentBottom=\"true\">\r\n\r\n        <Button\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_marginStart=\"48dp\"\r\n            android:layout_marginEnd=\"48dp\"\r\n            android:backgroundTint=\"@color/green\"\r\n            app:cornerRadius=\"24dp\"\r\n            android:text=\"@string/add_cart\"/>\r\n    </RelativeLayout>\r\n</RelativeLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_product_detail.xml b/app/src/main/res/layout/activity_product_detail.xml
--------- a/app/src/main/res/layout/activity_product_detail.xml	(revision 0215a45c1694ceb27ff24a580fa459e026fa2294)
------+++ b/app/src/main/res/layout/activity_product_detail.xml	(date 1726838897732)
------@@ -194,6 +194,7 @@
------                     app:cardElevation="0dp">
------ 
------                     <LinearLayout
------+                        android:id="@+id/store"
------                         android:layout_width="match_parent"
------                         android:layout_height="wrap_content"
------                         android:orientation="horizontal"
------Index: app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.data.adapter.CategoryAdapter;\r\nimport com.example.agrimart.data.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\nimport com.example.agrimart.ui.Notification.NotificationActivity;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    ImageButton btnSearch, btnNotification;\r\n    TextView search;\r\n\r\n    private FragmentHomeBinding binding;\r\n\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    public static HomeFragment newInstance() {\r\n        return new HomeFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n        View view = binding.getRoot();\r\n\r\n        if (getActivity() != null) {\r\n            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        RecyclerView rvCategories = view.findViewById(R.id.rvCategories);\r\n        int numberOfColumns = 4;\r\n        rvCategories.setLayoutManager(new GridLayoutManager(getContext(), numberOfColumns));\r\n\r\n        List<Category> categories = new ArrayList<>();\r\n        categories.add(new Category(R.drawable.vegetable, \"Rau củ quả\"));\r\n        categories.add(new Category(R.drawable.fruit, \"Trái cây\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Ngũ cốc và hạt\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Gia vị\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Mật ong\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Trà\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Cây cảnh\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Khác\"));\r\n\r\n        CategoryAdapter categoryAdapter = new CategoryAdapter(categories);\r\n        rvCategories.setAdapter(categoryAdapter);\r\n\r\n        List<Product> products = new ArrayList<>();\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n            Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n\r\n        addControls(view);\r\n        addEvents();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void addEvents() {\r\n        btnSearch.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getActivity(), SearchActivity.class);\r\n            getActivity().startActivity(intent);\r\n        });\r\n\r\n        btnNotification.setOnClickListener(View -> {\r\n            Intent intent = new Intent(getContext(), NotificationActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        search.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getContext(), SearchActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void addControls(View view) {\r\n        btnSearch = view.findViewById(R.id.search_icon);\r\n        btnNotification = view.findViewById(R.id.notification_icon);\r\n        search = view.findViewById(R.id.search_input);\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getActivity().getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
--------- a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(revision 0215a45c1694ceb27ff24a580fa459e026fa2294)
------+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(date 1726838897729)
------@@ -76,12 +76,12 @@
------         rvCategories.setAdapter(categoryAdapter);
------ 
------         List<Product> products = new ArrayList<>();
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
------ 
------         ProductAdapter productAdapter = new ProductAdapter(products, product -> {
------             Intent intent = new Intent(getContext(), ProductDetailActivity.class);
------Index: app/src/main/res/layout/activity_store.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_store.xml b/app/src/main/res/layout/activity_store.xml
------new file mode 100644
--------- /dev/null	(date 1726838897732)
------+++ b/app/src/main/res/layout/activity_store.xml	(date 1726838897732)
------@@ -0,0 +1,111 @@
------+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
------+    xmlns:app="http://schemas.android.com/apk/res-auto"
------+    xmlns:tools="http://schemas.android.com/tools"
------+    android:id="@+id/main"
------+    android:layout_width="match_parent"
------+    android:layout_height="match_parent"
------+    tools:context=".ui.Store.StoreActivity">
------+
------+    <RelativeLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="50dp"
------+        android:id="@+id/header"
------+        app:layout_constraintTop_toTopOf="parent"
------+        android:layout_alignParentTop="true"
------+        android:background="@color/green">
------+
------+        <ImageButton
------+            android:id="@+id/btnBack"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:background="@null"
------+            android:layout_marginTop="10dp"
------+            android:layout_marginStart="5dp"
------+            android:src="@drawable/chevron_left" />
------+
------+        <TextView
------+            android:id="@+id/tvTitle"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_centerInParent="true"
------+            android:text="Cửa hàng"
------+            android:textSize="20sp"
------+            android:textStyle="bold"
------+            android:textColor="@color/black"/>
------+    </RelativeLayout>
------+
------+    <RelativeLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="wrap_content">
------+    </RelativeLayout>
------+
------+    <de.hdodenhof.circleimageview.CircleImageView
------+        android:id="@+id/store_avatar"
------+        android:layout_width="80dp"
------+        android:layout_height="80dp"
------+        android:layout_marginStart="16dp"
------+        android:layout_marginTop="68dp"
------+        android:src="@drawable/user"
------+        app:layout_constraintStart_toStartOf="parent"
------+        app:layout_constraintTop_toTopOf="parent" />
------+
------+    <TextView
------+        android:id="@+id/store_name"
------+        android:layout_width="0dp"
------+        android:layout_height="wrap_content"
------+        android:layout_marginStart="16dp"
------+        android:layout_marginTop="56dp"
------+        android:text="Tên cửa hàng"
------+        android:textSize="20sp"
------+        android:textStyle="bold"
------+        app:layout_constraintEnd_toEndOf="parent"
------+        app:layout_constraintHorizontal_bias="0.0"
------+        app:layout_constraintStart_toEndOf="@id/store_avatar"
------+        app:layout_constraintTop_toTopOf="parent" />
------+
------+    <TextView
------+        android:id="@+id/store_rating"
------+        android:layout_width="wrap_content"
------+        android:layout_height="wrap_content"
------+        android:layout_marginStart="16dp"
------+        android:layout_marginTop="16dp"
------+        android:text="Đánh giá: 4.5"
------+        app:layout_constraintStart_toEndOf="@id/store_avatar"
------+        app:layout_constraintTop_toBottomOf="@id/store_name" />
------+
------+    <TextView
------+        android:id="@+id/store_address"
------+        android:layout_width="0dp"
------+        android:layout_height="wrap_content"
------+        android:layout_marginStart="16dp"
------+        android:layout_marginTop="8dp"
------+        android:text="Đia chỉ: 123, ABC, XYZ"
------+        app:layout_constraintEnd_toEndOf="parent"
------+        app:layout_constraintHorizontal_bias="0.0"
------+        app:layout_constraintStart_toEndOf="@id/store_avatar"
------+        app:layout_constraintTop_toBottomOf="@id/store_rating" />
------+
------+    <TextView
------+        android:id="@+id/tvProductTitle"
------+        android:layout_width="wrap_content"
------+        android:layout_height="wrap_content"
------+        android:layout_marginTop="16dp"
------+        android:layout_marginStart="16dp"
------+        android:text="Sản phẩm đang bán"
------+        android:textSize="18sp"
------+        android:textStyle="bold"
------+        app:layout_constraintTop_toBottomOf="@id/store_avatar"
------+        app:layout_constraintStart_toStartOf="parent" />
------+
------+    <androidx.recyclerview.widget.RecyclerView
------+        android:id="@+id/rvProducts"
------+        android:layout_width="0dp"
------+        android:layout_height="0dp"
------+        android:layout_marginTop="8dp"
------+        app:layout_constraintBottom_toBottomOf="parent"
------+        app:layout_constraintEnd_toEndOf="parent"
------+        app:layout_constraintHorizontal_bias="0.0"
------+        app:layout_constraintStart_toStartOf="parent"
------+        app:layout_constraintTop_toBottomOf="@id/tvProductTitle"
------+        app:layout_constraintVertical_bias="0.0" />
------+</androidx.constraintlayout.widget.ConstraintLayout>
------\ No newline at end of file
------Index: app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java b/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java
------new file mode 100644
--------- /dev/null	(date 1726838897731)
------+++ b/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java	(date 1726838897731)
------@@ -0,0 +1,71 @@
------+package com.example.agrimart.ui.Store;
------+
------+import android.os.Bundle;
------+import android.view.Window;
------+import android.view.WindowManager;
------+import android.widget.ImageView;
------+import android.widget.TextView;
------+
------+import androidx.activity.EdgeToEdge;
------+import androidx.appcompat.app.AppCompatActivity;
------+import androidx.core.content.ContextCompat;
------+import androidx.core.graphics.Insets;
------+import androidx.core.view.ViewCompat;
------+import androidx.core.view.WindowInsetsCompat;
------+import androidx.recyclerview.widget.GridLayoutManager;
------+import androidx.recyclerview.widget.RecyclerView;
------+
------+import com.example.agrimart.R;
------+import com.example.agrimart.data.adapter.ProductAdapter;
------+import com.example.agrimart.data.model.Product;
------+
------+import java.util.ArrayList;
------+import java.util.List;
------+
------+public class StoreActivity extends AppCompatActivity {
------+
------+    private ImageView storeAvatar;
------+    private TextView storeName, storeRating, storeAddress;
------+    private RecyclerView rvProducts;
------+    private ProductAdapter productAdapter;
------+    private List<Product> productList;
------+
------+    @Override
------+    protected void onCreate(Bundle savedInstanceState) {
------+        super.onCreate(savedInstanceState);
------+        EdgeToEdge.enable(this);
------+        setContentView(R.layout.activity_store);
------+        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {
------+            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
------+            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
------+            return insets;
------+        });
------+
------+        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.LOLLIPOP) {
------+            Window window = getWindow();
------+            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);
------+            window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));
------+        }
------+
------+        storeAvatar = findViewById(R.id.store_avatar);
------+        storeName = findViewById(R.id.store_name);
------+        storeRating = findViewById(R.id.store_rating);
------+        storeAddress = findViewById(R.id.store_address);
------+        rvProducts = findViewById(R.id.rvProducts);
------+
------+        storeName.setText("Khánh");
------+        storeRating.setText("Đánh giá: 4.5");
------+        storeAddress.setText("123 Lê Trong Tấn, Tân Phú, HCM");
------+
------+        productList = new ArrayList<>();
------+        productList.add(new Product(R.drawable.apple, "Táo", "50000"));
------+        productList.add(new Product(R.drawable.frash_fruits, "ABC", "20000"));
------+        productList.add(new Product(R.drawable.vegetable, "XYZ", "30000"));
------+
------+        productAdapter = new ProductAdapter(productList, product -> {
------+
------+        });
------+        rvProducts.setLayoutManager(new GridLayoutManager(this, 2));
------+        rvProducts.setAdapter(productAdapter);
------+    }
------+}
------\ No newline at end of file
------Index: app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.ProductPage;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\n\r\nimport com.denzcoskun.imageslider.ImageSlider;\r\nimport com.denzcoskun.imageslider.constants.ScaleTypes;\r\nimport com.denzcoskun.imageslider.models.SlideModel;\r\nimport com.example.agrimart.R;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ProductDetailActivity extends AppCompatActivity {\r\n    ImageButton btn_back, btnExpand;\r\n    TextView description;\r\n    boolean isExpanded = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_product_detail);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        description = findViewById(R.id.description);\r\n        btnExpand = findViewById(R.id.btn_expand);\r\n\r\n        btn_back = findViewById(R.id.btn_back);\r\n        btn_back.setOnClickListener(v -> finish());\r\n\r\n        ArrayList<SlideModel> imgList = new ArrayList<>();\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n\r\n        ImageSlider imageSlider = findViewById(R.id.product_image);\r\n        imageSlider.setImageList(imgList, ScaleTypes.FIT);\r\n\r\n        btnExpand.setOnClickListener(v -> {\r\n            if (isExpanded) {\r\n                description.setMaxLines(3);\r\n                btnExpand.setImageResource(R.drawable.down);\r\n            } else {\r\n                description.setMaxLines(Integer.MAX_VALUE);\r\n                btnExpand.setImageResource(R.drawable.arrowhead_up);\r\n            }\r\n            isExpanded = !isExpanded;\r\n        });\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java
--------- a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java	(revision 0215a45c1694ceb27ff24a580fa459e026fa2294)
------+++ b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java	(date 1726838897730)
------@@ -1,7 +1,9 @@
------ package com.example.agrimart.ui.ProductPage;
------ 
------+import android.content.Intent;
------ import android.os.Bundle;
------ import android.widget.ImageButton;
------+import android.widget.LinearLayout;
------ import android.widget.TextView;
------ 
------ import androidx.activity.EdgeToEdge;
------@@ -14,6 +16,7 @@
------ import com.denzcoskun.imageslider.constants.ScaleTypes;
------ import com.denzcoskun.imageslider.models.SlideModel;
------ import com.example.agrimart.R;
------+import com.example.agrimart.ui.Store.StoreActivity;
------ 
------ import java.util.ArrayList;
------ 
------@@ -21,6 +24,7 @@
------     ImageButton btn_back, btnExpand;
------     TextView description;
------     boolean isExpanded = false;
------+    LinearLayout store;
------ 
------     @Override
------     protected void onCreate(Bundle savedInstanceState) {
------@@ -38,6 +42,7 @@
------ 
------         btn_back = findViewById(R.id.btn_back);
------         btn_back.setOnClickListener(v -> finish());
------+        store = findViewById(R.id.store);
------ 
------         ArrayList<SlideModel> imgList = new ArrayList<>();
------         imgList.add(new SlideModel(R.drawable.banana, "", ScaleTypes.FIT));
------@@ -60,5 +65,10 @@
------             }
------             isExpanded = !isExpanded;
------         });
------+
------+        store.setOnClickListener(v -> {
------+            Intent intent = new Intent(ProductDetailActivity.this, StoreActivity.class);
------+            startActivity(intent);
------+        });
------     }
------ }
------\ No newline at end of file
-----Index: .idea/shelf/Uncommitted_changes_before_Checkout_at_9_20_2024_12_16_AM_[Changes]1/shelved.patch
-----===================================================================
-----diff --git a/.idea/shelf/Uncommitted_changes_before_Checkout_at_9_20_2024_12_16_AM_[Changes]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Checkout_at_9_20_2024_12_16_AM_[Changes]1/shelved.patch
-----deleted file mode 100644
-------- a/.idea/shelf/Uncommitted_changes_before_Checkout_at_9_20_2024_12_16_AM_[Changes]1/shelved.patch	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----+++ /dev/null	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----@@ -1,2215 +0,0 @@
------Index: app/src/main/java/com/example/agrimart/data/adapter/ProductAdapter.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.data.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.ProductItemBinding;\r\n\r\nimport java.util.List;\r\n\r\npublic class ProductAdapter extends RecyclerView.Adapter<ProductAdapter.MyViewHolder> {\r\n    private List<Product> products;\r\n    private OnItemClickListener listener;\r\n\r\n    public ProductAdapter(List<Product> products, OnItemClickListener listener) {\r\n        this.products = products;\r\n        this.listener = listener;\r\n    }\r\n\r\n    public interface OnItemClickListener {\r\n        void onItemClick(Product product);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        ProductItemBinding binding = ProductItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        return new MyViewHolder(binding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        Product product = products.get(position);\r\n        holder.bindData(product);\r\n        holder.itemView.setOnClickListener(v -> listener.onItemClick(product)); // Sử dụng listener để bắt sự kiện click\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return products.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        private final ProductItemBinding binding;\r\n\r\n        public MyViewHolder(@NonNull ProductItemBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n\r\n        public void bindData(Product product) {\r\n            binding.imgPro.setImageResource(product.getImage());\r\n            binding.tvName.setText(product.getName());\r\n            binding.tvPrice.setText(product.getPrice());\r\n            binding.tvUnit.setText(product.getUnit());\r\n        }\r\n    }\r\n}\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/data/adapter/ProductAdapter.java b/app/src/main/java/com/example/agrimart/data/adapter/ProductAdapter.java
--------- a/app/src/main/java/com/example/agrimart/data/adapter/ProductAdapter.java	
------+++ b/app/src/main/java/com/example/agrimart/data/adapter/ProductAdapter.java	
------@@ -7,7 +7,7 @@
------ import androidx.recyclerview.widget.RecyclerView;
------ 
------ import com.example.agrimart.data.model.Product;
-------import com.example.agrimart.databinding.ProductItemBinding;
------+import com.example.agrimart.databinding.ItemProductBinding;
------ 
------ import java.util.List;
------ 
------@@ -27,7 +27,7 @@
------     @NonNull
------     @Override
------     public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
-------        ProductItemBinding binding = ProductItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);
------+        ItemProductBinding binding = ItemProductBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);
------         return new MyViewHolder(binding);
------     }
------ 
------@@ -35,7 +35,7 @@
------     public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {
------         Product product = products.get(position);
------         holder.bindData(product);
-------        holder.itemView.setOnClickListener(v -> listener.onItemClick(product)); // Sử dụng listener để bắt sự kiện click
------+        holder.itemView.setOnClickListener(v -> listener.onItemClick(product));
------     }
------ 
------     @Override
------@@ -44,18 +44,16 @@
------     }
------ 
------     public static class MyViewHolder extends RecyclerView.ViewHolder {
-------        private final ProductItemBinding binding;
------+        private final ItemProductBinding binding;
------ 
-------        public MyViewHolder(@NonNull ProductItemBinding binding) {
------+        public MyViewHolder(@NonNull ItemProductBinding binding) {
------             super(binding.getRoot());
------             this.binding = binding;
------         }
------ 
------         public void bindData(Product product) {
-------            binding.imgPro.setImageResource(product.getImage());
-------            binding.tvName.setText(product.getName());
-------            binding.tvPrice.setText(product.getPrice());
-------            binding.tvUnit.setText(product.getUnit());
------+            binding.setProduct(product);
------+            binding.executePendingBindings();
------         }
------     }
-------}
------+}
------\ No newline at end of file
------Index: app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.data.adapter.CategoryAdapter;\r\nimport com.example.agrimart.data.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\nimport com.example.agrimart.ui.Notification.NotificationActivity;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    ImageButton btnSearch, btnNotification;\r\n    TextView search;\r\n\r\n    private FragmentHomeBinding binding;\r\n\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    public static HomeFragment newInstance() {\r\n        return new HomeFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n        View view = binding.getRoot();\r\n\r\n        if (getActivity() != null) {\r\n            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        RecyclerView rvCategories = view.findViewById(R.id.rvCategories);\r\n        int numberOfColumns = 4;\r\n        rvCategories.setLayoutManager(new GridLayoutManager(getContext(), numberOfColumns));\r\n\r\n        List<Category> categories = new ArrayList<>();\r\n        categories.add(new Category(R.drawable.vegetable, \"Rau củ quả\"));\r\n        categories.add(new Category(R.drawable.fruit, \"Trái cây\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Ngũ cốc và hạt\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Gia vị\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Mật ong\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Trà\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Cây cảnh\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Khác\"));\r\n\r\n        CategoryAdapter categoryAdapter = new CategoryAdapter(categories);\r\n        rvCategories.setAdapter(categoryAdapter);\r\n\r\n        List<Product> products = new ArrayList<>();\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n            Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n\r\n        addControls(view);\r\n        addEvents();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void addEvents() {\r\n        btnSearch.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getActivity(), SearchActivity.class);\r\n            getActivity().startActivity(intent);\r\n        });\r\n\r\n        btnNotification.setOnClickListener(View -> {\r\n            Intent intent = new Intent(getContext(), NotificationActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        search.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getContext(), SearchActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void addControls(View view) {\r\n        btnSearch = view.findViewById(R.id.search_icon);\r\n        btnNotification = view.findViewById(R.id.notification_icon);\r\n        search = view.findViewById(R.id.search_input);\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getActivity().getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
--------- a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	
------+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	
------@@ -76,12 +76,12 @@
------         rvCategories.setAdapter(categoryAdapter);
------ 
------         List<Product> products = new ArrayList<>();
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------ 
------         ProductAdapter productAdapter = new ProductAdapter(products, product -> {
------             Intent intent = new Intent(getContext(), ProductDetailActivity.class);
------Index: app/src/main/res/layout/product_item.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/product_item.xml b/app/src/main/res/layout/item_product.xml
------rename from app/src/main/res/layout/product_item.xml
------rename to app/src/main/res/layout/item_product.xml
--------- a/app/src/main/res/layout/product_item.xml	
------+++ b/app/src/main/res/layout/item_product.xml	
------@@ -1,70 +1,71 @@
------ <?xml version="1.0" encoding="utf-8"?>
-------<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
-------    xmlns:app="http://schemas.android.com/apk/res-auto"
-------    android:layout_width="173dp"
-------    android:background="@drawable/bg_product"
-------    android:layout_height="249dp">
------+<layout xmlns:android="http://schemas.android.com/apk/res/android"
------+    xmlns:app="http://schemas.android.com/apk/res-auto">
------+
------+    <data>
------+        <variable
------+            name="product"
------+            type="com.example.agrimart.data.model.Product" />
------+    </data>
------+
------+    <RelativeLayout
------+        android:layout_width="173dp"
------+        android:background="@drawable/bg_product"
------+        android:layout_height="249dp"
------+        android:layout_marginStart="5dp"
------+        android:layout_marginTop="5dp">
------ 
-------    <FrameLayout
-------        android:id="@+id/frame_layout"
-------        android:layout_width="match_parent"
-------        android:layout_height="124dp">
------+        <FrameLayout
------+            android:id="@+id/frame_layout"
------+            android:layout_width="match_parent"
------+            android:layout_height="124dp">
------ 
-------        <ImageView
-------            android:id="@+id/imgPro"
-------            android:layout_width="99dp"
-------            android:layout_height="79dp"
-------            android:scaleType="centerCrop"
-------            android:layout_gravity="center"
-------            app:srcCompat="@drawable/banana" />
-------    </FrameLayout>
------+            <ImageView
------+                android:id="@+id/imgPro"
------+                android:layout_width="99dp"
------+                android:layout_height="79dp"
------+                android:scaleType="centerCrop"
------+                android:layout_gravity="center"
------+                app:srcCompat="@drawable/banana" />
------+        </FrameLayout>
------ 
-------    <TextView
-------        android:id="@+id/tvName"
-------        android:layout_width="129dp"
-------        android:layout_height="wrap_content"
-------        android:layout_below="@id/frame_layout"
-------        android:layout_marginTop="12dp"
-------        android:textSize="16sp"
-------        android:textColor="#333333"
-------        android:letterSpacing="0.01"
-------        android:layout_marginStart="15dp"
-------        android:ellipsize="end"
-------        android:maxLines="1"
-------        android:text="Organic Bananas" />
-------
-------    <TextView
-------        android:id="@+id/tvUnit"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:layout_below="@id/tvName"
-------        android:layout_marginTop="14dp"
-------        android:layout_marginEnd="4dp"
-------        android:layout_marginStart="15dp"
-------        android:text="@string/_200kg"
-------        android:textColor="#8A8A8E"
-------        android:textSize="12sp" />
------+        <TextView
------+            android:id="@+id/tvName"
------+            android:layout_width="129dp"
------+            android:layout_height="wrap_content"
------+            android:layout_below="@id/frame_layout"
------+            android:layout_marginTop="12dp"
------+            android:textSize="16sp"
------+            android:textColor="#333333"
------+            android:letterSpacing="0.01"
------+            android:layout_marginStart="15dp"
------+            android:ellipsize="end"
------+            android:maxLines="1"
------+            android:textStyle="bold"
------+            android:text="@{product.name}" />
------ 
-------    <TextView
-------        android:id="@+id/tvPrice"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:layout_below="@id/tvUnit"
-------        android:textSize="18sp"
-------        android:layout_marginStart="15dp"
-------        android:layout_marginTop="12dp"
-------        android:textColor="#181725"
-------        android:letterSpacing="0.01"
-------        android:text="@string/_45_000_kg"  />
------+        <TextView
------+            android:id="@+id/tvPrice"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_below="@id/tvName"
------+            android:textSize="18sp"
------+            android:layout_marginStart="15dp"
------+            android:layout_marginTop="16dp"
------+            android:textColor="#F44336"
------+            android:letterSpacing="0.01"
------+            android:text="@{product.price}" />
------ 
-------    <ImageButton
-------        android:id="@+id/imageButton"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:background="@color/transparent"
-------        android:layout_below="@id/tvUnit"
-------        android:layout_alignParentEnd="true"
-------        android:layout_marginEnd="16dp"
-------        app:srcCompat="@drawable/ic_plus_1" />
------+        <ImageButton
------+            android:id="@+id/imageButton"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:background="@color/transparent"
------+            android:layout_below="@id/tvName"
------+            android:layout_alignParentEnd="true"
------+            android:layout_marginTop="20dp"
------+            android:layout_marginEnd="16dp"
------+            app:srcCompat="@drawable/ic_plus_1" />
------ 
-------</RelativeLayout>
------\ No newline at end of file
------+    </RelativeLayout>
------+</layout>
------\ No newline at end of file
------Index: app/src/main/res/layout/cart_item.xml
------===================================================================
------diff --git a/app/src/main/res/layout/cart_item.xml b/app/src/main/res/layout/cart_item.xml
------deleted file mode 100644
--------- a/app/src/main/res/layout/cart_item.xml	
------+++ /dev/null	
------@@ -1,109 +0,0 @@
-------<?xml version="1.0" encoding="utf-8"?>
-------<androidx.constraintlayout.widget.ConstraintLayout
-------    xmlns:android="http://schemas.android.com/apk/res/android"
-------    xmlns:app="http://schemas.android.com/apk/res-auto"
-------    xmlns:tools="http://schemas.android.com/tools"
-------    android:layout_width="match_parent"
-------    android:layout_height="wrap_content"
-------    android:padding="16dp"
-------    android:background="@drawable/round_border">
-------
-------    <com.google.android.material.imageview.ShapeableImageView
-------        android:id="@+id/img_product"
-------        android:layout_width="80dp"
-------        android:layout_height="80dp"
-------        android:scaleType="centerCrop"
-------        android:src="@drawable/apple"
-------        app:layout_constraintStart_toStartOf="parent"
-------        app:layout_constraintTop_toTopOf="parent"
-------        app:layout_constraintBottom_toBottomOf="parent"
-------        android:background="@drawable/round_border"/>
-------
-------    <TextView
-------        android:id="@+id/tv_product_name"
-------        android:layout_width="0dp"
-------        android:layout_height="wrap_content"
-------        android:layout_marginStart="16dp"
-------        android:layout_marginTop="12dp"
-------        android:text="@string/product_name"
-------        android:textColor="@android:color/black"
-------        android:textSize="14sp"
-------        android:textStyle="bold"
-------        app:layout_constraintEnd_toStartOf="@+id/tv_product_price"
-------        app:layout_constraintHorizontal_bias="0.0"
-------        app:layout_constraintStart_toEndOf="@+id/img_product"
-------        app:layout_constraintTop_toTopOf="parent" />
-------
-------    <TextView
-------        android:id="@+id/tv_product_price"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:layout_marginEnd="64dp"
-------        android:text="50.000đ"
-------        android:textColor="@android:color/black"
-------        android:textSize="16sp"
-------        android:textStyle="bold"
-------        app:layout_constraintBottom_toBottomOf="parent"
-------        app:layout_constraintEnd_toEndOf="parent"
-------        app:layout_constraintTop_toTopOf="parent"
-------        app:layout_constraintVertical_bias="0.605" />
-------
-------    <LinearLayout
-------        android:id="@+id/quantity"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:layout_marginTop="44dp"
-------        app:layout_constraintEnd_toEndOf="parent"
-------        app:layout_constraintHorizontal_bias="0.362"
-------        app:layout_constraintStart_toStartOf="parent"
-------        app:layout_constraintTop_toTopOf="parent">
-------
-------        <TextView
-------            android:id="@+id/btn_decrease"
-------            android:layout_width="30dp"
-------            android:layout_height="wrap_content"
-------            android:gravity="center"
-------            android:padding="8dp"
-------            android:text="-"
-------            android:textColor="#9E9E9E"
-------            android:textSize="24sp" />
-------
-------        <TextView
-------            android:id="@+id/tv_quantity"
-------            android:layout_width="60dp"
-------            android:layout_height="40dp"
-------            android:layout_marginStart="8dp"
-------            android:layout_marginEnd="8dp"
-------            android:layout_marginBottom="8dp"
-------            android:background="@drawable/round_border"
-------            android:fontFamily="@font/gabarito"
-------            android:gravity="center"
-------            android:text="1"
-------            android:textColor="#212121"
-------            android:textSize="18sp" />
-------
-------        <TextView
-------            android:id="@+id/btn_increase"
-------            android:layout_width="30dp"
-------            android:layout_height="wrap_content"
-------            android:gravity="center"
-------            android:padding="8dp"
-------            android:text="+"
-------            android:textColor="#4CAF50"
-------            android:textSize="24sp" />
-------    </LinearLayout>
-------
-------    <ImageButton
-------        android:id="@+id/btn_remove"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:layout_marginEnd="8dp"
-------        android:background="@android:color/transparent"
-------        android:contentDescription="Remove Product"
-------        android:src="@drawable/delete"
-------        app:layout_constraintBottom_toBottomOf="parent"
-------        app:layout_constraintEnd_toEndOf="parent"
-------        app:layout_constraintTop_toTopOf="parent"
-------        app:layout_constraintVertical_bias="0.638" />
-------
-------</androidx.constraintlayout.widget.ConstraintLayout>
------Index: app/src/main/java/com/example/agrimart/data/model/Product.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.data.model;\r\n\r\npublic class Product {\r\n    private int image;\r\n    private String name;\r\n    private String price;\r\n    private String unit;\r\n    private String active;\r\n\r\n    public Product() {\r\n    }\r\n\r\n    public Product(int image, String name, String price, String unit) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.unit = unit;\r\n    }\r\n\r\n    public Product(int image, String name, String price, String unit, String active) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.unit = unit;\r\n        this.active = active;\r\n    }\r\n\r\n    public int getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(int image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(String price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public String getUnit() {\r\n        return unit;\r\n    }\r\n\r\n    public void setUnit(String unit) {\r\n        this.unit = unit;\r\n    }\r\n\r\n    public String getActive() {\r\n        return active;\r\n    }\r\n\r\n    public void setActive(String active) {\r\n        this.active = active;\r\n    }\r\n}\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/data/model/Product.java b/app/src/main/java/com/example/agrimart/data/model/Product.java
--------- a/app/src/main/java/com/example/agrimart/data/model/Product.java	
------+++ b/app/src/main/java/com/example/agrimart/data/model/Product.java	
------@@ -4,24 +4,21 @@
------     private int image;
------     private String name;
------     private String price;
-------    private String unit;
------     private String active;
------ 
------     public Product() {
------     }
------ 
-------    public Product(int image, String name, String price, String unit) {
------+    public Product(int image, String name, String price) {
------         this.image = image;
------         this.name = name;
------         this.price = price;
-------        this.unit = unit;
------     }
------ 
-------    public Product(int image, String name, String price, String unit, String active) {
------+    public Product(int image, String name, String price, String active) {
------         this.image = image;
------         this.name = name;
------         this.price = price;
-------        this.unit = unit;
------         this.active = active;
------     }
------ 
------@@ -49,14 +46,6 @@
------         this.price = price;
------     }
------ 
-------    public String getUnit() {
-------        return unit;
-------    }
-------
-------    public void setUnit(String unit) {
-------        this.unit = unit;
-------    }
-------
------     public String getActive() {
------         return active;
------     }
------@@ -64,4 +53,4 @@
------     public void setActive(String active) {
------         this.active = active;
------     }
-------}
------+}
------\ No newline at end of file
------Index: app/src/main/res/layout/activity_notification.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:id=\"@+id/main\"\r\n    tools:context=\".ui.Notification.NotificationActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"32dp\"\r\n        android:layout_height=\"32dp\"\r\n        android:layout_marginStart=\"16dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:background=\"@color/background_light\"\r\n        android:backgroundTint=\"@color/white\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/tv_title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"THÔNG BÁO\"\r\n        android:textSize=\"18sp\"\r\n        android:textStyle=\"bold\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:layout_marginBottom=\"8dp\"\r\n        android:gravity=\"center\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:layout_gravity=\"center\" />\r\n\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:id=\"@+id/recycler_notifications\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"0dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tv_title\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:dividerHeight=\"1dp\"\r\n        android:padding=\"8dp\" />\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"4dp\"\r\n        android:background=\"@drawable/round_border\"\r\n        android:padding=\"16dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tv_title\"\r\n        tools:layout_editor_absoluteX=\"0dp\"\r\n        android:layout_marginStart=\"16dp\"\r\n        android:layout_marginEnd=\"16dp\">\r\n\r\n        <de.hdodenhof.circleimageview.CircleImageView\r\n            android:id=\"@+id/notification_icon\"\r\n            android:layout_width=\"40dp\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginEnd=\"8dp\"\r\n            android:src=\"@drawable/banana\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/notification_message\"\r\n            android:layout_width=\"252dp\"\r\n            android:layout_height=\"43dp\"\r\n            android:layout_marginStart=\"14dp\"\r\n            android:layout_marginTop=\"4dp\"\r\n            android:layout_marginBottom=\"16dp\"\r\n            android:text=\"@string/notification_message\"\r\n            android:textColor=\"@android:color/black\"\r\n            android:textSize=\"14sp\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toStartOf=\"@id/notification_time\"\r\n            app:layout_constraintHorizontal_bias=\"0\"\r\n            app:layout_constraintStart_toEndOf=\"@id/notification_icon\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"1.0\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/notification_time\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"@string/notification_time\"\r\n            android:textColor=\"@android:color/darker_gray\"\r\n            android:textSize=\"12sp\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toEndOf=\"@id/notification_message\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_notification.xml b/app/src/main/res/layout/activity_notification.xml
--------- a/app/src/main/res/layout/activity_notification.xml	
------+++ b/app/src/main/res/layout/activity_notification.xml	
------@@ -6,6 +6,7 @@
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------     android:id="@+id/main"
------+    android:background="@color/white"
------     tools:context=".ui.Notification.NotificationActivity">
------ 
------     <ImageButton
------Index: app/src/main/res/layout/item_cart.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/item_cart.xml b/app/src/main/res/layout/item_cart.xml
------new file mode 100644
--------- /dev/null	
------+++ b/app/src/main/res/layout/item_cart.xml	
------@@ -0,0 +1,88 @@
------+<androidx.cardview.widget.CardView
------+    xmlns:android="http://schemas.android.com/apk/res/android"
------+    android:layout_width="match_parent"
------+    android:layout_height="wrap_content"
------+    android:layout_margin="10dp"
------+    xmlns:app="http://schemas.android.com/apk/res-auto"
------+    xmlns:tools="http://schemas.android.com/tools"
------+    app:cardCornerRadius="8dp"
------+    app:cardElevation="4dp"
------+    app:cardBackgroundColor="@android:color/white">
------+
------+    <androidx.constraintlayout.widget.ConstraintLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="wrap_content"
------+        android:padding="10dp">
------+
------+        <CheckBox
------+            android:id="@+id/checkbox_select"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            app:layout_constraintStart_toStartOf="parent"
------+            app:layout_constraintTop_toTopOf="parent"
------+            app:layout_constraintBottom_toBottomOf="parent" />
------+
------+        <com.google.android.material.imageview.ShapeableImageView
------+            android:id="@+id/img_product"
------+            android:layout_width="60dp"
------+            android:layout_height="60dp"
------+            android:scaleType="centerCrop"
------+            android:src="@drawable/apple"
------+            app:layout_constraintStart_toEndOf="@id/checkbox_select"
------+            app:layout_constraintTop_toTopOf="parent"
------+            app:layout_constraintBottom_toBottomOf="parent"
------+            android:background="@drawable/round_border"/>
------+
------+        <TextView
------+            android:id="@+id/tv_product_name"
------+            android:layout_width="0dp"
------+            android:layout_height="wrap_content"
------+            android:layout_marginStart="16dp"
------+            android:layout_marginTop="12dp"
------+            android:text="@string/product_name"
------+            android:textColor="@android:color/black"
------+            android:textSize="18sp"
------+            android:textStyle="bold"
------+            app:layout_constraintEnd_toStartOf="@id/tv_product_price"
------+            app:layout_constraintStart_toEndOf="@id/img_product"
------+            app:layout_constraintTop_toTopOf="parent" />
------+
------+        <TextView
------+            android:id="@+id/quantity"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_marginTop="20dp"
------+            android:text="1kg"
------+            app:layout_constraintEnd_toStartOf="@id/tv_product_price"
------+            app:layout_constraintHorizontal_bias="0.093"
------+            app:layout_constraintStart_toEndOf="@id/img_product"
------+            app:layout_constraintTop_toBottomOf="@id/tv_product_name" />
------+
------+        <TextView
------+            android:id="@+id/tv_product_price"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_marginEnd="4dp"
------+            android:text="50.000đ"
------+            android:textColor="@android:color/black"
------+            android:textSize="16sp"
------+            android:textStyle="bold"
------+            app:layout_constraintBottom_toBottomOf="parent"
------+            app:layout_constraintEnd_toEndOf="parent"
------+            app:layout_constraintTop_toTopOf="parent"
------+            app:layout_constraintVertical_bias="1.0" />
------+
------+        <ImageButton
------+            android:id="@+id/btn_remove"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_marginEnd="4dp"
------+            android:background="@android:color/transparent"
------+            android:contentDescription="Remove Product"
------+            android:src="@drawable/delete"
------+            app:layout_constraintBottom_toBottomOf="parent"
------+            app:layout_constraintEnd_toEndOf="parent"
------+            app:layout_constraintTop_toTopOf="parent"
------+            app:layout_constraintVertical_bias="0.0" />
------+    </androidx.constraintlayout.widget.ConstraintLayout>
------+</androidx.cardview.widget.CardView>
------\ No newline at end of file
------Index: app/src/main/res/layout/activity_forgot_password.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/background_light\"\r\n    tools:context=\".ui.Account.ForgotPasswordActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:background=\"@color/background_light\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.077\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        style=\"@style/title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"96dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"Đặt lại mật khẩu\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.15\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"30dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n        app:boxBackgroundColor=\"@color/background_light\"\r\n        app:startIconDrawable=\"@drawable/telephone\"\r\n        app:boxBackgroundMode=\"outline\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"Nhập số điện thoại của bạn\"\r\n            android:inputType=\"phone\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_continue\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"36dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"Tiếp tục\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.905\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_forgot_password.xml b/app/src/main/res/layout/activity_forgot_password.xml
--------- a/app/src/main/res/layout/activity_forgot_password.xml	
------+++ b/app/src/main/res/layout/activity_forgot_password.xml	
------@@ -5,7 +5,7 @@
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
-------    android:background="@color/background_light"
------+    android:background="@color/white"
------     tools:context=".ui.Account.ForgotPasswordActivity">
------ 
------     <ImageButton
------@@ -13,7 +13,7 @@
------         android:layout_width="wrap_content"
------         android:layout_height="wrap_content"
------         android:layout_marginTop="32dp"
-------        android:background="@color/background_light"
------+        android:background="@color/white"
------         android:src="@drawable/chevron_left"
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintHorizontal_bias="0.077"
------@@ -44,7 +44,7 @@
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintStart_toStartOf="parent"
------         app:layout_constraintTop_toBottomOf="@+id/textView2"
-------        app:boxBackgroundColor="@color/background_light"
------+        app:boxBackgroundColor="@color/white"
------         app:startIconDrawable="@drawable/telephone"
------         app:boxBackgroundMode="outline">
------ 
------Index: app/src/main/res/layout/activity_enter_otpactivity.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/background_light\"\r\n    android:id=\"@+id/main\"\r\n    tools:context=\".ui.Account.EnterOTPActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:background=\"@color/background_light\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.077\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        style=\"@style/title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"92dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"Nhập mã OTP\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/tv_description\"\r\n        android:layout_width=\"289dp\"\r\n        android:layout_height=\"52dp\"\r\n        android:layout_marginStart=\"63dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"70dp\"\r\n        android:text=\"Nhập mã vừa được gửi đến số điện thoại +84123**678\"\r\n        android:textColor=\"@color/black\"\r\n        android:textSize=\"16sp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.181\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\" />\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:boxBackgroundColor=\"@color/background_light\"\r\n        app:boxBackgroundMode=\"outline\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"1.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tv_description\"\r\n        app:startIconDrawable=\"@drawable/password\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"Nhập mã OTP\"\r\n            android:inputType=\"numberDecimal\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n\r\n    <TextView\r\n        android:id=\"@+id/haveAccount\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:fontFamily=\"@font/circular_std\"\r\n        android:text=\"@string/g_i_l_i\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.498\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/btn_confirm\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_confirm\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"32dp\"\r\n        android:layout_marginTop=\"40dp\"\r\n        android:layout_marginEnd=\"32dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"XÁC NHẬN\"\r\n        android:textAllCaps=\"true\"\r\n        android:textColor=\"@color/white\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.497\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_enter_otpactivity.xml b/app/src/main/res/layout/activity_enter_otpactivity.xml
--------- a/app/src/main/res/layout/activity_enter_otpactivity.xml	
------+++ b/app/src/main/res/layout/activity_enter_otpactivity.xml	
------@@ -4,7 +4,7 @@
------     xmlns:tools="http://schemas.android.com/tools"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
-------    android:background="@color/background_light"
------+    android:background="@color/white"
------     android:id="@+id/main"
------     tools:context=".ui.Account.EnterOTPActivity">
------ 
------@@ -13,7 +13,7 @@
------         android:layout_width="wrap_content"
------         android:layout_height="wrap_content"
------         android:layout_marginTop="32dp"
-------        android:background="@color/background_light"
------+        android:background="@color/white"
------         android:src="@drawable/chevron_left"
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintHorizontal_bias="0.077"
------@@ -55,7 +55,7 @@
------         android:layout_marginStart="24dp"
------         android:layout_marginTop="20dp"
------         android:layout_marginEnd="24dp"
-------        app:boxBackgroundColor="@color/background_light"
------+        app:boxBackgroundColor="@color/white"
------         app:boxBackgroundMode="outline"
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintHorizontal_bias="1.0"
------Index: app/src/main/res/layout/activity_sign_in.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Account.SignInActivity\">\r\n\r\n    <ImageView\r\n        android:layout_width=\"200dp\"\r\n        android:layout_height=\"100dp\"\r\n        android:src=\"@drawable/logo\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        android:layout_marginTop=\"20dp\"/>\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"160dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"@string/ng_nh_p\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.092\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        style=\"@style/title\"/>\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n        app:boxBackgroundColor=\"@color/background_light\"\r\n        app:startIconDrawable=\"@drawable/telephone\"\r\n        app:boxBackgroundMode=\"outline\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"@string/sodienthoai\"\r\n            android:inputType=\"text\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout3\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\"\r\n        app:startIconDrawable=\"@drawable/key\"\r\n        app:passwordToggleEnabled=\"true\"\r\n        app:boxBackgroundMode=\"outline\"\r\n        app:boxBackgroundColor=\"@color/background_light\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPassword\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:hint=\"@string/m_t_kh_u\"\r\n            android:inputType=\"textPassword\"\r\n            android:password=\"true\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/btnSignIn\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"50dp\"\r\n        android:layout_marginTop=\"36dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:drawableEnd=\"@drawable/arrowright\"\r\n        android:text=\"Đăng nhập\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.905\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout3\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btnSignInGoogle\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"50dp\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"44dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:backgroundTintMode=\"screen\"\r\n        android:drawableLeft=\"@drawable/google\"\r\n        android:drawablePadding=\"10dp\"\r\n        android:fontFamily=\"@font/circular_std\"\r\n        android:text=\"@string/continue_with_google\"\r\n        android:textFontWeight=\"500\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/btnSignIn\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/dontHaveAccount\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:layout_marginBottom=\"30dp\"\r\n        android:backgroundTint=\"@color/background_green\"\r\n        android:backgroundTintMode=\"screen\"\r\n        android:drawablePadding=\"10dp\"\r\n        android:fontFamily=\"@font/circular_std\"\r\n        android:text=\"@string/dang_ky\"\r\n        android:textFontWeight=\"500\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/forgotPassword\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:text=\"@string/qu_n_m_t_kh_u\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout3\"\r\n        android:fontFamily=\"@font/circular_std\"/>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_sign_in.xml b/app/src/main/res/layout/activity_sign_in.xml
--------- a/app/src/main/res/layout/activity_sign_in.xml	
------+++ b/app/src/main/res/layout/activity_sign_in.xml	
------@@ -5,6 +5,7 @@
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------+    android:background="@color/white"
------     tools:context=".ui.Account.SignInActivity">
------ 
------     <ImageView
------@@ -39,7 +40,7 @@
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintStart_toStartOf="parent"
------         app:layout_constraintTop_toBottomOf="@+id/textView2"
-------        app:boxBackgroundColor="@color/background_light"
------+        app:boxBackgroundColor="@color/white"
------         app:startIconDrawable="@drawable/telephone"
------         app:boxBackgroundMode="outline">
------ 
------@@ -65,7 +66,7 @@
------         app:startIconDrawable="@drawable/key"
------         app:passwordToggleEnabled="true"
------         app:boxBackgroundMode="outline"
-------        app:boxBackgroundColor="@color/background_light">
------+        app:boxBackgroundColor="@color/white">
------ 
------         <com.google.android.material.textfield.TextInputEditText
------             android:id="@+id/edtPassword"
------Index: .idea/misc.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ExternalStorageConfigurationManager\" enabled=\"true\" />\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_17\" default=\"true\" project-jdk-name=\"jbr-17\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n</project>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/.idea/misc.xml b/.idea/misc.xml
--------- a/.idea/misc.xml	
------+++ b/.idea/misc.xml	
------@@ -1,4 +1,3 @@
-------<?xml version="1.0" encoding="UTF-8"?>
------ <project version="4">
------   <component name="ExternalStorageConfigurationManager" enabled="true" />
------   <component name="ProjectRootManager" version="2" languageLevel="JDK_17" default="true" project-jdk-name="jbr-17" project-jdk-type="JavaSDK">
------Index: app/src/main/res/layout/fragment_cart.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\"com.example.agrimart.ui.Cart.CartFragment\">\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/header\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_title\"\r\n            android:layout_width=\"126dp\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_alignParentStart=\"true\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_gravity=\"center\"\r\n            android:layout_marginStart=\"145dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:layout_marginEnd=\"140dp\"\r\n            android:layout_marginBottom=\"8dp\"\r\n            android:gravity=\"center\"\r\n            android:text=\"GIỎ HÀNG\"\r\n            android:textSize=\"18sp\"\r\n            android:textStyle=\"bold\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n    </RelativeLayout>\r\n\r\n\r\n    <FrameLayout\r\n        android:id=\"@+id/container\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_below=\"@+id/header\"\r\n        android:layout_above=\"@+id/footer\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/header\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginEnd=\"16dp\">\r\n            <com.google.android.material.imageview.ShapeableImageView\r\n                android:id=\"@+id/img_product\"\r\n                android:layout_width=\"80dp\"\r\n                android:layout_height=\"80dp\"\r\n                android:scaleType=\"centerCrop\"\r\n                android:src=\"@drawable/apple\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                android:background=\"@drawable/round_border\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_product_name\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginTop=\"12dp\"\r\n                android:text=\"@string/product_name\"\r\n                android:textColor=\"@android:color/black\"\r\n                android:textSize=\"14sp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintEnd_toStartOf=\"@+id/tv_product_price\"\r\n                app:layout_constraintHorizontal_bias=\"0.0\"\r\n                app:layout_constraintStart_toEndOf=\"@+id/img_product\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_product_price\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginEnd=\"64dp\"\r\n                android:text=\"50.000đ\"\r\n                android:textColor=\"@android:color/black\"\r\n                android:textSize=\"16sp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:layout_constraintVertical_bias=\"0.605\" />\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/quantity\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"44dp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHorizontal_bias=\"0.362\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_decrease\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:gravity=\"center\"\r\n                    android:padding=\"8dp\"\r\n                    android:text=\"-\"\r\n                    android:textColor=\"#9E9E9E\"\r\n                    android:textSize=\"24sp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_quantity\"\r\n                    android:layout_width=\"60dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:layout_marginStart=\"8dp\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:layout_marginBottom=\"8dp\"\r\n                    android:background=\"@drawable/round_border\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"1\"\r\n                    android:textColor=\"#212121\"\r\n                    android:textSize=\"18sp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_increase\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:gravity=\"center\"\r\n                    android:padding=\"8dp\"\r\n                    android:text=\"+\"\r\n                    android:textColor=\"#4CAF50\"\r\n                    android:textSize=\"24sp\" />\r\n            </LinearLayout>\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/btn_remove\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginEnd=\"8dp\"\r\n                android:background=\"@android:color/transparent\"\r\n                android:contentDescription=\"Remove Product\"\r\n                android:src=\"@drawable/delete\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:layout_constraintVertical_bias=\"0.638\" />\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n    </FrameLayout>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/footer\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentBottom=\"true\">\r\n\r\n        <Button\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_marginStart=\"48dp\"\r\n            android:layout_marginEnd=\"48dp\"\r\n            android:backgroundTint=\"@color/green\"\r\n            app:cornerRadius=\"24dp\"\r\n            android:text=\"Thanh toán\"/>\r\n    </RelativeLayout>\r\n\r\n</RelativeLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/fragment_cart.xml b/app/src/main/res/layout/fragment_cart.xml
--------- a/app/src/main/res/layout/fragment_cart.xml	
------+++ b/app/src/main/res/layout/fragment_cart.xml	
------@@ -1,16 +1,17 @@
-------<?xml version="1.0" encoding="utf-8"?>
------ <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
------     xmlns:app="http://schemas.android.com/apk/res-auto"
------     xmlns:tools="http://schemas.android.com/tools"
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------+    android:background="@color/white"
------     tools:context="com.example.agrimart.ui.Cart.CartFragment">
------ 
------     <RelativeLayout
------         android:id="@+id/header"
------         android:layout_width="match_parent"
-------        android:layout_height="wrap_content">
------+        android:layout_height="wrap_content"
------+        android:background="@color/green">
------ 
------         <TextView
------             android:id="@+id/tv_title"
------@@ -32,120 +33,114 @@
------             app:layout_constraintTop_toTopOf="parent" />
------     </RelativeLayout>
------ 
-------
------     <FrameLayout
------         android:id="@+id/container"
------         android:layout_width="match_parent"
-------        android:layout_height="match_parent"
------+        android:layout_height="wrap_content"
------         android:layout_below="@+id/header"
------         android:layout_above="@+id/footer">
------ 
-------        <androidx.constraintlayout.widget.ConstraintLayout
-------            android:layout_width="match_parent"
-------            android:layout_height="wrap_content"
-------            android:layout_below="@id/header"
-------            android:layout_marginStart="16dp"
-------            android:layout_marginEnd="16dp">
-------            <com.google.android.material.imageview.ShapeableImageView
-------                android:id="@+id/img_product"
-------                android:layout_width="80dp"
-------                android:layout_height="80dp"
-------                android:scaleType="centerCrop"
-------                android:src="@drawable/apple"
-------                app:layout_constraintStart_toStartOf="parent"
-------                app:layout_constraintTop_toTopOf="parent"
-------                app:layout_constraintBottom_toBottomOf="parent"
-------                android:background="@drawable/round_border"/>
------+        <androidx.cardview.widget.CardView
------+            android:layout_width="match_parent"
------+            android:layout_height="wrap_content"
------+            android:layout_margin="10dp"
------+            app:cardCornerRadius="8dp"
------+            app:cardElevation="4dp"
------+            app:cardBackgroundColor="@android:color/white">
------+
------+            <androidx.constraintlayout.widget.ConstraintLayout
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:padding="10dp">
------+
------+                <CheckBox
------+                    android:id="@+id/checkbox_select"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    app:layout_constraintStart_toStartOf="parent"
------+                    app:layout_constraintTop_toTopOf="parent"
------+                    app:layout_constraintBottom_toBottomOf="parent" />
------+
------+                <com.google.android.material.imageview.ShapeableImageView
------+                    android:id="@+id/img_product"
------+                    android:layout_width="60dp"
------+                    android:layout_height="60dp"
------+                    android:scaleType="centerCrop"
------+                    android:src="@drawable/apple"
------+                    app:layout_constraintStart_toEndOf="@id/checkbox_select"
------+                    app:layout_constraintTop_toTopOf="parent"
------+                    app:layout_constraintBottom_toBottomOf="parent"
------+                    android:background="@drawable/round_border"/>
------ 
-------            <TextView
-------                android:id="@+id/tv_product_name"
-------                android:layout_width="0dp"
-------                android:layout_height="wrap_content"
-------                android:layout_marginStart="16dp"
-------                android:layout_marginTop="12dp"
-------                android:text="@string/product_name"
-------                android:textColor="@android:color/black"
-------                android:textSize="14sp"
-------                android:textStyle="bold"
-------                app:layout_constraintEnd_toStartOf="@+id/tv_product_price"
-------                app:layout_constraintHorizontal_bias="0.0"
-------                app:layout_constraintStart_toEndOf="@+id/img_product"
-------                app:layout_constraintTop_toTopOf="parent" />
------+                <TextView
------+                    android:id="@+id/tv_product_name"
------+                    android:layout_width="0dp"
------+                    android:layout_height="wrap_content"
------+                    android:layout_marginStart="16dp"
------+                    android:layout_marginTop="12dp"
------+                    android:text="@string/product_name"
------+                    android:textColor="@android:color/black"
------+                    android:textSize="18sp"
------+                    android:textStyle="bold"
------+                    app:layout_constraintEnd_toStartOf="@id/tv_product_price"
------+                    app:layout_constraintStart_toEndOf="@id/img_product"
------+                    app:layout_constraintTop_toTopOf="parent" />
------ 
-------            <TextView
-------                android:id="@+id/tv_product_price"
-------                android:layout_width="wrap_content"
-------                android:layout_height="wrap_content"
-------                android:layout_marginEnd="64dp"
-------                android:text="50.000đ"
-------                android:textColor="@android:color/black"
-------                android:textSize="16sp"
-------                android:textStyle="bold"
-------                app:layout_constraintBottom_toBottomOf="parent"
-------                app:layout_constraintEnd_toEndOf="parent"
-------                app:layout_constraintTop_toTopOf="parent"
-------                app:layout_constraintVertical_bias="0.605" />
-------
-------            <LinearLayout
-------                android:id="@+id/quantity"
-------                android:layout_width="wrap_content"
-------                android:layout_height="wrap_content"
-------                android:layout_marginTop="44dp"
-------                app:layout_constraintEnd_toEndOf="parent"
-------                app:layout_constraintHorizontal_bias="0.362"
-------                app:layout_constraintStart_toStartOf="parent"
-------                app:layout_constraintTop_toTopOf="parent">
-------
-------                <TextView
-------                    android:id="@+id/btn_decrease"
-------                    android:layout_width="30dp"
-------                    android:layout_height="wrap_content"
-------                    android:gravity="center"
-------                    android:padding="8dp"
-------                    android:text="-"
-------                    android:textColor="#9E9E9E"
-------                    android:textSize="24sp" />
-------
-------                <TextView
-------                    android:id="@+id/tv_quantity"
-------                    android:layout_width="60dp"
-------                    android:layout_height="40dp"
-------                    android:layout_marginStart="8dp"
-------                    android:layout_marginEnd="8dp"
-------                    android:layout_marginBottom="8dp"
-------                    android:background="@drawable/round_border"
-------                    android:fontFamily="@font/gabarito"
-------                    android:gravity="center"
-------                    android:text="1"
-------                    android:textColor="#212121"
-------                    android:textSize="18sp" />
-------
-------                <TextView
-------                    android:id="@+id/btn_increase"
-------                    android:layout_width="30dp"
-------                    android:layout_height="wrap_content"
-------                    android:gravity="center"
-------                    android:padding="8dp"
-------                    android:text="+"
-------                    android:textColor="#4CAF50"
-------                    android:textSize="24sp" />
-------            </LinearLayout>
------+                <TextView
------+                    android:id="@+id/quantity"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:layout_marginTop="20dp"
------+                    android:text="1kg"
------+                    app:layout_constraintEnd_toStartOf="@id/tv_product_price"
------+                    app:layout_constraintHorizontal_bias="0.093"
------+                    app:layout_constraintStart_toEndOf="@id/img_product"
------+                    app:layout_constraintTop_toBottomOf="@id/tv_product_name" />
------+
------+                <TextView
------+                    android:id="@+id/tv_product_price"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:layout_marginEnd="4dp"
------+                    android:text="50.000đ"
------+                    android:textColor="@android:color/black"
------+                    android:textSize="16sp"
------+                    android:textStyle="bold"
------+                    app:layout_constraintBottom_toBottomOf="parent"
------+                    app:layout_constraintEnd_toEndOf="parent"
------+                    app:layout_constraintTop_toTopOf="parent"
------+                    app:layout_constraintVertical_bias="1.0" />
------ 
-------            <ImageButton
-------                android:id="@+id/btn_remove"
-------                android:layout_width="wrap_content"
-------                android:layout_height="wrap_content"
-------                android:layout_marginEnd="8dp"
-------                android:background="@android:color/transparent"
-------                android:contentDescription="Remove Product"
-------                android:src="@drawable/delete"
-------                app:layout_constraintBottom_toBottomOf="parent"
-------                app:layout_constraintEnd_toEndOf="parent"
-------                app:layout_constraintTop_toTopOf="parent"
-------                app:layout_constraintVertical_bias="0.638" />
-------        </androidx.constraintlayout.widget.ConstraintLayout>
------+                <ImageButton
------+                    android:id="@+id/btn_remove"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:layout_marginEnd="4dp"
------+                    android:background="@android:color/transparent"
------+                    android:contentDescription="Remove Product"
------+                    android:src="@drawable/delete"
------+                    app:layout_constraintBottom_toBottomOf="parent"
------+                    app:layout_constraintEnd_toEndOf="parent"
------+                    app:layout_constraintTop_toTopOf="parent"
------+                    app:layout_constraintVertical_bias="0.0" />
------+            </androidx.constraintlayout.widget.ConstraintLayout>
------+        </androidx.cardview.widget.CardView>
------     </FrameLayout>
------ 
------+    <RelativeLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="wrap_content"
------+        android:layout_above="@id/footer">
------+        <TextView
------+            android:id="@+id/tv_total_price"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:text="Tổng tiền: 0đ"
------+            android:textSize="18sp"
------+            android:textStyle="bold"
------+            android:layout_margin="16dp"/>
------+    </RelativeLayout>
------+
------     <RelativeLayout
------         android:id="@+id/footer"
------         android:layout_width="match_parent"
------@@ -153,6 +148,7 @@
------         android:layout_alignParentBottom="true">
------ 
------         <Button
------+            android:id="@+id/btn_checkout"
------             android:layout_width="match_parent"
------             android:layout_height="60dp"
------             android:layout_marginStart="48dp"
------Index: app/src/main/res/layout/fragment_explore.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Explore.ExploreFragment\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/header\"\r\n        android:background=\"@color/green\"\r\n        android:orientation=\"horizontal\"\r\n        android:padding=\"16dp\">\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/search_card\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_weight=\"1\"\r\n            app:cardCornerRadius=\"8dp\"\r\n            app:cardElevation=\"4dp\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:padding=\"8dp\"\r\n                android:id=\"@+id/search_bar\">\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/search_icon\"\r\n                    android:layout_width=\"24dp\"\r\n                    android:layout_height=\"24dp\"\r\n                    android:src=\"@drawable/ic_search\"\r\n                    android:tint=\"@color/black\"\r\n                    android:layout_gravity=\"center_vertical\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:background=\"@color/white\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/search_input\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"1\"\r\n                    android:hint=\"@string/search\"\r\n                    android:background=\"@null\"\r\n                    android:padding=\"8dp\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:textColorHint=\"@android:color/darker_gray\" />\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/filter_icon\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_gravity=\"center_vertical\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:layout_marginEnd=\"4dp\"\r\n            android:background=\"@color/green\"\r\n            android:src=\"@drawable/filter\"\r\n            android:tint=\"@color/black\" />\r\n\r\n    </LinearLayout>\r\n\r\n    <com.google.android.material.tabs.TabLayout\r\n        android:id=\"@+id/tabLayout\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/header\"\r\n        android:paddingStart=\"5dp\"\r\n        android:paddingEnd=\"5dp\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:layout_marginStart=\"10dp\"\r\n        android:layout_marginEnd=\"10dp\"\r\n        app:tabMode=\"scrollable\"\r\n        app:tabGravity=\"fill\"\r\n        app:tabBackground=\"@drawable/tab_background\"\r\n        app:tabIndicator=\"@null\"\r\n        app:tabTextColor=\"@color/black\"\r\n        app:tabSelectedTextColor=\"@color/white\"\r\n        app:tabSelectedTextAppearance=\"@color/transparent\"\r\n        app:tabTextAppearance=\"@style/TabTextAppearance\" />\r\n\r\n\r\n    <androidx.viewpager2.widget.ViewPager2\r\n        android:id=\"@+id/viewPager\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_below=\"@id/tabLayout\"/>\r\n</RelativeLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/fragment_explore.xml b/app/src/main/res/layout/fragment_explore.xml
--------- a/app/src/main/res/layout/fragment_explore.xml	
------+++ b/app/src/main/res/layout/fragment_explore.xml	
------@@ -67,7 +67,7 @@
------     <com.google.android.material.tabs.TabLayout
------         android:id="@+id/tabLayout"
------         android:layout_width="match_parent"
-------        android:layout_height="wrap_content"
------+        android:layout_height="30dp"
------         android:layout_below="@id/header"
------         android:paddingStart="5dp"
------         android:paddingEnd="5dp"
------@@ -76,12 +76,14 @@
------         android:layout_marginEnd="10dp"
------         app:tabMode="scrollable"
------         app:tabGravity="fill"
------+        app:tabIndicatorGravity="center"
------         app:tabBackground="@drawable/tab_background"
------         app:tabIndicator="@null"
------         app:tabTextColor="@color/black"
------         app:tabSelectedTextColor="@color/white"
------         app:tabSelectedTextAppearance="@color/transparent"
-------        app:tabTextAppearance="@style/TabTextAppearance" />
------+        app:tabTextAppearance="@style/TabTextAppearance"
------+        app:tabRippleColor="@null" />
------ 
------ 
------     <androidx.viewpager2.widget.ViewPager2
------Index: app/src/main/res/layout/fragment_my_profile.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.MyProfile.MyProfileFragment\">\r\n\r\n    <LinearLayout\r\n        android:id=\"@+id/id_myProject\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"200dp\"\r\n        android:layout_marginBottom=\"20dp\"\r\n        android:background=\"@drawable/shape_rounded_bottom\"\r\n        android:gravity=\"center|top\"\r\n        android:backgroundTint=\"@color/account_my_project\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/profile_title\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"10dp\"\r\n            android:layout_marginBottom=\"30dp\"\r\n            android:text=\"Hồ Sơ Của Tôi\"\r\n            android:textColor=\"@color/white\"\r\n            android:textSize=\"11pt\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"101dp\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <RelativeLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\">\r\n\r\n                <!-- Ảnh chính với nền tròn -->\r\n                <com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=\"@+id/profile_image\"\r\n                    android:layout_width=\"100dp\"\r\n                    android:layout_height=\"100dp\"\r\n                    android:layout_marginStart=\"20dp\"\r\n                    android:scaleType=\"centerCrop\"\r\n                    android:src=\"@drawable/apple\"\r\n                    app:shapeAppearanceOverlay=\"@style/CircleShape\" />\r\n\r\n                <!-- Biểu tượng chỉnh sửa bên dưới ảnh chính -->\r\n                <ImageView\r\n                    android:id=\"@+id/edit_profile_icon\"\r\n                    android:layout_width=\"40dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:layout_alignEnd=\"@+id/profile_image\"\r\n                    android:layout_alignBottom=\"@+id/profile_image\"\r\n                    android:layout_marginEnd=\"0dp\"\r\n                    android:layout_marginBottom=\"0dp\"\r\n                    android:background=\"@drawable/rounded_edit_profile\"\r\n                    android:padding=\"10dp\"\r\n                    android:src=\"@drawable/edit\" />\r\n\r\n            </RelativeLayout>\r\n\r\n            <TextView\r\n                android:id=\"@+id/profile_name\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_marginStart=\"25dp\"\r\n                android:layout_marginEnd=\"20dp\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/white\"\r\n                android:text=\"Hoàng Huy Long\"\r\n                android:textSize=\"11pt\"\r\n                android:textStyle=\"bold\" />\r\n\r\n        </LinearLayout>\r\n\r\n    </LinearLayout>\r\n\r\n    <ScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:id=\"@+id/id_ScrollView_myProject\"\r\n        android:layout_above=\"@+id/frameLayout_MyProject\"\r\n        android:layout_below=\"@+id/id_myProject\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <!-- Chỉnh sửa hồ sơ -->\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/edit_profile_nex1t\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_weight=\"1\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/editing\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/edit_profile_text\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"3\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"11pt\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:text=\"Chỉnh sửa hồ sơ\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/edit_profile_next\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:layout_weight=\"1\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <!-- Divider -->\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"1dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:layout_marginEnd=\"15dp\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:background=\"#65424242\" />\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"56dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_map_img\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/map\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/my_map_text\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"3\"\r\n                    android:text=\"Địa chỉ\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"11pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_map_next\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"1dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:layout_marginEnd=\"15dp\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:background=\"#65424242\" />\r\n\r\n            <!-- Thay đổi mật khẩu -->\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"56dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/change_password_next1\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/padlock\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/change_password_text\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"3\"\r\n                    android:text=\"Thay đổi mật khẩu\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"11pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/change_password_next\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <!-- Divider -->\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"1dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:layout_marginEnd=\"15dp\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:background=\"#65424242\" />\r\n\r\n            <!-- Phương thức thanh toán -->\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"56dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/payment_method_next1\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/valid\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/payment_method_text\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"3\"\r\n                    android:text=\"Phương thức thanh toán\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"11pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/payment_method_next\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <!-- Divider -->\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"1dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:layout_marginEnd=\"15dp\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:background=\"#65424242\" />\r\n\r\n            <!-- Đơn hàng của tôi -->\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"56dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_orders_next1\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/logistics\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/my_orders_text\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"3\"\r\n                    android:text=\"Đơn hàng của tôi\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"11pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_orders_next\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/next\" />\r\n\r\n\r\n            </LinearLayout>\r\n\r\n\r\n\r\n        </LinearLayout>\r\n\r\n\r\n    </ScrollView>\r\n\r\n    <FrameLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:id=\"@+id/frameLayout_MyProject\"\r\n        android:layout_alignParentBottom=\"true\"\r\n        android:layout_height=\"wrap_content\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"350dp\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_gravity=\"top|center\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:layout_marginBottom=\"20dp\"\r\n            android:backgroundTint=\"@color/account_my_project\"\r\n            android:background=\"@drawable/rounded_edittext\"\r\n\r\n            android:gravity=\"center\"\r\n            android:orientation=\"horizontal\"> <!-- Thêm sự kiện onClick -->\r\n\r\n\r\n            <ImageView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:contentDescription=\"@string/todo\"\r\n                android:paddingEnd=\"8dp\"\r\n                android:src=\"@drawable/logout\" /> <!-- Điều chỉnh khoảng cách giữa icon và chữ -->\r\n\r\n            <TextView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"Đăng xuất\"\r\n                android:textAllCaps=\"false\"\r\n                android:textColor=\"@color/white\"\r\n                android:textSize=\"11pt\" />\r\n\r\n        </LinearLayout>\r\n    </FrameLayout>\r\n\r\n\r\n</RelativeLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/fragment_my_profile.xml b/app/src/main/res/layout/fragment_my_profile.xml
--------- a/app/src/main/res/layout/fragment_my_profile.xml	
------+++ b/app/src/main/res/layout/fragment_my_profile.xml	
------@@ -5,132 +5,58 @@
------     android:layout_height="match_parent"
------     tools:context=".ui.MyProfile.MyProfileFragment">
------ 
-------    <LinearLayout
-------        android:id="@+id/id_myProject"
-------        android:layout_width="match_parent"
-------        android:layout_height="200dp"
-------        android:layout_marginBottom="20dp"
-------        android:background="@drawable/shape_rounded_bottom"
-------        android:gravity="center|top"
-------        android:backgroundTint="@color/account_my_project"
-------        android:orientation="vertical">
-------
-------        <TextView
-------            android:id="@+id/profile_title"
-------            android:layout_width="wrap_content"
-------            android:layout_height="wrap_content"
-------            android:layout_marginTop="10dp"
-------            android:layout_marginBottom="30dp"
-------            android:text="Hồ Sơ Của Tôi"
-------            android:textColor="@color/white"
-------            android:textSize="11pt"
-------            android:textStyle="bold" />
-------
-------        <LinearLayout
-------            android:layout_width="match_parent"
-------            android:layout_height="101dp"
-------            android:orientation="horizontal">
-------
-------            <RelativeLayout
-------                android:layout_width="wrap_content"
-------                android:layout_height="wrap_content">
-------
-------                <!-- Ảnh chính với nền tròn -->
-------                <com.google.android.material.imageview.ShapeableImageView
-------                    android:id="@+id/profile_image"
-------                    android:layout_width="100dp"
-------                    android:layout_height="100dp"
-------                    android:layout_marginStart="20dp"
-------                    android:scaleType="centerCrop"
-------                    android:src="@drawable/apple"
-------                    app:shapeAppearanceOverlay="@style/CircleShape" />
-------
-------                <!-- Biểu tượng chỉnh sửa bên dưới ảnh chính -->
-------                <ImageView
-------                    android:id="@+id/edit_profile_icon"
-------                    android:layout_width="40dp"
-------                    android:layout_height="40dp"
-------                    android:layout_alignEnd="@+id/profile_image"
-------                    android:layout_alignBottom="@+id/profile_image"
-------                    android:layout_marginEnd="0dp"
-------                    android:layout_marginBottom="0dp"
-------                    android:background="@drawable/rounded_edit_profile"
-------                    android:padding="10dp"
-------                    android:src="@drawable/edit" />
-------
-------            </RelativeLayout>
-------
-------            <TextView
-------                android:id="@+id/profile_name"
-------                android:layout_width="wrap_content"
-------                android:layout_height="wrap_content"
-------                android:layout_gravity="center"
-------                android:layout_marginStart="25dp"
-------                android:layout_marginEnd="20dp"
-------                android:layout_weight="1"
-------                android:textColor="@color/white"
-------                android:text="Hoàng Huy Long"
-------                android:textSize="11pt"
-------                android:textStyle="bold" />
-------
-------        </LinearLayout>
-------
-------    </LinearLayout>
------ 
------     <ScrollView
------+        android:id="@+id/id_ScrollView_myProject"
------         android:layout_width="match_parent"
------         android:layout_height="match_parent"
-------        android:id="@+id/id_ScrollView_myProject"
-------        android:layout_above="@+id/frameLayout_MyProject"
-------        android:layout_below="@+id/id_myProject">
------+        android:layout_above="@+id/frameLayout_MyProject">
------ 
------         <LinearLayout
------             android:layout_width="match_parent"
------             android:layout_height="wrap_content"
------             android:orientation="vertical">
------ 
-------            <!-- Chỉnh sửa hồ sơ -->
------             <LinearLayout
------                 android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------                 android:layout_marginTop="20dp"
------                 android:layout_marginBottom="15dp"
-------                android:layout_height="wrap_content"
------                 android:orientation="horizontal">
------ 
------                 <ImageView
------                     android:id="@+id/edit_profile_nex1t"
-------                    android:layout_width="0dp"
------+                    android:layout_width="75dp"
------                     android:layout_height="30dp"
------+                    android:layout_gravity="center"
------                     android:layout_weight="1"
-------                    android:layout_gravity="center"
------                     android:src="@drawable/editing" />
------ 
------                 <TextView
------                     android:id="@+id/edit_profile_text"
------                     android:layout_width="0dp"
------                     android:layout_height="wrap_content"
------+                    android:layout_gravity="center"
------                     android:layout_weight="3"
------+                    android:text="Đăng bán"
------                     android:textColor="@color/black"
-------                    android:textSize="11pt"
-------                    android:layout_gravity="center"
-------                    android:text="Chỉnh sửa hồ sơ" />
------+                    android:textSize="11pt" />
------ 
------                 <ImageView
------                     android:id="@+id/edit_profile_next"
------                     android:layout_width="0dp"
------                     android:layout_height="25dp"
-------                    android:layout_weight="1"
------                     android:layout_gravity="center"
------+                    android:layout_weight="1"
------                     android:src="@drawable/next" />
------             </LinearLayout>
------ 
-------            <!-- Divider -->
------             <View
------                 android:layout_width="match_parent"
------                 android:layout_height="1dp"
------                 android:layout_marginStart="15dp"
-------                android:layout_marginEnd="15dp"
------                 android:layout_marginTop="5dp"
------+                android:layout_marginEnd="15dp"
------                 android:background="#65424242" />
------ 
------             <LinearLayout
------@@ -154,7 +80,7 @@
------                     android:layout_height="wrap_content"
------                     android:layout_gravity="center"
------                     android:layout_weight="3"
-------                    android:text="Địa chỉ"
------+                    android:text="Quản lý đơn hàng"
------                     android:textColor="@color/black"
------                     android:textSize="11pt" />
------ 
------@@ -171,136 +97,20 @@
------                 android:layout_width="match_parent"
------                 android:layout_height="1dp"
------                 android:layout_marginStart="15dp"
-------                android:layout_marginEnd="15dp"
------                 android:layout_marginTop="5dp"
------+                android:layout_marginEnd="15dp"
------                 android:background="#65424242" />
------ 
-------            <!-- Thay đổi mật khẩu -->
-------            <LinearLayout
-------                android:layout_width="match_parent"
-------                android:layout_height="56dp"
-------                android:layout_marginTop="20dp"
-------                android:layout_marginBottom="15dp"
-------                android:orientation="horizontal">
-------
-------                <ImageView
-------                    android:id="@+id/change_password_next1"
-------                    android:layout_width="0dp"
-------                    android:layout_height="30dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/padlock" />
-------
-------                <TextView
-------                    android:id="@+id/change_password_text"
-------                    android:layout_width="0dp"
-------                    android:layout_height="wrap_content"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="3"
-------                    android:text="Thay đổi mật khẩu"
-------                    android:textColor="@color/black"
-------                    android:textSize="11pt" />
-------
-------                <ImageView
-------                    android:id="@+id/change_password_next"
-------                    android:layout_width="0dp"
-------                    android:layout_height="25dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/next" />
-------            </LinearLayout>
------ 
------             <!-- Divider -->
------             <View
------                 android:layout_width="match_parent"
------                 android:layout_height="1dp"
------                 android:layout_marginStart="15dp"
-------                android:layout_marginEnd="15dp"
------                 android:layout_marginTop="5dp"
-------                android:background="#65424242" />
-------
-------            <!-- Phương thức thanh toán -->
-------            <LinearLayout
-------                android:layout_width="match_parent"
-------                android:layout_height="56dp"
-------                android:layout_marginTop="20dp"
-------                android:layout_marginBottom="15dp"
-------                android:orientation="horizontal">
-------
-------                <ImageView
-------                    android:id="@+id/payment_method_next1"
-------                    android:layout_width="0dp"
-------                    android:layout_height="30dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/valid" />
-------
-------                <TextView
-------                    android:id="@+id/payment_method_text"
-------                    android:layout_width="0dp"
-------                    android:layout_height="wrap_content"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="3"
-------                    android:text="Phương thức thanh toán"
-------                    android:textColor="@color/black"
-------                    android:textSize="11pt" />
-------
-------                <ImageView
-------                    android:id="@+id/payment_method_next"
-------                    android:layout_width="0dp"
-------                    android:layout_height="25dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/next" />
-------            </LinearLayout>
-------
-------            <!-- Divider -->
-------            <View
-------                android:layout_width="match_parent"
-------                android:layout_height="1dp"
-------                android:layout_marginStart="15dp"
------                 android:layout_marginEnd="15dp"
-------                android:layout_marginTop="5dp"
------                 android:background="#65424242" />
------ 
-------            <!-- Đơn hàng của tôi -->
-------            <LinearLayout
-------                android:layout_width="match_parent"
-------                android:layout_height="56dp"
-------                android:layout_marginTop="20dp"
-------                android:layout_marginBottom="15dp"
-------                android:orientation="horizontal">
-------
-------                <ImageView
-------                    android:id="@+id/my_orders_next1"
-------                    android:layout_width="0dp"
-------                    android:layout_height="30dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/logistics" />
-------
-------                <TextView
-------                    android:id="@+id/my_orders_text"
-------                    android:layout_width="0dp"
-------                    android:layout_height="wrap_content"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="3"
-------                    android:text="Đơn hàng của tôi"
-------                    android:textColor="@color/black"
-------                    android:textSize="11pt" />
-------
-------                <ImageView
-------                    android:id="@+id/my_orders_next"
-------                    android:layout_width="0dp"
-------                    android:layout_height="25dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/next" />
-------
-------
-------            </LinearLayout>
-------
-------
------ 
------         </LinearLayout>
------ 
------@@ -320,7 +130,7 @@
------             android:layout_marginStart="10dp"
------             android:layout_marginTop="20dp"
------             android:layout_marginBottom="20dp"
-------            android:backgroundTint="@color/account_my_project"
------+            android:backgroundTint="@color/green"
------             android:background="@drawable/rounded_edittext"
------ 
------             android:gravity="center"
------Index: app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.MyProfile;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\n\r\nimport com.example.agrimart.R;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link MyProfileFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class MyProfileFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public MyProfileFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment MyProfileFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static MyProfileFragment newInstance(String param1, String param2) {\r\n        MyProfileFragment fragment = new MyProfileFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_my_profile, container, false);\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getActivity().getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.account_my_project)); // Thay \"your_color\" bằng màu bạn muốn\r\n        }\r\n\r\n        return view;\r\n    }\r\n\r\n    public void onLogoutClick(View view) {\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java
--------- a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java	
------+++ b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java	
------@@ -69,7 +69,7 @@
------         if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
------             Window window = getActivity().getWindow();
------             window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);
-------            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.account_my_project)); // Thay "your_color" bằng màu bạn muốn
------+            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));
------         }
------ 
------         return view;
------Index: app/src/main/res/layout/notification_item.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/notification_item.xml b/app/src/main/res/layout/item_notification.xml
------rename from app/src/main/res/layout/notification_item.xml
------rename to app/src/main/res/layout/item_notification.xml
--------- a/app/src/main/res/layout/notification_item.xml	
------+++ b/app/src/main/res/layout/item_notification.xml	
------@@ -4,7 +4,8 @@
------     xmlns:app="http://schemas.android.com/apk/res-auto"
------     android:layout_width="match_parent"
------     android:layout_height="wrap_content"
-------    android:padding="16dp"
------+    android:paddingStart="10dp"
------+    android:paddingEnd="10dp"
------     android:background="@drawable/round_border">
------ 
------     <de.hdodenhof.circleimageview.CircleImageView
------Index: app/src/main/res/layout/fragment_home.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><RelativeLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Homepage.HomeFragment\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/header\"\r\n        android:background=\"@color/green\"\r\n        android:orientation=\"horizontal\"\r\n        android:padding=\"16dp\">\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/search_card\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_weight=\"1\"\r\n            app:cardCornerRadius=\"8dp\"\r\n            app:cardElevation=\"4dp\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:padding=\"8dp\"\r\n                android:id=\"@+id/search_bar\">\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/search_icon\"\r\n                    android:layout_width=\"24dp\"\r\n                    android:layout_height=\"24dp\"\r\n                    android:src=\"@drawable/ic_search\"\r\n                    android:tint=\"@color/black\"\r\n                    android:layout_gravity=\"center_vertical\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:background=\"@color/white\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/search_input\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"1\"\r\n                    android:hint=\"@string/search\"\r\n                    android:background=\"@null\"\r\n                    android:padding=\"8dp\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:textColorHint=\"@android:color/darker_gray\" />\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/notification_icon\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_gravity=\"center_vertical\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:layout_marginEnd=\"4dp\"\r\n            android:background=\"@color/green\"\r\n            android:src=\"@drawable/bell\"\r\n            android:tint=\"@color/black\" />\r\n    </LinearLayout>\r\n\r\n    <androidx.core.widget.NestedScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/header\"\r\n        android:scrollbars=\"none\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\"\r\n            android:layout_marginTop=\"10dp\">\r\n            <RelativeLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\">\r\n                <TextView\r\n                    android:id=\"@+id/categories\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"20sp\"\r\n                    android:layout_marginStart=\"24dp\"\r\n                    android:textStyle=\"bold\"\r\n                    android:textColor=\"#272727\"\r\n                    android:fontFamily=\"@font/circular_std\"\r\n                    android:text=\"@string/categories\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/see_all\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_alignParentEnd=\"true\"\r\n                    android:layout_marginEnd=\"23dp\"\r\n                    android:fontFamily=\"@font/circular_std\"\r\n                    android:text=\"@string/see_all\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"14sp\"/>\r\n            </RelativeLayout>\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/rvCategories\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:padding=\"8dp\"\r\n                android:clipToPadding=\"false\" />\r\n            <RelativeLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\">\r\n                <TextView\r\n                    android:id=\"@+id/top_selling\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"20sp\"\r\n                    android:text=\"@string/top_selling\"\r\n                    android:layout_marginTop=\"24dp\"\r\n                    android:textColor=\"#272727\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:layout_marginStart=\"24dp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/see_all1\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"14sp\"\r\n                    android:layout_alignParentEnd=\"true\"\r\n                    android:layout_marginEnd=\"24dp\"\r\n                    android:layout_marginTop=\"24dp\"\r\n                    android:fontFamily=\"@font/circular_std\"\r\n                    android:text=\"@string/see_all\"\r\n                    android:textColor=\"@color/black\" />\r\n            </RelativeLayout>\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/rvProducts\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginStart=\"10dp\"\r\n                android:layout_marginEnd=\"10dp\"\r\n                android:nestedScrollingEnabled=\"false\"/>\r\n        </LinearLayout>\r\n    </androidx.core.widget.NestedScrollView>\r\n</RelativeLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/fragment_home.xml b/app/src/main/res/layout/fragment_home.xml
--------- a/app/src/main/res/layout/fragment_home.xml	
------+++ b/app/src/main/res/layout/fragment_home.xml	
------@@ -14,6 +14,12 @@
------         android:background="@color/green"
------         android:orientation="horizontal"
------         android:padding="16dp">
------+        <RelativeLayout
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:id="@+id/top">
------+
------+        </RelativeLayout>
------ 
------         <androidx.cardview.widget.CardView
------             android:id="@+id/search_card"
------Index: app/src/main/res/drawable/tab_background.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><selector xmlns:android=\"http://schemas.android.com/apk/res/android\">\r\n    <item android:state_selected=\"true\">\r\n        <shape android:shape=\"rectangle\">\r\n            <solid android:color=\"@color/green\"/>\r\n            <corners android:radius=\"24dp\"/>\r\n            <padding android:left=\"0dp\" android:top=\"0dp\" android:right=\"0dp\" android:bottom=\"0dp\"/>\r\n        </shape>\r\n    </item>\r\n    <item>\r\n        <shape android:shape=\"rectangle\">\r\n            <solid android:color=\"@color/white\"/>\r\n            <corners android:radius=\"24dp\"/>\r\n            <padding android:left=\"4dp\" android:top=\"0dp\" android:right=\"0dp\" android:bottom=\"0dp\"/>\r\n        </shape>\r\n    </item>\r\n</selector>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/drawable/tab_background.xml b/app/src/main/res/drawable/tab_background.xml
--------- a/app/src/main/res/drawable/tab_background.xml	
------+++ b/app/src/main/res/drawable/tab_background.xml	
------@@ -8,9 +8,9 @@
------     </item>
------     <item>
------         <shape android:shape="rectangle">
-------            <solid android:color="@color/white"/>
------+            <solid android:color="@color/transparent"/>
------             <corners android:radius="24dp"/>
-------            <padding android:left="4dp" android:top="0dp" android:right="0dp" android:bottom="0dp"/>
------+            <padding android:left="0dp" android:top="0dp" android:right="0dp" android:bottom="0dp"/>
------         </shape>
------     </item>
-------</selector>
------+</selector>
------\ No newline at end of file
------Index: app/src/main/java/com/example/agrimart/ui/Explore/CategoryFragment.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.Explore;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Product;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CategoryFragment extends Fragment {\r\n    private String categoryName;\r\n\r\n    public CategoryFragment(String categoryName) {\r\n        this.categoryName = categoryName;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_category, container, false);\r\n\r\n        RecyclerView recyclerView = view.findViewById(R.id.recyclerView);\r\n        recyclerView.setLayoutManager(new GridLayoutManager(getContext(), 2));\r\n\r\n        List<Product> products = new ArrayList<>();\r\n\r\n        if (categoryName.equals(\"Rau củ quả\")) {\r\n            products.add(new Product(R.drawable.vegetable, \"Vegetable 1\", \"Price\", \"Quantity\", \"Description\"));\r\n        }\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n        });\r\n        recyclerView.setAdapter(productAdapter);\r\n\r\n        return view;\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Explore/CategoryFragment.java b/app/src/main/java/com/example/agrimart/ui/Explore/CategoryFragment.java
--------- a/app/src/main/java/com/example/agrimart/ui/Explore/CategoryFragment.java	
------+++ b/app/src/main/java/com/example/agrimart/ui/Explore/CategoryFragment.java	
------@@ -34,7 +34,14 @@
------         List<Product> products = new ArrayList<>();
------ 
------         if (categoryName.equals("Rau củ quả")) {
-------            products.add(new Product(R.drawable.vegetable, "Vegetable 1", "Price", "Quantity", "Description"));
------+            products.add(new Product(R.drawable.vegetable, "Cà chua", "20.000đ"));
------+            products.add(new Product(R.drawable.vegetable, "Cà rốt", "15.000đ"));
------+            products.add(new Product(R.drawable.vegetable, "Bí đỏ", "10.000đ"));
------+        }
------+        else if (categoryName.equals("Trái cây")) {
------+            products.add(new Product(R.drawable.apple, "Dâu tây", "30.000đ"));
------+            products.add(new Product(R.drawable.apple, "Chuối", "10.000đ"));
------+            products.add(new Product(R.drawable.apple, "Cam", "20.000đ"));
------         }
------ 
------         ProductAdapter productAdapter = new ProductAdapter(products, product -> {
------Index: app/src/main/res/layout/activity_post_product.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><LinearLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"vertical\"\r\n    android:id=\"@+id/main\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:paddingStart=\"12dp\"\r\n        android:paddingEnd=\"12dp\"\r\n\r\n        android:paddingTop=\"16dp\"\r\n        android:orientation=\"horizontal\">\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/btn_back\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"30dp\"\r\n            android:layout_marginTop=\"2dp\"\r\n            android:layout_weight=\"1\"\r\n            android:src=\"@drawable/chevron_left\"\r\n            android:background=\"@color/white\"/>\r\n\r\n        <TextView\r\n            android:id=\"@+id/textView1\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_gravity=\"center_horizontal\"\r\n            android:layout_weight=\"1\"\r\n            android:gravity=\"center\"\r\n            android:paddingBottom=\"16dp\"\r\n            android:text=\"@string/dang_san_pham\"\r\n            android:textSize=\"24sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/textView2\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_weight=\"1\"\r\n            android:text=\"\" />\r\n    </LinearLayout>\r\n\r\n    <View\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"3dp\"\r\n        android:background=\"#65424242\" />\r\n\r\n    <FrameLayout\r\n        android:id=\"@+id/fragmentPostProduct\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"/>\r\n\r\n</LinearLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_post_product.xml b/app/src/main/res/layout/activity_post_product.xml
--------- a/app/src/main/res/layout/activity_post_product.xml	
------+++ b/app/src/main/res/layout/activity_post_product.xml	
------@@ -3,7 +3,8 @@
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------     android:orientation="vertical"
-------    android:id="@+id/main">
------+    android:id="@+id/main"
------+    android:background="@color/white">
------ 
------     <LinearLayout
------         android:layout_width="match_parent"
------Index: app/src/main/res/layout/item_product_checkout.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/item_product_checkout.xml b/app/src/main/res/layout/item_product_checkout.xml
------new file mode 100644
--------- /dev/null	
------+++ b/app/src/main/res/layout/item_product_checkout.xml	
------@@ -0,0 +1,61 @@
------+<androidx.cardview.widget.CardView
------+    xmlns:android="http://schemas.android.com/apk/res/android"
------+    android:layout_width="match_parent"
------+    android:layout_height="wrap_content"
------+    android:layout_margin="8dp"
------+    android:background="@android:color/background_light">
------+
------+    <LinearLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="wrap_content"
------+        android:orientation="horizontal"
------+        android:padding="16dp">
------+
------+        <ImageView
------+            android:id="@+id/imgProduct"
------+            android:layout_width="60dp"
------+            android:layout_height="60dp"
------+            android:layout_gravity="center_vertical"
------+            android:contentDescription="Product Image"
------+            android:src="@drawable/apple"
------+            android:scaleType="centerCrop"
------+            android:layout_marginEnd="16dp"/>
------+
------+        <LinearLayout
------+            android:layout_width="0dp"
------+            android:layout_height="wrap_content"
------+            android:orientation="vertical"
------+            android:layout_weight="1">
------+
------+            <TextView
------+                android:id="@+id/tvProductName"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Tên sản phẩm"
------+                android:textStyle="bold"
------+                android:textColor="@color/black"
------+                android:textSize="16sp"/>
------+
------+            <TextView
------+                android:id="@+id/tvProductQuantity"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Số lượng: 1kg"
------+                android:textColor="@color/black"
------+                android:textSize="14sp"
------+                android:layout_marginTop="4dp"/>
------+
------+        </LinearLayout>
------+
------+        <TextView
------+            android:id="@+id/tvProductPrice"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:text="500.000đ"
------+            android:textSize="16sp"
------+            android:textColor="@color/black"
------+            android:layout_gravity="center_vertical"/>
------+
------+    </LinearLayout>
------+
------+</androidx.cardview.widget.CardView>
------Index: app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java b/app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java
------new file mode 100644
--------- /dev/null	
------+++ b/app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java	
------@@ -0,0 +1,26 @@
------+package com.example.agrimart.ui.Cart;
------+
------+import android.os.Bundle;
------+
------+import androidx.activity.EdgeToEdge;
------+import androidx.appcompat.app.AppCompatActivity;
------+import androidx.core.graphics.Insets;
------+import androidx.core.view.ViewCompat;
------+import androidx.core.view.WindowInsetsCompat;
------+
------+import com.example.agrimart.R;
------+
------+public class CheckoutActivity extends AppCompatActivity {
------+
------+    @Override
------+    protected void onCreate(Bundle savedInstanceState) {
------+        super.onCreate(savedInstanceState);
------+        EdgeToEdge.enable(this);
------+        setContentView(R.layout.activity_checkout);
------+        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {
------+            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
------+            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
------+            return insets;
------+        });
------+    }
------+}
------\ No newline at end of file
------Index: app/src/main/res/layout/activity_checkout.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_checkout.xml b/app/src/main/res/layout/activity_checkout.xml
------new file mode 100644
--------- /dev/null	
------+++ b/app/src/main/res/layout/activity_checkout.xml	
------@@ -0,0 +1,494 @@
------+<androidx.constraintlayout.widget.ConstraintLayout
------+    xmlns:android="http://schemas.android.com/apk/res/android"
------+    xmlns:app="http://schemas.android.com/apk/res-auto"
------+    xmlns:tools="http://schemas.android.com/tools"
------+    android:layout_width="match_parent"
------+    android:layout_height="match_parent"
------+    android:id="@+id/main"
------+    android:background="@color/white">
------+
------+    <RelativeLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="50dp"
------+        android:id="@+id/header"
------+        app:layout_constraintTop_toTopOf="parent"
------+        android:layout_alignParentTop="true"
------+        android:background="@color/green">
------+
------+        <ImageButton
------+            android:id="@+id/btnBack"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:background="@null"
------+            android:layout_marginTop="10dp"
------+            android:layout_marginStart="5dp"
------+            android:src="@drawable/chevron_left" />
------+
------+        <TextView
------+            android:id="@+id/tvTitle"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_centerInParent="true"
------+            android:text="Thanh toán"
------+            android:textSize="20sp"
------+            android:textStyle="bold"
------+            android:textColor="@color/black"/>
------+    </RelativeLayout>
------+
------+    <ScrollView
------+        android:id="@+id/scrollView"
------+        android:layout_width="match_parent"
------+        android:layout_height="0dp"
------+        app:layout_constraintTop_toBottomOf="@id/header"
------+        app:layout_constraintBottom_toBottomOf="@id/footer"
------+        android:fillViewport="true">
------+
------+        <LinearLayout
------+            android:layout_width="match_parent"
------+            android:layout_height="wrap_content"
------+            android:orientation="vertical"
------+            android:padding="16dp">
------+
------+            <TextView
------+                android:id="@+id/tvSeller1"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Sản phẩm"
------+                android:textSize="18sp"
------+                android:textStyle="bold"
------+                android:textColor="@color/black"
------+                android:fontFamily="@font/gabarito"
------+                android:layout_marginBottom="8dp" />
------+
------+            <TextView
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Cửa hàng 1"
------+                android:textSize="14sp"
------+                android:textStyle="bold"
------+                android:textColor="@color/black"
------+                android:layout_marginBottom="8dp" />
------+
------+            <androidx.cardview.widget.CardView
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_margin="8dp"
------+                android:background="@android:color/background_light">
------+
------+                <LinearLayout
------+                    android:layout_width="match_parent"
------+                    android:layout_height="wrap_content"
------+                    android:orientation="horizontal"
------+                    android:padding="16dp">
------+
------+                    <ImageView
------+                        android:id="@+id/imgProduct"
------+                        android:layout_width="60dp"
------+                        android:layout_height="60dp"
------+                        android:layout_gravity="center_vertical"
------+                        android:contentDescription="Product Image"
------+                        android:src="@drawable/apple"
------+                        android:scaleType="centerCrop"
------+                        android:layout_marginEnd="16dp"/>
------+
------+                    <LinearLayout
------+                        android:layout_width="0dp"
------+                        android:layout_height="wrap_content"
------+                        android:orientation="vertical"
------+                        android:layout_weight="1">
------+
------+                        <TextView
------+                            android:id="@+id/tvProductName"
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Tên sản phẩm"
------+                            android:textStyle="bold"
------+                            android:textColor="@color/black"
------+                            android:textSize="16sp"/>
------+
------+                        <TextView
------+                            android:id="@+id/tvProductQuantity"
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Số lượng: 1kg"
------+                            android:textColor="@color/black"
------+                            android:textSize="14sp"
------+                            android:layout_marginTop="4dp"/>
------+
------+                    </LinearLayout>
------+
------+                    <TextView
------+                        android:id="@+id/tvProductPrice"
------+                        android:layout_width="wrap_content"
------+                        android:layout_height="wrap_content"
------+                        android:text="500.000đ"
------+                        android:textSize="16sp"
------+                        android:textColor="@color/black"
------+                        android:layout_gravity="center_vertical"/>
------+
------+                </LinearLayout>
------+
------+            </androidx.cardview.widget.CardView>
------+
------+            <androidx.cardview.widget.CardView
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_margin="8dp"
------+                android:background="@android:color/background_light">
------+
------+                <LinearLayout
------+                    android:layout_width="match_parent"
------+                    android:layout_height="wrap_content"
------+                    android:orientation="horizontal"
------+                    android:padding="16dp">
------+
------+                    <ImageView
------+                        android:layout_width="60dp"
------+                        android:layout_height="60dp"
------+                        android:layout_gravity="center_vertical"
------+                        android:src="@drawable/apple"
------+                        android:scaleType="centerCrop"
------+                        android:layout_marginEnd="16dp"/>
------+
------+                    <LinearLayout
------+                        android:layout_width="0dp"
------+                        android:layout_height="wrap_content"
------+                        android:orientation="vertical"
------+                        android:layout_weight="1">
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Tên sản phẩm"
------+                            android:textStyle="bold"
------+                            android:textColor="@color/black"
------+                            android:textSize="16sp"/>
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Số lượng: 1kg"
------+                            android:textColor="@color/black"
------+                            android:textSize="14sp"
------+                            android:layout_marginTop="4dp"/>
------+
------+                    </LinearLayout>
------+
------+                    <TextView
------+                        android:layout_width="wrap_content"
------+                        android:layout_height="wrap_content"
------+                        android:text="500.000đ"
------+                        android:textSize="16sp"
------+                        android:textColor="@color/black"
------+                        android:layout_gravity="center_vertical"/>
------+
------+                </LinearLayout>
------+
------+            </androidx.cardview.widget.CardView>
------+
------+            <TextView
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Phí vận chuyển: 50.000đ"
------+                android:textSize="16sp"
------+                android:layout_marginBottom="16dp" />
------+
------+            <TextView
------+                android:id="@+id/tvSeller2"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Cửa hàng 2"
------+                android:textSize="14sp"
------+                android:textStyle="bold"
------+                android:textColor="@color/black"
------+                android:layout_marginBottom="8dp" />
------+
------+            <androidx.cardview.widget.CardView
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_margin="8dp"
------+                android:background="@android:color/background_light">
------+
------+                <LinearLayout
------+                    android:layout_width="match_parent"
------+                    android:layout_height="wrap_content"
------+                    android:orientation="horizontal"
------+                    android:padding="16dp">
------+
------+                    <ImageView
------+                        android:layout_width="60dp"
------+                        android:layout_height="60dp"
------+                        android:layout_gravity="center_vertical"
------+                        android:contentDescription="Product Image"
------+                        android:src="@drawable/apple"
------+                        android:scaleType="centerCrop"
------+                        android:layout_marginEnd="16dp"/>
------+
------+                    <LinearLayout
------+                        android:layout_width="0dp"
------+                        android:layout_height="wrap_content"
------+                        android:orientation="vertical"
------+                        android:layout_weight="1">
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Tên sản phẩm"
------+                            android:textStyle="bold"
------+                            android:textColor="@color/black"
------+                            android:textSize="16sp"/>
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Số lượng: 1kg"
------+                            android:textColor="@color/black"
------+                            android:textSize="14sp"
------+                            android:layout_marginTop="4dp"/>
------+
------+                    </LinearLayout>
------+
------+                    <TextView
------+                        android:layout_width="wrap_content"
------+                        android:layout_height="wrap_content"
------+                        android:text="500.000đ"
------+                        android:textSize="16sp"
------+                        android:textColor="@color/black"
------+                        android:layout_gravity="center_vertical"/>
------+
------+                </LinearLayout>
------+
------+            </androidx.cardview.widget.CardView>
------+
------+            <androidx.cardview.widget.CardView
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_margin="8dp"
------+                android:background="@android:color/background_light">
------+
------+                <LinearLayout
------+                    android:layout_width="match_parent"
------+                    android:layout_height="wrap_content"
------+                    android:orientation="horizontal"
------+                    android:padding="16dp">
------+
------+                    <ImageView
------+                        android:layout_width="60dp"
------+                        android:layout_height="60dp"
------+                        android:layout_gravity="center_vertical"
------+                        android:src="@drawable/apple"
------+                        android:scaleType="centerCrop"
------+                        android:layout_marginEnd="16dp"/>
------+
------+                    <LinearLayout
------+                        android:layout_width="0dp"
------+                        android:layout_height="wrap_content"
------+                        android:orientation="vertical"
------+                        android:layout_weight="1">
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Tên sản phẩm"
------+                            android:textStyle="bold"
------+                            android:textColor="@color/black"
------+                            android:textSize="16sp"/>
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Số lượng: 1kg"
------+                            android:textColor="@color/black"
------+                            android:textSize="14sp"
------+                            android:layout_marginTop="4dp"/>
------+
------+                    </LinearLayout>
------+
------+                    <TextView
------+                        android:layout_width="wrap_content"
------+                        android:layout_height="wrap_content"
------+                        android:text="500.000đ"
------+                        android:textSize="16sp"
------+                        android:textColor="@color/black"
------+                        android:layout_gravity="center_vertical"/>
------+
------+                </LinearLayout>
------+
------+            </androidx.cardview.widget.CardView>
------+
------+
------+            <TextView
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Phí vận chuyển: 30.000đ"
------+                android:textSize="16sp"
------+                android:layout_marginBottom="16dp" />
------+
------+            <TextView
------+                android:id="@+id/tvShippingTitle"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="16dp"
------+                android:layout_marginBottom="8dp"
------+                android:text="Đơn vị vận chuyển"
------+                android:textColor="@color/black"
------+                android:textSize="18sp"
------+                android:textStyle="bold" />
------+
------+            <LinearLayout
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:orientation="horizontal">
------+
------+                <TextView
------+                    android:id="@+id/tvShippingMethod"
------+                    android:layout_width="0dp"
------+                    android:layout_height="wrap_content"
------+                    android:layout_weight="1"
------+                    android:text="Giao hàng nhanh"
------+                    android:textColor="@color/black"
------+                    android:textSize="16sp" />
------+            </LinearLayout>
------+
------+            <TextView
------+                android:id="@+id/tvPaymentTitle"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="16dp"
------+                android:text="Phương thức thanh toán"
------+                android:textColor="@color/black"
------+                android:textSize="18sp"
------+                android:textStyle="bold" />
------+
------+            <RadioGroup
------+                android:id="@+id/radioGroupPayment"
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="8dp">
------+
------+                <RadioButton
------+                    android:id="@+id/radioCreditCard"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Thẻ tín dụng"
------+                    android:textSize="16sp" />
------+
------+                <RadioButton
------+                    android:id="@+id/radioPayPal"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Ví điện tử"
------+                    android:textSize="16sp" />
------+
------+                <RadioButton
------+                    android:id="@+id/radioCOD"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Thanh toán khi nhận hàng"
------+                    android:textSize="16sp" />
------+            </RadioGroup>
------+
------+            <TextView
------+                android:id="@+id/tvTotalBreakdownTitle"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="16dp"
------+                android:text="Chi tiết thanh toán"
------+                android:textColor="@color/black"
------+                android:textSize="18sp"
------+                android:textStyle="bold" />
------+
------+            <LinearLayout
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="8dp"
------+                android:orientation="horizontal">
------+
------+                <TextView
------+                    android:id="@+id/tvTotalProductLabel"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Tổng tiền hàng: "
------+                    android:textColor="@color/black"
------+                    android:textSize="16sp"
------+                    android:layout_marginEnd="10dp"/>
------+
------+                <TextView
------+                    android:id="@+id/tvTotalProductPrice"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="1.000.000đ"
------+                    android:textColor="@color/black"
------+                    android:textSize="16sp" />
------+            </LinearLayout>
------+
------+            <LinearLayout
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="8dp"
------+                android:orientation="horizontal">
------+
------+                <TextView
------+                    android:id="@+id/tvTotalShippingLabel"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Tổng phí vận chuyển"
------+                    android:textColor="@color/black"
------+                    android:layout_marginEnd="10dp"
------+                    android:textSize="16sp" />
------+
------+                <TextView
------+                    android:id="@+id/tvTotalShippingPrice"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="50.000đ"
------+                    android:textColor="@color/black"
------+                    android:textSize="16sp" />
------+            </LinearLayout>
------+
------+            <LinearLayout
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="8dp"
------+                android:orientation="horizontal">
------+
------+                <TextView
------+                    android:id="@+id/tvFinalTotalLabel"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Tổng thanh toán"
------+                    android:textColor="@color/black"
------+                    android:textSize="18sp"
------+                    android:layout_marginEnd="10dp"
------+                    android:textStyle="bold" />
------+
------+                <TextView
------+                    android:id="@+id/tvFinalTotalPrice"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="1.050.000đ"
------+                    android:textColor="@color/black"
------+                    android:textSize="18sp"
------+                    android:textStyle="bold" />
------+            </LinearLayout>
------+        </LinearLayout>
------+    </ScrollView>
------+
------+    <RelativeLayout
------+        android:id="@+id/footer"
------+        android:layout_width="match_parent"
------+        android:layout_height="wrap_content"
------+        android:layout_alignParentBottom="true"
------+        app:layout_constraintBottom_toBottomOf="parent"
------+        tools:layout_editor_absoluteX="16dp">
------+
------+        <Button
------+            android:layout_width="match_parent"
------+            android:layout_height="60dp"
------+            android:layout_marginStart="48dp"
------+            android:layout_marginEnd="48dp"
------+            android:backgroundTint="@color/green"
------+            android:text="Đặt hàng"
------+            app:cornerRadius="24dp" />
------+    </RelativeLayout>
------+</androidx.constraintlayout.widget.ConstraintLayout>
------\ No newline at end of file
------Index: app/src/main/res/layout/activity_sign_up.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/background_light\"\r\n    tools:context=\".ui.Account.SignUpActivity\">\r\n\r\n  <ImageButton\r\n      android:id=\"@+id/btn_back\"\r\n      android:layout_width=\"32dp\"\r\n      android:layout_height=\"32dp\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"32dp\"\r\n      android:background=\"@color/background_light\"\r\n      android:src=\"@drawable/chevron_left\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"0.0\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toTopOf=\"parent\"\r\n      tools:ignore=\"MissingConstraints\" />\r\n\r\n  <TextView\r\n      android:id=\"@+id/textView2\"\r\n      android:layout_width=\"wrap_content\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginTop=\"60dp\"\r\n      android:fontFamily=\"@font/gabarito\"\r\n      android:text=\"Đăng ký\"\r\n      android:textSize=\"34sp\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toTopOf=\"parent\"\r\n      style=\"@style/title\"/>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout2\"\r\n      android:layout_width=\"366dp\"\r\n      android:layout_height=\"67dp\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"40dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"1.0\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n      app:startIconDrawable=\"@drawable/signature\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtUsername\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@null\"\r\n        android:hint=\"Họ và tên\"\r\n        android:inputType=\"text\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout5\"\r\n      android:layout_width=\"366dp\"\r\n      android:layout_height=\"67dp\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"20dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"1.0\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\"\r\n      app:startIconDrawable=\"@drawable/telephone\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtPhoneNumber\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@null\"\r\n        android:hint=\"Số điện thoại\"\r\n        android:inputType=\"phone\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout3\"\r\n      android:layout_width=\"match_parent\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"20dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout5\"\r\n      app:passwordToggleEnabled=\"true\"\r\n      app:startIconDrawable=\"@drawable/key\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtPassword\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:hint=\"@string/m_t_kh_u\"\r\n        android:inputType=\"textPassword\"\r\n        android:password=\"true\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout4\"\r\n      android:layout_width=\"match_parent\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"20dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout3\"\r\n      app:passwordToggleEnabled=\"true\"\r\n      app:startIconDrawable=\"@drawable/key\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtRePassword\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:hint=\"Nhập lại mật khẩu\"\r\n        android:inputType=\"textPassword\"\r\n        android:password=\"true\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <TextView\r\n      android:id=\"@+id/haveAccount\"\r\n      android:layout_width=\"wrap_content\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"124dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      android:fontFamily=\"@font/circular_std\"\r\n      android:text=\"@string/c_t_i_kho_n\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"0.498\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/btn_signin\"\r\n      tools:ignore=\"MissingConstraints\" />\r\n\r\n  <Button\r\n      android:id=\"@+id/btn_signin\"\r\n      android:layout_width=\"wrap_content\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginTop=\"32dp\"\r\n      android:backgroundTint=\"@color/green\"\r\n      android:drawableEnd=\"@drawable/arrowright\"\r\n      android:text=\"Đăng ký\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"0.498\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout4\"\r\n      app:cornerRadius=\"24dp\"/>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_sign_up.xml b/app/src/main/res/layout/activity_sign_up.xml
--------- a/app/src/main/res/layout/activity_sign_up.xml	
------+++ b/app/src/main/res/layout/activity_sign_up.xml	
------@@ -5,7 +5,7 @@
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
-------    android:background="@color/background_light"
------+    android:background="@color/white"
------     tools:context=".ui.Account.SignUpActivity">
------ 
------   <ImageButton
------@@ -14,7 +14,7 @@
------       android:layout_height="32dp"
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="32dp"
-------      android:background="@color/background_light"
------+      android:background="@color/white"
------       android:src="@drawable/chevron_left"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintHorizontal_bias="0.0"
------@@ -37,12 +37,12 @@
------ 
------   <com.google.android.material.textfield.TextInputLayout
------       android:id="@+id/textInputLayout2"
-------      android:layout_width="366dp"
-------      android:layout_height="67dp"
------+      android:layout_width="match_parent"
------+      android:layout_height="wrap_content"
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="40dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintHorizontal_bias="1.0"
------@@ -61,12 +61,12 @@
------ 
------   <com.google.android.material.textfield.TextInputLayout
------       android:id="@+id/textInputLayout5"
-------      android:layout_width="366dp"
-------      android:layout_height="67dp"
------+      android:layout_width="match_parent"
------+      android:layout_height="wrap_content"
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="20dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintHorizontal_bias="1.0"
------@@ -90,7 +90,7 @@
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="20dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintStart_toStartOf="parent"
------@@ -114,7 +114,7 @@
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="20dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintStart_toStartOf="parent"
------Index: app/src/main/res/values/style.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <style name=\"BottomNavigationViewText\" parent=\"TextAppearance.AppCompat.Caption\">\r\n        <item name=\"android:textSize\">12sp</item>\r\n        <item name=\"fontFamily\">@font/circular_std</item>\r\n    </style>\r\n\r\n    <style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\">\r\n        <item name=\"android:statusBarColor\">@color/status_bar_color</item>\r\n    </style>\r\n\r\n    <style name=\"button\">\r\n    <item name=\"android:backgroundTint\">#f4f4f4</item>\r\n    </style>\r\n\r\n    <style name=\"title\">\r\n        <item name=\"android:textSize\">34sp</item>\r\n        <item name=\"android:textColor\">@color/black</item>\r\n        <item name=\"fontFamily\">@font/gabarito</item>\r\n    </style>\r\n\r\n    <style name=\"CustomButton\" parent=\"Widget.MaterialComponents.Button\">\r\n        <item name=\"cornerRadius\">8dp</item>\r\n    </style>\r\n\r\n\r\n\r\n    <style name=\"CircleShape\">\r\n        <item name=\"cornerFamily\">rounded</item>\r\n        <item name=\"cornerSize\">50%</item>\r\n    </style>\r\n\r\n</resources>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/values/style.xml b/app/src/main/res/values/style.xml
--------- a/app/src/main/res/values/style.xml	
------+++ b/app/src/main/res/values/style.xml	
------@@ -23,11 +23,16 @@
------         <item name="cornerRadius">8dp</item>
------     </style>
------ 
-------
-------
------     <style name="CircleShape">
------         <item name="cornerFamily">rounded</item>
------         <item name="cornerSize">50%</item>
------     </style>
------ 
------+    <style name="TabTextAppearance" parent="TextAppearance.Design.Tab">
------+        <item name="android:textSize">14sp</item>
------+        <item name="android:fontFamily">@font/gabarito</item>
------+        <item name="android:textAllCaps">false</item>
------+    </style>
------+
------+
------ </resources>
------\ No newline at end of file
------Index: app/src/main/res/values/strings.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><resources>\r\n    <string name=\"app_name\">AgriMart</string>\r\n    <string name=\"categories\">Danh mục sản phẩm</string>\r\n    <string name=\"see_all\">Xem thêm</string>\r\n    <string name=\"top_selling\">Bán chạy nhất</string>\r\n    <string name=\"home\">Trang chủ</string>\r\n    <string name=\"profile\">Tôi</string>\r\n    <string name=\"order\">Order</string>\r\n    <string name=\"newsfeed\">Tin mới</string>\r\n    <string name=\"post\">Đăng bài</string>\r\n    <string name=\"cart\">Giỏ hàng</string>\r\n    <string name=\"ng_b_n\">Đăng bán</string>\r\n    <string name=\"cho\">Chợ</string>\r\n    <string name=\"search_hint\">tim kiem san pham</string>\r\n    <string name=\"search\">Tìm kiếm sản phẩm</string>\r\n    <string name=\"ng_nh_p\">Đăng nhập</string>\r\n    <string name=\"ch_a_c_t_i_kho_n\"><u>Chưa có tài khoản?</u></string>\r\n    <string name=\"m_t_kh_u\">Mật khẩu</string>\r\n    <string name=\"continue_with_google\"> Đăng nhập bằng Google</string>\r\n    <string name=\"dang_ky\">Chưa có tài khoản? <b>Đăng ký</b></string>\r\n    <string name=\"c_t_i_kho_n\"><u>Đã có tài khoản?</u></string>\r\n    <string name=\"ng_k_b_ng_s_i_n_tho_i\">Đăng ký bằng số điện thoại</string>\r\n    <string name=\"ng_k_b_ng_email\">Đăng ký bằng email</string>\r\n    <string name=\"qu_n_m_t_kh_u\">Quên mật khẩu?</string>\r\n    <string name=\"nh_p_email_ho_c_s_i_n_tho_i\">Nhập email hoặc số điện thoại</string>\r\n    <string name=\"sodienthoai\">Số điện thoại</string>\r\n    <string name=\"g_i_l_i\"><u>Gửi lại</u></string>\r\n\r\n\r\n    <!-- PostProduct -->\r\n    <string name=\"desc_vegetable\">Rau củ quả</string>\r\n    <string name=\"desc_fruit\">Trái cây</string>\r\n    <string name=\"desc_meat_eggs\">Trứng, thịt</string>\r\n    <string name=\"desc_milk\">Sữa, bơ, phô mai</string>\r\n    <string name=\"desc_sweets\">Bánh kẹo</string>\r\n    <string name=\"nh_s_n_ph_m_th_c_t\">Ảnh sản phẩm thực tế</string>\r\n    <string name=\"th_m_nh\">Thêm ảnh</string>\r\n    <string name=\"todo\">TODO</string>\r\n    <string name=\"t_n_s_n_ph_m\">Tên sản phẩm</string>\r\n    <string name=\"c_i_t_n_n_i_l_n_t_t_c_s_gi_p_ch_r_t_nhi_u_y\">Cái tên nói lên tất cả sẽ giúp ích rất nhiều đấy</string>\r\n    <string name=\"m_t_s_n_ph_m\">Mô tả sản phẩm</string>\r\n    <string name=\"m_t_o_n_v_n_m_t_y_s_gi_p_s_n_ph_m_c_a_b_n_b_n_d_h_n\">Một đoạn văn mô tả đầy đủ sẽ giúp sản phẩm của bạn bán dễ hơn</string>\r\n    <string name=\"ph_n_lo_i_s_n_ph_m\">Phân loại sản phẩm</string>\r\n    <string name=\"rau_c\">Rau củ</string>\r\n    <string name=\"tr_i_c_y\">Trái cây</string>\r\n    <string name=\"th_t_tr_ng\">Thịt, Trứng</string>\r\n    <string name=\"s_a_b_ph_mai\">Sữa, bơ, phô mai</string>\r\n    <string name=\"ng_t\">Đồ ngọt</string>\r\n    <string name=\"ti_p_t_c\">Tiếp tục</string>\r\n    <string name=\"gi_b_n\">Giá bán</string>\r\n    <string name=\"n_v\">Đơn vị </string>\r\n    <string name=\"hi_n_c\">Hiện có</string>\r\n    <string name=\"nh_p_gi_b_n\">Nhập giá bán</string>\r\n    <string name=\"nh_p_n_v_kg_ch_c_c_i\">Nhập đơn vị (kg, chục, cái)</string>\r\n    <string name=\"nh_p_s_l_ng_c_n_b_n\">Nhập số lượng cần bán</string>\r\n    <string name=\"rau_c_qu\">Rau củ quả</string>\r\n    <string name=\"_45_000_kg\">45.000</string>\r\n    <string name=\"_200kg\">200kg</string>\r\n    <string name=\"s_u_ri_ng_lan_t_a\">Sầu riêng lan tỏa</string>\r\n    <string name=\"_20_ng_i_ang_h_i\">20 người đang hỏi</string>\r\n    <string name=\"dang_san_pham\">ĐĂNG SẢN PHẨM</string>\r\n    <string name=\"frash_fruits_vegetable\"><![CDATA[Frash Fruits & Vegetable]]></string>\r\n    <string name=\"add_cart\">Thêm vào giỏ hàng</string>\r\n    <string name=\"product_name\">Tên sản phẩm</string>\r\n    <string name=\"price\">50.000đ</string>\r\n    <string name=\"address\">123 Lê Trọng Tấn, Quận Tân Phú, TP.HCM</string>\r\n    <string name=\"description\">Mô tả chi tiết</string>\r\n    <string name=\"descriptions\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</string>\r\n    <string name=\"user_review\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</string>\r\n    <string name=\"my_cart\">Giỏ hàng</string>\r\n    <string name=\"notification_time\">1 phút trước</string>\r\n    <string name=\"notification_message\">Khánh vừa đặt mua sản phẩm của bạn: Chuối nhà trồng...</string>\r\n    <string name=\"explore\">explore android:id=</string>\r\n    <string name=\"t_m_theo_danh_m_c\">Tìm theo danh mục</string>\r\n\r\n    <string-array name=\"filter_options\">\r\n        <item>Sort by Price</item>\r\n        <item>Newest</item>\r\n        <item>Oldest</item>\r\n    </string-array>\r\n\r\n    <style name=\"TabTextAppearance\" parent=\"TextAppearance.Design.Tab\">\r\n        <item name=\"android:textSize\">16sp</item>\r\n        <item name=\"android:textColor\">@color/black</item>\r\n        <item name=\"android:textStyle\">bold</item>\r\n    </style>\r\n</resources>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
--------- a/app/src/main/res/values/strings.xml	
------+++ b/app/src/main/res/values/strings.xml	
------@@ -54,7 +54,7 @@
------     <string name="nh_p_n_v_kg_ch_c_c_i">Nhập đơn vị (kg, chục, cái)</string>
------     <string name="nh_p_s_l_ng_c_n_b_n">Nhập số lượng cần bán</string>
------     <string name="rau_c_qu">Rau củ quả</string>
-------    <string name="_45_000_kg">45.000</string>
------+    <string name="_45_000_kg">45.000đ</string>
------     <string name="_200kg">200kg</string>
------     <string name="s_u_ri_ng_lan_t_a">Sầu riêng lan tỏa</string>
------     <string name="_20_ng_i_ang_h_i">20 người đang hỏi</string>
------@@ -72,16 +72,11 @@
------     <string name="notification_message">Khánh vừa đặt mua sản phẩm của bạn: Chuối nhà trồng...</string>
------     <string name="explore">explore android:id=</string>
------     <string name="t_m_theo_danh_m_c">Tìm theo danh mục</string>
------+    <string name="dathang">Đặt hàng</string>
------ 
------     <string-array name="filter_options">
------         <item>Sort by Price</item>
------         <item>Newest</item>
------         <item>Oldest</item>
------     </string-array>
-------
-------    <style name="TabTextAppearance" parent="TextAppearance.Design.Tab">
-------        <item name="android:textSize">16sp</item>
-------        <item name="android:textColor">@color/black</item>
-------        <item name="android:textStyle">bold</item>
-------    </style>
------ </resources>
------\ No newline at end of file
------Index: app/src/main/AndroidManifest.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\r\n        android:fullBackupContent=\"@xml/backup_rules\"\r\n        android:icon=\"@drawable/logo_icon\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@drawable/logo_icon\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.AgriMart\"\r\n        tools:ignore=\"ExtraText\"\r\n        tools:targetApi=\"31\">\r\n        <activity\r\n            android:name=\".ui.Homepage.SearchActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Notification.NotificationActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.ProductPage.ProductDetailActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyProfileActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.YourProductListingsActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.ProductPostList\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.PostProductActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MainActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.EnterOTPActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.ForgotPasswordActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.SignUpActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.SplashScreen.SplashScreenActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Homepage.HomeFragment\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.SignInActivity\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--------- a/app/src/main/AndroidManifest.xml	
------+++ b/app/src/main/AndroidManifest.xml	
------@@ -14,6 +14,9 @@
------         tools:ignore="ExtraText"
------         tools:targetApi="31">
------         <activity
------+            android:name=".ui.Cart.CheckoutActivity"
------+            android:exported="false" />
------+        <activity
------             android:name=".ui.Homepage.SearchActivity"
------             android:exported="false" />
------         <activity
------Index: app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.Cart;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.databinding.FragmentCartBinding;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\n\r\npublic class CartFragment extends Fragment {\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_cart, container, false);\r\n        if (getActivity() != null) {\r\n            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.white));\r\n        }\r\n\r\n\r\n        return view;\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java b/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java
--------- a/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java	
------+++ b/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java	
------@@ -1,5 +1,6 @@
------ package com.example.agrimart.ui.Cart;
------ 
------+import android.content.Intent;
------ import android.os.Build;
------ import android.os.Bundle;
------ 
------@@ -11,20 +12,27 @@
------ import android.view.ViewGroup;
------ import android.view.Window;
------ import android.view.WindowManager;
------+import android.widget.Button;
------ 
------ import com.example.agrimart.R;
------ import com.example.agrimart.databinding.FragmentCartBinding;
------ import com.example.agrimart.databinding.FragmentHomeBinding;
------ 
------ public class CartFragment extends Fragment {
------+    Button btnCheckout;
------     @Override
------     public View onCreateView(LayoutInflater inflater, ViewGroup container,
------                              Bundle savedInstanceState) {
------         View view = inflater.inflate(R.layout.fragment_cart, container, false);
------         if (getActivity() != null) {
-------            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.white));
------+            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));
------         }
------ 
------+        btnCheckout = view.findViewById(R.id.btn_checkout);
------+
------+        btnCheckout.setOnClickListener(View -> {
------+            Intent intent = new Intent(getActivity(), CheckoutActivity.class);
------+        });
------ 
------         return view;
------     }
------diff --git a/app/src/main/res/layout/review_item.xml b/app/src/main/res/layout/item_review.xml
------rename from app/src/main/res/layout/review_item.xml
------rename to app/src/main/res/layout/item_review.xml
-----Index: .idea/shelf/Uncommitted_changes_before_rebase_[Changes]/shelved.patch
-----===================================================================
-----diff --git a/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]/shelved.patch
-----deleted file mode 100644
-------- a/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]/shelved.patch	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----+++ /dev/null	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----@@ -1,2184 +0,0 @@
------Index: app/src/main/java/com/example/agrimart/data/adapter/ProductAdapter.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.data.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.ProductItemBinding;\r\n\r\nimport java.util.List;\r\n\r\npublic class ProductAdapter extends RecyclerView.Adapter<ProductAdapter.MyViewHolder> {\r\n    private List<Product> products;\r\n    private OnItemClickListener listener;\r\n\r\n    public ProductAdapter(List<Product> products, OnItemClickListener listener) {\r\n        this.products = products;\r\n        this.listener = listener;\r\n    }\r\n\r\n    public interface OnItemClickListener {\r\n        void onItemClick(Product product);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        ProductItemBinding binding = ProductItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        return new MyViewHolder(binding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        Product product = products.get(position);\r\n        holder.bindData(product);\r\n        holder.itemView.setOnClickListener(v -> listener.onItemClick(product)); // Sử dụng listener để bắt sự kiện click\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return products.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        private final ProductItemBinding binding;\r\n\r\n        public MyViewHolder(@NonNull ProductItemBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n\r\n        public void bindData(Product product) {\r\n            binding.imgPro.setImageResource(product.getImage());\r\n            binding.tvName.setText(product.getName());\r\n            binding.tvPrice.setText(product.getPrice());\r\n            binding.tvUnit.setText(product.getUnit());\r\n        }\r\n    }\r\n}\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/data/adapter/ProductAdapter.java b/app/src/main/java/com/example/agrimart/data/adapter/ProductAdapter.java
--------- a/app/src/main/java/com/example/agrimart/data/adapter/ProductAdapter.java	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/java/com/example/agrimart/data/adapter/ProductAdapter.java	(date 1726766211754)
------@@ -7,7 +7,7 @@
------ import androidx.recyclerview.widget.RecyclerView;
------ 
------ import com.example.agrimart.data.model.Product;
-------import com.example.agrimart.databinding.ProductItemBinding;
------+import com.example.agrimart.databinding.ItemProductBinding;
------ 
------ import java.util.List;
------ 
------@@ -27,7 +27,7 @@
------     @NonNull
------     @Override
------     public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
-------        ProductItemBinding binding = ProductItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);
------+        ItemProductBinding binding = ItemProductBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);
------         return new MyViewHolder(binding);
------     }
------ 
------@@ -35,7 +35,7 @@
------     public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {
------         Product product = products.get(position);
------         holder.bindData(product);
-------        holder.itemView.setOnClickListener(v -> listener.onItemClick(product)); // Sử dụng listener để bắt sự kiện click
------+        holder.itemView.setOnClickListener(v -> listener.onItemClick(product));
------     }
------ 
------     @Override
------@@ -44,18 +44,16 @@
------     }
------ 
------     public static class MyViewHolder extends RecyclerView.ViewHolder {
-------        private final ProductItemBinding binding;
------+        private final ItemProductBinding binding;
------ 
-------        public MyViewHolder(@NonNull ProductItemBinding binding) {
------+        public MyViewHolder(@NonNull ItemProductBinding binding) {
------             super(binding.getRoot());
------             this.binding = binding;
------         }
------ 
------         public void bindData(Product product) {
-------            binding.imgPro.setImageResource(product.getImage());
-------            binding.tvName.setText(product.getName());
-------            binding.tvPrice.setText(product.getPrice());
-------            binding.tvUnit.setText(product.getUnit());
------+            binding.setProduct(product);
------+            binding.executePendingBindings();
------         }
------     }
-------}
------+}
------\ No newline at end of file
------Index: app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.data.adapter.CategoryAdapter;\r\nimport com.example.agrimart.data.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\nimport com.example.agrimart.ui.Notification.NotificationActivity;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    ImageButton btnSearch, btnNotification;\r\n    TextView search;\r\n\r\n    private FragmentHomeBinding binding;\r\n\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    public static HomeFragment newInstance() {\r\n        return new HomeFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n        View view = binding.getRoot();\r\n\r\n        if (getActivity() != null) {\r\n            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        RecyclerView rvCategories = view.findViewById(R.id.rvCategories);\r\n        int numberOfColumns = 4;\r\n        rvCategories.setLayoutManager(new GridLayoutManager(getContext(), numberOfColumns));\r\n\r\n        List<Category> categories = new ArrayList<>();\r\n        categories.add(new Category(R.drawable.vegetable, \"Rau củ quả\"));\r\n        categories.add(new Category(R.drawable.fruit, \"Trái cây\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Ngũ cốc và hạt\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Gia vị\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Mật ong\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Trà\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Cây cảnh\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Khác\"));\r\n\r\n        CategoryAdapter categoryAdapter = new CategoryAdapter(categories);\r\n        rvCategories.setAdapter(categoryAdapter);\r\n\r\n        List<Product> products = new ArrayList<>();\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\", \"200kg\", \"20 người đang hỏi\"));\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n            Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n\r\n        addControls(view);\r\n        addEvents();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void addEvents() {\r\n        btnSearch.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getActivity(), SearchActivity.class);\r\n            getActivity().startActivity(intent);\r\n        });\r\n\r\n        btnNotification.setOnClickListener(View -> {\r\n            Intent intent = new Intent(getContext(), NotificationActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        search.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getContext(), SearchActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void addControls(View view) {\r\n        btnSearch = view.findViewById(R.id.search_icon);\r\n        btnNotification = view.findViewById(R.id.notification_icon);\r\n        search = view.findViewById(R.id.search_input);\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getActivity().getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
--------- a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(date 1726766211760)
------@@ -76,12 +76,12 @@
------         rvCategories.setAdapter(categoryAdapter);
------ 
------         List<Product> products = new ArrayList<>();
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000", "200kg", "20 người đang hỏi"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------ 
------         ProductAdapter productAdapter = new ProductAdapter(products, product -> {
------             Intent intent = new Intent(getContext(), ProductDetailActivity.class);
------Index: app/src/main/res/layout/product_item.xml
------===================================================================
------diff --git a/app/src/main/res/layout/product_item.xml b/app/src/main/res/layout/product_item.xml
------deleted file mode 100644
--------- a/app/src/main/res/layout/product_item.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ /dev/null	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------@@ -1,70 +0,0 @@
-------<?xml version="1.0" encoding="utf-8"?>
-------<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
-------    xmlns:app="http://schemas.android.com/apk/res-auto"
-------    android:layout_width="173dp"
-------    android:background="@drawable/bg_product"
-------    android:layout_height="249dp">
-------
-------    <FrameLayout
-------        android:id="@+id/frame_layout"
-------        android:layout_width="match_parent"
-------        android:layout_height="124dp">
-------
-------        <ImageView
-------            android:id="@+id/imgPro"
-------            android:layout_width="99dp"
-------            android:layout_height="79dp"
-------            android:scaleType="centerCrop"
-------            android:layout_gravity="center"
-------            app:srcCompat="@drawable/banana" />
-------    </FrameLayout>
-------
-------    <TextView
-------        android:id="@+id/tvName"
-------        android:layout_width="129dp"
-------        android:layout_height="wrap_content"
-------        android:layout_below="@id/frame_layout"
-------        android:layout_marginTop="12dp"
-------        android:textSize="16sp"
-------        android:textColor="#333333"
-------        android:letterSpacing="0.01"
-------        android:layout_marginStart="15dp"
-------        android:ellipsize="end"
-------        android:maxLines="1"
-------        android:text="Organic Bananas" />
-------
-------    <TextView
-------        android:id="@+id/tvUnit"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:layout_below="@id/tvName"
-------        android:layout_marginTop="14dp"
-------        android:layout_marginEnd="4dp"
-------        android:layout_marginStart="15dp"
-------        android:text="@string/_200kg"
-------        android:textColor="#8A8A8E"
-------        android:textSize="12sp" />
-------
-------    <TextView
-------        android:id="@+id/tvPrice"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:layout_below="@id/tvUnit"
-------        android:textSize="18sp"
-------        android:layout_marginStart="15dp"
-------        android:layout_marginTop="12dp"
-------        android:textColor="#181725"
-------        android:letterSpacing="0.01"
-------        android:text="@string/_45_000_kg"  />
-------
-------    <ImageButton
-------        android:id="@+id/imageButton"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:background="@color/transparent"
-------        android:layout_below="@id/tvUnit"
-------        android:layout_alignParentEnd="true"
-------        android:layout_marginEnd="16dp"
-------        app:srcCompat="@drawable/ic_plus_1" />
-------
-------</RelativeLayout>
------\ No newline at end of file
------Index: app/src/main/res/layout/cart_item.xml
------===================================================================
------diff --git a/app/src/main/res/layout/cart_item.xml b/app/src/main/res/layout/cart_item.xml
------deleted file mode 100644
--------- a/app/src/main/res/layout/cart_item.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ /dev/null	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------@@ -1,109 +0,0 @@
-------<?xml version="1.0" encoding="utf-8"?>
-------<androidx.constraintlayout.widget.ConstraintLayout
-------    xmlns:android="http://schemas.android.com/apk/res/android"
-------    xmlns:app="http://schemas.android.com/apk/res-auto"
-------    xmlns:tools="http://schemas.android.com/tools"
-------    android:layout_width="match_parent"
-------    android:layout_height="wrap_content"
-------    android:padding="16dp"
-------    android:background="@drawable/round_border">
-------
-------    <com.google.android.material.imageview.ShapeableImageView
-------        android:id="@+id/img_product"
-------        android:layout_width="80dp"
-------        android:layout_height="80dp"
-------        android:scaleType="centerCrop"
-------        android:src="@drawable/apple"
-------        app:layout_constraintStart_toStartOf="parent"
-------        app:layout_constraintTop_toTopOf="parent"
-------        app:layout_constraintBottom_toBottomOf="parent"
-------        android:background="@drawable/round_border"/>
-------
-------    <TextView
-------        android:id="@+id/tv_product_name"
-------        android:layout_width="0dp"
-------        android:layout_height="wrap_content"
-------        android:layout_marginStart="16dp"
-------        android:layout_marginTop="12dp"
-------        android:text="@string/product_name"
-------        android:textColor="@android:color/black"
-------        android:textSize="14sp"
-------        android:textStyle="bold"
-------        app:layout_constraintEnd_toStartOf="@+id/tv_product_price"
-------        app:layout_constraintHorizontal_bias="0.0"
-------        app:layout_constraintStart_toEndOf="@+id/img_product"
-------        app:layout_constraintTop_toTopOf="parent" />
-------
-------    <TextView
-------        android:id="@+id/tv_product_price"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:layout_marginEnd="64dp"
-------        android:text="50.000đ"
-------        android:textColor="@android:color/black"
-------        android:textSize="16sp"
-------        android:textStyle="bold"
-------        app:layout_constraintBottom_toBottomOf="parent"
-------        app:layout_constraintEnd_toEndOf="parent"
-------        app:layout_constraintTop_toTopOf="parent"
-------        app:layout_constraintVertical_bias="0.605" />
-------
-------    <LinearLayout
-------        android:id="@+id/quantity"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:layout_marginTop="44dp"
-------        app:layout_constraintEnd_toEndOf="parent"
-------        app:layout_constraintHorizontal_bias="0.362"
-------        app:layout_constraintStart_toStartOf="parent"
-------        app:layout_constraintTop_toTopOf="parent">
-------
-------        <TextView
-------            android:id="@+id/btn_decrease"
-------            android:layout_width="30dp"
-------            android:layout_height="wrap_content"
-------            android:gravity="center"
-------            android:padding="8dp"
-------            android:text="-"
-------            android:textColor="#9E9E9E"
-------            android:textSize="24sp" />
-------
-------        <TextView
-------            android:id="@+id/tv_quantity"
-------            android:layout_width="60dp"
-------            android:layout_height="40dp"
-------            android:layout_marginStart="8dp"
-------            android:layout_marginEnd="8dp"
-------            android:layout_marginBottom="8dp"
-------            android:background="@drawable/round_border"
-------            android:fontFamily="@font/gabarito"
-------            android:gravity="center"
-------            android:text="1"
-------            android:textColor="#212121"
-------            android:textSize="18sp" />
-------
-------        <TextView
-------            android:id="@+id/btn_increase"
-------            android:layout_width="30dp"
-------            android:layout_height="wrap_content"
-------            android:gravity="center"
-------            android:padding="8dp"
-------            android:text="+"
-------            android:textColor="#4CAF50"
-------            android:textSize="24sp" />
-------    </LinearLayout>
-------
-------    <ImageButton
-------        android:id="@+id/btn_remove"
-------        android:layout_width="wrap_content"
-------        android:layout_height="wrap_content"
-------        android:layout_marginEnd="8dp"
-------        android:background="@android:color/transparent"
-------        android:contentDescription="Remove Product"
-------        android:src="@drawable/delete"
-------        app:layout_constraintBottom_toBottomOf="parent"
-------        app:layout_constraintEnd_toEndOf="parent"
-------        app:layout_constraintTop_toTopOf="parent"
-------        app:layout_constraintVertical_bias="0.638" />
-------
-------</androidx.constraintlayout.widget.ConstraintLayout>
------Index: app/src/main/java/com/example/agrimart/data/model/Product.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.data.model;\r\n\r\npublic class Product {\r\n    private int image;\r\n    private String name;\r\n    private String price;\r\n    private String unit;\r\n    private String active;\r\n\r\n    public Product() {\r\n    }\r\n\r\n    public Product(int image, String name, String price, String unit) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.unit = unit;\r\n    }\r\n\r\n    public Product(int image, String name, String price, String unit, String active) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.unit = unit;\r\n        this.active = active;\r\n    }\r\n\r\n    public int getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(int image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(String price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public String getUnit() {\r\n        return unit;\r\n    }\r\n\r\n    public void setUnit(String unit) {\r\n        this.unit = unit;\r\n    }\r\n\r\n    public String getActive() {\r\n        return active;\r\n    }\r\n\r\n    public void setActive(String active) {\r\n        this.active = active;\r\n    }\r\n}\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/data/model/Product.java b/app/src/main/java/com/example/agrimart/data/model/Product.java
--------- a/app/src/main/java/com/example/agrimart/data/model/Product.java	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/java/com/example/agrimart/data/model/Product.java	(date 1726766211773)
------@@ -4,24 +4,21 @@
------     private int image;
------     private String name;
------     private String price;
-------    private String unit;
------     private String active;
------ 
------     public Product() {
------     }
------ 
-------    public Product(int image, String name, String price, String unit) {
------+    public Product(int image, String name, String price) {
------         this.image = image;
------         this.name = name;
------         this.price = price;
-------        this.unit = unit;
------     }
------ 
-------    public Product(int image, String name, String price, String unit, String active) {
------+    public Product(int image, String name, String price, String active) {
------         this.image = image;
------         this.name = name;
------         this.price = price;
-------        this.unit = unit;
------         this.active = active;
------     }
------ 
------@@ -49,14 +46,6 @@
------         this.price = price;
------     }
------ 
-------    public String getUnit() {
-------        return unit;
-------    }
-------
-------    public void setUnit(String unit) {
-------        this.unit = unit;
-------    }
-------
------     public String getActive() {
------         return active;
------     }
------@@ -64,4 +53,4 @@
------     public void setActive(String active) {
------         this.active = active;
------     }
-------}
------+}
------\ No newline at end of file
------Index: app/src/main/res/layout/activity_notification.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:id=\"@+id/main\"\r\n    tools:context=\".ui.Notification.NotificationActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"32dp\"\r\n        android:layout_height=\"32dp\"\r\n        android:layout_marginStart=\"16dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:background=\"@color/background_light\"\r\n        android:backgroundTint=\"@color/white\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/tv_title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"THÔNG BÁO\"\r\n        android:textSize=\"18sp\"\r\n        android:textStyle=\"bold\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:layout_marginBottom=\"8dp\"\r\n        android:gravity=\"center\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:layout_gravity=\"center\" />\r\n\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:id=\"@+id/recycler_notifications\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"0dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tv_title\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:dividerHeight=\"1dp\"\r\n        android:padding=\"8dp\" />\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"4dp\"\r\n        android:background=\"@drawable/round_border\"\r\n        android:padding=\"16dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tv_title\"\r\n        tools:layout_editor_absoluteX=\"0dp\"\r\n        android:layout_marginStart=\"16dp\"\r\n        android:layout_marginEnd=\"16dp\">\r\n\r\n        <de.hdodenhof.circleimageview.CircleImageView\r\n            android:id=\"@+id/notification_icon\"\r\n            android:layout_width=\"40dp\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginEnd=\"8dp\"\r\n            android:src=\"@drawable/banana\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/notification_message\"\r\n            android:layout_width=\"252dp\"\r\n            android:layout_height=\"43dp\"\r\n            android:layout_marginStart=\"14dp\"\r\n            android:layout_marginTop=\"4dp\"\r\n            android:layout_marginBottom=\"16dp\"\r\n            android:text=\"@string/notification_message\"\r\n            android:textColor=\"@android:color/black\"\r\n            android:textSize=\"14sp\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toStartOf=\"@id/notification_time\"\r\n            app:layout_constraintHorizontal_bias=\"0\"\r\n            app:layout_constraintStart_toEndOf=\"@id/notification_icon\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"1.0\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/notification_time\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"@string/notification_time\"\r\n            android:textColor=\"@android:color/darker_gray\"\r\n            android:textSize=\"12sp\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toEndOf=\"@id/notification_message\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_notification.xml b/app/src/main/res/layout/activity_notification.xml
--------- a/app/src/main/res/layout/activity_notification.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/res/layout/activity_notification.xml	(date 1726766211777)
------@@ -6,6 +6,7 @@
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------     android:id="@+id/main"
------+    android:background="@color/white"
------     tools:context=".ui.Notification.NotificationActivity">
------ 
------     <ImageButton
------Index: app/src/main/res/layout/activity_forgot_password.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/background_light\"\r\n    tools:context=\".ui.Account.ForgotPasswordActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:background=\"@color/background_light\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.077\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        style=\"@style/title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"96dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"Đặt lại mật khẩu\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.15\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"30dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n        app:boxBackgroundColor=\"@color/background_light\"\r\n        app:startIconDrawable=\"@drawable/telephone\"\r\n        app:boxBackgroundMode=\"outline\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"Nhập số điện thoại của bạn\"\r\n            android:inputType=\"phone\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_continue\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"36dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"Tiếp tục\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.905\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_forgot_password.xml b/app/src/main/res/layout/activity_forgot_password.xml
--------- a/app/src/main/res/layout/activity_forgot_password.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/res/layout/activity_forgot_password.xml	(date 1726766211798)
------@@ -5,7 +5,7 @@
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
-------    android:background="@color/background_light"
------+    android:background="@color/white"
------     tools:context=".ui.Account.ForgotPasswordActivity">
------ 
------     <ImageButton
------@@ -13,7 +13,7 @@
------         android:layout_width="wrap_content"
------         android:layout_height="wrap_content"
------         android:layout_marginTop="32dp"
-------        android:background="@color/background_light"
------+        android:background="@color/white"
------         android:src="@drawable/chevron_left"
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintHorizontal_bias="0.077"
------@@ -44,7 +44,7 @@
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintStart_toStartOf="parent"
------         app:layout_constraintTop_toBottomOf="@+id/textView2"
-------        app:boxBackgroundColor="@color/background_light"
------+        app:boxBackgroundColor="@color/white"
------         app:startIconDrawable="@drawable/telephone"
------         app:boxBackgroundMode="outline">
------ 
------Index: app/src/main/res/layout/activity_enter_otpactivity.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/background_light\"\r\n    android:id=\"@+id/main\"\r\n    tools:context=\".ui.Account.EnterOTPActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:background=\"@color/background_light\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.077\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        style=\"@style/title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"92dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"Nhập mã OTP\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/tv_description\"\r\n        android:layout_width=\"289dp\"\r\n        android:layout_height=\"52dp\"\r\n        android:layout_marginStart=\"63dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"70dp\"\r\n        android:text=\"Nhập mã vừa được gửi đến số điện thoại +84123**678\"\r\n        android:textColor=\"@color/black\"\r\n        android:textSize=\"16sp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.181\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\" />\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:boxBackgroundColor=\"@color/background_light\"\r\n        app:boxBackgroundMode=\"outline\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"1.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tv_description\"\r\n        app:startIconDrawable=\"@drawable/password\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"Nhập mã OTP\"\r\n            android:inputType=\"numberDecimal\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n\r\n    <TextView\r\n        android:id=\"@+id/haveAccount\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:fontFamily=\"@font/circular_std\"\r\n        android:text=\"@string/g_i_l_i\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.498\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/btn_confirm\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_confirm\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"32dp\"\r\n        android:layout_marginTop=\"40dp\"\r\n        android:layout_marginEnd=\"32dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"XÁC NHẬN\"\r\n        android:textAllCaps=\"true\"\r\n        android:textColor=\"@color/white\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.497\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_enter_otpactivity.xml b/app/src/main/res/layout/activity_enter_otpactivity.xml
--------- a/app/src/main/res/layout/activity_enter_otpactivity.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/res/layout/activity_enter_otpactivity.xml	(date 1726766211805)
------@@ -4,7 +4,7 @@
------     xmlns:tools="http://schemas.android.com/tools"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
-------    android:background="@color/background_light"
------+    android:background="@color/white"
------     android:id="@+id/main"
------     tools:context=".ui.Account.EnterOTPActivity">
------ 
------@@ -13,7 +13,7 @@
------         android:layout_width="wrap_content"
------         android:layout_height="wrap_content"
------         android:layout_marginTop="32dp"
-------        android:background="@color/background_light"
------+        android:background="@color/white"
------         android:src="@drawable/chevron_left"
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintHorizontal_bias="0.077"
------@@ -55,7 +55,7 @@
------         android:layout_marginStart="24dp"
------         android:layout_marginTop="20dp"
------         android:layout_marginEnd="24dp"
-------        app:boxBackgroundColor="@color/background_light"
------+        app:boxBackgroundColor="@color/white"
------         app:boxBackgroundMode="outline"
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintHorizontal_bias="1.0"
------Index: app/src/main/res/layout/activity_sign_in.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Account.SignInActivity\">\r\n\r\n    <ImageView\r\n        android:layout_width=\"200dp\"\r\n        android:layout_height=\"100dp\"\r\n        android:src=\"@drawable/logo\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        android:layout_marginTop=\"20dp\"/>\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"160dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"@string/ng_nh_p\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.092\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        style=\"@style/title\"/>\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n        app:boxBackgroundColor=\"@color/background_light\"\r\n        app:startIconDrawable=\"@drawable/telephone\"\r\n        app:boxBackgroundMode=\"outline\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"@string/sodienthoai\"\r\n            android:inputType=\"text\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout3\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\"\r\n        app:startIconDrawable=\"@drawable/key\"\r\n        app:passwordToggleEnabled=\"true\"\r\n        app:boxBackgroundMode=\"outline\"\r\n        app:boxBackgroundColor=\"@color/background_light\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPassword\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:hint=\"@string/m_t_kh_u\"\r\n            android:inputType=\"textPassword\"\r\n            android:password=\"true\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/btnSignIn\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"50dp\"\r\n        android:layout_marginTop=\"36dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:drawableEnd=\"@drawable/arrowright\"\r\n        android:text=\"Đăng nhập\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.905\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout3\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btnSignInGoogle\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"50dp\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"44dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:backgroundTintMode=\"screen\"\r\n        android:drawableLeft=\"@drawable/google\"\r\n        android:drawablePadding=\"10dp\"\r\n        android:fontFamily=\"@font/circular_std\"\r\n        android:text=\"@string/continue_with_google\"\r\n        android:textFontWeight=\"500\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/btnSignIn\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/dontHaveAccount\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:layout_marginBottom=\"30dp\"\r\n        android:backgroundTint=\"@color/background_green\"\r\n        android:backgroundTintMode=\"screen\"\r\n        android:drawablePadding=\"10dp\"\r\n        android:fontFamily=\"@font/circular_std\"\r\n        android:text=\"@string/dang_ky\"\r\n        android:textFontWeight=\"500\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/forgotPassword\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:text=\"@string/qu_n_m_t_kh_u\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout3\"\r\n        android:fontFamily=\"@font/circular_std\"/>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_sign_in.xml b/app/src/main/res/layout/activity_sign_in.xml
--------- a/app/src/main/res/layout/activity_sign_in.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/res/layout/activity_sign_in.xml	(date 1726766211810)
------@@ -5,6 +5,7 @@
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------+    android:background="@color/white"
------     tools:context=".ui.Account.SignInActivity">
------ 
------     <ImageView
------@@ -39,7 +40,7 @@
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintStart_toStartOf="parent"
------         app:layout_constraintTop_toBottomOf="@+id/textView2"
-------        app:boxBackgroundColor="@color/background_light"
------+        app:boxBackgroundColor="@color/white"
------         app:startIconDrawable="@drawable/telephone"
------         app:boxBackgroundMode="outline">
------ 
------@@ -65,7 +66,7 @@
------         app:startIconDrawable="@drawable/key"
------         app:passwordToggleEnabled="true"
------         app:boxBackgroundMode="outline"
-------        app:boxBackgroundColor="@color/background_light">
------+        app:boxBackgroundColor="@color/white">
------ 
------         <com.google.android.material.textfield.TextInputEditText
------             android:id="@+id/edtPassword"
------Index: .idea/misc.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ExternalStorageConfigurationManager\" enabled=\"true\" />\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_17\" default=\"true\" project-jdk-name=\"jbr-17\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n</project>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/.idea/misc.xml b/.idea/misc.xml
--------- a/.idea/misc.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/.idea/misc.xml	(date 1726766211816)
------@@ -1,4 +1,3 @@
-------<?xml version="1.0" encoding="UTF-8"?>
------ <project version="4">
------   <component name="ExternalStorageConfigurationManager" enabled="true" />
------   <component name="ProjectRootManager" version="2" languageLevel="JDK_17" default="true" project-jdk-name="jbr-17" project-jdk-type="JavaSDK">
------Index: app/src/main/res/layout/fragment_cart.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\"com.example.agrimart.ui.Cart.CartFragment\">\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/header\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_title\"\r\n            android:layout_width=\"126dp\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_alignParentStart=\"true\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_gravity=\"center\"\r\n            android:layout_marginStart=\"145dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:layout_marginEnd=\"140dp\"\r\n            android:layout_marginBottom=\"8dp\"\r\n            android:gravity=\"center\"\r\n            android:text=\"GIỎ HÀNG\"\r\n            android:textSize=\"18sp\"\r\n            android:textStyle=\"bold\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n    </RelativeLayout>\r\n\r\n\r\n    <FrameLayout\r\n        android:id=\"@+id/container\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_below=\"@+id/header\"\r\n        android:layout_above=\"@+id/footer\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/header\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginEnd=\"16dp\">\r\n            <com.google.android.material.imageview.ShapeableImageView\r\n                android:id=\"@+id/img_product\"\r\n                android:layout_width=\"80dp\"\r\n                android:layout_height=\"80dp\"\r\n                android:scaleType=\"centerCrop\"\r\n                android:src=\"@drawable/apple\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                android:background=\"@drawable/round_border\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_product_name\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginTop=\"12dp\"\r\n                android:text=\"@string/product_name\"\r\n                android:textColor=\"@android:color/black\"\r\n                android:textSize=\"14sp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintEnd_toStartOf=\"@+id/tv_product_price\"\r\n                app:layout_constraintHorizontal_bias=\"0.0\"\r\n                app:layout_constraintStart_toEndOf=\"@+id/img_product\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_product_price\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginEnd=\"64dp\"\r\n                android:text=\"50.000đ\"\r\n                android:textColor=\"@android:color/black\"\r\n                android:textSize=\"16sp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:layout_constraintVertical_bias=\"0.605\" />\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/quantity\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"44dp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHorizontal_bias=\"0.362\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_decrease\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:gravity=\"center\"\r\n                    android:padding=\"8dp\"\r\n                    android:text=\"-\"\r\n                    android:textColor=\"#9E9E9E\"\r\n                    android:textSize=\"24sp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_quantity\"\r\n                    android:layout_width=\"60dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:layout_marginStart=\"8dp\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:layout_marginBottom=\"8dp\"\r\n                    android:background=\"@drawable/round_border\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"1\"\r\n                    android:textColor=\"#212121\"\r\n                    android:textSize=\"18sp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_increase\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:gravity=\"center\"\r\n                    android:padding=\"8dp\"\r\n                    android:text=\"+\"\r\n                    android:textColor=\"#4CAF50\"\r\n                    android:textSize=\"24sp\" />\r\n            </LinearLayout>\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/btn_remove\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginEnd=\"8dp\"\r\n                android:background=\"@android:color/transparent\"\r\n                android:contentDescription=\"Remove Product\"\r\n                android:src=\"@drawable/delete\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:layout_constraintVertical_bias=\"0.638\" />\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n    </FrameLayout>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/footer\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentBottom=\"true\">\r\n\r\n        <Button\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_marginStart=\"48dp\"\r\n            android:layout_marginEnd=\"48dp\"\r\n            android:backgroundTint=\"@color/green\"\r\n            app:cornerRadius=\"24dp\"\r\n            android:text=\"Thanh toán\"/>\r\n    </RelativeLayout>\r\n\r\n</RelativeLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/fragment_cart.xml b/app/src/main/res/layout/fragment_cart.xml
--------- a/app/src/main/res/layout/fragment_cart.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/res/layout/fragment_cart.xml	(date 1726766211821)
------@@ -1,16 +1,17 @@
-------<?xml version="1.0" encoding="utf-8"?>
------ <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
------     xmlns:app="http://schemas.android.com/apk/res-auto"
------     xmlns:tools="http://schemas.android.com/tools"
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------+    android:background="@color/white"
------     tools:context="com.example.agrimart.ui.Cart.CartFragment">
------ 
------     <RelativeLayout
------         android:id="@+id/header"
------         android:layout_width="match_parent"
-------        android:layout_height="wrap_content">
------+        android:layout_height="wrap_content"
------+        android:background="@color/green">
------ 
------         <TextView
------             android:id="@+id/tv_title"
------@@ -32,120 +33,114 @@
------             app:layout_constraintTop_toTopOf="parent" />
------     </RelativeLayout>
------ 
-------
------     <FrameLayout
------         android:id="@+id/container"
------         android:layout_width="match_parent"
-------        android:layout_height="match_parent"
------+        android:layout_height="wrap_content"
------         android:layout_below="@+id/header"
------         android:layout_above="@+id/footer">
------ 
-------        <androidx.constraintlayout.widget.ConstraintLayout
-------            android:layout_width="match_parent"
-------            android:layout_height="wrap_content"
-------            android:layout_below="@id/header"
-------            android:layout_marginStart="16dp"
-------            android:layout_marginEnd="16dp">
-------            <com.google.android.material.imageview.ShapeableImageView
-------                android:id="@+id/img_product"
-------                android:layout_width="80dp"
-------                android:layout_height="80dp"
-------                android:scaleType="centerCrop"
-------                android:src="@drawable/apple"
-------                app:layout_constraintStart_toStartOf="parent"
-------                app:layout_constraintTop_toTopOf="parent"
-------                app:layout_constraintBottom_toBottomOf="parent"
-------                android:background="@drawable/round_border"/>
------+        <androidx.cardview.widget.CardView
------+            android:layout_width="match_parent"
------+            android:layout_height="wrap_content"
------+            android:layout_margin="10dp"
------+            app:cardCornerRadius="8dp"
------+            app:cardElevation="4dp"
------+            app:cardBackgroundColor="@android:color/white">
------+
------+            <androidx.constraintlayout.widget.ConstraintLayout
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:padding="10dp">
------+
------+                <CheckBox
------+                    android:id="@+id/checkbox_select"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    app:layout_constraintStart_toStartOf="parent"
------+                    app:layout_constraintTop_toTopOf="parent"
------+                    app:layout_constraintBottom_toBottomOf="parent" />
------+
------+                <com.google.android.material.imageview.ShapeableImageView
------+                    android:id="@+id/img_product"
------+                    android:layout_width="60dp"
------+                    android:layout_height="60dp"
------+                    android:scaleType="centerCrop"
------+                    android:src="@drawable/apple"
------+                    app:layout_constraintStart_toEndOf="@id/checkbox_select"
------+                    app:layout_constraintTop_toTopOf="parent"
------+                    app:layout_constraintBottom_toBottomOf="parent"
------+                    android:background="@drawable/round_border"/>
------ 
-------            <TextView
-------                android:id="@+id/tv_product_name"
-------                android:layout_width="0dp"
-------                android:layout_height="wrap_content"
-------                android:layout_marginStart="16dp"
-------                android:layout_marginTop="12dp"
-------                android:text="@string/product_name"
-------                android:textColor="@android:color/black"
-------                android:textSize="14sp"
-------                android:textStyle="bold"
-------                app:layout_constraintEnd_toStartOf="@+id/tv_product_price"
-------                app:layout_constraintHorizontal_bias="0.0"
-------                app:layout_constraintStart_toEndOf="@+id/img_product"
-------                app:layout_constraintTop_toTopOf="parent" />
------+                <TextView
------+                    android:id="@+id/tv_product_name"
------+                    android:layout_width="0dp"
------+                    android:layout_height="wrap_content"
------+                    android:layout_marginStart="16dp"
------+                    android:layout_marginTop="12dp"
------+                    android:text="@string/product_name"
------+                    android:textColor="@android:color/black"
------+                    android:textSize="18sp"
------+                    android:textStyle="bold"
------+                    app:layout_constraintEnd_toStartOf="@id/tv_product_price"
------+                    app:layout_constraintStart_toEndOf="@id/img_product"
------+                    app:layout_constraintTop_toTopOf="parent" />
------ 
-------            <TextView
-------                android:id="@+id/tv_product_price"
-------                android:layout_width="wrap_content"
-------                android:layout_height="wrap_content"
-------                android:layout_marginEnd="64dp"
-------                android:text="50.000đ"
-------                android:textColor="@android:color/black"
-------                android:textSize="16sp"
-------                android:textStyle="bold"
-------                app:layout_constraintBottom_toBottomOf="parent"
-------                app:layout_constraintEnd_toEndOf="parent"
-------                app:layout_constraintTop_toTopOf="parent"
-------                app:layout_constraintVertical_bias="0.605" />
-------
-------            <LinearLayout
-------                android:id="@+id/quantity"
-------                android:layout_width="wrap_content"
-------                android:layout_height="wrap_content"
-------                android:layout_marginTop="44dp"
-------                app:layout_constraintEnd_toEndOf="parent"
-------                app:layout_constraintHorizontal_bias="0.362"
-------                app:layout_constraintStart_toStartOf="parent"
-------                app:layout_constraintTop_toTopOf="parent">
-------
-------                <TextView
-------                    android:id="@+id/btn_decrease"
-------                    android:layout_width="30dp"
-------                    android:layout_height="wrap_content"
-------                    android:gravity="center"
-------                    android:padding="8dp"
-------                    android:text="-"
-------                    android:textColor="#9E9E9E"
-------                    android:textSize="24sp" />
-------
-------                <TextView
-------                    android:id="@+id/tv_quantity"
-------                    android:layout_width="60dp"
-------                    android:layout_height="40dp"
-------                    android:layout_marginStart="8dp"
-------                    android:layout_marginEnd="8dp"
-------                    android:layout_marginBottom="8dp"
-------                    android:background="@drawable/round_border"
-------                    android:fontFamily="@font/gabarito"
-------                    android:gravity="center"
-------                    android:text="1"
-------                    android:textColor="#212121"
-------                    android:textSize="18sp" />
-------
-------                <TextView
-------                    android:id="@+id/btn_increase"
-------                    android:layout_width="30dp"
-------                    android:layout_height="wrap_content"
-------                    android:gravity="center"
-------                    android:padding="8dp"
-------                    android:text="+"
-------                    android:textColor="#4CAF50"
-------                    android:textSize="24sp" />
-------            </LinearLayout>
------+                <TextView
------+                    android:id="@+id/quantity"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:layout_marginTop="20dp"
------+                    android:text="1kg"
------+                    app:layout_constraintEnd_toStartOf="@id/tv_product_price"
------+                    app:layout_constraintHorizontal_bias="0.093"
------+                    app:layout_constraintStart_toEndOf="@id/img_product"
------+                    app:layout_constraintTop_toBottomOf="@id/tv_product_name" />
------+
------+                <TextView
------+                    android:id="@+id/tv_product_price"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:layout_marginEnd="4dp"
------+                    android:text="50.000đ"
------+                    android:textColor="@android:color/black"
------+                    android:textSize="16sp"
------+                    android:textStyle="bold"
------+                    app:layout_constraintBottom_toBottomOf="parent"
------+                    app:layout_constraintEnd_toEndOf="parent"
------+                    app:layout_constraintTop_toTopOf="parent"
------+                    app:layout_constraintVertical_bias="1.0" />
------ 
-------            <ImageButton
-------                android:id="@+id/btn_remove"
-------                android:layout_width="wrap_content"
-------                android:layout_height="wrap_content"
-------                android:layout_marginEnd="8dp"
-------                android:background="@android:color/transparent"
-------                android:contentDescription="Remove Product"
-------                android:src="@drawable/delete"
-------                app:layout_constraintBottom_toBottomOf="parent"
-------                app:layout_constraintEnd_toEndOf="parent"
-------                app:layout_constraintTop_toTopOf="parent"
-------                app:layout_constraintVertical_bias="0.638" />
-------        </androidx.constraintlayout.widget.ConstraintLayout>
------+                <ImageButton
------+                    android:id="@+id/btn_remove"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:layout_marginEnd="4dp"
------+                    android:background="@android:color/transparent"
------+                    android:contentDescription="Remove Product"
------+                    android:src="@drawable/delete"
------+                    app:layout_constraintBottom_toBottomOf="parent"
------+                    app:layout_constraintEnd_toEndOf="parent"
------+                    app:layout_constraintTop_toTopOf="parent"
------+                    app:layout_constraintVertical_bias="0.0" />
------+            </androidx.constraintlayout.widget.ConstraintLayout>
------+        </androidx.cardview.widget.CardView>
------     </FrameLayout>
------ 
------+    <RelativeLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="wrap_content"
------+        android:layout_above="@id/footer">
------+        <TextView
------+            android:id="@+id/tv_total_price"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:text="Tổng tiền: 0đ"
------+            android:textSize="18sp"
------+            android:textStyle="bold"
------+            android:layout_margin="16dp"/>
------+    </RelativeLayout>
------+
------     <RelativeLayout
------         android:id="@+id/footer"
------         android:layout_width="match_parent"
------@@ -153,6 +148,7 @@
------         android:layout_alignParentBottom="true">
------ 
------         <Button
------+            android:id="@+id/btn_checkout"
------             android:layout_width="match_parent"
------             android:layout_height="60dp"
------             android:layout_marginStart="48dp"
------Index: app/src/main/res/layout/fragment_explore.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Explore.ExploreFragment\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/header\"\r\n        android:background=\"@color/green\"\r\n        android:orientation=\"horizontal\"\r\n        android:padding=\"16dp\">\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/search_card\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_weight=\"1\"\r\n            app:cardCornerRadius=\"8dp\"\r\n            app:cardElevation=\"4dp\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:padding=\"8dp\"\r\n                android:id=\"@+id/search_bar\">\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/search_icon\"\r\n                    android:layout_width=\"24dp\"\r\n                    android:layout_height=\"24dp\"\r\n                    android:src=\"@drawable/ic_search\"\r\n                    android:tint=\"@color/black\"\r\n                    android:layout_gravity=\"center_vertical\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:background=\"@color/white\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/search_input\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"1\"\r\n                    android:hint=\"@string/search\"\r\n                    android:background=\"@null\"\r\n                    android:padding=\"8dp\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:textColorHint=\"@android:color/darker_gray\" />\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/filter_icon\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_gravity=\"center_vertical\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:layout_marginEnd=\"4dp\"\r\n            android:background=\"@color/green\"\r\n            android:src=\"@drawable/filter\"\r\n            android:tint=\"@color/black\" />\r\n\r\n    </LinearLayout>\r\n\r\n    <com.google.android.material.tabs.TabLayout\r\n        android:id=\"@+id/tabLayout\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/header\"\r\n        android:paddingStart=\"5dp\"\r\n        android:paddingEnd=\"5dp\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:layout_marginStart=\"10dp\"\r\n        android:layout_marginEnd=\"10dp\"\r\n        app:tabMode=\"scrollable\"\r\n        app:tabGravity=\"fill\"\r\n        app:tabBackground=\"@drawable/tab_background\"\r\n        app:tabIndicator=\"@null\"\r\n        app:tabTextColor=\"@color/black\"\r\n        app:tabSelectedTextColor=\"@color/white\"\r\n        app:tabSelectedTextAppearance=\"@color/transparent\"\r\n        app:tabTextAppearance=\"@style/TabTextAppearance\" />\r\n\r\n\r\n    <androidx.viewpager2.widget.ViewPager2\r\n        android:id=\"@+id/viewPager\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_below=\"@id/tabLayout\"/>\r\n</RelativeLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/fragment_explore.xml b/app/src/main/res/layout/fragment_explore.xml
--------- a/app/src/main/res/layout/fragment_explore.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/res/layout/fragment_explore.xml	(date 1726766211825)
------@@ -67,7 +67,7 @@
------     <com.google.android.material.tabs.TabLayout
------         android:id="@+id/tabLayout"
------         android:layout_width="match_parent"
-------        android:layout_height="wrap_content"
------+        android:layout_height="30dp"
------         android:layout_below="@id/header"
------         android:paddingStart="5dp"
------         android:paddingEnd="5dp"
------@@ -76,12 +76,14 @@
------         android:layout_marginEnd="10dp"
------         app:tabMode="scrollable"
------         app:tabGravity="fill"
------+        app:tabIndicatorGravity="center"
------         app:tabBackground="@drawable/tab_background"
------         app:tabIndicator="@null"
------         app:tabTextColor="@color/black"
------         app:tabSelectedTextColor="@color/white"
------         app:tabSelectedTextAppearance="@color/transparent"
-------        app:tabTextAppearance="@style/TabTextAppearance" />
------+        app:tabTextAppearance="@style/TabTextAppearance"
------+        app:tabRippleColor="@null" />
------ 
------ 
------     <androidx.viewpager2.widget.ViewPager2
------Index: app/src/main/res/layout/fragment_my_profile.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.MyProfile.MyProfileFragment\">\r\n\r\n    <LinearLayout\r\n        android:id=\"@+id/id_myProject\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"200dp\"\r\n        android:layout_marginBottom=\"20dp\"\r\n        android:background=\"@drawable/shape_rounded_bottom\"\r\n        android:gravity=\"center|top\"\r\n        android:backgroundTint=\"@color/account_my_project\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/profile_title\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"10dp\"\r\n            android:layout_marginBottom=\"30dp\"\r\n            android:text=\"Hồ Sơ Của Tôi\"\r\n            android:textColor=\"@color/white\"\r\n            android:textSize=\"11pt\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"101dp\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <RelativeLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\">\r\n\r\n                <!-- Ảnh chính với nền tròn -->\r\n                <com.google.android.material.imageview.ShapeableImageView\r\n                    android:id=\"@+id/profile_image\"\r\n                    android:layout_width=\"100dp\"\r\n                    android:layout_height=\"100dp\"\r\n                    android:layout_marginStart=\"20dp\"\r\n                    android:scaleType=\"centerCrop\"\r\n                    android:src=\"@drawable/apple\"\r\n                    app:shapeAppearanceOverlay=\"@style/CircleShape\" />\r\n\r\n                <!-- Biểu tượng chỉnh sửa bên dưới ảnh chính -->\r\n                <ImageView\r\n                    android:id=\"@+id/edit_profile_icon\"\r\n                    android:layout_width=\"40dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:layout_alignEnd=\"@+id/profile_image\"\r\n                    android:layout_alignBottom=\"@+id/profile_image\"\r\n                    android:layout_marginEnd=\"0dp\"\r\n                    android:layout_marginBottom=\"0dp\"\r\n                    android:background=\"@drawable/rounded_edit_profile\"\r\n                    android:padding=\"10dp\"\r\n                    android:src=\"@drawable/edit\" />\r\n\r\n            </RelativeLayout>\r\n\r\n            <TextView\r\n                android:id=\"@+id/profile_name\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_marginStart=\"25dp\"\r\n                android:layout_marginEnd=\"20dp\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/white\"\r\n                android:text=\"Hoàng Huy Long\"\r\n                android:textSize=\"11pt\"\r\n                android:textStyle=\"bold\" />\r\n\r\n        </LinearLayout>\r\n\r\n    </LinearLayout>\r\n\r\n    <ScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:id=\"@+id/id_ScrollView_myProject\"\r\n        android:layout_above=\"@+id/frameLayout_MyProject\"\r\n        android:layout_below=\"@+id/id_myProject\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <!-- Chỉnh sửa hồ sơ -->\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/edit_profile_nex1t\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_weight=\"1\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/editing\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/edit_profile_text\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"3\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"11pt\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:text=\"Chỉnh sửa hồ sơ\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/edit_profile_next\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:layout_weight=\"1\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <!-- Divider -->\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"1dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:layout_marginEnd=\"15dp\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:background=\"#65424242\" />\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"56dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_map_img\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/map\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/my_map_text\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"3\"\r\n                    android:text=\"Địa chỉ\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"11pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_map_next\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"1dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:layout_marginEnd=\"15dp\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:background=\"#65424242\" />\r\n\r\n            <!-- Thay đổi mật khẩu -->\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"56dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/change_password_next1\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/padlock\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/change_password_text\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"3\"\r\n                    android:text=\"Thay đổi mật khẩu\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"11pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/change_password_next\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <!-- Divider -->\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"1dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:layout_marginEnd=\"15dp\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:background=\"#65424242\" />\r\n\r\n            <!-- Phương thức thanh toán -->\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"56dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/payment_method_next1\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/valid\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/payment_method_text\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"3\"\r\n                    android:text=\"Phương thức thanh toán\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"11pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/payment_method_next\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/next\" />\r\n            </LinearLayout>\r\n\r\n            <!-- Divider -->\r\n            <View\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"1dp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:layout_marginEnd=\"15dp\"\r\n                android:layout_marginTop=\"5dp\"\r\n                android:background=\"#65424242\" />\r\n\r\n            <!-- Đơn hàng của tôi -->\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"56dp\"\r\n                android:layout_marginTop=\"20dp\"\r\n                android:layout_marginBottom=\"15dp\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_orders_next1\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/logistics\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/my_orders_text\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"3\"\r\n                    android:text=\"Đơn hàng của tôi\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"11pt\" />\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/my_orders_next\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"25dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:layout_weight=\"1\"\r\n                    android:src=\"@drawable/next\" />\r\n\r\n\r\n            </LinearLayout>\r\n\r\n\r\n\r\n        </LinearLayout>\r\n\r\n\r\n    </ScrollView>\r\n\r\n    <FrameLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:id=\"@+id/frameLayout_MyProject\"\r\n        android:layout_alignParentBottom=\"true\"\r\n        android:layout_height=\"wrap_content\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"350dp\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_gravity=\"top|center\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:layout_marginBottom=\"20dp\"\r\n            android:backgroundTint=\"@color/account_my_project\"\r\n            android:background=\"@drawable/rounded_edittext\"\r\n\r\n            android:gravity=\"center\"\r\n            android:orientation=\"horizontal\"> <!-- Thêm sự kiện onClick -->\r\n\r\n\r\n            <ImageView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:contentDescription=\"@string/todo\"\r\n                android:paddingEnd=\"8dp\"\r\n                android:src=\"@drawable/logout\" /> <!-- Điều chỉnh khoảng cách giữa icon và chữ -->\r\n\r\n            <TextView\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"Đăng xuất\"\r\n                android:textAllCaps=\"false\"\r\n                android:textColor=\"@color/white\"\r\n                android:textSize=\"11pt\" />\r\n\r\n        </LinearLayout>\r\n    </FrameLayout>\r\n\r\n\r\n</RelativeLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/fragment_my_profile.xml b/app/src/main/res/layout/fragment_my_profile.xml
--------- a/app/src/main/res/layout/fragment_my_profile.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/res/layout/fragment_my_profile.xml	(date 1726766211832)
------@@ -5,132 +5,58 @@
------     android:layout_height="match_parent"
------     tools:context=".ui.MyProfile.MyProfileFragment">
------ 
-------    <LinearLayout
-------        android:id="@+id/id_myProject"
-------        android:layout_width="match_parent"
-------        android:layout_height="200dp"
-------        android:layout_marginBottom="20dp"
-------        android:background="@drawable/shape_rounded_bottom"
-------        android:gravity="center|top"
-------        android:backgroundTint="@color/account_my_project"
-------        android:orientation="vertical">
-------
-------        <TextView
-------            android:id="@+id/profile_title"
-------            android:layout_width="wrap_content"
-------            android:layout_height="wrap_content"
-------            android:layout_marginTop="10dp"
-------            android:layout_marginBottom="30dp"
-------            android:text="Hồ Sơ Của Tôi"
-------            android:textColor="@color/white"
-------            android:textSize="11pt"
-------            android:textStyle="bold" />
-------
-------        <LinearLayout
-------            android:layout_width="match_parent"
-------            android:layout_height="101dp"
-------            android:orientation="horizontal">
-------
-------            <RelativeLayout
-------                android:layout_width="wrap_content"
-------                android:layout_height="wrap_content">
-------
-------                <!-- Ảnh chính với nền tròn -->
-------                <com.google.android.material.imageview.ShapeableImageView
-------                    android:id="@+id/profile_image"
-------                    android:layout_width="100dp"
-------                    android:layout_height="100dp"
-------                    android:layout_marginStart="20dp"
-------                    android:scaleType="centerCrop"
-------                    android:src="@drawable/apple"
-------                    app:shapeAppearanceOverlay="@style/CircleShape" />
-------
-------                <!-- Biểu tượng chỉnh sửa bên dưới ảnh chính -->
-------                <ImageView
-------                    android:id="@+id/edit_profile_icon"
-------                    android:layout_width="40dp"
-------                    android:layout_height="40dp"
-------                    android:layout_alignEnd="@+id/profile_image"
-------                    android:layout_alignBottom="@+id/profile_image"
-------                    android:layout_marginEnd="0dp"
-------                    android:layout_marginBottom="0dp"
-------                    android:background="@drawable/rounded_edit_profile"
-------                    android:padding="10dp"
-------                    android:src="@drawable/edit" />
-------
-------            </RelativeLayout>
-------
-------            <TextView
-------                android:id="@+id/profile_name"
-------                android:layout_width="wrap_content"
-------                android:layout_height="wrap_content"
-------                android:layout_gravity="center"
-------                android:layout_marginStart="25dp"
-------                android:layout_marginEnd="20dp"
-------                android:layout_weight="1"
-------                android:textColor="@color/white"
-------                android:text="Hoàng Huy Long"
-------                android:textSize="11pt"
-------                android:textStyle="bold" />
-------
-------        </LinearLayout>
-------
-------    </LinearLayout>
------ 
------     <ScrollView
------+        android:id="@+id/id_ScrollView_myProject"
------         android:layout_width="match_parent"
------         android:layout_height="match_parent"
-------        android:id="@+id/id_ScrollView_myProject"
-------        android:layout_above="@+id/frameLayout_MyProject"
-------        android:layout_below="@+id/id_myProject">
------+        android:layout_above="@+id/frameLayout_MyProject">
------ 
------         <LinearLayout
------             android:layout_width="match_parent"
------             android:layout_height="wrap_content"
------             android:orientation="vertical">
------ 
-------            <!-- Chỉnh sửa hồ sơ -->
------             <LinearLayout
------                 android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------                 android:layout_marginTop="20dp"
------                 android:layout_marginBottom="15dp"
-------                android:layout_height="wrap_content"
------                 android:orientation="horizontal">
------ 
------                 <ImageView
------                     android:id="@+id/edit_profile_nex1t"
-------                    android:layout_width="0dp"
------+                    android:layout_width="75dp"
------                     android:layout_height="30dp"
------+                    android:layout_gravity="center"
------                     android:layout_weight="1"
-------                    android:layout_gravity="center"
------                     android:src="@drawable/editing" />
------ 
------                 <TextView
------                     android:id="@+id/edit_profile_text"
------                     android:layout_width="0dp"
------                     android:layout_height="wrap_content"
------+                    android:layout_gravity="center"
------                     android:layout_weight="3"
------+                    android:text="Đăng bán"
------                     android:textColor="@color/black"
-------                    android:textSize="11pt"
-------                    android:layout_gravity="center"
-------                    android:text="Chỉnh sửa hồ sơ" />
------+                    android:textSize="11pt" />
------ 
------                 <ImageView
------                     android:id="@+id/edit_profile_next"
------                     android:layout_width="0dp"
------                     android:layout_height="25dp"
-------                    android:layout_weight="1"
------                     android:layout_gravity="center"
------+                    android:layout_weight="1"
------                     android:src="@drawable/next" />
------             </LinearLayout>
------ 
-------            <!-- Divider -->
------             <View
------                 android:layout_width="match_parent"
------                 android:layout_height="1dp"
------                 android:layout_marginStart="15dp"
-------                android:layout_marginEnd="15dp"
------                 android:layout_marginTop="5dp"
------+                android:layout_marginEnd="15dp"
------                 android:background="#65424242" />
------ 
------             <LinearLayout
------@@ -154,7 +80,7 @@
------                     android:layout_height="wrap_content"
------                     android:layout_gravity="center"
------                     android:layout_weight="3"
-------                    android:text="Địa chỉ"
------+                    android:text="Quản lý đơn hàng"
------                     android:textColor="@color/black"
------                     android:textSize="11pt" />
------ 
------@@ -171,136 +97,20 @@
------                 android:layout_width="match_parent"
------                 android:layout_height="1dp"
------                 android:layout_marginStart="15dp"
-------                android:layout_marginEnd="15dp"
------                 android:layout_marginTop="5dp"
------+                android:layout_marginEnd="15dp"
------                 android:background="#65424242" />
------ 
-------            <!-- Thay đổi mật khẩu -->
-------            <LinearLayout
-------                android:layout_width="match_parent"
-------                android:layout_height="56dp"
-------                android:layout_marginTop="20dp"
-------                android:layout_marginBottom="15dp"
-------                android:orientation="horizontal">
-------
-------                <ImageView
-------                    android:id="@+id/change_password_next1"
-------                    android:layout_width="0dp"
-------                    android:layout_height="30dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/padlock" />
-------
-------                <TextView
-------                    android:id="@+id/change_password_text"
-------                    android:layout_width="0dp"
-------                    android:layout_height="wrap_content"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="3"
-------                    android:text="Thay đổi mật khẩu"
-------                    android:textColor="@color/black"
-------                    android:textSize="11pt" />
-------
-------                <ImageView
-------                    android:id="@+id/change_password_next"
-------                    android:layout_width="0dp"
-------                    android:layout_height="25dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/next" />
-------            </LinearLayout>
------ 
------             <!-- Divider -->
------             <View
------                 android:layout_width="match_parent"
------                 android:layout_height="1dp"
------                 android:layout_marginStart="15dp"
-------                android:layout_marginEnd="15dp"
------                 android:layout_marginTop="5dp"
-------                android:background="#65424242" />
-------
-------            <!-- Phương thức thanh toán -->
-------            <LinearLayout
-------                android:layout_width="match_parent"
-------                android:layout_height="56dp"
-------                android:layout_marginTop="20dp"
-------                android:layout_marginBottom="15dp"
-------                android:orientation="horizontal">
-------
-------                <ImageView
-------                    android:id="@+id/payment_method_next1"
-------                    android:layout_width="0dp"
-------                    android:layout_height="30dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/valid" />
-------
-------                <TextView
-------                    android:id="@+id/payment_method_text"
-------                    android:layout_width="0dp"
-------                    android:layout_height="wrap_content"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="3"
-------                    android:text="Phương thức thanh toán"
-------                    android:textColor="@color/black"
-------                    android:textSize="11pt" />
-------
-------                <ImageView
-------                    android:id="@+id/payment_method_next"
-------                    android:layout_width="0dp"
-------                    android:layout_height="25dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/next" />
-------            </LinearLayout>
-------
-------            <!-- Divider -->
-------            <View
-------                android:layout_width="match_parent"
-------                android:layout_height="1dp"
-------                android:layout_marginStart="15dp"
------                 android:layout_marginEnd="15dp"
-------                android:layout_marginTop="5dp"
------                 android:background="#65424242" />
------ 
-------            <!-- Đơn hàng của tôi -->
-------            <LinearLayout
-------                android:layout_width="match_parent"
-------                android:layout_height="56dp"
-------                android:layout_marginTop="20dp"
-------                android:layout_marginBottom="15dp"
-------                android:orientation="horizontal">
-------
-------                <ImageView
-------                    android:id="@+id/my_orders_next1"
-------                    android:layout_width="0dp"
-------                    android:layout_height="30dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/logistics" />
-------
-------                <TextView
-------                    android:id="@+id/my_orders_text"
-------                    android:layout_width="0dp"
-------                    android:layout_height="wrap_content"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="3"
-------                    android:text="Đơn hàng của tôi"
-------                    android:textColor="@color/black"
-------                    android:textSize="11pt" />
-------
-------                <ImageView
-------                    android:id="@+id/my_orders_next"
-------                    android:layout_width="0dp"
-------                    android:layout_height="25dp"
-------                    android:layout_gravity="center"
-------                    android:layout_weight="1"
-------                    android:src="@drawable/next" />
-------
-------
-------            </LinearLayout>
-------
-------
------ 
------         </LinearLayout>
------ 
------@@ -320,7 +130,7 @@
------             android:layout_marginStart="10dp"
------             android:layout_marginTop="20dp"
------             android:layout_marginBottom="20dp"
-------            android:backgroundTint="@color/account_my_project"
------+            android:backgroundTint="@color/green"
------             android:background="@drawable/rounded_edittext"
------ 
------             android:gravity="center"
------Index: app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.MyProfile;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\n\r\nimport com.example.agrimart.R;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link MyProfileFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class MyProfileFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public MyProfileFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment MyProfileFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static MyProfileFragment newInstance(String param1, String param2) {\r\n        MyProfileFragment fragment = new MyProfileFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_my_profile, container, false);\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getActivity().getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.account_my_project)); // Thay \"your_color\" bằng màu bạn muốn\r\n        }\r\n\r\n        return view;\r\n    }\r\n\r\n    public void onLogoutClick(View view) {\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java
--------- a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java	(date 1726766211838)
------@@ -69,7 +69,7 @@
------         if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
------             Window window = getActivity().getWindow();
------             window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);
-------            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.account_my_project)); // Thay "your_color" bằng màu bạn muốn
------+            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));
------         }
------ 
------         return view;
------Index: app/src/main/res/layout/fragment_home.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><RelativeLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Homepage.HomeFragment\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/header\"\r\n        android:background=\"@color/green\"\r\n        android:orientation=\"horizontal\"\r\n        android:padding=\"16dp\">\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/search_card\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_weight=\"1\"\r\n            app:cardCornerRadius=\"8dp\"\r\n            app:cardElevation=\"4dp\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:padding=\"8dp\"\r\n                android:id=\"@+id/search_bar\">\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/search_icon\"\r\n                    android:layout_width=\"24dp\"\r\n                    android:layout_height=\"24dp\"\r\n                    android:src=\"@drawable/ic_search\"\r\n                    android:tint=\"@color/black\"\r\n                    android:layout_gravity=\"center_vertical\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:background=\"@color/white\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/search_input\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"1\"\r\n                    android:hint=\"@string/search\"\r\n                    android:background=\"@null\"\r\n                    android:padding=\"8dp\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:textColorHint=\"@android:color/darker_gray\" />\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/notification_icon\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_gravity=\"center_vertical\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:layout_marginEnd=\"4dp\"\r\n            android:background=\"@color/green\"\r\n            android:src=\"@drawable/bell\"\r\n            android:tint=\"@color/black\" />\r\n    </LinearLayout>\r\n\r\n    <androidx.core.widget.NestedScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/header\"\r\n        android:scrollbars=\"none\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\"\r\n            android:layout_marginTop=\"10dp\">\r\n            <RelativeLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\">\r\n                <TextView\r\n                    android:id=\"@+id/categories\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"20sp\"\r\n                    android:layout_marginStart=\"24dp\"\r\n                    android:textStyle=\"bold\"\r\n                    android:textColor=\"#272727\"\r\n                    android:fontFamily=\"@font/circular_std\"\r\n                    android:text=\"@string/categories\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/see_all\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_alignParentEnd=\"true\"\r\n                    android:layout_marginEnd=\"23dp\"\r\n                    android:fontFamily=\"@font/circular_std\"\r\n                    android:text=\"@string/see_all\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"14sp\"/>\r\n            </RelativeLayout>\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/rvCategories\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:padding=\"8dp\"\r\n                android:clipToPadding=\"false\" />\r\n            <RelativeLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\">\r\n                <TextView\r\n                    android:id=\"@+id/top_selling\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"20sp\"\r\n                    android:text=\"@string/top_selling\"\r\n                    android:layout_marginTop=\"24dp\"\r\n                    android:textColor=\"#272727\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:layout_marginStart=\"24dp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/see_all1\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"14sp\"\r\n                    android:layout_alignParentEnd=\"true\"\r\n                    android:layout_marginEnd=\"24dp\"\r\n                    android:layout_marginTop=\"24dp\"\r\n                    android:fontFamily=\"@font/circular_std\"\r\n                    android:text=\"@string/see_all\"\r\n                    android:textColor=\"@color/black\" />\r\n            </RelativeLayout>\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/rvProducts\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginStart=\"10dp\"\r\n                android:layout_marginEnd=\"10dp\"\r\n                android:nestedScrollingEnabled=\"false\"/>\r\n        </LinearLayout>\r\n    </androidx.core.widget.NestedScrollView>\r\n</RelativeLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/fragment_home.xml b/app/src/main/res/layout/fragment_home.xml
--------- a/app/src/main/res/layout/fragment_home.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/res/layout/fragment_home.xml	(date 1726766211842)
------@@ -14,6 +14,12 @@
------         android:background="@color/green"
------         android:orientation="horizontal"
------         android:padding="16dp">
------+        <RelativeLayout
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:id="@+id/top">
------+
------+        </RelativeLayout>
------ 
------         <androidx.cardview.widget.CardView
------             android:id="@+id/search_card"
------Index: app/src/main/res/drawable/tab_background.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><selector xmlns:android=\"http://schemas.android.com/apk/res/android\">\r\n    <item android:state_selected=\"true\">\r\n        <shape android:shape=\"rectangle\">\r\n            <solid android:color=\"@color/green\"/>\r\n            <corners android:radius=\"24dp\"/>\r\n            <padding android:left=\"0dp\" android:top=\"0dp\" android:right=\"0dp\" android:bottom=\"0dp\"/>\r\n        </shape>\r\n    </item>\r\n    <item>\r\n        <shape android:shape=\"rectangle\">\r\n            <solid android:color=\"@color/white\"/>\r\n            <corners android:radius=\"24dp\"/>\r\n            <padding android:left=\"4dp\" android:top=\"0dp\" android:right=\"0dp\" android:bottom=\"0dp\"/>\r\n        </shape>\r\n    </item>\r\n</selector>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/drawable/tab_background.xml b/app/src/main/res/drawable/tab_background.xml
--------- a/app/src/main/res/drawable/tab_background.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/res/drawable/tab_background.xml	(date 1726766211847)
------@@ -8,9 +8,9 @@
------     </item>
------     <item>
------         <shape android:shape="rectangle">
-------            <solid android:color="@color/white"/>
------+            <solid android:color="@color/transparent"/>
------             <corners android:radius="24dp"/>
-------            <padding android:left="4dp" android:top="0dp" android:right="0dp" android:bottom="0dp"/>
------+            <padding android:left="0dp" android:top="0dp" android:right="0dp" android:bottom="0dp"/>
------         </shape>
------     </item>
-------</selector>
------+</selector>
------\ No newline at end of file
------Index: app/src/main/java/com/example/agrimart/ui/Explore/CategoryFragment.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.Explore;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Product;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CategoryFragment extends Fragment {\r\n    private String categoryName;\r\n\r\n    public CategoryFragment(String categoryName) {\r\n        this.categoryName = categoryName;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_category, container, false);\r\n\r\n        RecyclerView recyclerView = view.findViewById(R.id.recyclerView);\r\n        recyclerView.setLayoutManager(new GridLayoutManager(getContext(), 2));\r\n\r\n        List<Product> products = new ArrayList<>();\r\n\r\n        if (categoryName.equals(\"Rau củ quả\")) {\r\n            products.add(new Product(R.drawable.vegetable, \"Vegetable 1\", \"Price\", \"Quantity\", \"Description\"));\r\n        }\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n        });\r\n        recyclerView.setAdapter(productAdapter);\r\n\r\n        return view;\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Explore/CategoryFragment.java b/app/src/main/java/com/example/agrimart/ui/Explore/CategoryFragment.java
--------- a/app/src/main/java/com/example/agrimart/ui/Explore/CategoryFragment.java	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/java/com/example/agrimart/ui/Explore/CategoryFragment.java	(date 1726766211850)
------@@ -34,7 +34,14 @@
------         List<Product> products = new ArrayList<>();
------ 
------         if (categoryName.equals("Rau củ quả")) {
-------            products.add(new Product(R.drawable.vegetable, "Vegetable 1", "Price", "Quantity", "Description"));
------+            products.add(new Product(R.drawable.vegetable, "Cà chua", "20.000đ"));
------+            products.add(new Product(R.drawable.vegetable, "Cà rốt", "15.000đ"));
------+            products.add(new Product(R.drawable.vegetable, "Bí đỏ", "10.000đ"));
------+        }
------+        else if (categoryName.equals("Trái cây")) {
------+            products.add(new Product(R.drawable.apple, "Dâu tây", "30.000đ"));
------+            products.add(new Product(R.drawable.apple, "Chuối", "10.000đ"));
------+            products.add(new Product(R.drawable.apple, "Cam", "20.000đ"));
------         }
------ 
------         ProductAdapter productAdapter = new ProductAdapter(products, product -> {
------Index: app/src/main/res/layout/activity_post_product.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><LinearLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"vertical\"\r\n    android:id=\"@+id/main\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:paddingStart=\"12dp\"\r\n        android:paddingEnd=\"12dp\"\r\n\r\n        android:paddingTop=\"16dp\"\r\n        android:orientation=\"horizontal\">\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/btn_back\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"30dp\"\r\n            android:layout_marginTop=\"2dp\"\r\n            android:layout_weight=\"1\"\r\n            android:src=\"@drawable/chevron_left\"\r\n            android:background=\"@color/white\"/>\r\n\r\n        <TextView\r\n            android:id=\"@+id/textView1\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_gravity=\"center_horizontal\"\r\n            android:layout_weight=\"1\"\r\n            android:gravity=\"center\"\r\n            android:paddingBottom=\"16dp\"\r\n            android:text=\"@string/dang_san_pham\"\r\n            android:textSize=\"24sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/textView2\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_weight=\"1\"\r\n            android:text=\"\" />\r\n    </LinearLayout>\r\n\r\n    <View\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"3dp\"\r\n        android:background=\"#65424242\" />\r\n\r\n    <FrameLayout\r\n        android:id=\"@+id/fragmentPostProduct\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"/>\r\n\r\n</LinearLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_post_product.xml b/app/src/main/res/layout/activity_post_product.xml
--------- a/app/src/main/res/layout/activity_post_product.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/res/layout/activity_post_product.xml	(date 1726766211853)
------@@ -3,7 +3,8 @@
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------     android:orientation="vertical"
-------    android:id="@+id/main">
------+    android:id="@+id/main"
------+    android:background="@color/white">
------ 
------     <LinearLayout
------         android:layout_width="match_parent"
------Index: app/src/main/res/layout/activity_sign_up.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/background_light\"\r\n    tools:context=\".ui.Account.SignUpActivity\">\r\n\r\n  <ImageButton\r\n      android:id=\"@+id/btn_back\"\r\n      android:layout_width=\"32dp\"\r\n      android:layout_height=\"32dp\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"32dp\"\r\n      android:background=\"@color/background_light\"\r\n      android:src=\"@drawable/chevron_left\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"0.0\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toTopOf=\"parent\"\r\n      tools:ignore=\"MissingConstraints\" />\r\n\r\n  <TextView\r\n      android:id=\"@+id/textView2\"\r\n      android:layout_width=\"wrap_content\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginTop=\"60dp\"\r\n      android:fontFamily=\"@font/gabarito\"\r\n      android:text=\"Đăng ký\"\r\n      android:textSize=\"34sp\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toTopOf=\"parent\"\r\n      style=\"@style/title\"/>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout2\"\r\n      android:layout_width=\"366dp\"\r\n      android:layout_height=\"67dp\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"40dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"1.0\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n      app:startIconDrawable=\"@drawable/signature\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtUsername\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@null\"\r\n        android:hint=\"Họ và tên\"\r\n        android:inputType=\"text\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout5\"\r\n      android:layout_width=\"366dp\"\r\n      android:layout_height=\"67dp\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"20dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"1.0\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\"\r\n      app:startIconDrawable=\"@drawable/telephone\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtPhoneNumber\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@null\"\r\n        android:hint=\"Số điện thoại\"\r\n        android:inputType=\"phone\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout3\"\r\n      android:layout_width=\"match_parent\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"20dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout5\"\r\n      app:passwordToggleEnabled=\"true\"\r\n      app:startIconDrawable=\"@drawable/key\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtPassword\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:hint=\"@string/m_t_kh_u\"\r\n        android:inputType=\"textPassword\"\r\n        android:password=\"true\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout4\"\r\n      android:layout_width=\"match_parent\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"20dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout3\"\r\n      app:passwordToggleEnabled=\"true\"\r\n      app:startIconDrawable=\"@drawable/key\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtRePassword\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:hint=\"Nhập lại mật khẩu\"\r\n        android:inputType=\"textPassword\"\r\n        android:password=\"true\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <TextView\r\n      android:id=\"@+id/haveAccount\"\r\n      android:layout_width=\"wrap_content\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"124dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      android:fontFamily=\"@font/circular_std\"\r\n      android:text=\"@string/c_t_i_kho_n\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"0.498\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/btn_signin\"\r\n      tools:ignore=\"MissingConstraints\" />\r\n\r\n  <Button\r\n      android:id=\"@+id/btn_signin\"\r\n      android:layout_width=\"wrap_content\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginTop=\"32dp\"\r\n      android:backgroundTint=\"@color/green\"\r\n      android:drawableEnd=\"@drawable/arrowright\"\r\n      android:text=\"Đăng ký\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"0.498\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout4\"\r\n      app:cornerRadius=\"24dp\"/>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_sign_up.xml b/app/src/main/res/layout/activity_sign_up.xml
--------- a/app/src/main/res/layout/activity_sign_up.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/res/layout/activity_sign_up.xml	(date 1726766211871)
------@@ -5,7 +5,7 @@
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
-------    android:background="@color/background_light"
------+    android:background="@color/white"
------     tools:context=".ui.Account.SignUpActivity">
------ 
------   <ImageButton
------@@ -14,7 +14,7 @@
------       android:layout_height="32dp"
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="32dp"
-------      android:background="@color/background_light"
------+      android:background="@color/white"
------       android:src="@drawable/chevron_left"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintHorizontal_bias="0.0"
------@@ -37,12 +37,12 @@
------ 
------   <com.google.android.material.textfield.TextInputLayout
------       android:id="@+id/textInputLayout2"
-------      android:layout_width="366dp"
-------      android:layout_height="67dp"
------+      android:layout_width="match_parent"
------+      android:layout_height="wrap_content"
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="40dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintHorizontal_bias="1.0"
------@@ -61,12 +61,12 @@
------ 
------   <com.google.android.material.textfield.TextInputLayout
------       android:id="@+id/textInputLayout5"
-------      android:layout_width="366dp"
-------      android:layout_height="67dp"
------+      android:layout_width="match_parent"
------+      android:layout_height="wrap_content"
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="20dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintHorizontal_bias="1.0"
------@@ -90,7 +90,7 @@
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="20dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintStart_toStartOf="parent"
------@@ -114,7 +114,7 @@
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="20dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintStart_toStartOf="parent"
------Index: app/src/main/res/values/style.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <style name=\"BottomNavigationViewText\" parent=\"TextAppearance.AppCompat.Caption\">\r\n        <item name=\"android:textSize\">12sp</item>\r\n        <item name=\"fontFamily\">@font/circular_std</item>\r\n    </style>\r\n\r\n    <style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\">\r\n        <item name=\"android:statusBarColor\">@color/status_bar_color</item>\r\n    </style>\r\n\r\n    <style name=\"button\">\r\n    <item name=\"android:backgroundTint\">#f4f4f4</item>\r\n    </style>\r\n\r\n    <style name=\"title\">\r\n        <item name=\"android:textSize\">34sp</item>\r\n        <item name=\"android:textColor\">@color/black</item>\r\n        <item name=\"fontFamily\">@font/gabarito</item>\r\n    </style>\r\n\r\n    <style name=\"CustomButton\" parent=\"Widget.MaterialComponents.Button\">\r\n        <item name=\"cornerRadius\">8dp</item>\r\n    </style>\r\n\r\n\r\n\r\n    <style name=\"CircleShape\">\r\n        <item name=\"cornerFamily\">rounded</item>\r\n        <item name=\"cornerSize\">50%</item>\r\n    </style>\r\n\r\n</resources>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/values/style.xml b/app/src/main/res/values/style.xml
--------- a/app/src/main/res/values/style.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/res/values/style.xml	(date 1726766321311)
------@@ -23,11 +23,10 @@
------         <item name="cornerRadius">8dp</item>
------     </style>
------ 
-------
-------
------     <style name="CircleShape">
------         <item name="cornerFamily">rounded</item>
------         <item name="cornerSize">50%</item>
------     </style>
------ 
------+
------ </resources>
------\ No newline at end of file
------Index: app/src/main/res/values/strings.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><resources>\r\n    <string name=\"app_name\">AgriMart</string>\r\n    <string name=\"categories\">Danh mục sản phẩm</string>\r\n    <string name=\"see_all\">Xem thêm</string>\r\n    <string name=\"top_selling\">Bán chạy nhất</string>\r\n    <string name=\"home\">Trang chủ</string>\r\n    <string name=\"profile\">Tôi</string>\r\n    <string name=\"order\">Order</string>\r\n    <string name=\"newsfeed\">Tin mới</string>\r\n    <string name=\"post\">Đăng bài</string>\r\n    <string name=\"cart\">Giỏ hàng</string>\r\n    <string name=\"ng_b_n\">Đăng bán</string>\r\n    <string name=\"cho\">Chợ</string>\r\n    <string name=\"search_hint\">tim kiem san pham</string>\r\n    <string name=\"search\">Tìm kiếm sản phẩm</string>\r\n    <string name=\"ng_nh_p\">Đăng nhập</string>\r\n    <string name=\"ch_a_c_t_i_kho_n\"><u>Chưa có tài khoản?</u></string>\r\n    <string name=\"m_t_kh_u\">Mật khẩu</string>\r\n    <string name=\"continue_with_google\"> Đăng nhập bằng Google</string>\r\n    <string name=\"dang_ky\">Chưa có tài khoản? <b>Đăng ký</b></string>\r\n    <string name=\"c_t_i_kho_n\"><u>Đã có tài khoản?</u></string>\r\n    <string name=\"ng_k_b_ng_s_i_n_tho_i\">Đăng ký bằng số điện thoại</string>\r\n    <string name=\"ng_k_b_ng_email\">Đăng ký bằng email</string>\r\n    <string name=\"qu_n_m_t_kh_u\">Quên mật khẩu?</string>\r\n    <string name=\"nh_p_email_ho_c_s_i_n_tho_i\">Nhập email hoặc số điện thoại</string>\r\n    <string name=\"sodienthoai\">Số điện thoại</string>\r\n    <string name=\"g_i_l_i\"><u>Gửi lại</u></string>\r\n\r\n\r\n    <!-- PostProduct -->\r\n    <string name=\"desc_vegetable\">Rau củ quả</string>\r\n    <string name=\"desc_fruit\">Trái cây</string>\r\n    <string name=\"desc_meat_eggs\">Trứng, thịt</string>\r\n    <string name=\"desc_milk\">Sữa, bơ, phô mai</string>\r\n    <string name=\"desc_sweets\">Bánh kẹo</string>\r\n    <string name=\"nh_s_n_ph_m_th_c_t\">Ảnh sản phẩm thực tế</string>\r\n    <string name=\"th_m_nh\">Thêm ảnh</string>\r\n    <string name=\"todo\">TODO</string>\r\n    <string name=\"t_n_s_n_ph_m\">Tên sản phẩm</string>\r\n    <string name=\"c_i_t_n_n_i_l_n_t_t_c_s_gi_p_ch_r_t_nhi_u_y\">Cái tên nói lên tất cả sẽ giúp ích rất nhiều đấy</string>\r\n    <string name=\"m_t_s_n_ph_m\">Mô tả sản phẩm</string>\r\n    <string name=\"m_t_o_n_v_n_m_t_y_s_gi_p_s_n_ph_m_c_a_b_n_b_n_d_h_n\">Một đoạn văn mô tả đầy đủ sẽ giúp sản phẩm của bạn bán dễ hơn</string>\r\n    <string name=\"ph_n_lo_i_s_n_ph_m\">Phân loại sản phẩm</string>\r\n    <string name=\"rau_c\">Rau củ</string>\r\n    <string name=\"tr_i_c_y\">Trái cây</string>\r\n    <string name=\"th_t_tr_ng\">Thịt, Trứng</string>\r\n    <string name=\"s_a_b_ph_mai\">Sữa, bơ, phô mai</string>\r\n    <string name=\"ng_t\">Đồ ngọt</string>\r\n    <string name=\"ti_p_t_c\">Tiếp tục</string>\r\n    <string name=\"gi_b_n\">Giá bán</string>\r\n    <string name=\"n_v\">Đơn vị </string>\r\n    <string name=\"hi_n_c\">Hiện có</string>\r\n    <string name=\"nh_p_gi_b_n\">Nhập giá bán</string>\r\n    <string name=\"nh_p_n_v_kg_ch_c_c_i\">Nhập đơn vị (kg, chục, cái)</string>\r\n    <string name=\"nh_p_s_l_ng_c_n_b_n\">Nhập số lượng cần bán</string>\r\n    <string name=\"rau_c_qu\">Rau củ quả</string>\r\n    <string name=\"_45_000_kg\">45.000</string>\r\n    <string name=\"_200kg\">200kg</string>\r\n    <string name=\"s_u_ri_ng_lan_t_a\">Sầu riêng lan tỏa</string>\r\n    <string name=\"_20_ng_i_ang_h_i\">20 người đang hỏi</string>\r\n    <string name=\"dang_san_pham\">ĐĂNG SẢN PHẨM</string>\r\n    <string name=\"frash_fruits_vegetable\"><![CDATA[Frash Fruits & Vegetable]]></string>\r\n    <string name=\"add_cart\">Thêm vào giỏ hàng</string>\r\n    <string name=\"product_name\">Tên sản phẩm</string>\r\n    <string name=\"price\">50.000đ</string>\r\n    <string name=\"address\">123 Lê Trọng Tấn, Quận Tân Phú, TP.HCM</string>\r\n    <string name=\"description\">Mô tả chi tiết</string>\r\n    <string name=\"descriptions\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</string>\r\n    <string name=\"user_review\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</string>\r\n    <string name=\"my_cart\">Giỏ hàng</string>\r\n    <string name=\"notification_time\">1 phút trước</string>\r\n    <string name=\"notification_message\">Khánh vừa đặt mua sản phẩm của bạn: Chuối nhà trồng...</string>\r\n    <string name=\"explore\">explore android:id=</string>\r\n    <string name=\"t_m_theo_danh_m_c\">Tìm theo danh mục</string>\r\n\r\n    <string-array name=\"filter_options\">\r\n        <item>Sort by Price</item>\r\n        <item>Newest</item>\r\n        <item>Oldest</item>\r\n    </string-array>\r\n\r\n    <style name=\"TabTextAppearance\" parent=\"TextAppearance.Design.Tab\">\r\n        <item name=\"android:textSize\">16sp</item>\r\n        <item name=\"android:textColor\">@color/black</item>\r\n        <item name=\"android:textStyle\">bold</item>\r\n    </style>\r\n</resources>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
--------- a/app/src/main/res/values/strings.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/res/values/strings.xml	(date 1726766269839)
------@@ -52,9 +52,6 @@
------     <string name="hi_n_c">Hiện có</string>
------     <string name="nh_p_gi_b_n">Nhập giá bán</string>
------     <string name="nh_p_n_v_kg_ch_c_c_i">Nhập đơn vị (kg, chục, cái)</string>
-------    <string name="nh_p_s_l_ng_c_n_b_n">Nhập số lượng cần bán</string>
-------    <string name="rau_c_qu">Rau củ quả</string>
-------    <string name="_45_000_kg">45.000</string>
------     <string name="_200kg">200kg</string>
------     <string name="s_u_ri_ng_lan_t_a">Sầu riêng lan tỏa</string>
------     <string name="_20_ng_i_ang_h_i">20 người đang hỏi</string>
------Index: app/src/main/res/layout/item_product_checkout.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/item_product_checkout.xml b/app/src/main/res/layout/item_product_checkout.xml
------new file mode 100644
--------- /dev/null	(date 1726766211885)
------+++ b/app/src/main/res/layout/item_product_checkout.xml	(date 1726766211885)
------@@ -0,0 +1,61 @@
------+<androidx.cardview.widget.CardView
------+    xmlns:android="http://schemas.android.com/apk/res/android"
------+    android:layout_width="match_parent"
------+    android:layout_height="wrap_content"
------+    android:layout_margin="8dp"
------+    android:background="@android:color/background_light">
------+
------+    <LinearLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="wrap_content"
------+        android:orientation="horizontal"
------+        android:padding="16dp">
------+
------+        <ImageView
------+            android:id="@+id/imgProduct"
------+            android:layout_width="60dp"
------+            android:layout_height="60dp"
------+            android:layout_gravity="center_vertical"
------+            android:contentDescription="Product Image"
------+            android:src="@drawable/apple"
------+            android:scaleType="centerCrop"
------+            android:layout_marginEnd="16dp"/>
------+
------+        <LinearLayout
------+            android:layout_width="0dp"
------+            android:layout_height="wrap_content"
------+            android:orientation="vertical"
------+            android:layout_weight="1">
------+
------+            <TextView
------+                android:id="@+id/tvProductName"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Tên sản phẩm"
------+                android:textStyle="bold"
------+                android:textColor="@color/black"
------+                android:textSize="16sp"/>
------+
------+            <TextView
------+                android:id="@+id/tvProductQuantity"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Số lượng: 1kg"
------+                android:textColor="@color/black"
------+                android:textSize="14sp"
------+                android:layout_marginTop="4dp"/>
------+
------+        </LinearLayout>
------+
------+        <TextView
------+            android:id="@+id/tvProductPrice"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:text="500.000đ"
------+            android:textSize="16sp"
------+            android:textColor="@color/black"
------+            android:layout_gravity="center_vertical"/>
------+
------+    </LinearLayout>
------+
------+</androidx.cardview.widget.CardView>
------Index: app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java b/app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java
------new file mode 100644
--------- /dev/null	(date 1726766211880)
------+++ b/app/src/main/java/com/example/agrimart/ui/Cart/CheckoutActivity.java	(date 1726766211880)
------@@ -0,0 +1,26 @@
------+package com.example.agrimart.ui.Cart;
------+
------+import android.os.Bundle;
------+
------+import androidx.activity.EdgeToEdge;
------+import androidx.appcompat.app.AppCompatActivity;
------+import androidx.core.graphics.Insets;
------+import androidx.core.view.ViewCompat;
------+import androidx.core.view.WindowInsetsCompat;
------+
------+import com.example.agrimart.R;
------+
------+public class CheckoutActivity extends AppCompatActivity {
------+
------+    @Override
------+    protected void onCreate(Bundle savedInstanceState) {
------+        super.onCreate(savedInstanceState);
------+        EdgeToEdge.enable(this);
------+        setContentView(R.layout.activity_checkout);
------+        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {
------+            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
------+            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
------+            return insets;
------+        });
------+    }
------+}
------\ No newline at end of file
------Index: app/src/main/res/layout/activity_checkout.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_checkout.xml b/app/src/main/res/layout/activity_checkout.xml
------new file mode 100644
--------- /dev/null	(date 1726766211857)
------+++ b/app/src/main/res/layout/activity_checkout.xml	(date 1726766211857)
------@@ -0,0 +1,494 @@
------+<androidx.constraintlayout.widget.ConstraintLayout
------+    xmlns:android="http://schemas.android.com/apk/res/android"
------+    xmlns:app="http://schemas.android.com/apk/res-auto"
------+    xmlns:tools="http://schemas.android.com/tools"
------+    android:layout_width="match_parent"
------+    android:layout_height="match_parent"
------+    android:id="@+id/main"
------+    android:background="@color/white">
------+
------+    <RelativeLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="50dp"
------+        android:id="@+id/header"
------+        app:layout_constraintTop_toTopOf="parent"
------+        android:layout_alignParentTop="true"
------+        android:background="@color/green">
------+
------+        <ImageButton
------+            android:id="@+id/btnBack"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:background="@null"
------+            android:layout_marginTop="10dp"
------+            android:layout_marginStart="5dp"
------+            android:src="@drawable/chevron_left" />
------+
------+        <TextView
------+            android:id="@+id/tvTitle"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_centerInParent="true"
------+            android:text="Thanh toán"
------+            android:textSize="20sp"
------+            android:textStyle="bold"
------+            android:textColor="@color/black"/>
------+    </RelativeLayout>
------+
------+    <ScrollView
------+        android:id="@+id/scrollView"
------+        android:layout_width="match_parent"
------+        android:layout_height="0dp"
------+        app:layout_constraintTop_toBottomOf="@id/header"
------+        app:layout_constraintBottom_toBottomOf="@id/footer"
------+        android:fillViewport="true">
------+
------+        <LinearLayout
------+            android:layout_width="match_parent"
------+            android:layout_height="wrap_content"
------+            android:orientation="vertical"
------+            android:padding="16dp">
------+
------+            <TextView
------+                android:id="@+id/tvSeller1"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Sản phẩm"
------+                android:textSize="18sp"
------+                android:textStyle="bold"
------+                android:textColor="@color/black"
------+                android:fontFamily="@font/gabarito"
------+                android:layout_marginBottom="8dp" />
------+
------+            <TextView
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Cửa hàng 1"
------+                android:textSize="14sp"
------+                android:textStyle="bold"
------+                android:textColor="@color/black"
------+                android:layout_marginBottom="8dp" />
------+
------+            <androidx.cardview.widget.CardView
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_margin="8dp"
------+                android:background="@android:color/background_light">
------+
------+                <LinearLayout
------+                    android:layout_width="match_parent"
------+                    android:layout_height="wrap_content"
------+                    android:orientation="horizontal"
------+                    android:padding="16dp">
------+
------+                    <ImageView
------+                        android:id="@+id/imgProduct"
------+                        android:layout_width="60dp"
------+                        android:layout_height="60dp"
------+                        android:layout_gravity="center_vertical"
------+                        android:contentDescription="Product Image"
------+                        android:src="@drawable/apple"
------+                        android:scaleType="centerCrop"
------+                        android:layout_marginEnd="16dp"/>
------+
------+                    <LinearLayout
------+                        android:layout_width="0dp"
------+                        android:layout_height="wrap_content"
------+                        android:orientation="vertical"
------+                        android:layout_weight="1">
------+
------+                        <TextView
------+                            android:id="@+id/tvProductName"
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Tên sản phẩm"
------+                            android:textStyle="bold"
------+                            android:textColor="@color/black"
------+                            android:textSize="16sp"/>
------+
------+                        <TextView
------+                            android:id="@+id/tvProductQuantity"
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Số lượng: 1kg"
------+                            android:textColor="@color/black"
------+                            android:textSize="14sp"
------+                            android:layout_marginTop="4dp"/>
------+
------+                    </LinearLayout>
------+
------+                    <TextView
------+                        android:id="@+id/tvProductPrice"
------+                        android:layout_width="wrap_content"
------+                        android:layout_height="wrap_content"
------+                        android:text="500.000đ"
------+                        android:textSize="16sp"
------+                        android:textColor="@color/black"
------+                        android:layout_gravity="center_vertical"/>
------+
------+                </LinearLayout>
------+
------+            </androidx.cardview.widget.CardView>
------+
------+            <androidx.cardview.widget.CardView
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_margin="8dp"
------+                android:background="@android:color/background_light">
------+
------+                <LinearLayout
------+                    android:layout_width="match_parent"
------+                    android:layout_height="wrap_content"
------+                    android:orientation="horizontal"
------+                    android:padding="16dp">
------+
------+                    <ImageView
------+                        android:layout_width="60dp"
------+                        android:layout_height="60dp"
------+                        android:layout_gravity="center_vertical"
------+                        android:src="@drawable/apple"
------+                        android:scaleType="centerCrop"
------+                        android:layout_marginEnd="16dp"/>
------+
------+                    <LinearLayout
------+                        android:layout_width="0dp"
------+                        android:layout_height="wrap_content"
------+                        android:orientation="vertical"
------+                        android:layout_weight="1">
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Tên sản phẩm"
------+                            android:textStyle="bold"
------+                            android:textColor="@color/black"
------+                            android:textSize="16sp"/>
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Số lượng: 1kg"
------+                            android:textColor="@color/black"
------+                            android:textSize="14sp"
------+                            android:layout_marginTop="4dp"/>
------+
------+                    </LinearLayout>
------+
------+                    <TextView
------+                        android:layout_width="wrap_content"
------+                        android:layout_height="wrap_content"
------+                        android:text="500.000đ"
------+                        android:textSize="16sp"
------+                        android:textColor="@color/black"
------+                        android:layout_gravity="center_vertical"/>
------+
------+                </LinearLayout>
------+
------+            </androidx.cardview.widget.CardView>
------+
------+            <TextView
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Phí vận chuyển: 50.000đ"
------+                android:textSize="16sp"
------+                android:layout_marginBottom="16dp" />
------+
------+            <TextView
------+                android:id="@+id/tvSeller2"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Cửa hàng 2"
------+                android:textSize="14sp"
------+                android:textStyle="bold"
------+                android:textColor="@color/black"
------+                android:layout_marginBottom="8dp" />
------+
------+            <androidx.cardview.widget.CardView
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_margin="8dp"
------+                android:background="@android:color/background_light">
------+
------+                <LinearLayout
------+                    android:layout_width="match_parent"
------+                    android:layout_height="wrap_content"
------+                    android:orientation="horizontal"
------+                    android:padding="16dp">
------+
------+                    <ImageView
------+                        android:layout_width="60dp"
------+                        android:layout_height="60dp"
------+                        android:layout_gravity="center_vertical"
------+                        android:contentDescription="Product Image"
------+                        android:src="@drawable/apple"
------+                        android:scaleType="centerCrop"
------+                        android:layout_marginEnd="16dp"/>
------+
------+                    <LinearLayout
------+                        android:layout_width="0dp"
------+                        android:layout_height="wrap_content"
------+                        android:orientation="vertical"
------+                        android:layout_weight="1">
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Tên sản phẩm"
------+                            android:textStyle="bold"
------+                            android:textColor="@color/black"
------+                            android:textSize="16sp"/>
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Số lượng: 1kg"
------+                            android:textColor="@color/black"
------+                            android:textSize="14sp"
------+                            android:layout_marginTop="4dp"/>
------+
------+                    </LinearLayout>
------+
------+                    <TextView
------+                        android:layout_width="wrap_content"
------+                        android:layout_height="wrap_content"
------+                        android:text="500.000đ"
------+                        android:textSize="16sp"
------+                        android:textColor="@color/black"
------+                        android:layout_gravity="center_vertical"/>
------+
------+                </LinearLayout>
------+
------+            </androidx.cardview.widget.CardView>
------+
------+            <androidx.cardview.widget.CardView
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_margin="8dp"
------+                android:background="@android:color/background_light">
------+
------+                <LinearLayout
------+                    android:layout_width="match_parent"
------+                    android:layout_height="wrap_content"
------+                    android:orientation="horizontal"
------+                    android:padding="16dp">
------+
------+                    <ImageView
------+                        android:layout_width="60dp"
------+                        android:layout_height="60dp"
------+                        android:layout_gravity="center_vertical"
------+                        android:src="@drawable/apple"
------+                        android:scaleType="centerCrop"
------+                        android:layout_marginEnd="16dp"/>
------+
------+                    <LinearLayout
------+                        android:layout_width="0dp"
------+                        android:layout_height="wrap_content"
------+                        android:orientation="vertical"
------+                        android:layout_weight="1">
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Tên sản phẩm"
------+                            android:textStyle="bold"
------+                            android:textColor="@color/black"
------+                            android:textSize="16sp"/>
------+
------+                        <TextView
------+                            android:layout_width="wrap_content"
------+                            android:layout_height="wrap_content"
------+                            android:text="Số lượng: 1kg"
------+                            android:textColor="@color/black"
------+                            android:textSize="14sp"
------+                            android:layout_marginTop="4dp"/>
------+
------+                    </LinearLayout>
------+
------+                    <TextView
------+                        android:layout_width="wrap_content"
------+                        android:layout_height="wrap_content"
------+                        android:text="500.000đ"
------+                        android:textSize="16sp"
------+                        android:textColor="@color/black"
------+                        android:layout_gravity="center_vertical"/>
------+
------+                </LinearLayout>
------+
------+            </androidx.cardview.widget.CardView>
------+
------+
------+            <TextView
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:text="Phí vận chuyển: 30.000đ"
------+                android:textSize="16sp"
------+                android:layout_marginBottom="16dp" />
------+
------+            <TextView
------+                android:id="@+id/tvShippingTitle"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="16dp"
------+                android:layout_marginBottom="8dp"
------+                android:text="Đơn vị vận chuyển"
------+                android:textColor="@color/black"
------+                android:textSize="18sp"
------+                android:textStyle="bold" />
------+
------+            <LinearLayout
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:orientation="horizontal">
------+
------+                <TextView
------+                    android:id="@+id/tvShippingMethod"
------+                    android:layout_width="0dp"
------+                    android:layout_height="wrap_content"
------+                    android:layout_weight="1"
------+                    android:text="Giao hàng nhanh"
------+                    android:textColor="@color/black"
------+                    android:textSize="16sp" />
------+            </LinearLayout>
------+
------+            <TextView
------+                android:id="@+id/tvPaymentTitle"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="16dp"
------+                android:text="Phương thức thanh toán"
------+                android:textColor="@color/black"
------+                android:textSize="18sp"
------+                android:textStyle="bold" />
------+
------+            <RadioGroup
------+                android:id="@+id/radioGroupPayment"
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="8dp">
------+
------+                <RadioButton
------+                    android:id="@+id/radioCreditCard"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Thẻ tín dụng"
------+                    android:textSize="16sp" />
------+
------+                <RadioButton
------+                    android:id="@+id/radioPayPal"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Ví điện tử"
------+                    android:textSize="16sp" />
------+
------+                <RadioButton
------+                    android:id="@+id/radioCOD"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Thanh toán khi nhận hàng"
------+                    android:textSize="16sp" />
------+            </RadioGroup>
------+
------+            <TextView
------+                android:id="@+id/tvTotalBreakdownTitle"
------+                android:layout_width="wrap_content"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="16dp"
------+                android:text="Chi tiết thanh toán"
------+                android:textColor="@color/black"
------+                android:textSize="18sp"
------+                android:textStyle="bold" />
------+
------+            <LinearLayout
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="8dp"
------+                android:orientation="horizontal">
------+
------+                <TextView
------+                    android:id="@+id/tvTotalProductLabel"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Tổng tiền hàng: "
------+                    android:textColor="@color/black"
------+                    android:textSize="16sp"
------+                    android:layout_marginEnd="10dp"/>
------+
------+                <TextView
------+                    android:id="@+id/tvTotalProductPrice"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="1.000.000đ"
------+                    android:textColor="@color/black"
------+                    android:textSize="16sp" />
------+            </LinearLayout>
------+
------+            <LinearLayout
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="8dp"
------+                android:orientation="horizontal">
------+
------+                <TextView
------+                    android:id="@+id/tvTotalShippingLabel"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Tổng phí vận chuyển"
------+                    android:textColor="@color/black"
------+                    android:layout_marginEnd="10dp"
------+                    android:textSize="16sp" />
------+
------+                <TextView
------+                    android:id="@+id/tvTotalShippingPrice"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="50.000đ"
------+                    android:textColor="@color/black"
------+                    android:textSize="16sp" />
------+            </LinearLayout>
------+
------+            <LinearLayout
------+                android:layout_width="match_parent"
------+                android:layout_height="wrap_content"
------+                android:layout_marginTop="8dp"
------+                android:orientation="horizontal">
------+
------+                <TextView
------+                    android:id="@+id/tvFinalTotalLabel"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="Tổng thanh toán"
------+                    android:textColor="@color/black"
------+                    android:textSize="18sp"
------+                    android:layout_marginEnd="10dp"
------+                    android:textStyle="bold" />
------+
------+                <TextView
------+                    android:id="@+id/tvFinalTotalPrice"
------+                    android:layout_width="wrap_content"
------+                    android:layout_height="wrap_content"
------+                    android:text="1.050.000đ"
------+                    android:textColor="@color/black"
------+                    android:textSize="18sp"
------+                    android:textStyle="bold" />
------+            </LinearLayout>
------+        </LinearLayout>
------+    </ScrollView>
------+
------+    <RelativeLayout
------+        android:id="@+id/footer"
------+        android:layout_width="match_parent"
------+        android:layout_height="wrap_content"
------+        android:layout_alignParentBottom="true"
------+        app:layout_constraintBottom_toBottomOf="parent"
------+        tools:layout_editor_absoluteX="16dp">
------+
------+        <Button
------+            android:layout_width="match_parent"
------+            android:layout_height="60dp"
------+            android:layout_marginStart="48dp"
------+            android:layout_marginEnd="48dp"
------+            android:backgroundTint="@color/green"
------+            android:text="Đặt hàng"
------+            app:cornerRadius="24dp" />
------+    </RelativeLayout>
------+</androidx.constraintlayout.widget.ConstraintLayout>
------\ No newline at end of file
------Index: app/src/main/res/layout/item_product.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/item_product.xml b/app/src/main/res/layout/item_product.xml
------new file mode 100644
--------- /dev/null	(date 1726766211892)
------+++ b/app/src/main/res/layout/item_product.xml	(date 1726766211892)
------@@ -0,0 +1,71 @@
------+<?xml version="1.0" encoding="utf-8"?>
------+<layout xmlns:android="http://schemas.android.com/apk/res/android"
------+    xmlns:app="http://schemas.android.com/apk/res-auto">
------+
------+    <data>
------+        <variable
------+            name="product"
------+            type="com.example.agrimart.data.model.Product" />
------+    </data>
------+
------+    <RelativeLayout
------+        android:layout_width="173dp"
------+        android:background="@drawable/bg_product"
------+        android:layout_height="249dp"
------+        android:layout_marginStart="5dp"
------+        android:layout_marginTop="5dp">
------+
------+        <FrameLayout
------+            android:id="@+id/frame_layout"
------+            android:layout_width="match_parent"
------+            android:layout_height="124dp">
------+
------+            <ImageView
------+                android:id="@+id/imgPro"
------+                android:layout_width="99dp"
------+                android:layout_height="79dp"
------+                android:scaleType="centerCrop"
------+                android:layout_gravity="center"
------+                app:srcCompat="@drawable/banana" />
------+        </FrameLayout>
------+
------+        <TextView
------+            android:id="@+id/tvName"
------+            android:layout_width="129dp"
------+            android:layout_height="wrap_content"
------+            android:layout_below="@id/frame_layout"
------+            android:layout_marginTop="12dp"
------+            android:textSize="16sp"
------+            android:textColor="#333333"
------+            android:letterSpacing="0.01"
------+            android:layout_marginStart="15dp"
------+            android:ellipsize="end"
------+            android:maxLines="1"
------+            android:textStyle="bold"
------+            android:text="@{product.name}" />
------+
------+        <TextView
------+            android:id="@+id/tvPrice"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_below="@id/tvName"
------+            android:textSize="18sp"
------+            android:layout_marginStart="15dp"
------+            android:layout_marginTop="16dp"
------+            android:textColor="#F44336"
------+            android:letterSpacing="0.01"
------+            android:text="@{product.price}" />
------+
------+        <ImageButton
------+            android:id="@+id/imageButton"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:background="@color/transparent"
------+            android:layout_below="@id/tvName"
------+            android:layout_alignParentEnd="true"
------+            android:layout_marginTop="20dp"
------+            android:layout_marginEnd="16dp"
------+            app:srcCompat="@drawable/ic_plus_1" />
------+
------+    </RelativeLayout>
------+</layout>
------\ No newline at end of file
------Index: app/src/main/res/layout/item_cart.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/item_cart.xml b/app/src/main/res/layout/item_cart.xml
------new file mode 100644
--------- /dev/null	(date 1726766211888)
------+++ b/app/src/main/res/layout/item_cart.xml	(date 1726766211888)
------@@ -0,0 +1,88 @@
------+<androidx.cardview.widget.CardView
------+    xmlns:android="http://schemas.android.com/apk/res/android"
------+    android:layout_width="match_parent"
------+    android:layout_height="wrap_content"
------+    android:layout_margin="10dp"
------+    xmlns:app="http://schemas.android.com/apk/res-auto"
------+    xmlns:tools="http://schemas.android.com/tools"
------+    app:cardCornerRadius="8dp"
------+    app:cardElevation="4dp"
------+    app:cardBackgroundColor="@android:color/white">
------+
------+    <androidx.constraintlayout.widget.ConstraintLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="wrap_content"
------+        android:padding="10dp">
------+
------+        <CheckBox
------+            android:id="@+id/checkbox_select"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            app:layout_constraintStart_toStartOf="parent"
------+            app:layout_constraintTop_toTopOf="parent"
------+            app:layout_constraintBottom_toBottomOf="parent" />
------+
------+        <com.google.android.material.imageview.ShapeableImageView
------+            android:id="@+id/img_product"
------+            android:layout_width="60dp"
------+            android:layout_height="60dp"
------+            android:scaleType="centerCrop"
------+            android:src="@drawable/apple"
------+            app:layout_constraintStart_toEndOf="@id/checkbox_select"
------+            app:layout_constraintTop_toTopOf="parent"
------+            app:layout_constraintBottom_toBottomOf="parent"
------+            android:background="@drawable/round_border"/>
------+
------+        <TextView
------+            android:id="@+id/tv_product_name"
------+            android:layout_width="0dp"
------+            android:layout_height="wrap_content"
------+            android:layout_marginStart="16dp"
------+            android:layout_marginTop="12dp"
------+            android:text="@string/product_name"
------+            android:textColor="@android:color/black"
------+            android:textSize="18sp"
------+            android:textStyle="bold"
------+            app:layout_constraintEnd_toStartOf="@id/tv_product_price"
------+            app:layout_constraintStart_toEndOf="@id/img_product"
------+            app:layout_constraintTop_toTopOf="parent" />
------+
------+        <TextView
------+            android:id="@+id/quantity"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_marginTop="20dp"
------+            android:text="1kg"
------+            app:layout_constraintEnd_toStartOf="@id/tv_product_price"
------+            app:layout_constraintHorizontal_bias="0.093"
------+            app:layout_constraintStart_toEndOf="@id/img_product"
------+            app:layout_constraintTop_toBottomOf="@id/tv_product_name" />
------+
------+        <TextView
------+            android:id="@+id/tv_product_price"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_marginEnd="4dp"
------+            android:text="50.000đ"
------+            android:textColor="@android:color/black"
------+            android:textSize="16sp"
------+            android:textStyle="bold"
------+            app:layout_constraintBottom_toBottomOf="parent"
------+            app:layout_constraintEnd_toEndOf="parent"
------+            app:layout_constraintTop_toTopOf="parent"
------+            app:layout_constraintVertical_bias="1.0" />
------+
------+        <ImageButton
------+            android:id="@+id/btn_remove"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_marginEnd="4dp"
------+            android:background="@android:color/transparent"
------+            android:contentDescription="Remove Product"
------+            android:src="@drawable/delete"
------+            app:layout_constraintBottom_toBottomOf="parent"
------+            app:layout_constraintEnd_toEndOf="parent"
------+            app:layout_constraintTop_toTopOf="parent"
------+            app:layout_constraintVertical_bias="0.0" />
------+    </androidx.constraintlayout.widget.ConstraintLayout>
------+</androidx.cardview.widget.CardView>
------\ No newline at end of file
------Index: app/src/main/res/layout/notification_item.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/notification_item.xml b/app/src/main/res/layout/item_notification.xml
------rename from app/src/main/res/layout/notification_item.xml
------rename to app/src/main/res/layout/item_notification.xml
--------- a/app/src/main/res/layout/notification_item.xml	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/res/layout/item_notification.xml	(date 1726766211863)
------@@ -4,7 +4,8 @@
------     xmlns:app="http://schemas.android.com/apk/res-auto"
------     android:layout_width="match_parent"
------     android:layout_height="wrap_content"
-------    android:padding="16dp"
------+    android:paddingStart="10dp"
------+    android:paddingEnd="10dp"
------     android:background="@drawable/round_border">
------ 
------     <de.hdodenhof.circleimageview.CircleImageView
------Index: app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.Cart;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.databinding.FragmentCartBinding;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\n\r\npublic class CartFragment extends Fragment {\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_cart, container, false);\r\n        if (getActivity() != null) {\r\n            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.white));\r\n        }\r\n\r\n\r\n        return view;\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java b/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java
--------- a/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java	(revision 716cd2a8ebd4ec24bf965d61693fe9ef83ba2b59)
------+++ b/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java	(date 1726766211895)
------@@ -1,5 +1,6 @@
------ package com.example.agrimart.ui.Cart;
------ 
------+import android.content.Intent;
------ import android.os.Build;
------ import android.os.Bundle;
------ 
------@@ -11,20 +12,27 @@
------ import android.view.ViewGroup;
------ import android.view.Window;
------ import android.view.WindowManager;
------+import android.widget.Button;
------ 
------ import com.example.agrimart.R;
------ import com.example.agrimart.databinding.FragmentCartBinding;
------ import com.example.agrimart.databinding.FragmentHomeBinding;
------ 
------ public class CartFragment extends Fragment {
------+    Button btnCheckout;
------     @Override
------     public View onCreateView(LayoutInflater inflater, ViewGroup container,
------                              Bundle savedInstanceState) {
------         View view = inflater.inflate(R.layout.fragment_cart, container, false);
------         if (getActivity() != null) {
-------            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.white));
------+            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));
------         }
------ 
------+        btnCheckout = view.findViewById(R.id.btn_checkout);
------+
------+        btnCheckout.setOnClickListener(View -> {
------+            Intent intent = new Intent(getActivity(), CheckoutActivity.class);
------+        });
------ 
------         return view;
------     }
------diff --git a/app/src/main/res/layout/review_item.xml b/app/src/main/res/layout/item_review.xml
------rename from app/src/main/res/layout/review_item.xml
------rename to app/src/main/res/layout/item_review.xml
-----Index: .idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_12_16_AM__Changes_.xml
-----===================================================================
-----diff --git a/.idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_12_16_AM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_12_16_AM__Changes_.xml
-----deleted file mode 100644
-------- a/.idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_12_16_AM__Changes_.xml	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----+++ /dev/null	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----@@ -1,9 +0,0 @@
------<changelist name="Uncommitted_changes_before_Merge_at_9_20_2024_12_16_AM_[Changes]" date="1726766212314" recycled="true" deleted="true">
------  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_12_16_AM_[Changes]/shelved.patch" />
------  <option name="DESCRIPTION" value="Uncommitted changes before Merge at 9/20/2024 12:16 AM [Changes]" />
------  <binary>
------    <option name="BEFORE_PATH" value="app/src/main/res/drawable/logo.png" />
------    <option name="AFTER_PATH" value="app/src/main/res/drawable/logo.png" />
------    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_12_16_AM_[Changes]/logo.png" />
------  </binary>
------</changelist>
-----\ No newline at end of file
-----Index: .idea/shelf/Uncommitted_changes_before_Update_at_9_18_2024_12_57_PM__Changes_.xml
-----===================================================================
-----diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_9_18_2024_12_57_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_9_18_2024_12_57_PM__Changes_.xml
-----deleted file mode 100644
-------- a/.idea/shelf/Uncommitted_changes_before_Update_at_9_18_2024_12_57_PM__Changes_.xml	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----+++ /dev/null	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----@@ -1,4 +0,0 @@
------<changelist name="Uncommitted_changes_before_Update_at_9_18_2024_12_57_PM_[Changes]" date="1726639027579" recycled="true" deleted="true">
------  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_9_18_2024_12_57_PM_[Changes]/shelved.patch" />
------  <option name="DESCRIPTION" value="Uncommitted changes before Update at 9/18/2024 12:57 PM [Changes]" />
------</changelist>
-----\ No newline at end of file
-----Index: .idea/shelf/Uncommitted_changes_before_Update_at_9_18_2024_12_57_PM_[Changes]/shelved.patch
-----===================================================================
-----diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_9_18_2024_12_57_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_9_18_2024_12_57_PM_[Changes]/shelved.patch
-----deleted file mode 100644
-------- a/.idea/shelf/Uncommitted_changes_before_Update_at_9_18_2024_12_57_PM_[Changes]/shelved.patch	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----+++ /dev/null	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----@@ -1,472 +0,0 @@
------Index: app/src/main/res/layout/activity_sign_up.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/background_light\"\r\n    tools:context=\".ui.Account.SignUpActivity\">\r\n\r\n  <ImageButton\r\n      android:id=\"@+id/btn_back\"\r\n      android:layout_width=\"32dp\"\r\n      android:layout_height=\"32dp\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"32dp\"\r\n      android:background=\"@color/background_light\"\r\n      android:src=\"@drawable/chevron_left\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"0.0\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toTopOf=\"parent\"\r\n      tools:ignore=\"MissingConstraints\" />\r\n\r\n  <TextView\r\n      android:id=\"@+id/textView2\"\r\n      android:layout_width=\"wrap_content\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginTop=\"60dp\"\r\n      android:fontFamily=\"@font/gabarito\"\r\n      android:text=\"Đăng ký\"\r\n      android:textSize=\"34sp\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toTopOf=\"parent\"\r\n      style=\"@style/title\"/>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout2\"\r\n      android:layout_width=\"366dp\"\r\n      android:layout_height=\"67dp\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"40dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"1.0\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n      app:startIconDrawable=\"@drawable/signature\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtUsername\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@null\"\r\n        android:hint=\"Họ và tên\"\r\n        android:inputType=\"text\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout5\"\r\n      android:layout_width=\"366dp\"\r\n      android:layout_height=\"67dp\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"20dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"1.0\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\"\r\n      app:startIconDrawable=\"@drawable/telephone\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtPhoneNumber\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@null\"\r\n        android:hint=\"Số điện thoại\"\r\n        android:inputType=\"phone\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout3\"\r\n      android:layout_width=\"match_parent\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"20dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout5\"\r\n      app:passwordToggleEnabled=\"true\"\r\n      app:startIconDrawable=\"@drawable/key\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtPassword\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:hint=\"@string/m_t_kh_u\"\r\n        android:inputType=\"textPassword\"\r\n        android:password=\"true\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <com.google.android.material.textfield.TextInputLayout\r\n      android:id=\"@+id/textInputLayout4\"\r\n      android:layout_width=\"match_parent\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"20dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      app:boxBackgroundColor=\"@color/background_light\"\r\n      app:boxBackgroundMode=\"outline\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout3\"\r\n      app:passwordToggleEnabled=\"true\"\r\n      app:startIconDrawable=\"@drawable/key\">\r\n\r\n    <com.google.android.material.textfield.TextInputEditText\r\n        android:id=\"@+id/edtRePassword\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:hint=\"Nhập lại mật khẩu\"\r\n        android:inputType=\"textPassword\"\r\n        android:password=\"true\" />\r\n  </com.google.android.material.textfield.TextInputLayout>\r\n\r\n  <TextView\r\n      android:id=\"@+id/haveAccount\"\r\n      android:layout_width=\"wrap_content\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginStart=\"24dp\"\r\n      android:layout_marginTop=\"124dp\"\r\n      android:layout_marginEnd=\"24dp\"\r\n      android:fontFamily=\"@font/circular_std\"\r\n      android:text=\"@string/c_t_i_kho_n\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"0.498\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/btn_signin\"\r\n      tools:ignore=\"MissingConstraints\" />\r\n\r\n  <Button\r\n      android:id=\"@+id/btn_signin\"\r\n      android:layout_width=\"wrap_content\"\r\n      android:layout_height=\"wrap_content\"\r\n      android:layout_marginTop=\"32dp\"\r\n      android:backgroundTint=\"@color/green\"\r\n      android:drawableEnd=\"@drawable/arrowright\"\r\n      android:text=\"Đăng ký\"\r\n      app:layout_constraintEnd_toEndOf=\"parent\"\r\n      app:layout_constraintHorizontal_bias=\"0.498\"\r\n      app:layout_constraintStart_toStartOf=\"parent\"\r\n      app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout4\"\r\n      app:cornerRadius=\"24dp\"/>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_sign_up.xml b/app/src/main/res/layout/activity_sign_up.xml
--------- a/app/src/main/res/layout/activity_sign_up.xml	(revision 89eebba16a2eee5a1ab4aa28e4b5d398af67a8f3)
------+++ b/app/src/main/res/layout/activity_sign_up.xml	(date 1726638432528)
------@@ -5,7 +5,7 @@
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
-------    android:background="@color/background_light"
------+    android:background="@color/white"
------     tools:context=".ui.Account.SignUpActivity">
------ 
------   <ImageButton
------@@ -14,7 +14,7 @@
------       android:layout_height="32dp"
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="32dp"
-------      android:background="@color/background_light"
------+      android:background="@color/white"
------       android:src="@drawable/chevron_left"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintHorizontal_bias="0.0"
------@@ -37,12 +37,12 @@
------ 
------   <com.google.android.material.textfield.TextInputLayout
------       android:id="@+id/textInputLayout2"
-------      android:layout_width="366dp"
-------      android:layout_height="67dp"
------+      android:layout_width="match_parent"
------+      android:layout_height="wrap_content"
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="40dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintHorizontal_bias="1.0"
------@@ -61,12 +61,12 @@
------ 
------   <com.google.android.material.textfield.TextInputLayout
------       android:id="@+id/textInputLayout5"
-------      android:layout_width="366dp"
-------      android:layout_height="67dp"
------+      android:layout_width="match_parent"
------+      android:layout_height="wrap_content"
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="20dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintHorizontal_bias="1.0"
------@@ -90,7 +90,7 @@
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="20dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintStart_toStartOf="parent"
------@@ -114,7 +114,7 @@
------       android:layout_marginStart="24dp"
------       android:layout_marginTop="20dp"
------       android:layout_marginEnd="24dp"
-------      app:boxBackgroundColor="@color/background_light"
------+      app:boxBackgroundColor="@color/white"
------       app:boxBackgroundMode="outline"
------       app:layout_constraintEnd_toEndOf="parent"
------       app:layout_constraintStart_toStartOf="parent"
------Index: app/src/main/res/layout/activity_forgot_password.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/background_light\"\r\n    tools:context=\".ui.Account.ForgotPasswordActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:background=\"@color/background_light\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.077\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        style=\"@style/title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"96dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"Đặt lại mật khẩu\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.15\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"30dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n        app:boxBackgroundColor=\"@color/background_light\"\r\n        app:startIconDrawable=\"@drawable/telephone\"\r\n        app:boxBackgroundMode=\"outline\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"Nhập số điện thoại của bạn\"\r\n            android:inputType=\"phone\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_continue\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"36dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"Tiếp tục\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.905\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_forgot_password.xml b/app/src/main/res/layout/activity_forgot_password.xml
--------- a/app/src/main/res/layout/activity_forgot_password.xml	(revision 89eebba16a2eee5a1ab4aa28e4b5d398af67a8f3)
------+++ b/app/src/main/res/layout/activity_forgot_password.xml	(date 1726638432533)
------@@ -5,7 +5,7 @@
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
-------    android:background="@color/background_light"
------+    android:background="@color/white"
------     tools:context=".ui.Account.ForgotPasswordActivity">
------ 
------     <ImageButton
------@@ -13,7 +13,7 @@
------         android:layout_width="wrap_content"
------         android:layout_height="wrap_content"
------         android:layout_marginTop="32dp"
-------        android:background="@color/background_light"
------+        android:background="@color/white"
------         android:src="@drawable/chevron_left"
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintHorizontal_bias="0.077"
------@@ -44,7 +44,7 @@
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintStart_toStartOf="parent"
------         app:layout_constraintTop_toBottomOf="@+id/textView2"
-------        app:boxBackgroundColor="@color/background_light"
------+        app:boxBackgroundColor="@color/white"
------         app:startIconDrawable="@drawable/telephone"
------         app:boxBackgroundMode="outline">
------ 
------Index: app/src/main/res/layout/activity_enter_otpactivity.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/background_light\"\r\n    android:id=\"@+id/main\"\r\n    tools:context=\".ui.Account.EnterOTPActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:background=\"@color/background_light\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.077\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        style=\"@style/title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"92dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"Nhập mã OTP\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/tv_description\"\r\n        android:layout_width=\"289dp\"\r\n        android:layout_height=\"52dp\"\r\n        android:layout_marginStart=\"63dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"70dp\"\r\n        android:text=\"Nhập mã vừa được gửi đến số điện thoại +84123**678\"\r\n        android:textColor=\"@color/black\"\r\n        android:textSize=\"16sp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.181\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\" />\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:boxBackgroundColor=\"@color/background_light\"\r\n        app:boxBackgroundMode=\"outline\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"1.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tv_description\"\r\n        app:startIconDrawable=\"@drawable/password\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"Nhập mã OTP\"\r\n            android:inputType=\"numberDecimal\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n\r\n    <TextView\r\n        android:id=\"@+id/haveAccount\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:fontFamily=\"@font/circular_std\"\r\n        android:text=\"@string/g_i_l_i\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.498\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/btn_confirm\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_confirm\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"32dp\"\r\n        android:layout_marginTop=\"40dp\"\r\n        android:layout_marginEnd=\"32dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"XÁC NHẬN\"\r\n        android:textAllCaps=\"true\"\r\n        android:textColor=\"@color/white\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.497\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_enter_otpactivity.xml b/app/src/main/res/layout/activity_enter_otpactivity.xml
--------- a/app/src/main/res/layout/activity_enter_otpactivity.xml	(revision 89eebba16a2eee5a1ab4aa28e4b5d398af67a8f3)
------+++ b/app/src/main/res/layout/activity_enter_otpactivity.xml	(date 1726638432523)
------@@ -4,7 +4,7 @@
------     xmlns:tools="http://schemas.android.com/tools"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
-------    android:background="@color/background_light"
------+    android:background="@color/white"
------     android:id="@+id/main"
------     tools:context=".ui.Account.EnterOTPActivity">
------ 
------@@ -13,7 +13,7 @@
------         android:layout_width="wrap_content"
------         android:layout_height="wrap_content"
------         android:layout_marginTop="32dp"
-------        android:background="@color/background_light"
------+        android:background="@color/white"
------         android:src="@drawable/chevron_left"
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintHorizontal_bias="0.077"
------@@ -55,7 +55,7 @@
------         android:layout_marginStart="24dp"
------         android:layout_marginTop="20dp"
------         android:layout_marginEnd="24dp"
-------        app:boxBackgroundColor="@color/background_light"
------+        app:boxBackgroundColor="@color/white"
------         app:boxBackgroundMode="outline"
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintHorizontal_bias="1.0"
------Index: app/src/main/res/layout/activity_sign_in.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Account.SignInActivity\">\r\n\r\n    <ImageView\r\n        android:layout_width=\"200dp\"\r\n        android:layout_height=\"100dp\"\r\n        android:src=\"@drawable/logo\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        android:layout_marginTop=\"20dp\"/>\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"160dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"@string/ng_nh_p\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.092\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        style=\"@style/title\"/>\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n        app:boxBackgroundColor=\"@color/background_light\"\r\n        app:startIconDrawable=\"@drawable/telephone\"\r\n        app:boxBackgroundMode=\"outline\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"@string/sodienthoai\"\r\n            android:inputType=\"text\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout3\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\"\r\n        app:startIconDrawable=\"@drawable/key\"\r\n        app:passwordToggleEnabled=\"true\"\r\n        app:boxBackgroundMode=\"outline\"\r\n        app:boxBackgroundColor=\"@color/background_light\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPassword\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:hint=\"@string/m_t_kh_u\"\r\n            android:inputType=\"textPassword\"\r\n            android:password=\"true\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/btnSignIn\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"50dp\"\r\n        android:layout_marginTop=\"36dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:drawableEnd=\"@drawable/arrowright\"\r\n        android:text=\"Đăng nhập\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.905\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout3\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btnSignInGoogle\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"50dp\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"44dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:backgroundTintMode=\"screen\"\r\n        android:drawableLeft=\"@drawable/google\"\r\n        android:drawablePadding=\"10dp\"\r\n        android:fontFamily=\"@font/circular_std\"\r\n        android:text=\"@string/continue_with_google\"\r\n        android:textFontWeight=\"500\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/btnSignIn\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/dontHaveAccount\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:layout_marginBottom=\"30dp\"\r\n        android:backgroundTint=\"@color/background_green\"\r\n        android:backgroundTintMode=\"screen\"\r\n        android:drawablePadding=\"10dp\"\r\n        android:fontFamily=\"@font/circular_std\"\r\n        android:text=\"@string/dang_ky\"\r\n        android:textFontWeight=\"500\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/forgotPassword\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:text=\"@string/qu_n_m_t_kh_u\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout3\"\r\n        android:fontFamily=\"@font/circular_std\"/>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_sign_in.xml b/app/src/main/res/layout/activity_sign_in.xml
--------- a/app/src/main/res/layout/activity_sign_in.xml	(revision 89eebba16a2eee5a1ab4aa28e4b5d398af67a8f3)
------+++ b/app/src/main/res/layout/activity_sign_in.xml	(date 1726638876218)
------@@ -5,6 +5,7 @@
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------+    android:background="@color/white"
------     tools:context=".ui.Account.SignInActivity">
------ 
------     <ImageView
------@@ -39,7 +40,7 @@
------         app:layout_constraintEnd_toEndOf="parent"
------         app:layout_constraintStart_toStartOf="parent"
------         app:layout_constraintTop_toBottomOf="@+id/textView2"
-------        app:boxBackgroundColor="@color/background_light"
------+        app:boxBackgroundColor="@color/white"
------         app:startIconDrawable="@drawable/telephone"
------         app:boxBackgroundMode="outline">
------ 
------@@ -65,7 +66,7 @@
------         app:startIconDrawable="@drawable/key"
------         app:passwordToggleEnabled="true"
------         app:boxBackgroundMode="outline"
-------        app:boxBackgroundColor="@color/background_light">
------+        app:boxBackgroundColor="@color/white">
------ 
------         <com.google.android.material.textfield.TextInputEditText
------             android:id="@+id/edtPassword"
------Index: app/src/main/res/layout/fragment_explore.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Explore.ExploreFragment\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/header\"\r\n        android:background=\"@color/green\"\r\n        android:orientation=\"horizontal\"\r\n        android:padding=\"16dp\">\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/search_card\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_weight=\"1\"\r\n            app:cardCornerRadius=\"8dp\"\r\n            app:cardElevation=\"4dp\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:padding=\"8dp\"\r\n                android:id=\"@+id/search_bar\">\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/search_icon\"\r\n                    android:layout_width=\"24dp\"\r\n                    android:layout_height=\"24dp\"\r\n                    android:src=\"@drawable/ic_search\"\r\n                    android:tint=\"@color/black\"\r\n                    android:layout_gravity=\"center_vertical\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:background=\"@color/white\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/search_input\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"1\"\r\n                    android:hint=\"@string/search\"\r\n                    android:background=\"@null\"\r\n                    android:padding=\"8dp\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:textColorHint=\"@android:color/darker_gray\" />\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/filter_icon\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_gravity=\"center_vertical\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:layout_marginEnd=\"4dp\"\r\n            android:background=\"@color/green\"\r\n            android:src=\"@drawable/filter\"\r\n            android:tint=\"@color/black\" />\r\n\r\n    </LinearLayout>\r\n\r\n    <com.google.android.material.tabs.TabLayout\r\n        android:id=\"@+id/tabLayout\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/header\"\r\n        android:paddingStart=\"5dp\"\r\n        android:paddingEnd=\"5dp\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:layout_marginStart=\"10dp\"\r\n        android:layout_marginEnd=\"10dp\"\r\n        app:tabMode=\"scrollable\"\r\n        app:tabGravity=\"fill\"\r\n        app:tabBackground=\"@drawable/tab_background\"\r\n        app:tabIndicator=\"@null\"\r\n        app:tabTextColor=\"@color/black\"\r\n        app:tabSelectedTextColor=\"@color/white\"\r\n        app:tabSelectedTextAppearance=\"@color/transparent\"\r\n        app:tabTextAppearance=\"@style/TabTextAppearance\" />\r\n\r\n\r\n    <androidx.viewpager2.widget.ViewPager2\r\n        android:id=\"@+id/viewPager\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_below=\"@id/tabLayout\"/>\r\n</RelativeLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/fragment_explore.xml b/app/src/main/res/layout/fragment_explore.xml
--------- a/app/src/main/res/layout/fragment_explore.xml	(revision 89eebba16a2eee5a1ab4aa28e4b5d398af67a8f3)
------+++ b/app/src/main/res/layout/fragment_explore.xml	(date 1726636118358)
------@@ -67,7 +67,7 @@
------     <com.google.android.material.tabs.TabLayout
------         android:id="@+id/tabLayout"
------         android:layout_width="match_parent"
-------        android:layout_height="wrap_content"
------+        android:layout_height="30dp"
------         android:layout_below="@id/header"
------         android:paddingStart="5dp"
------         android:paddingEnd="5dp"
------@@ -76,12 +76,14 @@
------         android:layout_marginEnd="10dp"
------         app:tabMode="scrollable"
------         app:tabGravity="fill"
------+        app:tabIndicatorGravity="center"
------         app:tabBackground="@drawable/tab_background"
------         app:tabIndicator="@null"
------         app:tabTextColor="@color/black"
------         app:tabSelectedTextColor="@color/white"
------         app:tabSelectedTextAppearance="@color/transparent"
-------        app:tabTextAppearance="@style/TabTextAppearance" />
------+        app:tabTextAppearance="@style/TabTextAppearance"
------+        app:tabRippleColor="@null" />
------ 
------ 
------     <androidx.viewpager2.widget.ViewPager2
------Index: app/src/main/res/drawable/tab_background.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><selector xmlns:android=\"http://schemas.android.com/apk/res/android\">\r\n    <item android:state_selected=\"true\">\r\n        <shape android:shape=\"rectangle\">\r\n            <solid android:color=\"@color/green\"/>\r\n            <corners android:radius=\"24dp\"/>\r\n            <padding android:left=\"0dp\" android:top=\"0dp\" android:right=\"0dp\" android:bottom=\"0dp\"/>\r\n        </shape>\r\n    </item>\r\n    <item>\r\n        <shape android:shape=\"rectangle\">\r\n            <solid android:color=\"@color/white\"/>\r\n            <corners android:radius=\"24dp\"/>\r\n            <padding android:left=\"4dp\" android:top=\"0dp\" android:right=\"0dp\" android:bottom=\"0dp\"/>\r\n        </shape>\r\n    </item>\r\n</selector>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/drawable/tab_background.xml b/app/src/main/res/drawable/tab_background.xml
--------- a/app/src/main/res/drawable/tab_background.xml	(revision 89eebba16a2eee5a1ab4aa28e4b5d398af67a8f3)
------+++ b/app/src/main/res/drawable/tab_background.xml	(date 1726635942665)
------@@ -8,9 +8,9 @@
------     </item>
------     <item>
------         <shape android:shape="rectangle">
-------            <solid android:color="@color/white"/>
------+            <solid android:color="@color/transparent"/>
------             <corners android:radius="24dp"/>
-------            <padding android:left="4dp" android:top="0dp" android:right="0dp" android:bottom="0dp"/>
------+            <padding android:left="0dp" android:top="0dp" android:right="0dp" android:bottom="0dp"/>
------         </shape>
------     </item>
-------</selector>
------+</selector>
------\ No newline at end of file
------Index: app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.Cart;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.databinding.FragmentCartBinding;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\n\r\npublic class CartFragment extends Fragment {\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_cart, container, false);\r\n        if (getActivity() != null) {\r\n            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.white));\r\n        }\r\n\r\n\r\n        return view;\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java b/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java
--------- a/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java	(revision 89eebba16a2eee5a1ab4aa28e4b5d398af67a8f3)
------+++ b/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java	(date 1726631097514)
------@@ -22,7 +22,7 @@
------                              Bundle savedInstanceState) {
------         View view = inflater.inflate(R.layout.fragment_cart, container, false);
------         if (getActivity() != null) {
-------            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.white));
------+            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));
------         }
------ 
------ 
------Index: app/src/main/res/layout/activity_notification.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:id=\"@+id/main\"\r\n    tools:context=\".ui.Notification.NotificationActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"32dp\"\r\n        android:layout_height=\"32dp\"\r\n        android:layout_marginStart=\"16dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:background=\"@color/background_light\"\r\n        android:backgroundTint=\"@color/white\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/tv_title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"THÔNG BÁO\"\r\n        android:textSize=\"18sp\"\r\n        android:textStyle=\"bold\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:layout_marginBottom=\"8dp\"\r\n        android:gravity=\"center\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:layout_gravity=\"center\" />\r\n\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:id=\"@+id/recycler_notifications\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"0dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tv_title\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:dividerHeight=\"1dp\"\r\n        android:padding=\"8dp\" />\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"4dp\"\r\n        android:background=\"@drawable/round_border\"\r\n        android:padding=\"16dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tv_title\"\r\n        tools:layout_editor_absoluteX=\"0dp\"\r\n        android:layout_marginStart=\"16dp\"\r\n        android:layout_marginEnd=\"16dp\">\r\n\r\n        <de.hdodenhof.circleimageview.CircleImageView\r\n            android:id=\"@+id/notification_icon\"\r\n            android:layout_width=\"40dp\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginEnd=\"8dp\"\r\n            android:src=\"@drawable/banana\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/notification_message\"\r\n            android:layout_width=\"252dp\"\r\n            android:layout_height=\"43dp\"\r\n            android:layout_marginStart=\"14dp\"\r\n            android:layout_marginTop=\"4dp\"\r\n            android:layout_marginBottom=\"16dp\"\r\n            android:text=\"@string/notification_message\"\r\n            android:textColor=\"@android:color/black\"\r\n            android:textSize=\"14sp\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toStartOf=\"@id/notification_time\"\r\n            app:layout_constraintHorizontal_bias=\"0\"\r\n            app:layout_constraintStart_toEndOf=\"@id/notification_icon\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"1.0\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/notification_time\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"@string/notification_time\"\r\n            android:textColor=\"@android:color/darker_gray\"\r\n            android:textSize=\"12sp\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toEndOf=\"@id/notification_message\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_notification.xml b/app/src/main/res/layout/activity_notification.xml
--------- a/app/src/main/res/layout/activity_notification.xml	(revision 89eebba16a2eee5a1ab4aa28e4b5d398af67a8f3)
------+++ b/app/src/main/res/layout/activity_notification.xml	(date 1726631044440)
------@@ -6,6 +6,7 @@
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------     android:id="@+id/main"
------+    android:background="@color/white"
------     tools:context=".ui.Notification.NotificationActivity">
------ 
------     <ImageButton
------Index: app/src/main/res/layout/cart_item.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:padding=\"16dp\"\r\n    android:background=\"@drawable/round_border\">\r\n\r\n    <com.google.android.material.imageview.ShapeableImageView\r\n        android:id=\"@+id/img_product\"\r\n        android:layout_width=\"80dp\"\r\n        android:layout_height=\"80dp\"\r\n        android:scaleType=\"centerCrop\"\r\n        android:src=\"@drawable/apple\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        android:background=\"@drawable/round_border\"/>\r\n\r\n    <TextView\r\n        android:id=\"@+id/tv_product_name\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"16dp\"\r\n        android:layout_marginTop=\"12dp\"\r\n        android:text=\"@string/product_name\"\r\n        android:textColor=\"@android:color/black\"\r\n        android:textSize=\"14sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintEnd_toStartOf=\"@+id/tv_product_price\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/img_product\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/tv_product_price\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginEnd=\"64dp\"\r\n        android:text=\"50.000đ\"\r\n        android:textColor=\"@android:color/black\"\r\n        android:textSize=\"16sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.605\" />\r\n\r\n    <LinearLayout\r\n        android:id=\"@+id/quantity\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"44dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.362\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/btn_decrease\"\r\n            android:layout_width=\"30dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:gravity=\"center\"\r\n            android:padding=\"8dp\"\r\n            android:text=\"-\"\r\n            android:textColor=\"#9E9E9E\"\r\n            android:textSize=\"24sp\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_quantity\"\r\n            android:layout_width=\"60dp\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_marginStart=\"8dp\"\r\n            android:layout_marginEnd=\"8dp\"\r\n            android:layout_marginBottom=\"8dp\"\r\n            android:background=\"@drawable/round_border\"\r\n            android:fontFamily=\"@font/gabarito\"\r\n            android:gravity=\"center\"\r\n            android:text=\"1\"\r\n            android:textColor=\"#212121\"\r\n            android:textSize=\"18sp\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/btn_increase\"\r\n            android:layout_width=\"30dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:gravity=\"center\"\r\n            android:padding=\"8dp\"\r\n            android:text=\"+\"\r\n            android:textColor=\"#4CAF50\"\r\n            android:textSize=\"24sp\" />\r\n    </LinearLayout>\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_remove\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginEnd=\"8dp\"\r\n        android:background=\"@android:color/transparent\"\r\n        android:contentDescription=\"Remove Product\"\r\n        android:src=\"@drawable/delete\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.638\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/cart_item.xml b/app/src/main/res/layout/cart_item.xml
--------- a/app/src/main/res/layout/cart_item.xml	(revision 89eebba16a2eee5a1ab4aa28e4b5d398af67a8f3)
------+++ b/app/src/main/res/layout/cart_item.xml	(date 1726626379198)
------@@ -70,8 +70,8 @@
------ 
------         <TextView
------             android:id="@+id/tv_quantity"
-------            android:layout_width="60dp"
-------            android:layout_height="40dp"
------+            android:layout_width="40dp"
------+            android:layout_height="30dp"
------             android:layout_marginStart="8dp"
------             android:layout_marginEnd="8dp"
------             android:layout_marginBottom="8dp"
------Index: app/src/main/res/values/style.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <style name=\"BottomNavigationViewText\" parent=\"TextAppearance.AppCompat.Caption\">\r\n        <item name=\"android:textSize\">12sp</item>\r\n        <item name=\"fontFamily\">@font/circular_std</item>\r\n    </style>\r\n\r\n    <style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\">\r\n        <item name=\"android:statusBarColor\">@color/status_bar_color</item>\r\n    </style>\r\n\r\n    <style name=\"button\">\r\n    <item name=\"android:backgroundTint\">#f4f4f4</item>\r\n    </style>\r\n\r\n    <style name=\"title\">\r\n        <item name=\"android:textSize\">34sp</item>\r\n        <item name=\"android:textColor\">@color/black</item>\r\n        <item name=\"fontFamily\">@font/gabarito</item>\r\n    </style>\r\n\r\n    <style name=\"CustomButton\" parent=\"Widget.MaterialComponents.Button\">\r\n        <item name=\"cornerRadius\">8dp</item>\r\n    </style>\r\n\r\n\r\n\r\n    <style name=\"CircleShape\">\r\n        <item name=\"cornerFamily\">rounded</item>\r\n        <item name=\"cornerSize\">50%</item>\r\n    </style>\r\n\r\n</resources>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/values/style.xml b/app/src/main/res/values/style.xml
--------- a/app/src/main/res/values/style.xml	(revision 89eebba16a2eee5a1ab4aa28e4b5d398af67a8f3)
------+++ b/app/src/main/res/values/style.xml	(date 1726635763547)
------@@ -23,11 +23,16 @@
------         <item name="cornerRadius">8dp</item>
------     </style>
------ 
-------
-------
------     <style name="CircleShape">
------         <item name="cornerFamily">rounded</item>
------         <item name="cornerSize">50%</item>
------     </style>
------ 
------+    <style name="TabTextAppearance" parent="TextAppearance.Design.Tab">
------+        <item name="android:textSize">14sp</item>
------+        <item name="android:fontFamily">@font/gabarito</item>
------+        <item name="android:textAllCaps">false</item>
------+    </style>
------+
------+
------ </resources>
------\ No newline at end of file
------Index: app/src/main/res/values/strings.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><resources>\r\n    <string name=\"app_name\">AgriMart</string>\r\n    <string name=\"categories\">Danh mục sản phẩm</string>\r\n    <string name=\"see_all\">Xem thêm</string>\r\n    <string name=\"top_selling\">Bán chạy nhất</string>\r\n    <string name=\"home\">Trang chủ</string>\r\n    <string name=\"profile\">Tôi</string>\r\n    <string name=\"order\">Order</string>\r\n    <string name=\"newsfeed\">Tin mới</string>\r\n    <string name=\"post\">Đăng bài</string>\r\n    <string name=\"cart\">Giỏ hàng</string>\r\n    <string name=\"ng_b_n\">Đăng bán</string>\r\n    <string name=\"cho\">Chợ</string>\r\n    <string name=\"search_hint\">tim kiem san pham</string>\r\n    <string name=\"search\">Tìm kiếm sản phẩm</string>\r\n    <string name=\"ng_nh_p\">Đăng nhập</string>\r\n    <string name=\"ch_a_c_t_i_kho_n\"><u>Chưa có tài khoản?</u></string>\r\n    <string name=\"m_t_kh_u\">Mật khẩu</string>\r\n    <string name=\"continue_with_google\"> Đăng nhập bằng Google</string>\r\n    <string name=\"dang_ky\">Chưa có tài khoản? <b>Đăng ký</b></string>\r\n    <string name=\"c_t_i_kho_n\"><u>Đã có tài khoản?</u></string>\r\n    <string name=\"ng_k_b_ng_s_i_n_tho_i\">Đăng ký bằng số điện thoại</string>\r\n    <string name=\"ng_k_b_ng_email\">Đăng ký bằng email</string>\r\n    <string name=\"qu_n_m_t_kh_u\">Quên mật khẩu?</string>\r\n    <string name=\"nh_p_email_ho_c_s_i_n_tho_i\">Nhập email hoặc số điện thoại</string>\r\n    <string name=\"sodienthoai\">Số điện thoại</string>\r\n    <string name=\"g_i_l_i\"><u>Gửi lại</u></string>\r\n\r\n\r\n    <!-- PostProduct -->\r\n    <string name=\"desc_vegetable\">Rau củ quả</string>\r\n    <string name=\"desc_fruit\">Trái cây</string>\r\n    <string name=\"desc_meat_eggs\">Trứng, thịt</string>\r\n    <string name=\"desc_milk\">Sữa, bơ, phô mai</string>\r\n    <string name=\"desc_sweets\">Bánh kẹo</string>\r\n    <string name=\"nh_s_n_ph_m_th_c_t\">Ảnh sản phẩm thực tế</string>\r\n    <string name=\"th_m_nh\">Thêm ảnh</string>\r\n    <string name=\"todo\">TODO</string>\r\n    <string name=\"t_n_s_n_ph_m\">Tên sản phẩm</string>\r\n    <string name=\"c_i_t_n_n_i_l_n_t_t_c_s_gi_p_ch_r_t_nhi_u_y\">Cái tên nói lên tất cả sẽ giúp ích rất nhiều đấy</string>\r\n    <string name=\"m_t_s_n_ph_m\">Mô tả sản phẩm</string>\r\n    <string name=\"m_t_o_n_v_n_m_t_y_s_gi_p_s_n_ph_m_c_a_b_n_b_n_d_h_n\">Một đoạn văn mô tả đầy đủ sẽ giúp sản phẩm của bạn bán dễ hơn</string>\r\n    <string name=\"ph_n_lo_i_s_n_ph_m\">Phân loại sản phẩm</string>\r\n    <string name=\"rau_c\">Rau củ</string>\r\n    <string name=\"tr_i_c_y\">Trái cây</string>\r\n    <string name=\"th_t_tr_ng\">Thịt, Trứng</string>\r\n    <string name=\"s_a_b_ph_mai\">Sữa, bơ, phô mai</string>\r\n    <string name=\"ng_t\">Đồ ngọt</string>\r\n    <string name=\"ti_p_t_c\">Tiếp tục</string>\r\n    <string name=\"gi_b_n\">Giá bán</string>\r\n    <string name=\"n_v\">Đơn vị </string>\r\n    <string name=\"hi_n_c\">Hiện có</string>\r\n    <string name=\"nh_p_gi_b_n\">Nhập giá bán</string>\r\n    <string name=\"nh_p_n_v_kg_ch_c_c_i\">Nhập đơn vị (kg, chục, cái)</string>\r\n    <string name=\"nh_p_s_l_ng_c_n_b_n\">Nhập số lượng cần bán</string>\r\n    <string name=\"rau_c_qu\">Rau củ quả</string>\r\n    <string name=\"_45_000_kg\">45.000</string>\r\n    <string name=\"_200kg\">200kg</string>\r\n    <string name=\"s_u_ri_ng_lan_t_a\">Sầu riêng lan tỏa</string>\r\n    <string name=\"_20_ng_i_ang_h_i\">20 người đang hỏi</string>\r\n    <string name=\"dang_san_pham\">ĐĂNG SẢN PHẨM</string>\r\n    <string name=\"frash_fruits_vegetable\"><![CDATA[Frash Fruits & Vegetable]]></string>\r\n    <string name=\"add_cart\">Thêm vào giỏ hàng</string>\r\n    <string name=\"product_name\">Tên sản phẩm</string>\r\n    <string name=\"price\">50.000đ</string>\r\n    <string name=\"address\">123 Lê Trọng Tấn, Quận Tân Phú, TP.HCM</string>\r\n    <string name=\"description\">Mô tả chi tiết</string>\r\n    <string name=\"descriptions\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</string>\r\n    <string name=\"user_review\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</string>\r\n    <string name=\"my_cart\">Giỏ hàng</string>\r\n    <string name=\"notification_time\">1 phút trước</string>\r\n    <string name=\"notification_message\">Khánh vừa đặt mua sản phẩm của bạn: Chuối nhà trồng...</string>\r\n    <string name=\"explore\">explore android:id=</string>\r\n\r\n    <string-array name=\"filter_options\">\r\n        <item>Sort by Price</item>\r\n        <item>Newest</item>\r\n        <item>Oldest</item>\r\n    </string-array>\r\n\r\n    <style name=\"TabTextAppearance\" parent=\"TextAppearance.Design.Tab\">\r\n        <item name=\"android:textSize\">16sp</item>\r\n        <item name=\"android:textColor\">@color/black</item>\r\n        <item name=\"android:textStyle\">bold</item>\r\n    </style>\r\n</resources>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
--------- a/app/src/main/res/values/strings.xml	(revision 89eebba16a2eee5a1ab4aa28e4b5d398af67a8f3)
------+++ b/app/src/main/res/values/strings.xml	(date 1726635691419)
------@@ -77,10 +77,4 @@
------         <item>Newest</item>
------         <item>Oldest</item>
------     </string-array>
-------
-------    <style name="TabTextAppearance" parent="TextAppearance.Design.Tab">
-------        <item name="android:textSize">16sp</item>
-------        <item name="android:textColor">@color/black</item>
-------        <item name="android:textStyle">bold</item>
-------    </style>
------ </resources>
------\ No newline at end of file
------Index: app/src/main/res/layout/fragment_cart.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\"com.example.agrimart.ui.Cart.CartFragment\">\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/header\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/tv_title\"\r\n            android:layout_width=\"126dp\"\r\n            android:layout_height=\"40dp\"\r\n            android:layout_alignParentStart=\"true\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_gravity=\"center\"\r\n            android:layout_marginStart=\"145dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:layout_marginEnd=\"140dp\"\r\n            android:layout_marginBottom=\"8dp\"\r\n            android:gravity=\"center\"\r\n            android:text=\"GIỎ HÀNG\"\r\n            android:textSize=\"18sp\"\r\n            android:textStyle=\"bold\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n    </RelativeLayout>\r\n\r\n\r\n    <FrameLayout\r\n        android:id=\"@+id/container\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:layout_below=\"@+id/header\"\r\n        android:layout_above=\"@+id/footer\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/header\"\r\n            android:layout_marginStart=\"16dp\"\r\n            android:layout_marginEnd=\"16dp\">\r\n            <com.google.android.material.imageview.ShapeableImageView\r\n                android:id=\"@+id/img_product\"\r\n                android:layout_width=\"80dp\"\r\n                android:layout_height=\"80dp\"\r\n                android:scaleType=\"centerCrop\"\r\n                android:src=\"@drawable/apple\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                android:background=\"@drawable/round_border\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_product_name\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginTop=\"12dp\"\r\n                android:text=\"@string/product_name\"\r\n                android:textColor=\"@android:color/black\"\r\n                android:textSize=\"14sp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintEnd_toStartOf=\"@+id/tv_product_price\"\r\n                app:layout_constraintHorizontal_bias=\"0.0\"\r\n                app:layout_constraintStart_toEndOf=\"@+id/img_product\"\r\n                app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/tv_product_price\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginEnd=\"64dp\"\r\n                android:text=\"50.000đ\"\r\n                android:textColor=\"@android:color/black\"\r\n                android:textSize=\"16sp\"\r\n                android:textStyle=\"bold\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:layout_constraintVertical_bias=\"0.605\" />\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/quantity\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"44dp\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHorizontal_bias=\"0.362\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_decrease\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:gravity=\"center\"\r\n                    android:padding=\"8dp\"\r\n                    android:text=\"-\"\r\n                    android:textColor=\"#9E9E9E\"\r\n                    android:textSize=\"24sp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_quantity\"\r\n                    android:layout_width=\"60dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:layout_marginStart=\"8dp\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:layout_marginBottom=\"8dp\"\r\n                    android:background=\"@drawable/round_border\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"1\"\r\n                    android:textColor=\"#212121\"\r\n                    android:textSize=\"18sp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_increase\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:gravity=\"center\"\r\n                    android:padding=\"8dp\"\r\n                    android:text=\"+\"\r\n                    android:textColor=\"#4CAF50\"\r\n                    android:textSize=\"24sp\" />\r\n            </LinearLayout>\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/btn_remove\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginEnd=\"8dp\"\r\n                android:background=\"@android:color/transparent\"\r\n                android:contentDescription=\"Remove Product\"\r\n                android:src=\"@drawable/delete\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:layout_constraintVertical_bias=\"0.638\" />\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n    </FrameLayout>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/footer\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentBottom=\"true\">\r\n\r\n        <Button\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_marginStart=\"48dp\"\r\n            android:layout_marginEnd=\"48dp\"\r\n            android:backgroundTint=\"@color/green\"\r\n            app:cornerRadius=\"24dp\"\r\n            android:text=\"Thanh toán\"/>\r\n    </RelativeLayout>\r\n\r\n</RelativeLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/fragment_cart.xml b/app/src/main/res/layout/fragment_cart.xml
--------- a/app/src/main/res/layout/fragment_cart.xml	(revision 89eebba16a2eee5a1ab4aa28e4b5d398af67a8f3)
------+++ b/app/src/main/res/layout/fragment_cart.xml	(date 1726631081099)
------@@ -5,12 +5,14 @@
------     android:id="@+id/main"
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------+    android:background="@color/white"
------     tools:context="com.example.agrimart.ui.Cart.CartFragment">
------ 
------     <RelativeLayout
------         android:id="@+id/header"
------         android:layout_width="match_parent"
-------        android:layout_height="wrap_content">
------+        android:layout_height="wrap_content"
------+        android:background="@color/green">
------ 
------         <TextView
------             android:id="@+id/tv_title"
------@@ -36,7 +38,7 @@
------     <FrameLayout
------         android:id="@+id/container"
------         android:layout_width="match_parent"
-------        android:layout_height="match_parent"
------+        android:layout_height="wrap_content"
------         android:layout_below="@+id/header"
------         android:layout_above="@+id/footer">
------ 
------@@ -146,6 +148,16 @@
------         </androidx.constraintlayout.widget.ConstraintLayout>
------     </FrameLayout>
------ 
------+    <RelativeLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="wrap_content"
------+        android:layout_above="@id/footer">
------+        <TextView
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:text="Tổng tiền: "/>
------+    </RelativeLayout>
------+
------     <RelativeLayout
------         android:id="@+id/footer"
------         android:layout_width="match_parent"
------Index: app/src/main/res/layout/notification_item.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:padding=\"16dp\"\r\n    android:background=\"@drawable/round_border\">\r\n\r\n    <de.hdodenhof.circleimageview.CircleImageView\r\n        android:id=\"@+id/notification_icon\"\r\n        android:layout_width=\"40dp\"\r\n        android:layout_height=\"40dp\"\r\n        android:src=\"@drawable/banana\"\r\n        android:layout_marginEnd=\"8dp\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/notification_message\"\r\n        android:layout_width=\"252dp\"\r\n        android:layout_height=\"43dp\"\r\n        android:layout_marginStart=\"14dp\"\r\n        android:layout_marginTop=\"4dp\"\r\n        android:layout_marginBottom=\"16dp\"\r\n        android:text=\"@string/notification_message\"\r\n        android:textColor=\"@android:color/black\"\r\n        android:textSize=\"14sp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toStartOf=\"@id/notification_time\"\r\n        app:layout_constraintHorizontal_bias=\"0\"\r\n        app:layout_constraintStart_toEndOf=\"@id/notification_icon\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"1.0\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/notification_time\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"@string/notification_time\"\r\n        android:textSize=\"12sp\"\r\n        android:textColor=\"@android:color/darker_gray\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toEndOf=\"@id/notification_message\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/notification_item.xml b/app/src/main/res/layout/notification_item.xml
--------- a/app/src/main/res/layout/notification_item.xml	(revision 89eebba16a2eee5a1ab4aa28e4b5d398af67a8f3)
------+++ b/app/src/main/res/layout/notification_item.xml	(date 1726626299350)
------@@ -4,7 +4,8 @@
------     xmlns:app="http://schemas.android.com/apk/res-auto"
------     android:layout_width="match_parent"
------     android:layout_height="wrap_content"
-------    android:padding="16dp"
------+    android:paddingStart="10dp"
------+    android:paddingEnd="10dp"
------     android:background="@drawable/round_border">
------ 
------     <de.hdodenhof.circleimageview.CircleImageView
------Index: app/src/main/res/layout/fragment_home.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><RelativeLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Homepage.HomeFragment\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/header\"\r\n        android:background=\"@color/green\"\r\n        android:orientation=\"horizontal\"\r\n        android:padding=\"16dp\">\r\n\r\n        <androidx.cardview.widget.CardView\r\n            android:id=\"@+id/search_card\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_weight=\"1\"\r\n            app:cardCornerRadius=\"8dp\"\r\n            app:cardElevation=\"4dp\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"horizontal\"\r\n                android:padding=\"8dp\"\r\n                android:id=\"@+id/search_bar\">\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/search_icon\"\r\n                    android:layout_width=\"24dp\"\r\n                    android:layout_height=\"24dp\"\r\n                    android:src=\"@drawable/ic_search\"\r\n                    android:tint=\"@color/black\"\r\n                    android:layout_gravity=\"center_vertical\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:background=\"@color/white\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/search_input\"\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"1\"\r\n                    android:hint=\"@string/search\"\r\n                    android:background=\"@null\"\r\n                    android:padding=\"8dp\"\r\n                    android:textColor=\"@android:color/black\"\r\n                    android:textColorHint=\"@android:color/darker_gray\" />\r\n            </LinearLayout>\r\n        </androidx.cardview.widget.CardView>\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/notification_icon\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_gravity=\"center_vertical\"\r\n            android:layout_marginStart=\"10dp\"\r\n            android:layout_marginEnd=\"4dp\"\r\n            android:background=\"@color/green\"\r\n            android:src=\"@drawable/bell\"\r\n            android:tint=\"@color/black\" />\r\n    </LinearLayout>\r\n\r\n    <androidx.core.widget.NestedScrollView\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_below=\"@id/header\"\r\n        android:scrollbars=\"none\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\"\r\n            android:layout_marginTop=\"10dp\">\r\n            <RelativeLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\">\r\n                <TextView\r\n                    android:id=\"@+id/categories\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"20sp\"\r\n                    android:layout_marginStart=\"24dp\"\r\n                    android:textStyle=\"bold\"\r\n                    android:textColor=\"#272727\"\r\n                    android:fontFamily=\"@font/circular_std\"\r\n                    android:text=\"@string/categories\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/see_all\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_alignParentEnd=\"true\"\r\n                    android:layout_marginEnd=\"23dp\"\r\n                    android:fontFamily=\"@font/circular_std\"\r\n                    android:text=\"@string/see_all\"\r\n                    android:textColor=\"@color/black\"\r\n                    android:textSize=\"14sp\"/>\r\n            </RelativeLayout>\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/rvCategories\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:padding=\"8dp\"\r\n                android:clipToPadding=\"false\" />\r\n            <RelativeLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\">\r\n                <TextView\r\n                    android:id=\"@+id/top_selling\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"20sp\"\r\n                    android:text=\"@string/top_selling\"\r\n                    android:layout_marginTop=\"24dp\"\r\n                    android:textColor=\"#272727\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:layout_marginStart=\"24dp\" />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/see_all1\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"14sp\"\r\n                    android:layout_alignParentEnd=\"true\"\r\n                    android:layout_marginEnd=\"24dp\"\r\n                    android:layout_marginTop=\"24dp\"\r\n                    android:fontFamily=\"@font/circular_std\"\r\n                    android:text=\"@string/see_all\"\r\n                    android:textColor=\"@color/black\" />\r\n            </RelativeLayout>\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/rvProducts\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginStart=\"10dp\"\r\n                android:layout_marginEnd=\"10dp\"\r\n                android:nestedScrollingEnabled=\"false\"/>\r\n        </LinearLayout>\r\n    </androidx.core.widget.NestedScrollView>\r\n</RelativeLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/fragment_home.xml b/app/src/main/res/layout/fragment_home.xml
--------- a/app/src/main/res/layout/fragment_home.xml	(revision 89eebba16a2eee5a1ab4aa28e4b5d398af67a8f3)
------+++ b/app/src/main/res/layout/fragment_home.xml	(date 1726626299359)
------@@ -14,6 +14,12 @@
------         android:background="@color/green"
------         android:orientation="horizontal"
------         android:padding="16dp">
------+        <RelativeLayout
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:id="@+id/top">
------+
------+        </RelativeLayout>
------ 
------         <androidx.cardview.widget.CardView
------             android:id="@+id/search_card"
------Index: app/src/main/res/layout/activity_post_product.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><LinearLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"vertical\"\r\n    android:id=\"@+id/main\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:paddingStart=\"12dp\"\r\n        android:paddingEnd=\"12dp\"\r\n\r\n        android:paddingTop=\"16dp\"\r\n        android:orientation=\"horizontal\">\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/btn_back\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"30dp\"\r\n            android:layout_marginTop=\"2dp\"\r\n            android:layout_weight=\"1\"\r\n            android:src=\"@drawable/chevron_left\"\r\n            android:background=\"@color/white\"/>\r\n\r\n        <TextView\r\n            android:id=\"@+id/textView1\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_gravity=\"center_horizontal\"\r\n            android:layout_weight=\"1\"\r\n            android:gravity=\"center\"\r\n            android:paddingBottom=\"16dp\"\r\n            android:text=\"@string/dang_san_pham\"\r\n            android:textSize=\"24sp\"\r\n            android:textStyle=\"bold\" />\r\n\r\n        <TextView\r\n            android:id=\"@+id/textView2\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_weight=\"1\"\r\n            android:text=\"\" />\r\n    </LinearLayout>\r\n\r\n    <View\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"3dp\"\r\n        android:background=\"#65424242\" />\r\n\r\n    <FrameLayout\r\n        android:id=\"@+id/fragmentPostProduct\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"/>\r\n\r\n</LinearLayout>\r\n
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_post_product.xml b/app/src/main/res/layout/activity_post_product.xml
--------- a/app/src/main/res/layout/activity_post_product.xml	(revision 89eebba16a2eee5a1ab4aa28e4b5d398af67a8f3)
------+++ b/app/src/main/res/layout/activity_post_product.xml	(date 1726631044456)
------@@ -3,7 +3,8 @@
------     android:layout_width="match_parent"
------     android:layout_height="match_parent"
------     android:orientation="vertical"
-------    android:id="@+id/main">
------+    android:id="@+id/main"
------+    android:background="@color/white">
------ 
------     <LinearLayout
------         android:layout_width="match_parent"
-----Index: .idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_8_28_PM__Changes_.xml
-----===================================================================
-----diff --git a/.idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_8_28_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_8_28_PM__Changes_.xml
-----deleted file mode 100644
-------- a/.idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_8_28_PM__Changes_.xml	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----+++ /dev/null	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----@@ -1,4 +0,0 @@
------<changelist name="Uncommitted_changes_before_Merge_at_9_20_2024_8_28_PM_[Changes]" date="1726839085104" recycled="true" deleted="true">
------  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Merge_at_9_20_2024_8_28_PM_[Changes]/shelved.patch" />
------  <option name="DESCRIPTION" value="Uncommitted changes before Merge at 9/20/2024 8:28 PM [Changes]" />
------</changelist>
-----\ No newline at end of file
-----Index: .idea/shelf/Uncommitted_changes_before_Update_at_9_20_2024_7_45_PM_[Changes]/shelved.patch
-----===================================================================
-----diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_9_20_2024_7_45_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_9_20_2024_7_45_PM_[Changes]/shelved.patch
-----deleted file mode 100644
-------- a/.idea/shelf/Uncommitted_changes_before_Update_at_9_20_2024_7_45_PM_[Changes]/shelved.patch	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----+++ /dev/null	(revision 18d2d35d62c087d79061172ceb6b0d6d689da78e)
-----@@ -1,337 +0,0 @@
------Index: app/src/main/res/layout/activity_product_detail.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.ProductPage.ProductDetailActivity\">\r\n    <RelativeLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/header\">\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/btn_back\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:layout_marginBottom=\"8dp\"\r\n            android:background=\"@color/background_light\"\r\n            android:src=\"@drawable/chevron_left\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.0\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            tools:ignore=\"MissingConstraints\"\r\n            android:backgroundTint=\"@color/white\"/>\r\n    </RelativeLayout>\r\n\r\n    <ScrollView\r\n        android:id=\"@+id/scrollView\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"4dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/header\"\r\n        tools:layout_editor_absoluteX=\"0dp\"\r\n        android:layout_below=\"@id/header\"\r\n        android:scrollbars=\"none\"\r\n        android:layout_above=\"@id/footer\">\r\n\r\n        <RelativeLayout\r\n            android:id=\"@+id/product_detail\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n            <com.denzcoskun.imageslider.ImageSlider\r\n                android:id=\"@+id/product_image\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"250dp\"\r\n                android:background=\"@null\"\r\n                app:iss_auto_cycle=\"true\"\r\n                app:iss_period=\"1000\"\r\n                app:iss_title_background=\"@color/transparent\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_name\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"8dp\"\r\n                android:text=\"@string/product_name\"\r\n                android:layout_below=\"@+id/product_image\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"20sp\"\r\n                android:textAllCaps=\"true\"\r\n                android:textColor=\"@color/black\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_price\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"24dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"8dp\"\r\n                android:text=\"@string/price\"\r\n                android:layout_below=\"@+id/product_name\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"24sp\"\r\n                android:textColor=\"@android:color/holo_red_dark\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/address\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"24dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"16dp\"\r\n                android:text=\"@string/address\"\r\n                android:layout_below=\"@+id/product_price\"\r\n                android:fontFamily=\"@font/circular_std\"\r\n                android:textSize=\"16sp\"\r\n                android:drawableStart=\"@drawable/location\"/>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/quantity\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/address\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginBottom=\"10dp\">\r\n                <TextView\r\n                    android:id=\"@+id/btn_decrease\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"-\"\r\n                    android:textColor=\"#9E9E9E\"\r\n                    android:textSize=\"24sp\"\r\n                    android:padding=\"8dp\"\r\n                    android:gravity=\"center\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_quantity\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_marginStart=\"8dp\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:layout_marginBottom=\"8dp\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"1\"\r\n                    android:textSize=\"18sp\"\r\n                    android:textColor=\"#212121\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:background=\"@drawable/round_border\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_increase\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"+\"\r\n                    android:textColor=\"#4CAF50\"\r\n                    android:textSize=\"24sp\"\r\n                    android:padding=\"8dp\"\r\n                    android:gravity=\"center\"/>\r\n            </LinearLayout>\r\n\r\n            <RelativeLayout\r\n                android:id=\"@+id/product_description\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/quantity\">\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"@string/description\"\r\n                    android:textSize=\"16sp\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:id=\"@+id/description_title\"\r\n                    android:textColor=\"@color/black\"/>\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:id=\"@+id/description\"\r\n                    android:layout_below=\"@+id/description_title\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:textSize=\"13sp\"\r\n                    android:text=\"@string/descriptions\"\r\n                    android:maxLines=\"3\"\r\n                    android:ellipsize=\"end\"/>\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/btn_expand\"\r\n                    android:layout_width=\"32dp\"\r\n                    android:layout_height=\"32dp\"\r\n                    android:layout_below=\"@+id/description\"\r\n                    android:layout_centerHorizontal=\"true\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:src=\"@drawable/down\"\r\n                    android:background=\"@color/transparent\"/>\r\n            </RelativeLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/shop_info\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/product_description\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <androidx.cardview.widget.CardView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"8dp\"\r\n                    android:background=\"@color/background_light\"\r\n                    app:cardElevation=\"0dp\">\r\n\r\n                    <LinearLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"horizontal\"\r\n                        android:padding=\"16dp\">\r\n\r\n                        <de.hdodenhof.circleimageview.CircleImageView\r\n                            android:id=\"@+id/shop_avatar\"\r\n                            android:layout_width=\"40dp\"\r\n                            android:layout_height=\"40dp\"\r\n                            android:src=\"@drawable/user\"\r\n                            app:civ_border_width=\"2dp\"\r\n                            app:civ_border_color=\"#FF000000\"\r\n                            android:layout_marginEnd=\"16dp\"/>\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/shop_name\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Tên người bán\"\r\n                            android:textSize=\"16sp\"\r\n                            android:textStyle=\"bold\"\r\n                            android:textColor=\"#000000\"/>\r\n                    </LinearLayout>\r\n                </androidx.cardview.widget.CardView>\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/rating\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/shop_info\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:orientation=\"horizontal\">\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:textSize=\"16sp\"\r\n                    android:text=\"Đánh giá sản phẩm\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:id=\"@+id/quantity_title\"\r\n                    android:textColor=\"@color/black\"/>\r\n\r\n                <RatingBar\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:rating=\"4.5\"\r\n                    style=\"?android:attr/ratingBarStyleIndicator\"\r\n                    android:progressTint=\"#FFCC01\"\r\n                    android:id=\"@+id/totalRating\"\r\n                    android:layout_marginStart=\"40dp\"/>\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/reviews\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/rating\">\r\n\r\n                <de.hdodenhof.circleimageview.CircleImageView\r\n                    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n                    android:id=\"@+id/user_avatar\"\r\n                    android:layout_width=\"40dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:src=\"@drawable/user\"\r\n                    app:civ_border_width=\"2dp\"\r\n                    app:civ_border_color=\"#FF000000\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"16dp\"/>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"vertical\"\r\n                    android:layout_weight=\"1\"\r\n                    android:padding=\"10dp\"\r\n                    android:id=\"@+id/user_rv\">\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_name\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"User name\"\r\n                        android:textStyle=\"bold\"\r\n                        android:textSize=\"16sp\"\r\n                        android:textColor=\"#000000\" />\r\n\r\n                    <RatingBar\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:rating=\"3\"\r\n                        style=\"?android:attr/ratingBarStyleIndicator\"\r\n                        android:progressTint=\"#FFCC01\"\r\n                        android:id=\"@+id/userRating\"/>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_review\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"4dp\"\r\n                        android:text=\"@string/user_review\"\r\n                        android:textSize=\"14sp\"\r\n                        android:textColor=\"#616161\" />\r\n                </LinearLayout>\r\n            </LinearLayout>\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"16dp\"\r\n                android:layout_below=\"@id/reviews\"/>\r\n\r\n        </RelativeLayout>\r\n    </ScrollView>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/footer\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentBottom=\"true\">\r\n\r\n        <Button\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_marginStart=\"48dp\"\r\n            android:layout_marginEnd=\"48dp\"\r\n            android:backgroundTint=\"@color/green\"\r\n            app:cornerRadius=\"24dp\"\r\n            android:text=\"@string/add_cart\"/>\r\n    </RelativeLayout>\r\n</RelativeLayout>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_product_detail.xml b/app/src/main/res/layout/activity_product_detail.xml
--------- a/app/src/main/res/layout/activity_product_detail.xml	(revision b677875d86098204dde03e4a27a9cd60e63ac3d7)
------+++ b/app/src/main/res/layout/activity_product_detail.xml	(date 1726811305835)
------@@ -194,6 +194,7 @@
------                     app:cardElevation="0dp">
------ 
------                     <LinearLayout
------+                        android:id="@+id/store"
------                         android:layout_width="match_parent"
------                         android:layout_height="wrap_content"
------                         android:orientation="horizontal"
------Index: app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.data.adapter.CategoryAdapter;\r\nimport com.example.agrimart.data.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\nimport com.example.agrimart.ui.Notification.NotificationActivity;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    ImageButton btnSearch, btnNotification;\r\n    TextView search;\r\n\r\n    private FragmentHomeBinding binding;\r\n\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    public static HomeFragment newInstance() {\r\n        return new HomeFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n        View view = binding.getRoot();\r\n\r\n        if (getActivity() != null) {\r\n            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        RecyclerView rvCategories = view.findViewById(R.id.rvCategories);\r\n        int numberOfColumns = 4;\r\n        rvCategories.setLayoutManager(new GridLayoutManager(getContext(), numberOfColumns));\r\n\r\n        List<Category> categories = new ArrayList<>();\r\n        categories.add(new Category(R.drawable.vegetable, \"Rau củ quả\"));\r\n        categories.add(new Category(R.drawable.fruit, \"Trái cây\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Ngũ cốc và hạt\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Gia vị\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Mật ong\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Trà\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Cây cảnh\"));\r\n        categories.add(new Category(R.drawable.frash_fruits, \"Khác\"));\r\n\r\n        CategoryAdapter categoryAdapter = new CategoryAdapter(categories);\r\n        rvCategories.setAdapter(categoryAdapter);\r\n\r\n        List<Product> products = new ArrayList<>();\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n            Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n\r\n        addControls(view);\r\n        addEvents();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void addEvents() {\r\n        btnSearch.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getActivity(), SearchActivity.class);\r\n            getActivity().startActivity(intent);\r\n        });\r\n\r\n        btnNotification.setOnClickListener(View -> {\r\n            Intent intent = new Intent(getContext(), NotificationActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        search.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getContext(), SearchActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void addControls(View view) {\r\n        btnSearch = view.findViewById(R.id.search_icon);\r\n        btnNotification = view.findViewById(R.id.notification_icon);\r\n        search = view.findViewById(R.id.search_input);\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getActivity().getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
--------- a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(revision b677875d86098204dde03e4a27a9cd60e63ac3d7)
------+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(date 1726811059334)
------@@ -76,12 +76,12 @@
------         rvCategories.setAdapter(categoryAdapter);
------ 
------         List<Product> products = new ArrayList<>();
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
-------        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
------+        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
------ 
------         ProductAdapter productAdapter = new ProductAdapter(products, product -> {
------             Intent intent = new Intent(getContext(), ProductDetailActivity.class);
------Index: app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+>package com.example.agrimart.ui.ProductPage;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\n\r\nimport com.denzcoskun.imageslider.ImageSlider;\r\nimport com.denzcoskun.imageslider.constants.ScaleTypes;\r\nimport com.denzcoskun.imageslider.models.SlideModel;\r\nimport com.example.agrimart.R;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ProductDetailActivity extends AppCompatActivity {\r\n    ImageButton btn_back, btnExpand;\r\n    TextView description;\r\n    boolean isExpanded = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_product_detail);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        description = findViewById(R.id.description);\r\n        btnExpand = findViewById(R.id.btn_expand);\r\n\r\n        btn_back = findViewById(R.id.btn_back);\r\n        btn_back.setOnClickListener(v -> finish());\r\n\r\n        ArrayList<SlideModel> imgList = new ArrayList<>();\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n\r\n        ImageSlider imageSlider = findViewById(R.id.product_image);\r\n        imageSlider.setImageList(imgList, ScaleTypes.FIT);\r\n\r\n        btnExpand.setOnClickListener(v -> {\r\n            if (isExpanded) {\r\n                description.setMaxLines(3);\r\n                btnExpand.setImageResource(R.drawable.down);\r\n            } else {\r\n                description.setMaxLines(Integer.MAX_VALUE);\r\n                btnExpand.setImageResource(R.drawable.arrowhead_up);\r\n            }\r\n            isExpanded = !isExpanded;\r\n        });\r\n    }\r\n}
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java
--------- a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java	(revision b677875d86098204dde03e4a27a9cd60e63ac3d7)
------+++ b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java	(date 1726811305828)
------@@ -1,7 +1,9 @@
------ package com.example.agrimart.ui.ProductPage;
------ 
------+import android.content.Intent;
------ import android.os.Bundle;
------ import android.widget.ImageButton;
------+import android.widget.LinearLayout;
------ import android.widget.TextView;
------ 
------ import androidx.activity.EdgeToEdge;
------@@ -14,6 +16,7 @@
------ import com.denzcoskun.imageslider.constants.ScaleTypes;
------ import com.denzcoskun.imageslider.models.SlideModel;
------ import com.example.agrimart.R;
------+import com.example.agrimart.ui.Store.StoreActivity;
------ 
------ import java.util.ArrayList;
------ 
------@@ -21,6 +24,7 @@
------     ImageButton btn_back, btnExpand;
------     TextView description;
------     boolean isExpanded = false;
------+    LinearLayout store;
------ 
------     @Override
------     protected void onCreate(Bundle savedInstanceState) {
------@@ -38,6 +42,7 @@
------ 
------         btn_back = findViewById(R.id.btn_back);
------         btn_back.setOnClickListener(v -> finish());
------+        store = findViewById(R.id.store);
------ 
------         ArrayList<SlideModel> imgList = new ArrayList<>();
------         imgList.add(new SlideModel(R.drawable.banana, "", ScaleTypes.FIT));
------@@ -60,5 +65,10 @@
------             }
------             isExpanded = !isExpanded;
------         });
------+
------+        store.setOnClickListener(v -> {
------+            Intent intent = new Intent(ProductDetailActivity.this, StoreActivity.class);
------+            startActivity(intent);
------+        });
------     }
------ }
------\ No newline at end of file
------Index: app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java b/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java
------new file mode 100644
--------- /dev/null	(date 1726811542833)
------+++ b/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java	(date 1726811542833)
------@@ -0,0 +1,71 @@
------+package com.example.agrimart.ui.Store;
------+
------+import android.os.Bundle;
------+import android.view.Window;
------+import android.view.WindowManager;
------+import android.widget.ImageView;
------+import android.widget.TextView;
------+
------+import androidx.activity.EdgeToEdge;
------+import androidx.appcompat.app.AppCompatActivity;
------+import androidx.core.content.ContextCompat;
------+import androidx.core.graphics.Insets;
------+import androidx.core.view.ViewCompat;
------+import androidx.core.view.WindowInsetsCompat;
------+import androidx.recyclerview.widget.GridLayoutManager;
------+import androidx.recyclerview.widget.RecyclerView;
------+
------+import com.example.agrimart.R;
------+import com.example.agrimart.data.adapter.ProductAdapter;
------+import com.example.agrimart.data.model.Product;
------+
------+import java.util.ArrayList;
------+import java.util.List;
------+
------+public class StoreActivity extends AppCompatActivity {
------+
------+    private ImageView storeAvatar;
------+    private TextView storeName, storeRating, storeAddress;
------+    private RecyclerView rvProducts;
------+    private ProductAdapter productAdapter;
------+    private List<Product> productList;
------+
------+    @Override
------+    protected void onCreate(Bundle savedInstanceState) {
------+        super.onCreate(savedInstanceState);
------+        EdgeToEdge.enable(this);
------+        setContentView(R.layout.activity_store);
------+        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {
------+            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
------+            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
------+            return insets;
------+        });
------+
------+        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.LOLLIPOP) {
------+            Window window = getWindow();
------+            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);
------+            window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));
------+        }
------+
------+        storeAvatar = findViewById(R.id.store_avatar);
------+        storeName = findViewById(R.id.store_name);
------+        storeRating = findViewById(R.id.store_rating);
------+        storeAddress = findViewById(R.id.store_address);
------+        rvProducts = findViewById(R.id.rvProducts);
------+
------+        storeName.setText("Khánh");
------+        storeRating.setText("Đánh giá: 4.5");
------+        storeAddress.setText("123 Lê Trong Tấn, Tân Phú, HCM");
------+
------+        productList = new ArrayList<>();
------+        productList.add(new Product(R.drawable.apple, "Táo", "50000"));
------+        productList.add(new Product(R.drawable.frash_fruits, "ABC", "20000"));
------+        productList.add(new Product(R.drawable.vegetable, "XYZ", "30000"));
------+
------+        productAdapter = new ProductAdapter(productList, product -> {
------+
------+        });
------+        rvProducts.setLayoutManager(new GridLayoutManager(this, 2));
------+        rvProducts.setAdapter(productAdapter);
------+    }
------+}
------\ No newline at end of file
------Index: app/src/main/res/layout/activity_store.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/res/layout/activity_store.xml b/app/src/main/res/layout/activity_store.xml
------new file mode 100644
--------- /dev/null	(date 1726810829490)
------+++ b/app/src/main/res/layout/activity_store.xml	(date 1726810829490)
------@@ -0,0 +1,116 @@
------+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
------+    xmlns:app="http://schemas.android.com/apk/res-auto"
------+    xmlns:tools="http://schemas.android.com/tools"
------+    android:id="@+id/main"
------+    android:layout_width="match_parent"
------+    android:layout_height="match_parent"
------+    tools:context=".ui.Store.StoreActivity">
------+
------+    <RelativeLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="50dp"
------+        android:id="@+id/header"
------+        app:layout_constraintTop_toTopOf="parent"
------+        android:layout_alignParentTop="true"
------+        android:background="@color/green">
------+
------+        <ImageButton
------+            android:id="@+id/btnBack"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:background="@null"
------+            android:layout_marginTop="10dp"
------+            android:layout_marginStart="5dp"
------+            android:src="@drawable/chevron_left" />
------+
------+        <TextView
------+            android:id="@+id/tvTitle"
------+            android:layout_width="wrap_content"
------+            android:layout_height="wrap_content"
------+            android:layout_centerInParent="true"
------+            android:text="Cửa hàng"
------+            android:textSize="20sp"
------+            android:textStyle="bold"
------+            android:textColor="@color/black"/>
------+    </RelativeLayout>
------+
------+    <RelativeLayout
------+        android:layout_width="match_parent"
------+        android:layout_height="wrap_content">
------+    </RelativeLayout>
------+
------+    <de.hdodenhof.circleimageview.CircleImageView
------+        android:id="@+id/store_avatar"
------+        android:layout_width="80dp"
------+        android:layout_height="80dp"
------+        android:layout_marginStart="16dp"
------+        android:layout_marginTop="68dp"
------+        android:src="@drawable/user"
------+        app:layout_constraintStart_toStartOf="parent"
------+        app:layout_constraintTop_toTopOf="parent" />
------+
------+    <TextView
------+        android:id="@+id/store_name"
------+        android:layout_width="0dp"
------+        android:layout_height="wrap_content"
------+        android:layout_marginStart="16dp"
------+        android:layout_marginTop="56dp"
------+        android:text="Tên cửa hàng"
------+        android:textSize="20sp"
------+        android:paddingTop="10dp"
------+        android:textStyle="bold"
------+        android:fontFamily="@font/gabarito"
------+        app:layout_constraintEnd_toEndOf="parent"
------+        app:layout_constraintHorizontal_bias="0.0"
------+        app:layout_constraintStart_toEndOf="@id/store_avatar"
------+        app:layout_constraintTop_toTopOf="parent" />
------+
------+    <TextView
------+        android:id="@+id/store_rating"
------+        android:layout_width="wrap_content"
------+        android:layout_height="wrap_content"
------+        android:layout_marginStart="16dp"
------+        android:layout_marginTop="16dp"
------+        android:text="Đánh giá: 4.5"
------+        app:layout_constraintStart_toEndOf="@id/store_avatar"
------+        app:layout_constraintTop_toBottomOf="@id/store_name" />
------+
------+    <TextView
------+        android:id="@+id/store_address"
------+        android:layout_width="0dp"
------+        android:layout_height="wrap_content"
------+        android:layout_marginStart="16dp"
------+        android:layout_marginTop="8dp"
------+        android:text="Đia chỉ: 123, ABC, XYZ"
------+        app:layout_constraintEnd_toEndOf="parent"
------+        app:layout_constraintHorizontal_bias="0.0"
------+        app:layout_constraintStart_toEndOf="@id/store_avatar"
------+        app:layout_constraintTop_toBottomOf="@id/store_rating" />
------+
------+    <TextView
------+        android:id="@+id/tvProductTitle"
------+        android:layout_width="wrap_content"
------+        android:layout_height="wrap_content"
------+        android:layout_marginTop="16dp"
------+        android:layout_marginStart="16dp"
------+        android:text="Sản phẩm đang bán"
------+        android:textSize="18sp"
------+        android:textStyle="bold"
------+        android:paddingTop="10dp"
------+        android:fontFamily="@font/gabarito"
------+        app:layout_constraintTop_toBottomOf="@id/store_avatar"
------+        app:layout_constraintStart_toStartOf="parent" />
------+
------+    <androidx.recyclerview.widget.RecyclerView
------+        android:id="@+id/rvProducts"
------+        android:layout_width="0dp"
------+        android:layout_height="0dp"
------+        android:layout_marginTop="8dp"
------+        app:layout_constraintBottom_toBottomOf="parent"
------+        app:layout_constraintEnd_toEndOf="parent"
------+        app:layout_constraintHorizontal_bias="0.0"
------+        app:layout_constraintStart_toStartOf="parent"
------+        app:layout_constraintTop_toBottomOf="@id/tvProductTitle"
------+        app:layout_constraintVertical_bias="0.0"
------+        android:paddingTop="10dp"/>
------+</androidx.constraintlayout.widget.ConstraintLayout>
------\ No newline at end of file
------Index: app/src/main/AndroidManifest.xml
------IDEA additional info:
------Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
------<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\r\n        android:fullBackupContent=\"@xml/backup_rules\"\r\n        android:icon=\"@drawable/logo_icon\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@drawable/logo_icon\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.AgriMart\"\r\n        tools:ignore=\"ExtraText\"\r\n        tools:targetApi=\"31\">\r\n        <activity\r\n            android:name=\".ui.Homepage.SearchActivity\"\r\n            android:exported=\"false\" />\r\n        <activity android:name=\".ui.Cart.CheckoutActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Notification.NotificationActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.ProductPage.ProductDetailActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.YourProductListingsActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.PostProductActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MainActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.EnterOTPActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.ForgotPasswordActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.SignUpActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Homepage.HomeFragment\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.SignInActivity\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
------Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
------<+>UTF-8
------===================================================================
------diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--------- a/app/src/main/AndroidManifest.xml	(revision b677875d86098204dde03e4a27a9cd60e63ac3d7)
------+++ b/app/src/main/AndroidManifest.xml	(date 1726809683037)
------@@ -14,9 +14,13 @@
------         tools:ignore="ExtraText"
------         tools:targetApi="31">
------         <activity
------+            android:name=".ui.Store.StoreActivity"
------+            android:exported="false" />
------+        <activity
------             android:name=".ui.Homepage.SearchActivity"
------             android:exported="false" />
-------        <activity android:name=".ui.Cart.CheckoutActivity"
------+        <activity
------+            android:name=".ui.Cart.CheckoutActivity"
------             android:exported="false" />
------         <activity
------             android:name=".ui.Notification.NotificationActivity"
----Index: .idea/shelf/Uncommitted_changes_before_Update_at_10_10_2024_7_55_PM_[Changes]/shelved.patch
----===================================================================
----diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_10_10_2024_7_55_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_10_10_2024_7_55_PM_[Changes]/shelved.patch
----deleted file mode 100644
------- a/.idea/shelf/Uncommitted_changes_before_Update_at_10_10_2024_7_55_PM_[Changes]/shelved.patch	(revision 418748358ae1dd73a3925e005574cb2a68b36576)
----+++ /dev/null	(revision 418748358ae1dd73a3925e005574cb2a68b36576)
----@@ -1,1202 +0,0 @@
-----Index: app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-----<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.Manifest;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.viewmodel.SignUpViewModel;\r\n\r\npublic class SignUpActivity extends AppCompatActivity {\r\n    private EditText edtPhoneNumber;\r\n    private TextView tvPhoneNumberError;\r\n    private Button btnSignUp;\r\n    private ImageButton btnBack;\r\n    private TextView tvHaveAccount;\r\n    private ProgressBar progressBar;\r\n    private static final int SMS_PERMISSION_CODE = 100;\r\n\r\n    private SignUpViewModel viewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_up);\r\n\r\n        initViews();\r\n        initViewModel();\r\n    }\r\n\r\n    private void initViews() {\r\n        edtPhoneNumber = findViewById(R.id.edtPhoneNumber);\r\n        tvPhoneNumberError = findViewById(R.id.tvPhoneNumberError);\r\n        btnSignUp = findViewById(R.id.btn_signin);\r\n        btnBack = findViewById(R.id.btn_back);\r\n        tvHaveAccount = findViewById(R.id.haveAccount);\r\n        progressBar = findViewById(R.id.progressBar);\r\n    }\r\n\r\n    private void initViewModel() {\r\n        viewModel = new ViewModelProvider(this).get(SignUpViewModel.class);\r\n\r\n        // Quan sát kết quả gửi OTP\r\n        viewModel.getOtpSentSuccess().observe(this, success -> {\r\n            if (success) {\r\n                String phoneNumber = edtPhoneNumber.getText().toString().trim();\r\n                Intent intent = new Intent(SignUpActivity.this, EnterOTPActivity.class);\r\n                intent.putExtra(\"phoneNumber\", phoneNumber);\r\n                //intent.putExtra(\"otp\", viewModel.getOtpValue());\r\n                startActivity(intent);\r\n            } else {\r\n                Toast.makeText(this, \"Lỗi khi gửi OTP\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java
-------- a/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java	(revision 0eee4fcfc348860d62fb8000c5d9df6b50f566cc)
-----+++ b/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java	(date 1728563495314)
-----@@ -1,10 +1,7 @@
----- package com.example.agrimart.ui.Account;
----- 
------import android.Manifest;
----- import android.content.Intent;
------import android.content.pm.PackageManager;
----- import android.os.Bundle;
------import android.view.View;
----- import android.widget.Button;
----- import android.widget.EditText;
----- import android.widget.ImageButton;
-----@@ -13,21 +10,19 @@
----- import android.widget.Toast;
----- 
----- import androidx.appcompat.app.AppCompatActivity;
------import androidx.core.app.ActivityCompat;
------import androidx.core.content.ContextCompat;
----- import androidx.lifecycle.ViewModelProvider;
----- 
----- import com.example.agrimart.R;
-----+import com.example.agrimart.utils.Valid;
----- import com.example.agrimart.viewmodel.SignUpViewModel;
----- 
----- public class SignUpActivity extends AppCompatActivity {
------    private EditText edtPhoneNumber;
------    private TextView tvPhoneNumberError;
-----+    private EditText edtEmail, edtPassword, edtName;
-----+    private TextView tvEmailError, tvPasswordError, tvNameError;
-----     private Button btnSignUp;
-----     private ImageButton btnBack;
-----     private TextView tvHaveAccount;
-----     private ProgressBar progressBar;
------    private static final int SMS_PERMISSION_CODE = 100;
----- 
-----     private SignUpViewModel viewModel;
----- 
-----@@ -41,8 +36,12 @@
-----     }
----- 
-----     private void initViews() {
------        edtPhoneNumber = findViewById(R.id.edtPhoneNumber);
------        tvPhoneNumberError = findViewById(R.id.tvPhoneNumberError);
-----+        edtEmail = findViewById(R.id.edtEmail);
-----+        edtPassword = findViewById(R.id.edtPassword);
-----+        edtName = findViewById(R.id.edtUsername);
-----+        tvEmailError = findViewById(R.id.tvEmailError);
-----+        tvPasswordError = findViewById(R.id.tvPasswordError);
-----+        tvNameError = findViewById(R.id.tvNameError);
-----         btnSignUp = findViewById(R.id.btn_signin);
-----         btnBack = findViewById(R.id.btn_back);
-----         tvHaveAccount = findViewById(R.id.haveAccount);
-----@@ -52,18 +51,40 @@
-----     private void initViewModel() {
-----         viewModel = new ViewModelProvider(this).get(SignUpViewModel.class);
----- 
------        // Quan sát kết quả gửi OTP
------        viewModel.getOtpSentSuccess().observe(this, success -> {
-----+        viewModel.getSignUpSuccess().observe(this, success -> {
-----             if (success) {
------                String phoneNumber = edtPhoneNumber.getText().toString().trim();
------                Intent intent = new Intent(SignUpActivity.this, EnterOTPActivity.class);
------                intent.putExtra("phoneNumber", phoneNumber);
------                //intent.putExtra("otp", viewModel.getOtpValue());
------                startActivity(intent);
-----+                Toast.makeText(this, "Đăng ký thành công. Vui lòng kiểm tra email để xác nhận tài khoản.", Toast.LENGTH_SHORT).show();
-----+                startActivity(new Intent(SignUpActivity.this, VerifyActivity.class));
-----+                finish();
-----+            } else {
-----+                Toast.makeText(this, "Lỗi khi đăng ký", Toast.LENGTH_SHORT).show();
-----+            }
-----+        });
-----+
-----+        viewModel.getEmailVerificationSent().observe(this, sent -> {
-----+            if (sent) {
-----+                Toast.makeText(this, "Mail xác nhận đã được gửi đến email của bạn", Toast.LENGTH_SHORT).show();
-----+            } else {
-----+                Toast.makeText(this, "Lỗi khi gửi mail", Toast.LENGTH_SHORT).show();
-----+            }
-----+        });
-----+
-----+        btnSignUp.setOnClickListener(v -> {
-----+            String email = edtEmail.getText().toString().trim();
-----+            String password = edtPassword.getText().toString().trim();
-----+            String name = edtName.getText().toString().trim();
-----+            if (Valid.validateInputs(email, password, name, tvEmailError, tvPasswordError, tvNameError)) {
-----+                viewModel.signUpWithEmail(email, password);
-----             } else {
------                Toast.makeText(this, "Lỗi khi gửi OTP", Toast.LENGTH_SHORT).show();
-----+                Toast.makeText(this, "Thông tin không hợp lệ", Toast.LENGTH_SHORT).show();
-----             }
-----         });
------    }
-----+
-----+        tvHaveAccount.setOnClickListener(v -> {
-----+            Intent intent = new Intent(SignUpActivity.this, SignInActivity.class);
-----+            startActivity(intent);
-----+        });
----- 
-----+        btnBack.setOnClickListener(v -> finish());
-----+    }
----- }
-----Index: app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-----<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.MainActivity;\r\nimport com.example.agrimart.viewmodel.SignInViewModel;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class SignInActivity extends AppCompatActivity {\r\n    private static final String TAG = \"SignInActivity\";\r\n    private SignInViewModel signInViewModel;\r\n    private ActivityResultLauncher<Intent> googleSignInLauncher;\r\n    private GoogleSignInOptions gso;\r\n    private SharedPreferences sharedPreferences;\r\n    private FirebaseAuth mAuth;\r\n\r\n    private TextView tvDonthaveAccount;\r\n    private TextView forgotPass;\r\n    private Button btnSignIn;\r\n    private Button btnSignInGoogle;\r\n    private TextView edtPhoneNumber, edtPassword;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_in);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        sharedPreferences = getSharedPreferences(\"user_prefs\", MODE_PRIVATE);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        if (sharedPreferences.getBoolean(\"is_logged_in\", false)) {\r\n            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n            if (currentUser != null) {\r\n                navigateToMain();\r\n                return;\r\n            }\r\n        }\r\n\r\n        signInViewModel = new ViewModelProvider(this).get(SignInViewModel.class);\r\n\r\n        gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n            .requestIdToken(getString(R.string.default_web_client_id))\r\n            .requestEmail()\r\n            .build();\r\n\r\n        googleSignInLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            result -> {\r\n                if (result.getResultCode() == RESULT_OK) {\r\n                    Intent data = result.getData();\r\n                    Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n                    try {\r\n                        GoogleSignInAccount account = task.getResult(ApiException.class);\r\n                        signInViewModel.firebaseAuthWithGoogle(account);\r\n                    } catch (ApiException e) {\r\n                        Toast.makeText(this, \"Đăng nhập thất bại\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } else {\r\n                    Toast.makeText(this, \"Đăng nhập bị từ chối\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\n        addControls();\r\n        addEvents();\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        signInViewModel.userLiveData.observe(this, user -> {\r\n            if (user != null) {\r\n                Toast.makeText(this, \"Đăng nhập thành công\", Toast.LENGTH_SHORT).show();\r\n                startActivity(new Intent(SignInActivity.this, MainActivity.class));\r\n                finish();\r\n            } else {\r\n                Toast.makeText(this, \"Đăng nhập thất bại\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void addControls() {\r\n        tvDonthaveAccount = findViewById(R.id.dontHaveAccount);\r\n        forgotPass = findViewById(R.id.forgotPassword);\r\n        btnSignIn = findViewById(R.id.btnSignIn);\r\n        btnSignInGoogle = findViewById(R.id.btnSignInGoogle);\r\n        edtPhoneNumber = findViewById(R.id.edtPhoneNumber);\r\n        edtPassword = findViewById(R.id.edtPassword);\r\n    }\r\n\r\n    public void addEvents() {\r\n        tvDonthaveAccount.setOnClickListener(v -> {\r\n            Intent intent = new Intent(SignInActivity.this, SignUpActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        forgotPass.setOnClickListener(v -> {\r\n            Intent intent = new Intent(SignInActivity.this, ForgotPasswordActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        btnSignIn.setOnClickListener(v -> {\r\n            String phoneNumber = edtPhoneNumber.getText().toString().trim();\r\n            if (!phoneNumber.isEmpty()) {\r\n                signInViewModel.signInWithPhoneNumber(phoneNumber);\r\n            } else {\r\n                Toast.makeText(SignInActivity.this, \"Vui lòng nhập số điện thoại\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        btnSignInGoogle.setOnClickListener(v -> {\r\n            Intent signInIntent = GoogleSignIn.getClient(this, gso).getSignInIntent();\r\n            googleSignInLauncher.launch(signInIntent);\r\n        });\r\n    }\r\n\r\n    private void navigateToMain() {\r\n        Intent intent = new Intent(SignInActivity.this, MainActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n}
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java
-------- a/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java	(revision 0eee4fcfc348860d62fb8000c5d9df6b50f566cc)
-----+++ b/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java	(date 1728564700499)
-----@@ -3,6 +3,7 @@
----- import android.content.Intent;
----- import android.content.SharedPreferences;
----- import android.os.Bundle;
-----+import android.util.Log;
----- import android.widget.Button;
----- import android.widget.TextView;
----- import android.widget.Toast;
-----@@ -18,13 +19,24 @@
----- import com.example.agrimart.R;
----- import com.example.agrimart.ui.MainActivity;
----- import com.example.agrimart.viewmodel.SignInViewModel;
-----+import com.facebook.AccessToken;
-----+import com.facebook.CallbackManager;
-----+import com.facebook.FacebookCallback;
-----+import com.facebook.FacebookException;
-----+import com.facebook.FacebookSdk;
-----+import com.facebook.login.LoginManager;
-----+import com.facebook.login.LoginResult;
-----+import com.facebook.login.widget.LoginButton;
----- import com.google.android.gms.auth.api.signin.GoogleSignIn;
----- import com.google.android.gms.auth.api.signin.GoogleSignInAccount;
----- import com.google.android.gms.auth.api.signin.GoogleSignInOptions;
----- import com.google.android.gms.common.api.ApiException;
----- import com.google.android.gms.tasks.Task;
-----+import com.google.firebase.auth.AuthCredential;
----- import com.google.firebase.auth.FirebaseAuth;
----- import com.google.firebase.auth.FirebaseUser;
-----+import com.google.firebase.auth.FacebookAuthProvider;
-----+import com.google.firebase.auth.GoogleAuthProvider;
----- 
----- public class SignInActivity extends AppCompatActivity {
-----     private static final String TAG = "SignInActivity";
-----@@ -33,12 +45,13 @@
-----     private GoogleSignInOptions gso;
-----     private SharedPreferences sharedPreferences;
-----     private FirebaseAuth mAuth;
-----+    private CallbackManager callbackManager;
----- 
-----     private TextView tvDonthaveAccount;
-----     private TextView forgotPass;
-----     private Button btnSignIn;
------    private Button btnSignInGoogle;
------    private TextView edtPhoneNumber, edtPassword;
-----+    private Button btnSignInGoogle, btnSignInFacebook;
-----+    private TextView edtEmail, edtPassword;
----- 
-----     @Override
-----     protected void onCreate(Bundle savedInstanceState) {
-----@@ -76,40 +89,32 @@
-----                     Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);
-----                     try {
-----                         GoogleSignInAccount account = task.getResult(ApiException.class);
------                        signInViewModel.firebaseAuthWithGoogle(account);
-----+                        handleGoogleAccessToken(account);
-----                     } catch (ApiException e) {
-----+                        Log.e(TAG, "Google sign-in failed", e);
-----                         Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
-----                     }
-----                 } else {
-----+                    Log.w(TAG, "Google sign-in was cancelled");
-----                     Toast.makeText(this, "Đăng nhập bị từ chối", Toast.LENGTH_SHORT).show();
-----                 }
-----             });
----- 
-----+        FacebookSdk.sdkInitialize(getApplicationContext());
-----+        callbackManager = CallbackManager.Factory.create();
-----+
-----         addControls();
-----         addEvents();
-----     }
----- 
------    @Override
------    protected void onStart() {
------        super.onStart();
------        signInViewModel.userLiveData.observe(this, user -> {
------            if (user != null) {
------                Toast.makeText(this, "Đăng nhập thành công", Toast.LENGTH_SHORT).show();
------                startActivity(new Intent(SignInActivity.this, MainActivity.class));
------                finish();
------            } else {
------                Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
------            }
------        });
------    }
------
-----     public void addControls() {
-----         tvDonthaveAccount = findViewById(R.id.dontHaveAccount);
-----         forgotPass = findViewById(R.id.forgotPassword);
-----         btnSignIn = findViewById(R.id.btnSignIn);
-----         btnSignInGoogle = findViewById(R.id.btnSignInGoogle);
------        edtPhoneNumber = findViewById(R.id.edtPhoneNumber);
-----+        edtEmail = findViewById(R.id.edtEmail);
-----         edtPassword = findViewById(R.id.edtPassword);
-----+        btnSignInFacebook = findViewById(R.id.btnSignInFacebook);
-----     }
----- 
-----     public void addEvents() {
-----@@ -124,11 +129,12 @@
-----         });
----- 
-----         btnSignIn.setOnClickListener(v -> {
------            String phoneNumber = edtPhoneNumber.getText().toString().trim();
------            if (!phoneNumber.isEmpty()) {
------                signInViewModel.signInWithPhoneNumber(phoneNumber);
-----+            String email = edtEmail.getText().toString().trim();
-----+            String password = edtPassword.getText().toString().trim();
-----+            if (!email.isEmpty() && !password.isEmpty()) {
-----+                signInViewModel.signInWithEmail(email, password, this::navigateToMain);
-----             } else {
------                Toast.makeText(SignInActivity.this, "Vui lòng nhập số điện thoại", Toast.LENGTH_SHORT).show();
-----+                Toast.makeText(SignInActivity.this, "Email hoặc mật khẩu không hợp lệ", Toast.LENGTH_SHORT).show();
-----             }
-----         });
----- 
-----@@ -136,6 +142,77 @@
-----             Intent signInIntent = GoogleSignIn.getClient(this, gso).getSignInIntent();
-----             googleSignInLauncher.launch(signInIntent);
-----         });
-----+
-----+        btnSignInFacebook.setOnClickListener(v -> {
-----+            LoginButton loginButton = new LoginButton(this);
-----+            loginButton.setPermissions("email", "public_profile");
-----+            loginButton.registerCallback(callbackManager, new FacebookCallback<LoginResult>() {
-----+                @Override
-----+                public void onSuccess(LoginResult loginResult) {
-----+                    handleFacebookAccessToken(loginResult.getAccessToken());
-----+                }
-----+
-----+                @Override
-----+                public void onCancel() {
-----+                    Toast.makeText(SignInActivity.this, "Facebook login canceled", Toast.LENGTH_SHORT).show();
-----+                }
-----+
-----+                @Override
-----+                public void onError(FacebookException error) {
-----+                    Toast.makeText(SignInActivity.this, "Facebook login failed", Toast.LENGTH_SHORT).show();
-----+                }
-----+            });
-----+            loginButton.performClick();
-----+        });
-----+    }
-----+
-----+    private boolean isUserDataExists() {
-----+        String email = sharedPreferences.getString("user_email", null);
-----+        return email != null;
-----+    }
-----+
-----+    private void saveUserData(FirebaseUser user) {
-----+        SharedPreferences.Editor editor = sharedPreferences.edit();
-----+        editor.putString("user_email", user.getEmail());
-----+        editor.putString("user_name", user.getDisplayName());
-----+        editor.apply();
-----+    }
-----+
-----+    private void handleGoogleAccessToken(GoogleSignInAccount account) {
-----+        AuthCredential credential = GoogleAuthProvider.getCredential(account.getIdToken(), null);
-----+        signInViewModel.signInWithGoogle(credential, () -> {
-----+            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
-----+            if (user != null) {
-----+                if (!isUserDataExists()) {
-----+                    saveUserData(user);
-----+                }
-----+                setLoginState(true);
-----+            } else {
-----+            }
-----+            navigateToMain();
-----+        });
-----+    }
-----+
-----+private void handleFacebookAccessToken(AccessToken token) {
-----+    AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());
-----+    signInViewModel.signInWithFacebook(credential, () -> {
-----+        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
-----+        if (user != null) {
-----+            if (!isUserDataExists()) {
-----+                saveUserData(user);
-----+            }
-----+            setLoginState(true);
-----+        } else {
-----+            Log.w(TAG, "Facebook login successful but user is null");
-----+        }
-----+        navigateToMain();
-----+    });
-----+}
-----+
-----+    @Override
-----+    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
-----+        super.onActivityResult(requestCode, resultCode, data);
-----+        callbackManager.onActivityResult(requestCode, resultCode, data);
-----     }
----- 
-----     private void navigateToMain() {
-----@@ -143,4 +220,23 @@
-----         startActivity(intent);
-----         finish();
-----     }
-----+
-----+    public void signOutFromFacebook() {
-----+    LoginManager.getInstance().logOut();
-----+    FirebaseAuth.getInstance().signOut();
-----+    setLoginState(false);
-----+    navigateToSignIn();
-----+}
-----+
-----+    private void navigateToSignIn() {
-----+        Intent intent = new Intent(SignInActivity.this, SignInActivity.class);
-----+        startActivity(intent);
-----+        finish();
-----+    }
-----+
-----+    private void setLoginState(boolean isLoggedIn) {
-----+        SharedPreferences.Editor editor = sharedPreferences.edit();
-----+        editor.putBoolean("is_logged_in", isLoggedIn);
-----+        editor.apply();
-----+    }
----- }
-----\ No newline at end of file
-----Index: app/src/main/java/com/example/agrimart/ui/MainActivity.java
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-----<+>package com.example.agrimart.ui;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.Account.SignInActivity;\r\nimport com.example.agrimart.ui.Cart.CartFragment;\r\nimport com.example.agrimart.ui.Explore.ExploreFragment;\r\nimport com.example.agrimart.ui.Homepage.HomeFragment;\r\nimport com.example.agrimart.ui.MyProfile.MyProfileFragment;\r\nimport com.example.agrimart.ui.Notification.NotificationFragment;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private SharedPreferences sharedPreferences;\r\n    private FirebaseAuth mAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_main);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, 0);\r\n            return insets;\r\n        });\r\n\r\n        sharedPreferences = getSharedPreferences(\"user_prefs\", MODE_PRIVATE);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        if (sharedPreferences.getBoolean(\"is_logged_in\", false)) {\r\n            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n            if (currentUser != null) {\r\n                navigateToHome();\r\n            } else {\r\n                clearLoginState();\r\n                navigateToLogin();\r\n            }\r\n        } else {\r\n            navigateToLogin();\r\n        }\r\n\r\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigation);\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(this::onNavigationItemSelected);\r\n\r\n        if (savedInstanceState == null) {\r\n            loadFragment(new HomeFragment());\r\n            bottomNavigationView.setSelectedItemId(R.id.home);\r\n        }\r\n    }\r\n\r\n    private void navigateToHome() {\r\n        loadFragment(new HomeFragment());\r\n    }\r\n\r\n    private void navigateToLogin() {\r\n        Intent intent = new Intent(MainActivity.this, SignInActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    private void clearLoginState() {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.clear();\r\n        editor.apply();\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n\r\n    private boolean onNavigationItemSelected(MenuItem item) {\r\n        Fragment selectedFragment = null;\r\n\r\n        if (item.getItemId() == R.id.home) {\r\n            selectedFragment = new HomeFragment();\r\n        } else if (item.getItemId() == R.id.category) {\r\n            selectedFragment = new ExploreFragment();\r\n        } else if (item.getItemId() == R.id.notification) {\r\n            selectedFragment = new NotificationFragment();\r\n        } else if (item.getItemId() == R.id.profile) {\r\n            selectedFragment = new MyProfileFragment();\r\n        } else if (item.getItemId() == R.id.cart) {\r\n            selectedFragment = new CartFragment();\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n        if (selectedFragment != null) {\r\n            loadFragment(selectedFragment);\r\n        }\r\n\r\n        return true;\r\n    }\r\n}
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/src/main/java/com/example/agrimart/ui/MainActivity.java b/app/src/main/java/com/example/agrimart/ui/MainActivity.java
-------- a/app/src/main/java/com/example/agrimart/ui/MainActivity.java	(revision 0eee4fcfc348860d62fb8000c5d9df6b50f566cc)
-----+++ b/app/src/main/java/com/example/agrimart/ui/MainActivity.java	(date 1728564320563)
-----@@ -20,6 +20,8 @@
----- import com.google.android.material.bottomnavigation.BottomNavigationView;
----- import com.google.firebase.auth.FirebaseAuth;
----- import com.google.firebase.auth.FirebaseUser;
-----+import com.google.firebase.firestore.DocumentReference;
-----+import com.google.firebase.firestore.FirebaseFirestore;
----- 
----- public class MainActivity extends AppCompatActivity {
----- 
-----@@ -106,4 +108,24 @@
----- 
-----         return true;
-----     }
-----+
-----+    private void fetchUserRoleAndSave(FirebaseUser user) {
-----+        FirebaseFirestore db = FirebaseFirestore.getInstance();
-----+        DocumentReference docRef = db.collection("users").document(user.getUid());
-----+        docRef.get().addOnSuccessListener(documentSnapshot -> {
-----+            if (documentSnapshot.exists()) {
-----+                String role = documentSnapshot.getString("role");
-----+                if (role != null) {
-----+                    saveUserToSharedPreferences(role);
-----+                }
-----+            }
-----+        }).addOnFailureListener(e -> {
-----+        });
-----+    }
-----+
-----+    private void saveUserToSharedPreferences(String role) {
-----+        SharedPreferences.Editor editor = sharedPreferences.edit();
-----+        editor.putString("user_role", role);
-----+        editor.apply();
-----+    }
----- }
-----\ No newline at end of file
-----Index: app/src/main/java/com/example/agrimart/viewmodel/SignInViewModel.java
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-----<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.app.Application;\r\nimport android.content.Context;\r\nimport android.content.SharedPreferences;\r\nimport android.util.Log;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.lifecycle.AndroidViewModel;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport com.example.agrimart.data.model.User;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.auth.GoogleAuthProvider;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.firebase.auth.PhoneAuthCredential;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class SignInViewModel extends AndroidViewModel {\r\n    private static final String TAG = \"SignInViewModel\";\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseFirestore firestore;\r\n    public MutableLiveData<FirebaseUser> userLiveData;\r\n    private SharedPreferences sharedPreferences;\r\n\r\n    public SignInViewModel(@NonNull Application application) {\r\n        super(application);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        firestore = FirebaseFirestore.getInstance();\r\n        userLiveData = new MutableLiveData<>();\r\n        sharedPreferences = application.getSharedPreferences(\"user_prefs\", Context.MODE_PRIVATE);\r\n    }\r\n\r\n    public void signInWithPhoneNumber(String phoneNumber) {\r\n        firestore.collection(\"users\")\r\n                .whereEqualTo(\"phoneNumber\", phoneNumber)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful() && !task.getResult().isEmpty()) {\r\n                        FirebaseUser firebaseUser = mAuth.getCurrentUser();\r\n                        userLiveData.setValue(firebaseUser);\r\n                    } else {\r\n                        userLiveData.setValue(null);\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void firebaseAuthWithGoogle(GoogleSignInAccount acct) {\r\n        mAuth.signInWithCredential(GoogleAuthProvider.getCredential(acct.getIdToken(), null))\r\n            .addOnCompleteListener(task -> {\r\n                if (task.isSuccessful()) {\r\n                    FirebaseUser firebaseUser = mAuth.getCurrentUser();\r\n                    if (firebaseUser != null) {\r\n                        Map<String, Object> userMap = new HashMap<>();\r\n                        userMap.put(\"userId\", firebaseUser.getUid());\r\n                        userMap.put(\"role\", \"customer\");\r\n                        if (firebaseUser.getDisplayName() != null) {\r\n                            userMap.put(\"fullName\", firebaseUser.getDisplayName());\r\n                        }\r\n                        if (firebaseUser.getEmail() != null) {\r\n                            userMap.put(\"email\", firebaseUser.getEmail());\r\n                        }\r\n                        if (firebaseUser.getPhoneNumber() != null) {\r\n                            userMap.put(\"phoneNumber\", firebaseUser.getPhoneNumber());\r\n                        }\r\n                        userMap.put(\"createdAt\", new Date());\r\n                        userMap.put(\"updatedAt\", new Date());\r\n\r\n                        firestore.collection(\"users\").document(firebaseUser.getUid())\r\n                            .set(userMap)\r\n                            .addOnSuccessListener(aVoid -> {\r\n                                userLiveData.setValue(firebaseUser);\r\n                                saveUserToPreferences(firebaseUser);\r\n                            })\r\n                            .addOnFailureListener(e -> {\r\n                                userLiveData.setValue(null);\r\n                            });\r\n\r\n                    } else {\r\n                        userLiveData.setValue(null);\r\n                    }\r\n                } else {\r\n                    userLiveData.setValue(null);\r\n                }\r\n            });\r\n    }\r\n\r\n    private void saveUserToPreferences(FirebaseUser user) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"user_id\", user.getUid());\r\n        editor.putString(\"user_name\", user.getDisplayName());\r\n        editor.putString(\"user_email\", user.getEmail());\r\n        editor.putBoolean(\"is_logged_in\", true);\r\n        editor.apply();\r\n    }\r\n}
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/src/main/java/com/example/agrimart/viewmodel/SignInViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/SignInViewModel.java
-------- a/app/src/main/java/com/example/agrimart/viewmodel/SignInViewModel.java	(revision 0eee4fcfc348860d62fb8000c5d9df6b50f566cc)
-----+++ b/app/src/main/java/com/example/agrimart/viewmodel/SignInViewModel.java	(date 1728564693995)
-----@@ -3,16 +3,14 @@
----- import android.app.Application;
----- import android.content.Context;
----- import android.content.SharedPreferences;
------import android.util.Log;
----- import androidx.annotation.NonNull;
----- import androidx.lifecycle.AndroidViewModel;
------import androidx.lifecycle.MutableLiveData;
------import com.example.agrimart.data.model.User;
-----+import com.google.android.gms.auth.api.signin.GoogleSignInAccount;
-----+import com.google.firebase.auth.AuthCredential;
----- import com.google.firebase.auth.FirebaseAuth;
----- import com.google.firebase.auth.FirebaseUser;
-----+import com.google.firebase.auth.FacebookAuthProvider;
----- import com.google.firebase.auth.GoogleAuthProvider;
------import com.google.android.gms.auth.api.signin.GoogleSignInAccount;
------import com.google.firebase.auth.PhoneAuthCredential;
----- import com.google.firebase.firestore.FirebaseFirestore;
----- 
----- import java.util.Date;
-----@@ -23,68 +21,83 @@
-----     private static final String TAG = "SignInViewModel";
-----     private FirebaseAuth mAuth;
-----     private FirebaseFirestore firestore;
------    public MutableLiveData<FirebaseUser> userLiveData;
-----     private SharedPreferences sharedPreferences;
----- 
-----     public SignInViewModel(@NonNull Application application) {
-----         super(application);
-----         mAuth = FirebaseAuth.getInstance();
-----         firestore = FirebaseFirestore.getInstance();
------        userLiveData = new MutableLiveData<>();
-----         sharedPreferences = application.getSharedPreferences("user_prefs", Context.MODE_PRIVATE);
-----     }
----- 
------    public void signInWithPhoneNumber(String phoneNumber) {
------        firestore.collection("users")
------                .whereEqualTo("phoneNumber", phoneNumber)
------                .get()
------                .addOnCompleteListener(task -> {
------                    if (task.isSuccessful() && !task.getResult().isEmpty()) {
------                        FirebaseUser firebaseUser = mAuth.getCurrentUser();
------                        userLiveData.setValue(firebaseUser);
------                    } else {
------                        userLiveData.setValue(null);
-----+    public void signInWithEmail(String email, String password, Runnable onSuccess) {
-----+        mAuth.signInWithEmailAndPassword(email, password)
-----+            .addOnCompleteListener(task -> {
-----+                if (task.isSuccessful()) {
-----+                    FirebaseUser firebaseUser = mAuth.getCurrentUser();
-----+                    if (firebaseUser != null) {
-----+                        saveUserToFirestore(firebaseUser, onSuccess);
-----+                    }
-----+                }
-----+            });
-----+    }
-----+
-----+    public void signInWithGoogle(AuthCredential credential, Runnable onSuccess) {
-----+        mAuth.signInWithCredential(credential)
-----+            .addOnCompleteListener(task -> {
-----+                if (task.isSuccessful()) {
-----+                    FirebaseUser firebaseUser = mAuth.getCurrentUser();
-----+                    if (firebaseUser != null) {
-----+                        saveUserToFirestore(firebaseUser, onSuccess);
-----                     }
------                });
-----+                }
-----+            });
-----     }
----- 
------    public void firebaseAuthWithGoogle(GoogleSignInAccount acct) {
------        mAuth.signInWithCredential(GoogleAuthProvider.getCredential(acct.getIdToken(), null))
-----+    public void signInWithFacebook(AuthCredential credential, Runnable onSuccess) {
-----+        mAuth.signInWithCredential(credential)
-----             .addOnCompleteListener(task -> {
-----                 if (task.isSuccessful()) {
-----                     FirebaseUser firebaseUser = mAuth.getCurrentUser();
-----                     if (firebaseUser != null) {
------                        Map<String, Object> userMap = new HashMap<>();
------                        userMap.put("userId", firebaseUser.getUid());
------                        userMap.put("role", "customer");
------                        if (firebaseUser.getDisplayName() != null) {
------                            userMap.put("fullName", firebaseUser.getDisplayName());
------                        }
------                        if (firebaseUser.getEmail() != null) {
------                            userMap.put("email", firebaseUser.getEmail());
------                        }
------                        if (firebaseUser.getPhoneNumber() != null) {
------                            userMap.put("phoneNumber", firebaseUser.getPhoneNumber());
------                        }
------                        userMap.put("createdAt", new Date());
------                        userMap.put("updatedAt", new Date());
-----+                        saveUserToFirestore(firebaseUser, onSuccess);
-----+                    }
-----+                }
-----+            });
-----+    }
-----+
-----+
-----+
-----+    private void saveUserToFirestore(FirebaseUser firebaseUser, Runnable onSuccess) {
-----+        firestore.collection("users").document(firebaseUser.getUid())
-----+            .get()
-----+            .addOnSuccessListener(documentSnapshot -> {
-----+                String role = "customer";
-----+                if (documentSnapshot.exists() && documentSnapshot.contains("role")) {
-----+                    role = documentSnapshot.getString("role");
-----+                }
-----+
-----+                Map<String, Object> userMap = new HashMap<>();
-----+                userMap.put("userId", firebaseUser.getUid());
-----+                userMap.put("role", role);
-----+                if (firebaseUser.getDisplayName() != null) {
-----+                    userMap.put("fullName", firebaseUser.getDisplayName());
-----+                }
-----+                if (firebaseUser.getEmail() != null) {
-----+                    userMap.put("email", firebaseUser.getEmail());
-----+                }
-----+                if (firebaseUser.getPhoneNumber() != null) {
-----+                    userMap.put("phoneNumber", firebaseUser.getPhoneNumber());
-----+                }
-----+                userMap.put("createdAt", new Date());
-----+                userMap.put("updatedAt", new Date());
----- 
------                        firestore.collection("users").document(firebaseUser.getUid())
------                            .set(userMap)
------                            .addOnSuccessListener(aVoid -> {
------                                userLiveData.setValue(firebaseUser);
------                                saveUserToPreferences(firebaseUser);
------                            })
------                            .addOnFailureListener(e -> {
------                                userLiveData.setValue(null);
------                            });
------
------                    } else {
------                        userLiveData.setValue(null);
------                    }
------                } else {
------                    userLiveData.setValue(null);
------                }
-----+                firestore.collection("users").document(firebaseUser.getUid())
-----+                    .set(userMap)
-----+                    .addOnSuccessListener(aVoid -> {
-----+                        saveUserToPreferences(firebaseUser);
-----+                        onSuccess.run();
-----+                    });
-----             });
-----     }
----- 
-----Index: app/src/main/res/layout/activity_sign_in.xml
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-----<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main1\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/white\"\r\n    tools:context=\".ui.Account.SignInActivity\">\r\n\r\n    <ImageView\r\n        android:layout_width=\"200dp\"\r\n        android:layout_height=\"100dp\"\r\n        android:src=\"@drawable/logo\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        android:layout_marginTop=\"20dp\"/>\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"160dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"@string/ng_nh_p\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.092\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        style=\"@style/title\"/>\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"10dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n        app:boxBackgroundColor=\"@color/white\"\r\n        app:startIconDrawable=\"@drawable/telephone\"\r\n        app:boxBackgroundMode=\"outline\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"@string/sodienthoai\"\r\n            android:inputType=\"text\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout3\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\"\r\n        app:startIconDrawable=\"@drawable/key\"\r\n        app:passwordToggleEnabled=\"true\"\r\n        app:boxBackgroundMode=\"outline\"\r\n        app:boxBackgroundColor=\"@color/white\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPassword\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:hint=\"@string/m_t_kh_u\"\r\n            android:inputType=\"textPassword\"\r\n            android:password=\"true\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/btnSignIn\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"50dp\"\r\n        android:layout_marginTop=\"36dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:drawableEnd=\"@drawable/arrowright\"\r\n        android:text=\"Đăng nhập\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.905\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout3\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btnSignInGoogle\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"50dp\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"44dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:backgroundTintMode=\"screen\"\r\n        android:drawableLeft=\"@drawable/google\"\r\n        android:drawablePadding=\"10dp\"\r\n        android:fontFamily=\"@font/circular_std\"\r\n        android:text=\"@string/continue_with_google\"\r\n        android:textFontWeight=\"500\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/btnSignIn\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/dontHaveAccount\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:layout_marginBottom=\"30dp\"\r\n        android:backgroundTint=\"@color/background_green\"\r\n        android:backgroundTintMode=\"screen\"\r\n        android:drawablePadding=\"10dp\"\r\n        android:fontFamily=\"@font/circular_std\"\r\n        android:text=\"@string/dang_ky\"\r\n        android:textFontWeight=\"500\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/forgotPassword\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:text=\"@string/qu_n_m_t_kh_u\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout3\"\r\n        android:fontFamily=\"@font/circular_std\"/>\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/src/main/res/layout/activity_sign_in.xml b/app/src/main/res/layout/activity_sign_in.xml
-------- a/app/src/main/res/layout/activity_sign_in.xml	(revision 0eee4fcfc348860d62fb8000c5d9df6b50f566cc)
-----+++ b/app/src/main/res/layout/activity_sign_in.xml	(date 1728558717561)
-----@@ -41,16 +41,16 @@
-----         app:layout_constraintStart_toStartOf="parent"
-----         app:layout_constraintTop_toBottomOf="@+id/textView2"
-----         app:boxBackgroundColor="@color/white"
------        app:startIconDrawable="@drawable/telephone"
-----+        app:startIconDrawable="@drawable/user"
-----         app:boxBackgroundMode="outline">
----- 
-----         <com.google.android.material.textfield.TextInputEditText
------            android:id="@+id/edtPhoneNumber"
-----+            android:id="@+id/edtEmail"
-----             android:layout_width="match_parent"
-----             android:layout_height="wrap_content"
-----             android:background="@null"
------            android:hint="@string/sodienthoai"
------            android:inputType="text" />
-----+            android:hint="@string/email"
-----+            android:inputType="textEmailAddress" />
-----     </com.google.android.material.textfield.TextInputLayout>
----- 
-----     <com.google.android.material.textfield.TextInputLayout
-----@@ -64,17 +64,16 @@
-----         app:layout_constraintStart_toStartOf="parent"
-----         app:layout_constraintTop_toBottomOf="@+id/textInputLayout2"
-----         app:startIconDrawable="@drawable/key"
------        app:passwordToggleEnabled="true"
-----         app:boxBackgroundMode="outline"
------        app:boxBackgroundColor="@color/white">
-----+        app:boxBackgroundColor="@color/white"
-----+        app:passwordToggleEnabled="true">
----- 
-----         <com.google.android.material.textfield.TextInputEditText
-----             android:id="@+id/edtPassword"
-----             android:layout_width="match_parent"
-----             android:layout_height="wrap_content"
-----             android:hint="@string/m_t_kh_u"
------            android:inputType="textPassword"
------            android:password="true" />
-----+            android:inputType="textPassword" />
-----     </com.google.android.material.textfield.TextInputLayout>
----- 
-----     <Button
-----@@ -111,6 +110,26 @@
-----         app:cornerRadius="24dp"
-----         app:layout_constraintTop_toBottomOf="@+id/btnSignIn" />
----- 
-----+    <Button
-----+        android:id="@+id/btnSignInFacebook"
-----+        android:layout_width="match_parent"
-----+        android:layout_height="50dp"
-----+        android:layout_marginStart="24dp"
-----+        android:layout_marginTop="14dp"
-----+        android:layout_marginEnd="24dp"
-----+        android:backgroundTint="@color/green"
-----+        android:backgroundTintMode="screen"
-----+        android:drawableLeft="@drawable/facebook"
-----+        android:drawablePadding="10dp"
-----+        android:fontFamily="@font/circular_std"
-----+        android:text="@string/loginwithfacebook"
-----+        android:textFontWeight="500"
-----+        app:layout_constraintEnd_toEndOf="parent"
-----+        app:layout_constraintHorizontal_bias="0.0"
-----+        app:layout_constraintStart_toStartOf="parent"
-----+        app:cornerRadius="24dp"
-----+        app:layout_constraintTop_toBottomOf="@+id/btnSignInGoogle" />
-----+
-----     <TextView
-----         android:id="@+id/dontHaveAccount"
-----         android:layout_width="wrap_content"
-----Index: app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-----<+>package com.example.agrimart.ui.MyProfile;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.LinearLayout;\r\n\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.Account.SignInActivity;\r\nimport com.example.agrimart.ui.MyProfile.MyAddress.MyAddressActivity;\r\nimport com.example.agrimart.ui.MyProfile.MyStore.MyStoreActivity;\r\nimport com.example.agrimart.ui.MyProfile.PurchasedOrders.PurchasedOrdersActivity;\r\nimport android.content.Context;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link MyProfileFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class MyProfileFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public MyProfileFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment MyProfileFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static MyProfileFragment newInstance(String param1, String param2) {\r\n        MyProfileFragment fragment = new MyProfileFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    private LinearLayout purchase_order, confirm, goods, logout,\r\n            delivery, evaluate, my_store, my_address, setting;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_my_profile, container, false);\r\n\r\n\r\n        addControl(view);\r\n        addEvents();\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getActivity().getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        return view;\r\n    }\r\n\r\n    @SuppressLint(\"WrongViewCast\")\r\n    void addControl(View view) {\r\n        purchase_order = (LinearLayout)view.findViewById(R.id.purchase_order);\r\n        confirm = (LinearLayout)view.findViewById(R.id.waiting_confirm);\r\n        goods = (LinearLayout)view.findViewById(R.id.waiting_goods);\r\n        delivery = (LinearLayout)view.findViewById(R.id.waiting_delivery);\r\n        evaluate = (LinearLayout)view.findViewById(R.id.evaluate);\r\n        my_store = (LinearLayout)view.findViewById(R.id.my_store);\r\n        my_address = (LinearLayout)view.findViewById(R.id.my_address);\r\n        setting = (LinearLayout)view.findViewById(R.id.setting);\r\n        logout = (LinearLayout)view.findViewById(R.id.logout);\r\n    }\r\n\r\n    void addEvents() {\r\n        // Thêm sự kiện OnClick cho các view\r\n        purchase_order.setOnClickListener(v -> navigateToPurchasedOrders());\r\n\r\n        confirm.setOnClickListener(v -> navigateToWaitingConfirm());\r\n\r\n        goods.setOnClickListener(v -> navigateToWaitingGoods());\r\n\r\n        delivery.setOnClickListener(v -> navigateToWaitingDeliverey());\r\n\r\n        evaluate.setOnClickListener(v -> navigateToEcaluate());\r\n\r\n        my_store.setOnClickListener(v -> navigateToMyStore());\r\n\r\n        my_address.setOnClickListener(v -> navigateToAddress());\r\n\r\n        setting.setOnClickListener(v -> navigateToSettings());\r\n\r\n        logout.setOnClickListener(v -> handleLogout());\r\n    }\r\n\r\n    private void navigateToPurchasedOrders() {\r\n        Intent intent = new Intent(requireContext(), PurchasedOrdersActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void navigateToAddress() {\r\n        Intent intent = new Intent(requireContext(), MyAddressActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void navigateToWaitingConfirm() {\r\n        Intent intent = new Intent(requireContext(), PurchasedOrdersActivity.class);\r\n        intent.putExtra(\"selectedTab\", 0);  // Tab thứ 2 có chỉ số là 1\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void navigateToWaitingGoods() {\r\n        Intent intent = new Intent(requireContext(), PurchasedOrdersActivity.class);\r\n        intent.putExtra(\"selectedTab\", 1);  // Tab thứ 2 có chỉ số là 1\r\n        startActivity(intent);\r\n    }\r\n\r\n\r\n    private void navigateToWaitingDeliverey() {\r\n        Intent intent = new Intent(requireContext(), PurchasedOrdersActivity.class);\r\n        intent.putExtra(\"selectedTab\", 2);  // Tab thứ 2 có chỉ số là 1\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void navigateToMyStore() {\r\n        Intent intent = new Intent(requireContext(), MyStoreActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void navigateToSettings() {\r\n        //Intent intent = new Intent(requireContext(), SettingsActivity.class);\r\n        //startActivity(intent);\r\n    }\r\n\r\n    private void handleLogout() {\r\n        SharedPreferences sharedPreferences = requireContext().getSharedPreferences(\"user_prefs\", Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.clear();\r\n        editor.apply();\r\n\r\n        FirebaseAuth.getInstance().signOut();\r\n        Intent intent = new Intent(requireContext(), SignInActivity.class);\r\n        startActivity(intent);\r\n        requireActivity().finish();\r\n        Toast.makeText(requireContext(), \"Đăng xuất thành công\", Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    private void navigateToEcaluate() {\r\n\r\n    }\r\n\r\n\r\n}
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java
-------- a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java	(revision 0eee4fcfc348860d62fb8000c5d9df6b50f566cc)
-----+++ b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyProfileFragment.java	(date 1728564868957)
-----@@ -23,6 +23,7 @@
----- import android.content.Context;
----- import android.widget.Toast;
----- 
-----+import com.facebook.login.LoginManager;
----- import com.google.firebase.auth.FirebaseAuth;
----- 
----- /**
-----@@ -172,6 +173,8 @@
-----         editor.apply();
----- 
-----         FirebaseAuth.getInstance().signOut();
-----+        LoginManager.getInstance().logOut();
-----+
-----         Intent intent = new Intent(requireContext(), SignInActivity.class);
-----         startActivity(intent);
-----         requireActivity().finish();
-----Index: app/build.gradle.kts
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-----<+>plugins {\r\n    id(\"com.android.application\")\r\n    id(\"com.google.gms.google-services\")\r\n}\r\n\r\nandroid {\r\n    namespace = \"com.example.agrimart\"\r\n    compileSdk = 34\r\n\r\n    defaultConfig {\r\n        applicationId = \"com.example.agrimart\"\r\n        minSdk = 30\r\n        targetSdk = 34\r\n        versionCode = 1\r\n        versionName = \"1.0\"\r\n\r\n        testInstrumentationRunner = \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            isMinifyEnabled = false\r\n            proguardFiles(getDefaultProguardFile(\"proguard-android-optimize.txt\"), \"proguard-rules.pro\")\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility = JavaVersion.VERSION_1_8\r\n        targetCompatibility = JavaVersion.VERSION_1_8\r\n    }\r\n    sourceSets {\r\n        getByName(\"main\") {\r\n            res {\r\n                srcDirs(\"src\\\\main\\\\res\", \"src\\\\main\\\\res\\\\animator\")\r\n            }\r\n        }\r\n    }\r\n    buildFeatures{\r\n        viewBinding=true;\r\n        dataBinding=true;\r\n    }\r\n}\r\ndependencies {\r\n    implementation(\"androidx.core:core-ktx:1.12.0\")\r\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib:1.8.22\")\r\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.22\")\r\n    implementation(\"androidx.viewpager:viewpager:1.0.0\")\r\n    implementation(\"com.google.android.material:material:1.9.0\")\r\n    implementation(\"androidx.appcompat:appcompat:1.6.1\")\r\n    implementation(\"androidx.constraintlayout:constraintlayout:2.1.4\")\r\n    implementation(\"androidx.activity:activity:1.9.1\")\r\n    implementation (\"com.github.denzcoskun:ImageSlideshow:0.1.2\")\r\n    implementation (\"de.hdodenhof:circleimageview:3.1.0\")\r\n    implementation (\"com.squareup.picasso:picasso:2.71828\")\r\n    implementation(\"androidx.lifecycle:lifecycle-livedata-ktx:2.8.5\")\r\n    implementation(\"androidx.lifecycle:lifecycle-viewmodel-ktx:2.8.5\")\r\n    implementation(\"androidx.recyclerview:recyclerview:1.3.2\")\r\n    implementation (\"com.google.android.material:material:1.8.0\")\r\n    implementation(\"com.google.firebase:firebase-firestore:25.1.0\")\r\n    implementation(\"com.google.firebase:firebase-auth:23.0.0\")\r\n    implementation(\"com.google.firebase:firebase-storage:21.0.0\")\r\n    implementation(\"com.google.firebase:firebase-messaging:24.0.1\")\r\n    implementation(\"com.google.firebase:firebase-inappmessaging-display:21.0.0\")\r\n    testImplementation(\"junit:junit:4.13.2\")\r\n    androidTestImplementation(\"androidx.test.ext:junit:1.2.1\")\r\n    androidTestImplementation(\"androidx.test.espresso:espresso-core:3.6.1\")\r\n    implementation(\"com.google.android.gms:play-services-auth:20.2.0\")\r\n    implementation(platform(\"com.google.firebase:firebase-bom:33.4.0\"))\r\n    implementation (\"com.google.code.gson:gson:2.8.9\")\r\n    implementation (\"com.github.bumptech.glide:glide:4.16.0\")\r\n    // ViewModel\r\n//    implementation(\"androidx.lifecycle:lifecycle-viewmodel:2.8.5\")\r\n\r\n}\r\n
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/build.gradle.kts b/app/build.gradle.kts
-------- a/app/build.gradle.kts	(revision 0eee4fcfc348860d62fb8000c5d9df6b50f566cc)
-----+++ b/app/build.gradle.kts	(date 1728562631328)
-----@@ -34,11 +34,12 @@
-----             }
-----         }
-----     }
------    buildFeatures{
------        viewBinding=true;
------        dataBinding=true;
-----+    buildFeatures {
-----+        viewBinding = true
-----+        dataBinding = true
-----     }
----- }
-----+
----- dependencies {
-----     implementation("androidx.core:core-ktx:1.12.0")
-----     implementation("org.jetbrains.kotlin:kotlin-stdlib:1.8.22")
-----@@ -48,13 +49,12 @@
-----     implementation("androidx.appcompat:appcompat:1.6.1")
-----     implementation("androidx.constraintlayout:constraintlayout:2.1.4")
-----     implementation("androidx.activity:activity:1.9.1")
------    implementation ("com.github.denzcoskun:ImageSlideshow:0.1.2")
------    implementation ("de.hdodenhof:circleimageview:3.1.0")
------    implementation ("com.squareup.picasso:picasso:2.71828")
-----+    implementation("com.github.denzcoskun:ImageSlideshow:0.1.2")
-----+    implementation("de.hdodenhof:circleimageview:3.1.0")
-----+    implementation("com.squareup.picasso:picasso:2.71828")
-----     implementation("androidx.lifecycle:lifecycle-livedata-ktx:2.8.5")
-----     implementation("androidx.lifecycle:lifecycle-viewmodel-ktx:2.8.5")
-----     implementation("androidx.recyclerview:recyclerview:1.3.2")
------    implementation ("com.google.android.material:material:1.8.0")
-----     implementation("com.google.firebase:firebase-firestore:25.1.0")
-----     implementation("com.google.firebase:firebase-auth:23.0.0")
-----     implementation("com.google.firebase:firebase-storage:21.0.0")
-----@@ -65,9 +65,8 @@
-----     androidTestImplementation("androidx.test.espresso:espresso-core:3.6.1")
-----     implementation("com.google.android.gms:play-services-auth:20.2.0")
-----     implementation(platform("com.google.firebase:firebase-bom:33.4.0"))
------    implementation ("com.google.code.gson:gson:2.8.9")
------    implementation ("com.github.bumptech.glide:glide:4.16.0")
------    // ViewModel
------//    implementation("androidx.lifecycle:lifecycle-viewmodel:2.8.5")
------
------}
-----+    implementation("com.google.code.gson:gson:2.8.9")
-----+    implementation("com.github.bumptech.glide:glide:4.16.0")
-----+    implementation ("com.facebook.android:facebook-login:latest.release")
-----+    implementation("androidx.browser:browser:1.4.0")
-----+}
-----\ No newline at end of file
-----Index: app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-----<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.telephony.SmsManager;\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\npublic class SignUpViewModel extends ViewModel {\r\n    private static final String TAG = \"SignUpViewModel\";\r\n    private final MutableLiveData<Boolean> otpSentSuccess = new MutableLiveData<>();\r\n    private String otpValue;\r\n\r\n    public LiveData<Boolean> getOtpSentSuccess() {\r\n        return otpSentSuccess;\r\n    }\r\n\r\n}\r\n
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java
-------- a/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java	(revision 0eee4fcfc348860d62fb8000c5d9df6b50f566cc)
-----+++ b/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java	(date 1728548144389)
-----@@ -1,19 +1,97 @@
----- package com.example.agrimart.viewmodel;
----- 
------import android.telephony.SmsManager;
------import android.util.Log;
------
------import androidx.lifecycle.LiveData;
-----+import android.app.Application;
-----+import androidx.annotation.NonNull;
-----+import androidx.lifecycle.AndroidViewModel;
----- import androidx.lifecycle.MutableLiveData;
------import androidx.lifecycle.ViewModel;
-----+import com.google.firebase.auth.FirebaseAuth;
-----+import com.google.firebase.auth.FirebaseUser;
-----+import com.google.firebase.firestore.FirebaseFirestore;
-----+
-----+import java.util.Date;
-----+import java.util.HashMap;
-----+import java.util.Map;
-----+
-----+public class SignUpViewModel extends AndroidViewModel {
-----+    private FirebaseAuth mAuth;
-----+    private FirebaseFirestore firestore;
-----+    private MutableLiveData<Boolean> signUpSuccess;
-----+    private MutableLiveData<Boolean> emailVerificationSent;
-----+
-----+    public SignUpViewModel(@NonNull Application application) {
-----+        super(application);
-----+        mAuth = FirebaseAuth.getInstance();
-----+        firestore = FirebaseFirestore.getInstance();
-----+        signUpSuccess = new MutableLiveData<>();
-----+        emailVerificationSent = new MutableLiveData<>();
-----+    }
-----+
-----+    public MutableLiveData<Boolean> getSignUpSuccess() {
-----+        return signUpSuccess;
-----+    }
-----+
-----+    public MutableLiveData<Boolean> getEmailVerificationSent() {
-----+        return emailVerificationSent;
-----+    }
-----+
-----+    public void signUpWithEmail(String email, String password) {
-----+        mAuth.createUserWithEmailAndPassword(email, password)
-----+            .addOnCompleteListener(task -> {
-----+                if (task.isSuccessful()) {
-----+                    FirebaseUser user = mAuth.getCurrentUser();
-----+                    if (user != null) {
-----+                        sendEmailVerification(user);
-----+                    }
-----+                    signUpSuccess.setValue(true);
-----+                } else {
-----+                    signUpSuccess.setValue(false);
-----+                }
-----+            });
-----+    }
----- 
------public class SignUpViewModel extends ViewModel {
------    private static final String TAG = "SignUpViewModel";
------    private final MutableLiveData<Boolean> otpSentSuccess = new MutableLiveData<>();
------    private String otpValue;
-----+    public void sendEmailVerification(FirebaseUser user) { // Changed to public
-----+        user.sendEmailVerification()
-----+            .addOnCompleteListener(task -> {
-----+                if (task.isSuccessful()) {
-----+                    emailVerificationSent.setValue(true);
-----+                } else {
-----+                    emailVerificationSent.setValue(false);
-----+                }
-----+            });
-----+    }
----- 
------    public LiveData<Boolean> getOtpSentSuccess() {
------        return otpSentSuccess;
------    }
-----+    public void saveUserToFirestore(FirebaseUser firebaseUser) {
-----+        firestore.collection("users").document(firebaseUser.getUid())
-----+            .get()
-----+            .addOnSuccessListener(documentSnapshot -> {
-----+                String role = "customer";
-----+                if (documentSnapshot.exists() && documentSnapshot.contains("role")) {
-----+                    role = documentSnapshot.getString("role");
-----+                }
----- 
------}
-----+                Map<String, Object> userMap = new HashMap<>();
-----+                userMap.put("userId", firebaseUser.getUid());
-----+                userMap.put("role", role);
-----+                if (firebaseUser.getDisplayName() != null) {
-----+                    userMap.put("fullName", firebaseUser.getDisplayName());
-----+                }
-----+                if (firebaseUser.getEmail() != null) {
-----+                    userMap.put("email", firebaseUser.getEmail());
-----+                }
-----+                if (firebaseUser.getPhoneNumber() != null) {
-----+                    userMap.put("phoneNumber", firebaseUser.getPhoneNumber());
-----+                }
-----+                userMap.put("createdAt", new Date());
-----+                userMap.put("updatedAt", new Date());
-----+
-----+                firestore.collection("users").document(firebaseUser.getUid())
-----+                    .set(userMap)
-----+                    .addOnSuccessListener(aVoid -> {
-----+                    })
-----+                    .addOnFailureListener(e -> {
-----+                    });
-----+            })
-----+            .addOnFailureListener(e -> {
-----+            });
-----+    }
-----+}
-----\ No newline at end of file
-----Index: app/src/main/java/com/example/agrimart/utils/Validation.java
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/src/main/java/com/example/agrimart/utils/Validation.java b/app/src/main/java/com/example/agrimart/utils/Valid.java
-----rename from app/src/main/java/com/example/agrimart/utils/Validation.java
-----rename to app/src/main/java/com/example/agrimart/utils/Valid.java
-------- a/app/src/main/java/com/example/agrimart/utils/Validation.java	(revision 0eee4fcfc348860d62fb8000c5d9df6b50f566cc)
-----+++ b/app/src/main/java/com/example/agrimart/utils/Valid.java	(date 1728546874001)
-----@@ -1,4 +1,45 @@
----- package com.example.agrimart.utils;
----- 
------public class Validation {
------}
-----+import android.widget.TextView;
-----+import android.util.Patterns;
-----+
-----+public class Valid {
-----+    public static boolean isValidEmail(String email) {
-----+        return !email.isEmpty() && Patterns.EMAIL_ADDRESS.matcher(email).matches();
-----+    }
-----+
-----+    public static boolean isValidPassword(String password) {
-----+        return !password.isEmpty() && password.length() >= 8 && password.matches(".*[A-Z].*") && password.matches(".*\\d.*");
-----+    }
-----+
-----+    public static boolean isValidName(String name) {
-----+        return !name.isEmpty() && name.length() >= 3 && !name.matches(".*\\d.*");
-----+    }
-----+
-----+    public static boolean validateInputs(String email, String password, String name, TextView tvEmailError, TextView tvPasswordError, TextView tvNameError) {
-----+        boolean isValid = true;
-----+
-----+        if (!isValidEmail(email)) {
-----+            tvEmailError.setText("Email không hợp lệ");
-----+            isValid = false;
-----+        } else {
-----+            tvEmailError.setText("");
-----+        }
-----+
-----+        if (!isValidPassword(password)) {
-----+            tvPasswordError.setText("Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa và số");
-----+            isValid = false;
-----+        } else {
-----+            tvPasswordError.setText("");
-----+        }
-----+
-----+        if (!isValidName(name)) {
-----+            tvNameError.setText("Tên phải có ít nhất 3 ký tự và không được chứa số");
-----+            isValid = false;
-----+        } else {
-----+            tvNameError.setText("");
-----+        }
-----+
-----+        return isValid;
-----+    }
-----+}
-----\ No newline at end of file
-----Index: app/src/main/res/values/strings.xml
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-----<+><resources>\r\n    <string name=\"app_name\">AgriMart</string>\r\n    <string name=\"categories\">Danh mục sản phẩm</string>\r\n    <string name=\"see_all\">Xem thêm</string>\r\n    <string name=\"top_selling\">Bán chạy nhất</string>\r\n    <string name=\"home\">Trang chủ</string>\r\n    <string name=\"profile\">Tôi</string>\r\n    <string name=\"order\">Order</string>\r\n    <string name=\"newsfeed\">Tin mới</string>\r\n    <string name=\"post\">Đăng bài</string>\r\n    <string name=\"cart\">Giỏ hàng</string>\r\n    <string name=\"ng_b_n\">Đăng bán</string>\r\n    <string name=\"cho\">Chợ</string>\r\n    <string name=\"search_hint\">tim kiem san pham</string>\r\n    <string name=\"search\">Tìm kiếm sản phẩm</string>\r\n    <string name=\"ng_nh_p\">Đăng nhập</string>\r\n    <string name=\"ch_a_c_t_i_kho_n\"><u>Chưa có tài khoản?</u></string>\r\n    <string name=\"m_t_kh_u\">Mật khẩu</string>\r\n    <string name=\"continue_with_google\"> Đăng nhập bằng Google</string>\r\n    <string name=\"dang_ky\">Chưa có tài khoản? <b>Đăng ký</b></string>\r\n    <string name=\"c_t_i_kho_n\"><u>Đã có tài khoản?</u></string>\r\n    <string name=\"ng_k_b_ng_s_i_n_tho_i\">Đăng ký bằng số điện thoại</string>\r\n    <string name=\"ng_k_b_ng_email\">Đăng ký bằng email</string>\r\n    <string name=\"qu_n_m_t_kh_u\">Quên mật khẩu?</string>\r\n    <string name=\"nh_p_email_ho_c_s_i_n_tho_i\">Nhập email hoặc số điện thoại</string>\r\n    <string name=\"sodienthoai\">Số điện thoại</string>\r\n    <string name=\"g_i_l_i\"><u>Gửi lại</u></string>\r\n\r\n\r\n    <!-- PostProduct -->\r\n    <string name=\"nh_p_s_l_ng_c_n_b_n\">Your desired text here</string>\r\n    <string name=\"desc_vegetable\">Rau củ quả</string>\r\n    <string name=\"desc_fruit\">Trái cây</string>\r\n    <string name=\"desc_meat_eggs\">Trứng, thịt</string>\r\n    <string name=\"desc_milk\">Sữa, bơ, phô mai</string>\r\n    <string name=\"desc_sweets\">Bánh kẹo</string>\r\n    <string name=\"nh_s_n_ph_m_th_c_t\">Ảnh sản phẩm thực tế</string>\r\n    <string name=\"th_m_nh\">Thêm ảnh</string>\r\n    <string name=\"todo\">TODO</string>\r\n    <string name=\"t_n_s_n_ph_m\">Tên sản phẩm</string>\r\n    <string name=\"c_i_t_n_n_i_l_n_t_t_c_s_gi_p_ch_r_t_nhi_u_y\">Cái tên nói lên tất cả sẽ giúp ích rất nhiều đấy</string>\r\n    <string name=\"m_t_s_n_ph_m\">Mô tả sản phẩm</string>\r\n    <string name=\"m_t_o_n_v_n_m_t_y_s_gi_p_s_n_ph_m_c_a_b_n_b_n_d_h_n\">Một đoạn văn mô tả đầy đủ sẽ giúp sản phẩm của bạn bán dễ hơn</string>\r\n    <string name=\"ph_n_lo_i_s_n_ph_m\">Phân loại sản phẩm</string>\r\n    <string name=\"rau_c\">Rau củ</string>\r\n    <string name=\"tr_i_c_y\">Trái cây</string>\r\n    <string name=\"th_t_tr_ng\">Thịt, Trứng</string>\r\n    <string name=\"s_a_b_ph_mai\">Sữa, bơ, phô mai</string>\r\n    <string name=\"ng_t\">Đồ ngọt</string>\r\n    <string name=\"ti_p_t_c\">Tiếp tục</string>\r\n    <string name=\"gi_b_n\">Giá bán</string>\r\n    <string name=\"n_v\">Đơn vị </string>\r\n    <string name=\"hi_n_c\">Hiện có</string>\r\n    <string name=\"nh_p_gi_b_n\">Nhập giá bán</string>\r\n    <string name=\"nh_p_n_v_kg_ch_c_c_i\">Nhập đơn vị (kg, chục, cái)</string>\r\n    <string name=\"_200kg\">200kg</string>\r\n    <string name=\"s_u_ri_ng_lan_t_a\">Sầu riêng lan tỏa</string>\r\n    <string name=\"_20_ng_i_ang_h_i\">20 người đang hỏi</string>\r\n    <string name=\"dang_san_pham\">ĐĂNG SẢN PHẨM</string>\r\n    <string name=\"frash_fruits_vegetable\"><![CDATA[Frash Fruits & Vegetable]]></string>\r\n    <string name=\"add_cart\">Thêm vào giỏ hàng</string>\r\n    <string name=\"product_name\">Tên sản phẩm</string>\r\n    <string name=\"price\">50.000đ</string>\r\n    <string name=\"address\">123 Lê Trọng Tấn, Quận Tân Phú, TP.HCM</string>\r\n    <string name=\"description\">Mô tả chi tiết</string>\r\n    <string name=\"descriptions\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</string>\r\n    <string name=\"user_review\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</string>\r\n    <string name=\"my_cart\">Giỏ hàng</string>\r\n    <string name=\"notification_time\">1 phút trước</string>\r\n    <string name=\"notification_message\">Khánh vừa đặt mua sản phẩm của bạn: Chuối nhà trồng...</string>\r\n    <string name=\"cate\">Gian hàng</string>\r\n    <string name=\"t_m_theo_danh_m_c\">Tìm theo danh mục</string>\r\n    <string name=\"thong_bao\">Thông báo</string>\r\n    <string name=\"n_h_ng\">Đơn hàng</string>\r\n    <string name=\"_0\">0</string>\r\n    <string name=\"ch_l_y_h_ng\">Chờ lấy hàng</string>\r\n    <string name=\"n_h_y\">Đơn hủy</string>\r\n    <string name=\"tr_h_ng_ho_n_ti_n\">Trả hàng/Hoàn tiền</string>\r\n\r\n    <string-array name=\"filter_options\">\r\n        <item>Sort by Price</item>\r\n        <item>Newest</item>\r\n        <item>Oldest</item>\r\n    </string-array>\r\n\r\n    <style name=\"TabTextAppearance\" parent=\"TextAppearance.Design.Tab\">\r\n        <item name=\"android:textSize\">16sp</item>\r\n        <item name=\"android:textColor\">@color/black</item>\r\n        <item name=\"android:textStyle\">bold</item>\r\n    </style>\r\n\r\n    <string name=\"default_web_client_id\">689266518488-dggpokj3cbc4t7hoa53j2vsa6vt59qi4.apps.googleusercontent.com</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n</resources>
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
-------- a/app/src/main/res/values/strings.xml	(revision 0eee4fcfc348860d62fb8000c5d9df6b50f566cc)
-----+++ b/app/src/main/res/values/strings.xml	(date 1728561169616)
-----@@ -90,6 +90,13 @@
-----     </style>
----- 
-----     <string name="default_web_client_id">689266518488-dggpokj3cbc4t7hoa53j2vsa6vt59qi4.apps.googleusercontent.com</string>
------    <!-- TODO: Remove or change this placeholder text -->
-----     <string name="hello_blank_fragment">Hello blank fragment</string>
-----+    <string name="email">Email</string>
-----+
-----+    //facebook
-----+    <string name="loginwithfacebook">Đăng nhập bằng Facebook</string>
-----+    <string name="facebook_app_id">456355280794721</string>
-----+    <string name="fb_login_protocol_scheme">fb456355280794721</string>
-----+    <string name="facebook_client_token">fbc7722b3ad7a34dbf443766e81403c1</string>
-----+    <string name="facebook_app_secret">239308944b7f4f13d8ed33f56b79c7cc</string>
----- </resources>
-----\ No newline at end of file
-----Index: app/src/main/res/layout/activity_sign_up.xml
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-----<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main1\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/white\"\r\n    tools:context=\".ui.Account.SignUpActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"32dp\"\r\n        android:layout_height=\"32dp\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:background=\"@color/white\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"60dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"Đăng ký\"\r\n        android:textSize=\"34sp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        style=\"@style/title\"/>\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"40dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:boxBackgroundColor=\"@color/white\"\r\n        app:boxBackgroundMode=\"outline\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"1.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n        app:startIconDrawable=\"@drawable/signature\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtUsername\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"Họ và tên\"\r\n            android:inputType=\"text\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <TextView\r\n        android:id=\"@+id/tvUsernameError\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:textColor=\"@android:color/holo_red_dark\"\r\n        android:visibility=\"gone\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"/>\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout5\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:boxBackgroundColor=\"@color/white\"\r\n        app:boxBackgroundMode=\"outline\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"1.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tvUsernameError\"\r\n        app:startIconDrawable=\"@drawable/telephone\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"Số điện thoại\"\r\n            android:inputType=\"phone\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <TextView\r\n        android:id=\"@+id/tvPhoneNumberError\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:textColor=\"@android:color/holo_red_dark\"\r\n        android:visibility=\"gone\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout5\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"/>\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout3\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:boxBackgroundColor=\"@color/white\"\r\n        app:boxBackgroundMode=\"outline\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tvPhoneNumberError\"\r\n        app:passwordToggleEnabled=\"true\"\r\n        app:startIconDrawable=\"@drawable/key\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPassword\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:hint=\"@string/m_t_kh_u\"\r\n            android:inputType=\"textPassword\"\r\n            android:password=\"true\" />\r\n\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <TextView\r\n        android:id=\"@+id/tvPasswordError\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:textColor=\"@android:color/holo_red_dark\"\r\n        android:visibility=\"gone\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout3\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"/>\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout4\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:boxBackgroundColor=\"@color/white\"\r\n        app:boxBackgroundMode=\"outline\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tvPasswordError\"\r\n        app:passwordToggleEnabled=\"true\"\r\n        app:startIconDrawable=\"@drawable/key\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtConfirmPassword\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:hint=\"Nhập lại mật khẩu\"\r\n            android:inputType=\"textPassword\"\r\n            android:password=\"true\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <TextView\r\n        android:id=\"@+id/tvConfirmPasswordError\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:textColor=\"@android:color/holo_red_dark\"\r\n        android:visibility=\"gone\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout4\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"/>\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_signin\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:drawableEnd=\"@drawable/arrowright\"\r\n        android:text=\"Đăng ký\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.498\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tvConfirmPasswordError\"\r\n        app:cornerRadius=\"24dp\"/>\r\n\r\n    <TextView\r\n        android:id=\"@+id/haveAccount\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"124dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:fontFamily=\"@font/circular_std\"\r\n        android:text=\"@string/c_t_i_kho_n\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.498\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/btn_signin\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <ProgressBar\r\n        android:id=\"@+id/progressBar\"\r\n        style=\"?android:attr/progressBarStyle\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_weight=\"1\"\r\n        android:visibility=\"gone\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/src/main/res/layout/activity_sign_up.xml b/app/src/main/res/layout/activity_sign_up.xml
-------- a/app/src/main/res/layout/activity_sign_up.xml	(revision 0eee4fcfc348860d62fb8000c5d9df6b50f566cc)
-----+++ b/app/src/main/res/layout/activity_sign_up.xml	(date 1728552428798)
-----@@ -60,7 +60,7 @@
-----     </com.google.android.material.textfield.TextInputLayout>
----- 
-----     <TextView
------        android:id="@+id/tvUsernameError"
-----+        android:id="@+id/tvNameError"
-----         android:layout_width="match_parent"
-----         android:layout_height="wrap_content"
-----         android:textColor="@android:color/holo_red_dark"
-----@@ -83,20 +83,20 @@
-----         app:layout_constraintEnd_toEndOf="parent"
-----         app:layout_constraintHorizontal_bias="1.0"
-----         app:layout_constraintStart_toStartOf="parent"
------        app:layout_constraintTop_toBottomOf="@+id/tvUsernameError"
------        app:startIconDrawable="@drawable/telephone">
-----+        app:layout_constraintTop_toBottomOf="@+id/tvNameError"
-----+        app:startIconDrawable="@drawable/user">
----- 
-----         <com.google.android.material.textfield.TextInputEditText
------            android:id="@+id/edtPhoneNumber"
-----+            android:id="@+id/edtEmail"
-----             android:layout_width="match_parent"
-----             android:layout_height="wrap_content"
-----             android:background="@null"
------            android:hint="Số điện thoại"
------            android:inputType="phone" />
-----+            android:hint="@string/email"
-----+            android:inputType="textEmailAddress" />
-----     </com.google.android.material.textfield.TextInputLayout>
----- 
-----     <TextView
------        android:id="@+id/tvPhoneNumberError"
-----+        android:id="@+id/tvEmailError"
-----         android:layout_width="match_parent"
-----         android:layout_height="wrap_content"
-----         android:textColor="@android:color/holo_red_dark"
-----@@ -118,7 +118,7 @@
-----         app:boxBackgroundMode="outline"
-----         app:layout_constraintEnd_toEndOf="parent"
-----         app:layout_constraintStart_toStartOf="parent"
------        app:layout_constraintTop_toBottomOf="@+id/tvPhoneNumberError"
-----+        app:layout_constraintTop_toBottomOf="@+id/tvEmailError"
-----         app:passwordToggleEnabled="true"
-----         app:startIconDrawable="@drawable/key">
----- 
-----@@ -221,5 +221,4 @@
-----         app:layout_constraintStart_toStartOf="parent"
-----         app:layout_constraintTop_toTopOf="parent" />
----- 
------
----- </androidx.constraintlayout.widget.ConstraintLayout>
-----\ No newline at end of file
-----Index: app/src/main/AndroidManifest.xml
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-----<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <uses-feature\r\n        android:name=\"android.hardware.telephony\"\r\n        android:required=\"false\" />\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.WAKE_LOCK\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n    <uses-permission android:name=\"android.permission.GET_ACCOUNTS\" />\r\n    <uses-permission android:name=\"android.permission.USE_CREDENTIALS\" />\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.READ_MEDIA_IMAGES\" />\r\n    <uses-permission android:name=\"android.permission.SEND_SMS\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\r\n        android:fullBackupContent=\"@xml/backup_rules\"\r\n        android:icon=\"@drawable/logo_icon\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@drawable/logo_icon\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.AgriMart\"\r\n        tools:ignore=\"ExtraText\"\r\n        tools:targetApi=\"31\">\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyStore.MyStoreActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.PurchasedOrders.PurchasedOrdersActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyAddress.MyAddressActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Store.StoreActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MyProfile.MyStore.OrderManagementActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Homepage.SearchActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Cart.CheckoutActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.ProductPage.ProductDetailActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.YourProductListingsActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.PostProduct.PostProductActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.MainActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.EnterOTPActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.ForgotPasswordActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.SignUpActivity\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Homepage.HomeFragment\"\r\n            android:exported=\"false\" />\r\n        <activity\r\n            android:name=\".ui.Account.SignInActivity\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
-------- a/app/src/main/AndroidManifest.xml	(revision 0eee4fcfc348860d62fb8000c5d9df6b50f566cc)
-----+++ b/app/src/main/AndroidManifest.xml	(date 1728560320633)
-----@@ -28,6 +28,9 @@
-----         tools:ignore="ExtraText"
-----         tools:targetApi="31">
-----         <activity
-----+            android:name=".ui.Account.VerifyActivity"
-----+            android:exported="false" />
-----+        <activity
-----             android:name=".ui.MyProfile.MyStore.MyStoreActivity"
-----             android:exported="false" />
-----         <activity
-----@@ -80,6 +83,44 @@
----- 
-----                 <category android:name="android.intent.category.LAUNCHER" />
-----             </intent-filter>
-----+
-----+        </activity>
-----+
-----+        <meta-data android:name="com.facebook.sdk.ApplicationId" android:value="@string/facebook_app_id"/>
-----+        <meta-data
-----+            android:name="com.facebook.sdk.ClientToken"
-----+            android:value="@string/facebook_client_token"/>
-----+        <activity
-----+            android:name="com.facebook.FacebookActivity"
-----+            android:configChanges="keyboard|keyboardHidden|screenLayout|screenSize|orientation"
-----+            android:label="@string/app_name"
-----+            android:screenOrientation="portrait"
-----+            tools:ignore="DiscouragedApi" />
-----+        <activity
-----+            android:name="com.facebook.FacebookActivity"
-----+            android:configChanges="keyboard|keyboardHidden|screenLayout|screenSize|orientation"
-----+            android:label="@string/app_name"
-----+            android:screenOrientation="portrait"
-----+            tools:ignore="DiscouragedApi" />
-----+        <activity
-----+            android:name="com.facebook.FacebookActivity"
-----+            android:configChanges="keyboard|keyboardHidden|screenLayout|screenSize|orientation"
-----+            android:label="@string/app_name"
-----+            android:screenOrientation="portrait"
-----+            tools:ignore="DiscouragedApi" />
-----+        <activity
-----+            android:name="com.facebook.CustomTabActivity"
-----+            android:exported="true"
-----+            android:screenOrientation="portrait"
-----+            tools:ignore="DiscouragedApi">
-----+            <intent-filter>
-----+                <action android:name="android.intent.action.VIEW" />
-----+
-----+                <category android:name="android.intent.category.DEFAULT" />
-----+                <category android:name="android.intent.category.BROWSABLE" />
-----+
-----+                <data android:scheme="@string/fb_login_protocol_scheme" />
-----+            </intent-filter>
-----         </activity>
-----     </application>
----- 
-----Index: app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java
-----new file mode 100644
-------- /dev/null	(date 1728550417764)
-----+++ b/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java	(date 1728550417764)
-----@@ -0,0 +1,79 @@
-----+package com.example.agrimart.ui.Account;
-----+
-----+import android.content.Intent;
-----+import android.os.Bundle;
-----+import android.os.Handler;
-----+import android.widget.Button;
-----+import android.widget.Toast;
-----+
-----+import androidx.appcompat.app.AppCompatActivity;
-----+import androidx.lifecycle.ViewModelProvider;
-----+
-----+import com.example.agrimart.R;
-----+import com.example.agrimart.ui.MainActivity;
-----+import com.example.agrimart.viewmodel.SignUpViewModel;
-----+import com.google.firebase.auth.FirebaseAuth;
-----+import com.google.firebase.auth.FirebaseUser;
-----+
-----+public class VerifyActivity extends AppCompatActivity {
-----+    private SignUpViewModel viewModel;
-----+    private FirebaseAuth mAuth;
-----+    private Handler handler;
-----+    private Runnable checkEmailVerifiedRunnable;
-----+
-----+    @Override
-----+    protected void onCreate(Bundle savedInstanceState) {
-----+        super.onCreate(savedInstanceState);
-----+        setContentView(R.layout.activity_verify);
-----+
-----+        mAuth = FirebaseAuth.getInstance();
-----+        viewModel = new ViewModelProvider(this).get(SignUpViewModel.class);
-----+        handler = new Handler();
-----+
-----+        Button btnResendEmail = findViewById(R.id.btnResendEmail);
-----+        Button btnBackToLogin = findViewById(R.id.btnBackToLogin);
-----+
-----+        btnResendEmail.setOnClickListener(v -> {
-----+            FirebaseUser user = mAuth.getCurrentUser();
-----+            if (user != null) {
-----+                viewModel.sendEmailVerification(user);
-----+                Toast.makeText(this, "Email xác nhận đã được gửi lại", Toast.LENGTH_SHORT).show();
-----+            }
-----+        });
-----+
-----+        btnBackToLogin.setOnClickListener(v -> {
-----+            startActivity(new Intent(VerifyActivity.this, SignInActivity.class));
-----+            finish();
-----+        });
-----+
-----+        checkEmailVerification();
-----+    }
-----+
-----+    private void checkEmailVerification() {
-----+        checkEmailVerifiedRunnable = new Runnable() {
-----+            @Override
-----+            public void run() {
-----+                FirebaseUser user = mAuth.getCurrentUser();
-----+                if (user != null) {
-----+                    user.reload().addOnCompleteListener(task -> {
-----+                        if (user.isEmailVerified()) {
-----+                            viewModel.saveUserToFirestore(user);
-----+                            Toast.makeText(VerifyActivity.this, "Đăng kí thành công", Toast.LENGTH_SHORT).show();
-----+                            startActivity(new Intent(VerifyActivity.this, MainActivity.class));
-----+                            finish();
-----+                        } else {
-----+                            handler.postDelayed(checkEmailVerifiedRunnable, 3000);
-----+                        }
-----+                    });
-----+                }
-----+            }
-----+        };
-----+        handler.post(checkEmailVerifiedRunnable);
-----+    }
-----+
-----+    @Override
-----+    protected void onDestroy() {
-----+        super.onDestroy();
-----+        handler.removeCallbacks(checkEmailVerifiedRunnable);
-----+    }
-----+}
-----\ No newline at end of file
-----Index: app/src/main/res/layout/activity_verify.xml
-----IDEA additional info:
-----Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-----<+>UTF-8
-----===================================================================
-----diff --git a/app/src/main/res/layout/activity_verify.xml b/app/src/main/res/layout/activity_verify.xml
-----new file mode 100644
-------- /dev/null	(date 1728552387262)
-----+++ b/app/src/main/res/layout/activity_verify.xml	(date 1728552387262)
-----@@ -0,0 +1,59 @@
-----+<?xml version="1.0" encoding="utf-8"?>
-----+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
-----+    xmlns:app="http://schemas.android.com/apk/res-auto"
-----+    xmlns:tools="http://schemas.android.com/tools"
-----+    android:id="@+id/main"
-----+    android:layout_width="match_parent"
-----+    android:layout_height="match_parent"
-----+    tools:context=".ui.Account.VerifyActivity">
-----+
-----+    <TextView
-----+        android:id="@+id/tvVerifyTitle"
-----+        android:layout_width="wrap_content"
-----+        android:layout_height="wrap_content"
-----+        android:layout_marginTop="32dp"
-----+        android:text="Xác nhận Email"
-----+        android:textSize="24sp"
-----+        android:textStyle="bold"
-----+        app:layout_constraintEnd_toEndOf="parent"
-----+        app:layout_constraintStart_toStartOf="parent"
-----+        app:layout_constraintTop_toTopOf="parent" />
-----+
-----+    <TextView
-----+        android:id="@+id/tvVerifyMessage"
-----+        android:layout_width="0dp"
-----+        android:layout_height="wrap_content"
-----+        android:layout_marginTop="16dp"
-----+        android:layout_marginStart="24dp"
-----+        android:layout_marginEnd="24dp"
-----+        android:text="Một email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký."
-----+        android:textSize="16sp"
-----+        app:layout_constraintEnd_toEndOf="parent"
-----+        app:layout_constraintStart_toStartOf="parent"
-----+        app:layout_constraintTop_toBottomOf="@id/tvVerifyTitle" />
-----+
-----+    <Button
-----+        android:id="@+id/btnResendEmail"
-----+        android:layout_width="wrap_content"
-----+        android:layout_height="wrap_content"
-----+        android:layout_marginTop="24dp"
-----+        android:text="Gửi lại email"
-----+        android:backgroundTint="@color/green"
-----+        app:cornerRadius="24dp"
-----+        app:layout_constraintEnd_toEndOf="parent"
-----+        app:layout_constraintStart_toStartOf="parent"
-----+        app:layout_constraintTop_toBottomOf="@id/tvVerifyMessage" />
-----+
-----+    <Button
-----+        android:id="@+id/btnBackToLogin"
-----+        android:layout_width="wrap_content"
-----+        android:layout_height="wrap_content"
-----+        android:layout_marginTop="12dp"
-----+        android:backgroundTint="@color/green"
-----+        android:text="Quay lại đăng nhập"
-----+        app:cornerRadius="24dp"
-----+        app:layout_constraintEnd_toEndOf="parent"
-----+        app:layout_constraintStart_toStartOf="parent"
-----+        app:layout_constraintTop_toBottomOf="@id/btnResendEmail" />
-----+
-----+</androidx.constraintlayout.widget.ConstraintLayout>
-----\ No newline at end of file
---Index: .idea/shelf/Uncommitted_changes_before_Update_at_10_29_2024_9_10_PM__Changes_.xml
---===================================================================
---diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_10_29_2024_9_10_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_10_29_2024_9_10_PM__Changes_.xml
---deleted file mode 100644
------ a/.idea/shelf/Uncommitted_changes_before_Update_at_10_29_2024_9_10_PM__Changes_.xml	(revision 05e31456dd5fe606469b8af23a451f0455aa39f8)
---+++ /dev/null	(revision 05e31456dd5fe606469b8af23a451f0455aa39f8)
---@@ -1,4 +0,0 @@
----<changelist name="Uncommitted_changes_before_Update_at_10_29_2024_9_10_PM_[Changes]" date="1730211159118" recycled="true" deleted="true">
----  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_10_29_2024_9_10_PM_[Changes]/shelved.patch" />
----  <option name="DESCRIPTION" value="Uncommitted changes before Update at 10/29/2024 9:10 PM [Changes]" />
----</changelist>
---\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_1_47_PM_[Changes]/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_1_47_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_1_47_PM_[Changes]/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_1_47_PM_[Changes]/shelved.patch	(revision 25d73a32c9fef715bfb6930293c49bee04cf91b7)
--+++ /dev/null	(revision 25d73a32c9fef715bfb6930293c49bee04cf91b7)
--@@ -1,618 +0,0 @@
---Index: app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.databinding.CategoryItemBinding;\r\nimport com.denzcoskun.imageslider.models.SlideModel;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CategoryAdapter extends RecyclerView.Adapter<CategoryAdapter.MyViewHolder> {\r\n    private List<Category> categories;\r\n\r\n    private int selectedPosition = -1;\r\n    public Category category;\r\n    public CategoryAdapter(List<Category> categories) {\r\n        this.categories = categories;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        CategoryItemBinding binding = CategoryItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        return new MyViewHolder(binding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        holder.bindData(categories.get(position));\r\n\r\n        if (holder.getAdapterPosition() == selectedPosition) {\r\n            holder.binding.getRoot().setBackgroundResource(android.R.color.holo_green_light);\r\n        } else {\r\n            holder.binding.getRoot().setBackgroundResource(android.R.color.transparent);\r\n        }\r\n\r\n        holder.binding.getRoot().setOnClickListener(v -> {\r\n            category = categories.get(holder.getAdapterPosition());\r\n            int prePos=selectedPosition;\r\n            selectedPosition=holder.getAdapterPosition();\r\n            notifyItemChanged(prePos);\r\n            notifyItemChanged(holder.getAdapterPosition());\r\n\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return categories.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        CategoryItemBinding binding;\r\n\r\n        public MyViewHolder(@NonNull CategoryItemBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n\r\n        public void bindData(Category category) {\r\n            Glide.with(binding.getRoot())\r\n                    .load(category.getImg())\r\n                    .into(binding.imgCate);\r\n\r\n            binding.tvName.setText(category.getName());\r\n        }\r\n    }\r\n}\r\n\r\n
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java b/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java
------ a/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java	(revision 228780504db3890093dbb6b5930f9132fc72f60c)
---+++ b/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java	(date 1730875628432)
---@@ -1,5 +1,7 @@
--- package com.example.agrimart.adapter;
--- 
---+import android.content.Context;
---+import android.content.Intent;
--- import android.view.LayoutInflater;
--- import android.view.ViewGroup;
--- 
---@@ -7,23 +9,23 @@
--- import androidx.recyclerview.widget.RecyclerView;
--- 
--- import com.bumptech.glide.Glide;
----import com.example.agrimart.R;
--- import com.example.agrimart.data.model.Category;
--- import com.example.agrimart.databinding.CategoryItemBinding;
----import com.denzcoskun.imageslider.models.SlideModel;
---+import com.example.agrimart.ui.ProductPage.CategoryActivity;
--- 
----import java.util.ArrayList;
--- import java.util.List;
--- 
--- public class CategoryAdapter extends RecyclerView.Adapter<CategoryAdapter.MyViewHolder> {
---     private List<Category> categories;
---+    private Context context;
--- 
---     private int selectedPosition = -1;
---     public Category category;
----    public CategoryAdapter(List<Category> categories) {
---+
---+    public CategoryAdapter(List<Category> categories, Context context) {
---         this.categories = categories;
---+        this.context = context;
---     }
----
--- 
---     @NonNull
---     @Override
---@@ -44,11 +46,15 @@
--- 
---         holder.binding.getRoot().setOnClickListener(v -> {
---             category = categories.get(holder.getAdapterPosition());
----            int prePos=selectedPosition;
----            selectedPosition=holder.getAdapterPosition();
---+            int prePos = selectedPosition;
---+            selectedPosition = holder.getAdapterPosition();
---             notifyItemChanged(prePos);
---             notifyItemChanged(holder.getAdapterPosition());
--- 
---+            // Start CategoryActivity with the selected category ID
---+            Intent intent = new Intent(context, CategoryActivity.class);
---+            intent.putExtra("categoryId", category.getId());
---+            context.startActivity(intent);
---         });
---     }
--- 
---@@ -73,5 +79,4 @@
---             binding.tvName.setText(category.getName());
---         }
---     }
----}
----
---+}
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/ui/ProductPage/CategoryActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.ProductPage;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\n\r\nimport com.example.agrimart.R;\r\n\r\npublic class CategoryActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_category);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/ProductPage/CategoryActivity.java b/app/src/main/java/com/example/agrimart/ui/ProductPage/CategoryActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/ProductPage/CategoryActivity.java	(revision 228780504db3890093dbb6b5930f9132fc72f60c)
---+++ b/app/src/main/java/com/example/agrimart/ui/ProductPage/CategoryActivity.java	(date 1730875030552)
---@@ -1,26 +1,76 @@
--- package com.example.agrimart.ui.ProductPage;
--- 
--- import android.os.Bundle;
---+import android.widget.Toast;
--- 
----import androidx.activity.EdgeToEdge;
--- import androidx.appcompat.app.AppCompatActivity;
--- import androidx.core.graphics.Insets;
--- import androidx.core.view.ViewCompat;
--- import androidx.core.view.WindowInsetsCompat;
---+import androidx.lifecycle.ViewModelProvider;
---+import androidx.recyclerview.widget.GridLayoutManager;
---+import androidx.recyclerview.widget.RecyclerView;
--- 
--- import com.example.agrimart.R;
---+import com.example.agrimart.adapter.ProductAdapter;
---+import com.example.agrimart.data.model.Product;
---+import com.example.agrimart.viewmodel.CategoryViewModel;
---+
---+import java.util.ArrayList;
---+import java.util.List;
--- 
--- public class CategoryActivity extends AppCompatActivity {
--- 
---+    private RecyclerView rvProducts;
---+    private ProductAdapter productAdapter;
---+    private List<Product> productList;
---+    private CategoryViewModel categoryViewModel;
---+    private String categoryId;
---+
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---         super.onCreate(savedInstanceState);
----        EdgeToEdge.enable(this);
---         setContentView(R.layout.activity_category);
---+
---+        categoryId = getIntent().getStringExtra("categoryId");
---+        if (categoryId == null) {
---+            Toast.makeText(this, "Category ID is missing", Toast.LENGTH_SHORT).show();
---+            finish();
---+            return;
---+        }
---+
---+        setupWindowInsets();
---+        addControls();
---+
---+        categoryViewModel = new ViewModelProvider(this).get(CategoryViewModel.class);
---+
---+        productList = new ArrayList<>();
---+        productAdapter = new ProductAdapter(productList, product -> {
---+            // Handle product click
---+        });
---+        rvProducts.setLayoutManager(new GridLayoutManager(this, 2));
---+        rvProducts.setAdapter(productAdapter);
---+
---+        loadProducts();
---+    }
---+
---+    private void setupWindowInsets() {
---         ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {
---             Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
---             v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
---             return insets;
---         });
---     }
---+
---+    private void addControls() {
---+        rvProducts = findViewById(R.id.rvProduct);
---+    }
---+
---+    private void loadProducts() {
---+        categoryViewModel.getProductsByCategory(categoryId).observe(this, products -> {
---+            productList.clear();
---+            productList.addAll(products);
---+            productAdapter.notifyDataSetChanged();
---+        });
---+    }
--- }
---\ No newline at end of file
---Index: app/src/main/res/layout/activity_category.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.ProductPage.CategoryActivity\">\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/activity_category.xml b/app/src/main/res/layout/activity_category.xml
------ a/app/src/main/res/layout/activity_category.xml	(revision 228780504db3890093dbb6b5930f9132fc72f60c)
---+++ b/app/src/main/res/layout/activity_category.xml	(date 1730874978320)
---@@ -1,10 +1,14 @@
--- <?xml version="1.0" encoding="utf-8"?>
----<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
---+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
---     xmlns:app="http://schemas.android.com/apk/res-auto"
----    xmlns:tools="http://schemas.android.com/tools"
----    android:id="@+id/main"
---     android:layout_width="match_parent"
----    android:layout_height="match_parent"
----    tools:context=".ui.ProductPage.CategoryActivity">
---+    android:layout_height="wrap_content"
---+    android:layout_margin="8dp"
---+    app:cardCornerRadius="8dp"
---+    app:cardElevation="4dp">
--- 
----</androidx.constraintlayout.widget.ConstraintLayout>
---\ No newline at end of file
---+    <androidx.recyclerview.widget.RecyclerView
---+        android:id="@+id/rvProduct"
---+        android:layout_width="match_parent"
---+        android:layout_height="match_parent"/>
---+</RelativeLayout>
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.ActivitySearchBinding;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\nimport com.example.agrimart.viewmodel.SearchViewModel;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class SearchActivity extends AppCompatActivity {\r\n\r\n    SearchViewModel searchViewModel;\r\n    ActivitySearchBinding binding;\r\n    List<Category> categories=new ArrayList<>();\r\n    CategoryAdapter categoryAdapter;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        searchViewModel= new ViewModelProvider(this).get(SearchViewModel.class);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_search);\r\n        binding.setSearch(searchViewModel);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(binding.getRoot());\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));\r\n        }\r\n\r\n\r\n        categoryAdapter = new CategoryAdapter(categories);\r\n        binding.rvCategories.setLayoutManager(new GridLayoutManager(this, 4));\r\n        binding.rvCategories.setAdapter(categoryAdapter);\r\n        getCategories();\r\n        List<Product> products = new ArrayList<>();\r\n//        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Organic Bananas\", \"45.000\"));\r\n\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding.rvProducts.setLayoutManager(new GridLayoutManager(this, 2));\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n            Intent intent = new Intent(this, ProductDetailActivity.class);\r\n            startActivity(intent);\r\n        });\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n        searchViewModel.setProducts(products);\r\n\r\n    }\r\n\r\n    private void getCategories() {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        List<Category> categories = new ArrayList<>();\r\n        db.collection(\"categories\")\r\n                .get().addOnCompleteListener(task -> {\r\n            if (task.isSuccessful()) {\r\n                categories.addAll(task.getResult().toObjects(Category.class));\r\n                this.categories.addAll(categories);\r\n                categoryAdapter.notifyDataSetChanged();\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java b/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java	(revision 228780504db3890093dbb6b5930f9132fc72f60c)
---+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java	(date 1730875174950)
---@@ -34,12 +34,13 @@
--- 
---     SearchViewModel searchViewModel;
---     ActivitySearchBinding binding;
----    List<Category> categories=new ArrayList<>();
---+    List<Category> categories = new ArrayList<>();
---     CategoryAdapter categoryAdapter;
---+
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---         super.onCreate(savedInstanceState);
----        searchViewModel= new ViewModelProvider(this).get(SearchViewModel.class);
---+        searchViewModel = new ViewModelProvider(this).get(SearchViewModel.class);
---         binding = DataBindingUtil.setContentView(this, R.layout.activity_search);
---         binding.setSearch(searchViewModel);
---         EdgeToEdge.enable(this);
---@@ -56,19 +57,12 @@
---             window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));
---         }
--- 
----
----        categoryAdapter = new CategoryAdapter(categories);
---+        categoryAdapter = new CategoryAdapter(categories, this);
---         binding.rvCategories.setLayoutManager(new GridLayoutManager(this, 4));
---         binding.rvCategories.setAdapter(categoryAdapter);
---         getCategories();
---+
---         List<Product> products = new ArrayList<>();
----//        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Organic Bananas", "45.000"));
----
---         int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);
---         binding.rvProducts.setLayoutManager(new GridLayoutManager(this, 2));
---         binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
---@@ -79,7 +73,6 @@
---         });
---         binding.rvProducts.setAdapter(productAdapter);
---         searchViewModel.setProducts(products);
----
---     }
--- 
---     private void getCategories() {
---@@ -91,9 +84,7 @@
---                 categories.addAll(task.getResult().toObjects(Category.class));
---                 this.categories.addAll(categories);
---                 categoryAdapter.notifyDataSetChanged();
----
---             }
---         });
----
---     }
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\nimport com.example.agrimart.viewmodel.HomeFragmentViewModel;\r\n\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    private static final String TAG = \"HomeFragment\";\r\n    ImageButton btnSearch;\r\n    TextView search;\r\n    HomeFragmentViewModel viewModel;\r\n    FragmentHomeBinding binding;\r\n\r\n    public HomeFragment() {\r\n\r\n    }\r\n\r\n    public static HomeFragment newInstance() {\r\n        return new HomeFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_home, container, false);\r\n        viewModel = new ViewModelProvider(this).get(HomeFragmentViewModel.class);\r\n\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding.setViewmodel(viewModel);\r\n        View view = binding.getRoot();\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getActivity().getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        viewModel.getData();\r\n        viewModel.getProducts();\r\n\r\n        viewModel.categories.observe(getViewLifecycleOwner(), categories -> {\r\n            if (categories != null) {\r\n                CategoryAdapter categoryAdapter = new CategoryAdapter(categories);\r\n                binding.rvCategories.setAdapter(categoryAdapter);\r\n                binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));\r\n                Log.d(TAG, \"Categories loaded: \" + categories.size());\r\n            }\r\n        });\r\n\r\n        viewModel.products.observe(getViewLifecycleOwner(), products -> {\r\n            if (products != null) {\r\n                ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n                    try {\r\n                        Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n                        intent.putExtra(\"product\", product);\r\n                        intent.putExtra(\"storeId\", product.getStoreId());\r\n                        startActivity(intent);\r\n                    } catch (Exception e) {\r\n\r\n                    }\r\n                });\r\n                binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));\r\n                binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n                binding.rvProducts.setAdapter(productAdapter);\r\n            }\r\n        });\r\n\r\n        addControls(view);\r\n        addEvents();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void addEvents() {\r\n        btnSearch.setOnClickListener(v -> {\r\n            Intent intent = new Intent(getActivity(), SearchActivity.class);\r\n            getActivity().startActivity(intent);\r\n        });\r\n\r\n        search.setOnClickListener(v -> {\r\n            Intent intent = new Intent(getContext(), SearchActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void addControls(View view) {\r\n        btnSearch = view.findViewById(R.id.search_icon);\r\n        search = view.findViewById(R.id.search_input);\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getActivity().getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
------ a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(revision 228780504db3890093dbb6b5930f9132fc72f60c)
---+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(date 1730875132525)
---@@ -69,7 +69,7 @@
--- 
---         viewModel.categories.observe(getViewLifecycleOwner(), categories -> {
---             if (categories != null) {
----                CategoryAdapter categoryAdapter = new CategoryAdapter(categories);
---+                CategoryAdapter categoryAdapter = new CategoryAdapter(categories, getContext());
---                 binding.rvCategories.setAdapter(categoryAdapter);
---                 binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));
---                 Log.d(TAG, "Categories loaded: " + categories.size());
---Index: app/src/main/java/com/example/agrimart/ui/PostProduct/PostProductPhotosFragment.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.PostProduct;\r\n\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.PickVisualMediaRequest;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.widget.AppCompatButton;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.PostProduct;\r\nimport com.example.agrimart.data.model.ProductRequest;\r\nimport com.example.agrimart.databinding.FragmentPostProductPhotosBinding;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.io.File;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link PostProductPhotosFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class PostProductPhotosFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = \"param1\";\r\n    private static final String ARG_PARAM2 = \"param2\";\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n    FragmentPostProductPhotosBinding binding;\r\n    private List<Uri> imageUris=new ArrayList<>();\r\n    private List<Category> categories=new ArrayList<>();\r\n    private CategoryAdapter categoryAdapter;\r\n    public PostProductPhotosFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment PostPhotosFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static PostProductPhotosFragment newInstance(String param1, String param2) {\r\n        PostProductPhotosFragment fragment = new PostProductPhotosFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    AppCompatButton button_post_product_continue;\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_post_product_photos, container, false);\r\n        binding = FragmentPostProductPhotosBinding.bind(view);\r\n        addControl(view);\r\n        addEvents(view);\r\n\r\n        ActivityResultLauncher<PickVisualMediaRequest> pickMultipleMedia =\r\n                registerForActivityResult(new ActivityResultContracts.PickMultipleVisualMedia(4), uris -> {\r\n                    if (!uris.isEmpty()) {\r\n//                        imageUris.clear();\r\n                        imageUris.addAll(uris);\r\n                        if(uris.size()>0 && imageUris.size()>0){\r\n                            Glide.with(this).load(imageUris.get(0)).into(binding.imageView5);\r\n                            binding.frameLayout1.setVisibility(View.VISIBLE);\r\n                        }\r\n                        if(uris.size()>1 && imageUris.size()>1){\r\n                            Glide.with(this).load(imageUris.get(1)).into(binding.imageView6);\r\n                            binding.frameLayout2.setVisibility(View.VISIBLE);\r\n                        }\r\n                        if(uris.size()>2 && imageUris.size()>2){\r\n                            Glide.with(this).load(imageUris.get(2)).into(binding.imageView7);\r\n                            binding.frameLayout3.setVisibility(View.VISIBLE);\r\n                        }\r\n                        if(uris.size()>3 && imageUris.size()>3){\r\n                            Glide.with(this).load(imageUris.get(3)).into(binding.imageView8);\r\n                            binding.frameLayout4.setVisibility(View.VISIBLE);\r\n                        }\r\n                        binding.linearLayout.setVisibility(View.VISIBLE);\r\n\r\n                    } else {\r\n                        Log.d(\"PhotoPicker\", \"No media selected\");\r\n                    }\r\n                });\r\n        binding.imageButtonCamera.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(!Objects.isNull(imageUris) || !imageUris.isEmpty() || imageUris.size()<4){\r\n                    pickMultipleMedia.launch(new PickVisualMediaRequest.Builder()\r\n                            .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)\r\n                            .build());\r\n                }\r\n                else{\r\n                    Toast.makeText(getContext(), \"Vui long xóa ảnh đã chọn để thêm ảnh mới\", Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n            }\r\n        });\r\n        binding.imageButton3.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                binding.frameLayout1.setVisibility(View.GONE);\r\n                binding.imageButton3.setVisibility(View.GONE);\r\n\r\n                if(!imageUris.isEmpty()){\r\n                    imageUris.remove(0);\r\n                }\r\n                if(imageUris.isEmpty()){\r\n                    binding.linearLayout.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n        binding.imageButton4.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                binding.frameLayout2.setVisibility(View.GONE);\r\n                binding.imageButton4.setVisibility(View.GONE);\r\n\r\n                if(!imageUris.isEmpty()){\r\n                    imageUris.remove(1);\r\n                }\r\n                if(imageUris.isEmpty()){\r\n                    binding.linearLayout.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n        binding.imageButton5.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                binding.frameLayout3.setVisibility(View.GONE);\r\n                binding.imageButton5.setVisibility(View.GONE);\r\n\r\n                if(!imageUris.isEmpty()){\r\n                    imageUris.remove(2);\r\n                }\r\n                if(imageUris.isEmpty()){\r\n                    binding.linearLayout.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n        binding.imageButton6.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                binding.imageView8.setVisibility(View.GONE);\r\n                binding.imageButton6.setVisibility(View.GONE);\r\n\r\n\r\n                if(!imageUris.isEmpty()){\r\n                    imageUris.remove(3);\r\n                }\r\n                if(imageUris.isEmpty()){\r\n                    binding.linearLayout.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n\r\n        loadCategory();\r\n        categoryAdapter = new CategoryAdapter(categories);\r\n        binding.rvCategories.setAdapter(categoryAdapter);\r\n        binding.rvCategories.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.HORIZONTAL, false));\r\n\r\n\r\n\r\n        return binding.getRoot();\r\n\r\n    }\r\n\r\n\r\n\r\n    void addControl(View v)\r\n    {\r\n        button_post_product_continue = v.findViewById(R.id.button_post_product_continue);\r\n    }\r\n\r\n    void addEvents(View v) {\r\n        button_post_product_continue.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Fragment newFragment = new PostProductPriceFragment();\r\n                if(categoryAdapter.category==null){\r\n                    Toast.makeText(getContext(), \"Vui long chon danh muc\", Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n                ProductRequest product = new ProductRequest(binding.edtName.getText().toString(),binding.edtDes.getText().toString(),categoryAdapter.category.getId());\r\n                Bundle bundle = new Bundle();\r\n                bundle.putSerializable(\"postProduct\",product);\r\n                bundle.putParcelableArrayList(\"imageUris\", (ArrayList<Uri>) imageUris);\r\n                newFragment.setArguments(bundle);\r\n                FragmentTransaction transaction = getFragmentManager().beginTransaction();\r\n\r\n                transaction.replace(R.id.fragmentPostProduct, newFragment);\r\n\r\n                transaction.addToBackStack(null);\r\n                transaction.commit();\r\n            }\r\n        });\r\n    }\r\n\r\n    void loadCategory(){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        db.collection(\"categories\")\r\n                .orderBy(\"id\")\r\n                .get().addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Category> categoryList = task.getResult().toObjects(Category.class);\r\n                        categories.addAll(categoryList);\r\n                        categoryAdapter.notifyDataSetChanged();\r\n                    } else {\r\n                        Log.e(\"HomeFragmentViewModel\", \"Error getting documents: \", task.getException());\r\n                    }\r\n                });\r\n    }\r\n\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/PostProduct/PostProductPhotosFragment.java b/app/src/main/java/com/example/agrimart/ui/PostProduct/PostProductPhotosFragment.java
------ a/app/src/main/java/com/example/agrimart/ui/PostProduct/PostProductPhotosFragment.java	(revision 228780504db3890093dbb6b5930f9132fc72f60c)
---+++ b/app/src/main/java/com/example/agrimart/ui/PostProduct/PostProductPhotosFragment.java	(date 1730875374236)
---@@ -20,49 +20,30 @@
--- import com.example.agrimart.R;
--- import com.example.agrimart.adapter.CategoryAdapter;
--- import com.example.agrimart.data.model.Category;
----import com.example.agrimart.data.model.PostProduct;
--- import com.example.agrimart.data.model.ProductRequest;
--- import com.example.agrimart.databinding.FragmentPostProductPhotosBinding;
--- import com.google.firebase.firestore.FirebaseFirestore;
--- 
----import java.io.File;
--- import java.util.ArrayList;
--- import java.util.List;
--- import java.util.Objects;
--- 
----
----/**
---- * A simple {@link Fragment} subclass.
---- * Use the {@link PostProductPhotosFragment#newInstance} factory method to
---- * create an instance of this fragment.
---- */
--- public class PostProductPhotosFragment extends Fragment {
--- 
----    // TODO: Rename parameter arguments, choose names that match
----    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
---     private static final String ARG_PARAM1 = "param1";
---     private static final String ARG_PARAM2 = "param2";
--- 
----    // TODO: Rename and change types of parameters
---     private String mParam1;
---     private String mParam2;
---     FragmentPostProductPhotosBinding binding;
----    private List<Uri> imageUris=new ArrayList<>();
----    private List<Category> categories=new ArrayList<>();
---+    private List<Uri> imageUris = new ArrayList<>();
---+    private List<Category> categories = new ArrayList<>();
---     private CategoryAdapter categoryAdapter;
---+
---     public PostProductPhotosFragment() {
---         // Required empty public constructor
---     }
--- 
----    /**
----     * Use this factory method to create a new instance of
----     * this fragment using the provided parameters.
----     *
----     * @param param1 Parameter 1.
----     * @param param2 Parameter 2.
----     * @return A new instance of fragment PostPhotosFragment.
----     */
----    // TODO: Rename and change types and number of parameters
---     public static PostProductPhotosFragment newInstance(String param1, String param2) {
---         PostProductPhotosFragment fragment = new PostProductPhotosFragment();
---         Bundle args = new Bundle();
---@@ -82,10 +63,10 @@
---     }
--- 
---     AppCompatButton button_post_product_continue;
---+
---     @Override
---     public View onCreateView(LayoutInflater inflater, ViewGroup container,
---                              Bundle savedInstanceState) {
----        // Inflate the layout for this fragment
---         View view = inflater.inflate(R.layout.fragment_post_product_photos, container, false);
---         binding = FragmentPostProductPhotosBinding.bind(view);
---         addControl(view);
---@@ -94,147 +75,121 @@
---         ActivityResultLauncher<PickVisualMediaRequest> pickMultipleMedia =
---                 registerForActivityResult(new ActivityResultContracts.PickMultipleVisualMedia(4), uris -> {
---                     if (!uris.isEmpty()) {
----//                        imageUris.clear();
---                         imageUris.addAll(uris);
----                        if(uris.size()>0 && imageUris.size()>0){
---+                        if (uris.size() > 0 && imageUris.size() > 0) {
---                             Glide.with(this).load(imageUris.get(0)).into(binding.imageView5);
---                             binding.frameLayout1.setVisibility(View.VISIBLE);
---                         }
----                        if(uris.size()>1 && imageUris.size()>1){
---+                        if (uris.size() > 1 && imageUris.size() > 1) {
---                             Glide.with(this).load(imageUris.get(1)).into(binding.imageView6);
---                             binding.frameLayout2.setVisibility(View.VISIBLE);
---                         }
----                        if(uris.size()>2 && imageUris.size()>2){
---+                        if (uris.size() > 2 && imageUris.size() > 2) {
---                             Glide.with(this).load(imageUris.get(2)).into(binding.imageView7);
---                             binding.frameLayout3.setVisibility(View.VISIBLE);
---                         }
----                        if(uris.size()>3 && imageUris.size()>3){
---+                        if (uris.size() > 3 && imageUris.size() > 3) {
---                             Glide.with(this).load(imageUris.get(3)).into(binding.imageView8);
---                             binding.frameLayout4.setVisibility(View.VISIBLE);
---                         }
---                         binding.linearLayout.setVisibility(View.VISIBLE);
----
---                     } else {
---                         Log.d("PhotoPicker", "No media selected");
---                     }
---                 });
----        binding.imageButtonCamera.setOnClickListener(new View.OnClickListener() {
----            @Override
----            public void onClick(View view) {
----                if(!Objects.isNull(imageUris) || !imageUris.isEmpty() || imageUris.size()<4){
----                    pickMultipleMedia.launch(new PickVisualMediaRequest.Builder()
----                            .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)
----                            .build());
----                }
----                else{
----                    Toast.makeText(getContext(), "Vui long xóa ảnh đã chọn để thêm ảnh mới", Toast.LENGTH_SHORT).show();
----                }
----
---+
---+        binding.imageButtonCamera.setOnClickListener(view1 -> {
---+            if (!Objects.isNull(imageUris) || !imageUris.isEmpty() || imageUris.size() < 4) {
---+                pickMultipleMedia.launch(new PickVisualMediaRequest.Builder()
---+                        .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)
---+                        .build());
---+            } else {
---+                Toast.makeText(getContext(), "Vui long xóa ảnh đã chọn để thêm ảnh mới", Toast.LENGTH_SHORT).show();
---             }
---         });
----        binding.imageButton3.setOnClickListener(new View.OnClickListener() {
----            @Override
----            public void onClick(View view) {
----                binding.frameLayout1.setVisibility(View.GONE);
----                binding.imageButton3.setVisibility(View.GONE);
---+
---+        binding.imageButton3.setOnClickListener(view12 -> {
---+            binding.frameLayout1.setVisibility(View.GONE);
---+            binding.imageButton3.setVisibility(View.GONE);
--- 
----                if(!imageUris.isEmpty()){
----                    imageUris.remove(0);
----                }
----                if(imageUris.isEmpty()){
----                    binding.linearLayout.setVisibility(View.GONE);
----                }
---+            if (!imageUris.isEmpty()) {
---+                imageUris.remove(0);
---+            }
---+            if (imageUris.isEmpty()) {
---+                binding.linearLayout.setVisibility(View.GONE);
---             }
---         });
----        binding.imageButton4.setOnClickListener(new View.OnClickListener() {
----            @Override
----            public void onClick(View view) {
----                binding.frameLayout2.setVisibility(View.GONE);
----                binding.imageButton4.setVisibility(View.GONE);
---+
---+        binding.imageButton4.setOnClickListener(view13 -> {
---+            binding.frameLayout2.setVisibility(View.GONE);
---+            binding.imageButton4.setVisibility(View.GONE);
--- 
----                if(!imageUris.isEmpty()){
----                    imageUris.remove(1);
----                }
----                if(imageUris.isEmpty()){
----                    binding.linearLayout.setVisibility(View.GONE);
----                }
---+            if (!imageUris.isEmpty()) {
---+                imageUris.remove(1);
---+            }
---+            if (imageUris.isEmpty()) {
---+                binding.linearLayout.setVisibility(View.GONE);
---             }
---         });
----        binding.imageButton5.setOnClickListener(new View.OnClickListener() {
----            @Override
----            public void onClick(View view) {
----                binding.frameLayout3.setVisibility(View.GONE);
----                binding.imageButton5.setVisibility(View.GONE);
---+
---+        binding.imageButton5.setOnClickListener(view14 -> {
---+            binding.frameLayout3.setVisibility(View.GONE);
---+            binding.imageButton5.setVisibility(View.GONE);
--- 
----                if(!imageUris.isEmpty()){
----                    imageUris.remove(2);
----                }
----                if(imageUris.isEmpty()){
----                    binding.linearLayout.setVisibility(View.GONE);
----                }
---+            if (!imageUris.isEmpty()) {
---+                imageUris.remove(2);
---+            }
---+            if (imageUris.isEmpty()) {
---+                binding.linearLayout.setVisibility(View.GONE);
---             }
---         });
----        binding.imageButton6.setOnClickListener(new View.OnClickListener() {
----            @Override
----            public void onClick(View view) {
----                binding.imageView8.setVisibility(View.GONE);
----                binding.imageButton6.setVisibility(View.GONE);
---+
---+        binding.imageButton6.setOnClickListener(view15 -> {
---+            binding.imageView8.setVisibility(View.GONE);
---+            binding.imageButton6.setVisibility(View.GONE);
--- 
----
----                if(!imageUris.isEmpty()){
----                    imageUris.remove(3);
----                }
----                if(imageUris.isEmpty()){
----                    binding.linearLayout.setVisibility(View.GONE);
----                }
---+            if (!imageUris.isEmpty()) {
---+                imageUris.remove(3);
---+            }
---+            if (imageUris.isEmpty()) {
---+                binding.linearLayout.setVisibility(View.GONE);
---             }
---         });
----
----
--- 
---         loadCategory();
----        categoryAdapter = new CategoryAdapter(categories);
---+        categoryAdapter = new CategoryAdapter(categories, getContext());
---         binding.rvCategories.setAdapter(categoryAdapter);
---         binding.rvCategories.setLayoutManager(new LinearLayoutManager(getContext(), LinearLayoutManager.HORIZONTAL, false));
--- 
----
----
---         return binding.getRoot();
----
---     }
--- 
----
----
----    void addControl(View v)
----    {
---+    void addControl(View v) {
---         button_post_product_continue = v.findViewById(R.id.button_post_product_continue);
---     }
--- 
---     void addEvents(View v) {
----        button_post_product_continue.setOnClickListener(new View.OnClickListener() {
----            @Override
----            public void onClick(View v) {
----                Fragment newFragment = new PostProductPriceFragment();
----                if(categoryAdapter.category==null){
----                    Toast.makeText(getContext(), "Vui long chon danh muc", Toast.LENGTH_SHORT).show();
----                    return;
----                }
----                ProductRequest product = new ProductRequest(binding.edtName.getText().toString(),binding.edtDes.getText().toString(),categoryAdapter.category.getId());
----                Bundle bundle = new Bundle();
----                bundle.putSerializable("postProduct",product);
----                bundle.putParcelableArrayList("imageUris", (ArrayList<Uri>) imageUris);
----                newFragment.setArguments(bundle);
----                FragmentTransaction transaction = getFragmentManager().beginTransaction();
---+        button_post_product_continue.setOnClickListener(v1 -> {
---+            Fragment newFragment = new PostProductPriceFragment();
---+            if (categoryAdapter.category == null) {
---+                Toast.makeText(getContext(), "Vui long chon danh muc", Toast.LENGTH_SHORT).show();
---+                return;
---+            }
---+            ProductRequest product = new ProductRequest(binding.edtName.getText().toString(), binding.edtDes.getText().toString(), categoryAdapter.category.getId());
---+            Bundle bundle = new Bundle();
---+            bundle.putSerializable("postProduct", product);
---+            bundle.putParcelableArrayList("imageUris", (ArrayList<Uri>) imageUris);
---+            newFragment.setArguments(bundle);
---+            FragmentTransaction transaction = getFragmentManager().beginTransaction();
--- 
----                transaction.replace(R.id.fragmentPostProduct, newFragment);
---+            transaction.replace(R.id.fragmentPostProduct, newFragment);
--- 
----                transaction.addToBackStack(null);
----                transaction.commit();
----            }
---+            transaction.addToBackStack(null);
---+            transaction.commit();
---         });
---     }
--- 
----    void loadCategory(){
---+    void loadCategory() {
---         FirebaseFirestore db = FirebaseFirestore.getInstance();
---         db.collection("categories")
---                 .orderBy("id")
---@@ -248,5 +203,4 @@
---                     }
---                 });
---     }
----
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/viewmodel/CategoryViewModel.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/viewmodel/CategoryViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/CategoryViewModel.java
---new file mode 100644
------ /dev/null	(date 1730874849905)
---+++ b/app/src/main/java/com/example/agrimart/viewmodel/CategoryViewModel.java	(date 1730874849905)
---@@ -0,0 +1,29 @@
---+package com.example.agrimart.viewmodel;
---+
---+import androidx.lifecycle.LiveData;
---+import androidx.lifecycle.MutableLiveData;
---+import androidx.lifecycle.ViewModel;
---+
---+import com.example.agrimart.data.model.Product;
---+import com.google.firebase.firestore.FirebaseFirestore;
---+
---+import java.util.List;
---+
---+public class CategoryViewModel extends ViewModel {
---+    private MutableLiveData<List<Product>> products = new MutableLiveData<>();
---+    private FirebaseFirestore db = FirebaseFirestore.getInstance();
---+
---+    public LiveData<List<Product>> getProductsByCategory(String categoryId) {
---+        db.collection("products")
---+                .whereEqualTo("category_id", categoryId)
---+                .get()
---+                .addOnSuccessListener(queryDocumentSnapshots -> {
---+                    List<Product> productList = queryDocumentSnapshots.toObjects(Product.class);
---+                    products.setValue(productList);
---+                })
---+                .addOnFailureListener(e -> {
---+                    // Handle error
---+                });
---+        return products;
---+    }
---+}
---\ No newline at end of file
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_12_23_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_6_2024_12_23_PM_[Changes]/shelved.patch
--deleted file mode 100644
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_8_25_PM__Changes_.xml
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_8_25_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_8_25_PM__Changes_.xml
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_8_25_PM__Changes_.xml	
-+++ /dev/null	
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_11_13_2024_8_25_PM_[Changes]" date="1731504333362" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_8_25_PM_[Changes]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/13/2024 8:25 PM [Changes]" />
--</changelist>
-\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_11_14_PM__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_11_14_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_11_14_PM__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_11_14_PM__Changes_.xml	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ /dev/null	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
@@ -1,19 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_11_17_2024_11_14_PM_[Changes]" date="1731860091238" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_11_14_PM_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/17/2024 11:14 PM [Changes]" />
-  <binary>
-    <option name="BEFORE_PATH" />
-    <option name="AFTER_PATH" value="app/src/main/res/drawable/error.png" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_11_14_PM_[Changes]/error.png" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value="app/src/main/res/drawable/shopping_cart.png" />
-    <option name="AFTER_PATH" value="app/src/main/res/drawable/shopping_cart.png" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_11_14_PM_[Changes]/shopping_cart.png" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" />
-    <option name="AFTER_PATH" value="app/src/main/res/drawable/dots.png" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_11_14_PM_[Changes]/dots.png" />
-  </binary>
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_3_12_PM__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_3_12_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_3_12_PM__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_3_12_PM__Changes_.xml	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ /dev/null	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
@@ -1,74 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_11_17_2024_3_12_PM_[Changes]" date="1731831161585" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_3_12_PM_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/17/2024 3:12 PM [Changes]" />
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_6.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_4.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_8.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/placeholder_image.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_2.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_1.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_5.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" />
-    <option name="AFTER_PATH" value="app/src/main/res/drawable/error.png" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_3_12_PM_[Changes]/error.png" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/error_image.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_3.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value="app/src/main/res/drawable/shopping_cart.png" />
-    <option name="AFTER_PATH" value="app/src/main/res/drawable/shopping_cart.png" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_3_12_PM_[Changes]/shopping_cart.png" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_7.png" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" />
-    <option name="AFTER_PATH" value="app/src/main/res/drawable/dots.png" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_3_12_PM_[Changes]/dots.png" />
-  </binary>
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_7_35_PM_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_7_35_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_7_35_PM_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_7_35_PM_[Changes]/shelved.patch	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ /dev/null	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
@@ -1,4977 +0,0 @@
-Index: app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/PurchasedOrdersActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.ui.MyProfile.PurchasedOrders;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log; // Thêm import cho Log\r\nimport android.widget.ImageButton;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.adapter.PurchasedOrdersPagerAdapter;\r\nimport com.google.android.material.tabs.TabLayout;\r\nimport com.google.android.material.tabs.TabLayoutMediator;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\npublic class PurchasedOrdersActivity extends AppCompatActivity {\r\n    private static final String TAG = \"PurchasedOrdersActivity\"; // Thêm hằng số TAG cho log\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_purchased_orders);\r\n        EdgeToEdge.enable(this);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        // Khởi tạo TabLayout và ViewPager2\r\n        TabLayout tabLayout = findViewById(R.id.tab_layout);\r\n        ViewPager2 viewPager = findViewById(R.id.view_pager);\r\n        ImageButton btn_back = findViewById(R.id.btn_back);\r\n\r\n\r\n        // Tạo adapter cho ViewPager2\r\n        PurchasedOrdersPagerAdapter pagerAdapter = new PurchasedOrdersPagerAdapter(this);\r\n        viewPager.setAdapter(pagerAdapter);\r\n\r\n        // Kết nối TabLayout với ViewPager2 thông qua TabLayoutMediator\r\n        new TabLayoutMediator(tabLayout, viewPager, (tab, position) -> {\r\n            switch (position) {\r\n                case 0:\r\n                    tab.setText(\"Chờ xác nhận\");\r\n                    break;\r\n                case 1:\r\n                    tab.setText(\"Chờ lấy hàng\");\r\n                    break;\r\n                case 2:\r\n                    tab.setText(\"Chờ giao hàng\");\r\n                    break;\r\n                case 3:\r\n                    tab.setText(\"Đã giao\");\r\n                    break;\r\n                case 4:\r\n                    tab.setText(\"Đã hủy\");\r\n                    break;\r\n                case 5:\r\n                    tab.setText(\"Trả hàng\");\r\n                    break;\r\n            }\r\n        }).attach();\r\n\r\n        // Lấy giá trị tab được chọn từ Intent\r\n        int selectedTab = getIntent().getIntExtra(\"selectedTab\", 0);\r\n\r\n        // Ghi log giá trị selectedTab\r\n        Log.d(TAG, \"Selected tab: \" + selectedTab);\r\n\r\n        // Sử dụng post để đảm bảo giao diện đã sẵn sàng trước khi chuyển tab\r\n        viewPager.post(() -> {\r\n            if (selectedTab >= 0 && selectedTab < viewPager.getAdapter().getItemCount()) {\r\n                viewPager.setCurrentItem(selectedTab, false);\r\n                Log.d(TAG, \"Navigated to tab: \" + selectedTab);\r\n            } else {\r\n                Log.d(TAG, \"Invalid tab index: \" + selectedTab);\r\n            }\r\n        });\r\n\r\n        btn_back.setOnClickListener(v -> onBackPressed());\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/PurchasedOrdersActivity.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/PurchasedOrdersActivity.java
---- a/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/PurchasedOrdersActivity.java	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ b/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/PurchasedOrdersActivity.java	(date 1732095331786)
-@@ -1,7 +1,6 @@
- package com.example.agrimart.ui.MyProfile.PurchasedOrders;
- 
- import android.os.Bundle;
--import android.util.Log; // Thêm import cho Log
- import android.widget.ImageButton;
- 
- import androidx.activity.EdgeToEdge;
-@@ -10,11 +9,17 @@
- import androidx.core.view.ViewCompat;
- import androidx.core.view.WindowInsetsCompat;
- import com.example.agrimart.R;
--import com.example.agrimart.adapter.PurchasedOrdersPagerAdapter;
-+import com.example.agrimart.adapter.ViewPagerAdapter;
- import com.google.android.material.tabs.TabLayout;
- import com.google.android.material.tabs.TabLayoutMediator;
-+
-+import androidx.fragment.app.Fragment;
- import androidx.viewpager2.widget.ViewPager2;
- 
-+import java.util.ArrayList;
-+import java.util.Arrays;
-+import java.util.List;
-+
- public class PurchasedOrdersActivity extends AppCompatActivity {
-     private static final String TAG = "PurchasedOrdersActivity"; // Thêm hằng số TAG cho log
- 
-@@ -35,50 +40,26 @@
-         ViewPager2 viewPager = findViewById(R.id.view_pager);
-         ImageButton btn_back = findViewById(R.id.btn_back);
- 
-+        //------------------------------------------------------------------------------------------
-+        List<Fragment> fragments = new ArrayList<>();
-+        List<String> titles = Arrays.asList("Chờ xác nhận", "Chờ giao hàng", "Đang giao", "Đã giao", "Đã hủy");
-+        List<String> statuses = Arrays.asList("Pending", "Approved", "Delivering", "Delivered", "Cancel");
- 
--        // Tạo adapter cho ViewPager2
--        PurchasedOrdersPagerAdapter pagerAdapter = new PurchasedOrdersPagerAdapter(this);
--        viewPager.setAdapter(pagerAdapter);
-+        int selectedCategoryIndex = -1;
- 
--        // Kết nối TabLayout với ViewPager2 thông qua TabLayoutMediator
--        new TabLayoutMediator(tabLayout, viewPager, (tab, position) -> {
--            switch (position) {
--                case 0:
--                    tab.setText("Chờ xác nhận");
--                    break;
--                case 1:
--                    tab.setText("Chờ lấy hàng");
--                    break;
--                case 2:
--                    tab.setText("Chờ giao hàng");
--                    break;
--                case 3:
--                    tab.setText("Đã giao");
--                    break;
--                case 4:
--                    tab.setText("Đã hủy");
--                    break;
--                case 5:
--                    tab.setText("Trả hàng");
--                    break;
--            }
--        }).attach();
-+        for (int i = 0; i < statuses.size(); i++) {
-+            fragments.add(new OrderStatusFragment(statuses.get(i)));
-+        }
-+
-+        ViewPagerAdapter viewPagerAdapter = new ViewPagerAdapter(this, fragments, titles);
-+        viewPager.setAdapter(viewPagerAdapter);
- 
--        // Lấy giá trị tab được chọn từ Intent
--        int selectedTab = getIntent().getIntExtra("selectedTab", 0);
- 
--        // Ghi log giá trị selectedTab
--        Log.d(TAG, "Selected tab: " + selectedTab);
-+        new TabLayoutMediator(tabLayout, viewPager, (tab, pos) -> tab.setText(titles.get(pos))).attach();
- 
--        // Sử dụng post để đảm bảo giao diện đã sẵn sàng trước khi chuyển tab
--        viewPager.post(() -> {
--            if (selectedTab >= 0 && selectedTab < viewPager.getAdapter().getItemCount()) {
--                viewPager.setCurrentItem(selectedTab, false);
--                Log.d(TAG, "Navigated to tab: " + selectedTab);
--            } else {
--                Log.d(TAG, "Invalid tab index: " + selectedTab);
--            }
--        });
-+
-+
-+
- 
-         btn_back.setOnClickListener(v -> onBackPressed());
-     }
-Index: app/src/main/java/com/example/agrimart/viewmodel/CategoryViewModel.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\npublic class CategoryViewModel extends ViewModel {\r\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    public MutableLiveData<List<Product>> products = new MutableLiveData<>();\r\n    public MutableLiveData<String> sortOrder = new MutableLiveData<>();\r\n\r\n\r\n    public void setSortOrder(String sortOrder) {\r\n        this.sortOrder.setValue(sortOrder);  // Đảm bảo việc thay đổi giá trị trong ViewModel\r\n        Log.e(\"CategoryViewModel\", \"Co truyen vao \"+ sortOrder);\r\n    }\r\n\r\n    public void getProductsByCategory(String categoryID) {\r\n        db.collection(\"products\")\r\n                .whereEqualTo(\"category_id\", categoryID)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Product> productList = task.getResult().toObjects(Product.class);\r\n                        products.setValue(productList);\r\n                        applySort();\r\n                    } else {\r\n                        Log.e(\"CategoryViewModel\", \"Error getting products: \", task.getException());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void applySort() {\r\n        if (products.getValue() != null && sortOrder.getValue() != null) {\r\n            List<Product> sortedList = new ArrayList<>(products.getValue());\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\", Locale.getDefault());\r\n\r\n            switch (sortOrder.getValue()) {\r\n                case \"lowest_price\":\r\n                    Collections.sort(sortedList, Comparator.comparing(Product::getPrice));\r\n                    Log.d(\"CategoryViewModel\", \"Sorted by lowest_price\");\r\n                    break;\r\n\r\n                case \"highest_price\":\r\n                    Collections.sort(sortedList, (a, b) -> Double.compare(b.getPrice(), a.getPrice()));\r\n                    Log.d(\"CategoryViewModel\", \"Sorted by highest_price\");\r\n                    break;\r\n\r\n                case \"latest\":\r\n                    Collections.sort(sortedList, (a, b) -> {\r\n                        try {\r\n                            Date dateA = dateFormat.parse(a.getCreated_at());\r\n                            Date dateB = dateFormat.parse(b.getCreated_at());\r\n                            return dateB.compareTo(dateA); // Latest first\r\n                        } catch (ParseException e) {\r\n                            e.printStackTrace();\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    Log.d(\"CategoryViewModel\", \"Sorted by latest\");\r\n                    break;\r\n\r\n                case \"oldest\":\r\n                    Collections.sort(sortedList, (a, b) -> {\r\n                        try {\r\n                            Date dateA = dateFormat.parse(a.getCreated_at());\r\n                            Date dateB = dateFormat.parse(b.getCreated_at());\r\n                            return dateA.compareTo(dateB); // Oldest first\r\n                        } catch (ParseException e) {\r\n                            e.printStackTrace();\r\n                            return 0;\r\n                        }\r\n                    });\r\n                    Log.d(\"CategoryViewModel\", \"Sorted by oldest\");\r\n                    break;\r\n            }\r\n            products.setValue(sortedList);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/viewmodel/CategoryViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/CategoryViewModel.java
---- a/app/src/main/java/com/example/agrimart/viewmodel/CategoryViewModel.java	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ b/app/src/main/java/com/example/agrimart/viewmodel/CategoryViewModel.java	(date 1732098661853)
-@@ -27,7 +27,6 @@
- 
-     public void setSortOrder(String sortOrder) {
-         this.sortOrder.setValue(sortOrder);  // Đảm bảo việc thay đổi giá trị trong ViewModel
--        Log.e("CategoryViewModel", "Co truyen vao "+ sortOrder);
-     }
- 
-     public void getProductsByCategory(String categoryID) {
-Index: app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/CancelledFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/CancelledFragment.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/OrderStatusFragment.java
-rename from app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/CancelledFragment.java
-rename to app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/OrderStatusFragment.java
---- a/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/CancelledFragment.java	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ b/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/OrderStatusFragment.java	(date 1732105097329)
-@@ -1,59 +1,44 @@
- package com.example.agrimart.ui.MyProfile.PurchasedOrders;
- 
- import android.os.Bundle;
--
- import androidx.fragment.app.Fragment;
-+import androidx.lifecycle.ViewModelProvider;
-+import androidx.recyclerview.widget.DividerItemDecoration;
-+import androidx.recyclerview.widget.LinearLayoutManager;
-+import androidx.recyclerview.widget.RecyclerView;
- 
-+import android.util.Log;
- import android.view.LayoutInflater;
- import android.view.View;
- import android.view.ViewGroup;
-+import android.widget.TextView;
- 
- import com.example.agrimart.R;
-+import com.example.agrimart.adapter.OrderStoreAdapter;
-+import com.example.agrimart.data.model.Order;
-+import com.example.agrimart.viewmodel.OrderStatusFragmentViewModel;
- 
--/**
-- * A simple {@link Fragment} subclass.
-- * Use the {@link CancelledFragment#newInstance} factory method to
-- * create an instance of this fragment.
-- */
--public class CancelledFragment extends Fragment {
-+import java.util.ArrayList;
-+import java.util.List;
- 
--    // TODO: Rename parameter arguments, choose names that match
--    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
--    private static final String ARG_PARAM1 = "param1";
--    private static final String ARG_PARAM2 = "param2";
-+public class OrderStatusFragment extends Fragment {
-+    private OrderStatusFragmentViewModel viewModel;
-+    private String status;
-+    private TextView text;
-+    private OrderStoreAdapter orderStoreAdapter;
-+    RecyclerView recyclerView;
- 
--    // TODO: Rename and change types of parameters
--    private String mParam1;
--    private String mParam2;
--
--    public CancelledFragment() {
-+    public OrderStatusFragment(String status) {
-         // Required empty public constructor
-+        this.status = status;
-     }
- 
--    /**
--     * Use this factory method to create a new instance of
--     * this fragment using the provided parameters.
--     *
--     * @param param1 Parameter 1.
--     * @param param2 Parameter 2.
--     * @return A new instance of fragment CancelledFragment.
--     */
--    // TODO: Rename and change types and number of parameters
--    public static CancelledFragment newInstance(String param1, String param2) {
--        CancelledFragment fragment = new CancelledFragment();
--        Bundle args = new Bundle();
--        args.putString(ARG_PARAM1, param1);
--        args.putString(ARG_PARAM2, param2);
--        fragment.setArguments(args);
--        return fragment;
--    }
- 
-     @Override
-     public void onCreate(Bundle savedInstanceState) {
-         super.onCreate(savedInstanceState);
-         if (getArguments() != null) {
--            mParam1 = getArguments().getString(ARG_PARAM1);
--            mParam2 = getArguments().getString(ARG_PARAM2);
-+            status = getArguments().getString("status");
-         }
-     }
- 
-@@ -61,6 +46,40 @@
-     public View onCreateView(LayoutInflater inflater, ViewGroup container,
-                              Bundle savedInstanceState) {
-         // Inflate the layout for this fragment
--        return inflater.inflate(R.layout.fragment_cancelled, container, false);
-+        View view = inflater.inflate(R.layout.fragment_order_status, container, false);
-+
-+
-+
-+        addControl(view);
-+
-+
-+
-+        return view;
-     }
--}
-\ No newline at end of file
-+
-+    private void addControl(View view) {
-+
-+        recyclerView = view.findViewById(R.id.recyclerViewOrders);
-+
-+        // Thiết lập RecyclerView
-+        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));
-+        recyclerView.addItemDecoration(new DividerItemDecoration(getContext(), DividerItemDecoration.VERTICAL));
-+
-+        // Khởi tạo ViewModel
-+        viewModel = new ViewModelProvider(this).get(OrderStatusFragmentViewModel.class);
-+
-+        // Khởi tạo Adapter
-+        orderStoreAdapter = new OrderStoreAdapter(new ArrayList<>());
-+        recyclerView.setAdapter(orderStoreAdapter);
-+
-+        viewModel.getData(status);
-+        Log.d("OrderStatusFragment", "Setting up observer...");
-+        viewModel.getOrders().observe(getViewLifecycleOwner(), orders -> {
-+            Log.d("OrderStatusFragment", "Orders received: " + (orders != null ? orders.size() : "No data"));
-+            orderStoreAdapter.updateOrders(orders);
-+        });
-+        Log.d("OrderStatusFragment", "Observer setup complete.");
-+
-+
-+    }
-+}
-Index: app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.data.model.Cart;\r\nimport com.example.agrimart.data.model.ProductCart;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.FieldValue;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.Query;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Map;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class CartFragmentViewModel extends ViewModel {\r\n    private final FirebaseAuth auth;\r\n    private final FirebaseFirestore firestore;\r\n    private String userId;\r\n    private List<Cart> storeCartList = new ArrayList<>();\r\n\r\n    // Constructor\r\n    public CartFragmentViewModel() {\r\n        this.auth = FirebaseAuth.getInstance();\r\n        this.firestore = FirebaseFirestore.getInstance();\r\n    }\r\n\r\n    // Hàm để lấy danh sách các StoreCart theo userId, sắp xếp theo ngày\r\n    public void getStoreCartsByUserId(final OnDataFetchedListener listener) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .orderBy(\"updatedAt\", Query.Direction.DESCENDING)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Cart> storeCartList = new ArrayList<>();\r\n                        for (DocumentSnapshot document : task.getResult()) {\r\n                            Cart storeCart = document.toObject(Cart.class);\r\n                            if (storeCart != null) {\r\n                                storeCartList.add(storeCart);\r\n\r\n                            }\r\n                        }\r\n\r\n                        fetchProductDetailsAndStore(storeCartList, listener);\r\n                    } else {\r\n                        Log.e(\"CartFragmentViewModel\", \"Failed to fetch data:\" + task.getException().getMessage());\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n\r\n    // Hàm để lấy thông tin sản phẩm từ productId\r\n\r\n    private void fetchProductDetailsAndStore(List<Cart> storeCartList, final OnDataFetchedListener listener) {\r\n        // Khởi tạo danh sách với kích thước bằng storeCartList để đảm bảo thứ tự\r\n        List<Cart> updatedStoreCartList = new ArrayList<>(storeCartList.size());\r\n        for (int i = 0; i < storeCartList.size(); i++) {\r\n            updatedStoreCartList.add(i, null); // Đảm bảo mỗi vị trí trong danh sách là null trước khi cập nhật\r\n        }\r\n\r\n        AtomicInteger remainingRequests = new AtomicInteger(storeCartList.size());  // Đếm số lượng yêu cầu còn lại\r\n\r\n        for (int i = 0; i < storeCartList.size(); i++) {\r\n            Cart storeCart = storeCartList.get(i);\r\n            List<Product> products = storeCart.getProducts();\r\n            AtomicInteger productRequests = new AtomicInteger(products.size());  // Đếm số lượng yêu cầu cho từng sản phẩm\r\n\r\n            for (Product product : products) {\r\n                int finalI = i;\r\n                firestore.collection(\"products\")\r\n                        .document(product.getProduct_id())\r\n                        .get()\r\n                        .addOnCompleteListener(productTask -> {\r\n                            if (productTask.isSuccessful()) {\r\n                                DocumentSnapshot productDoc = productTask.getResult();\r\n                                if (productDoc.exists()) {\r\n                                    product.setName(productDoc.getString(\"name\"));\r\n                                    product.setPrice(productDoc.getDouble(\"price\"));\r\n                                    product.setImages((List<String>) productDoc.get(\"images\"));\r\n                                    product.setStoreId(productDoc.getString(\"storeId\"));\r\n                                    product.setUnit(productDoc.getString(\"unit\"));\r\n                                }\r\n                            } else {\r\n                                listener.onError(\"Lấy thông tin sản phẩm thất bại: \" + productTask.getException().getMessage());\r\n                            }\r\n\r\n                            // Sau khi tất cả sản phẩm của giỏ hàng đã được cập nhật\r\n                            if (productRequests.decrementAndGet() == 0) {\r\n                                firestore.collection(\"users\")\r\n                                        .document(storeCart.getStoreId())\r\n                                        .get()\r\n                                        .addOnCompleteListener(userTask -> {\r\n                                            if (userTask.isSuccessful()) {\r\n                                                DocumentSnapshot storeDoc = userTask.getResult();\r\n                                                if (storeDoc.exists()) {\r\n                                                    storeCart.setStore_name(storeDoc.getString(\"store_name\"));\r\n                                                }\r\n                                            } else {\r\n                                                listener.onError(\"Lấy thông tin cửa hàng thất bại: \" + userTask.getException().getMessage());\r\n                                            }\r\n\r\n                                            // Đặt storeCart đã được cập nhật vào đúng vị trí\r\n                                            updatedStoreCartList.set(finalI, storeCart);\r\n\r\n                                            // Sau khi tất cả các yêu cầu đã hoàn thành\r\n                                            if (remainingRequests.decrementAndGet() == 0) {\r\n                                                listener.onDataFetched(updatedStoreCartList); // Gọi listener khi tất cả dữ liệu đã được lấy về\r\n                                            }\r\n                                        });\r\n                            }\r\n                        });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    public void updateProductQuantityInFirebase(String productId, String storeId, int newQuantity) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .whereEqualTo(\"storeId\", storeId)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful() && !task.getResult().isEmpty()) {\r\n                        DocumentSnapshot document = task.getResult().getDocuments().get(0);\r\n                        Cart storeCart = document.toObject(Cart.class);\r\n\r\n                        if (storeCart != null) {\r\n                            List<ProductCart> updatedProductList = new ArrayList<>();\r\n                            boolean productFound = false;\r\n\r\n                            for (Product product : storeCart.getProducts()) {\r\n                                int quantity = product.getProduct_id().equals(productId) ? newQuantity : product.getQuantity();\r\n                                updatedProductList.add(new ProductCart(product.getProduct_id(), quantity));\r\n\r\n                                if (product.getProduct_id().equals(productId)) {\r\n                                    productFound = true;\r\n                                }\r\n                            }\r\n\r\n                            if (productFound) {\r\n                                storeCart.setProductCart(updatedProductList);\r\n\r\n                                firestore.collection(\"cart\")\r\n                                        .document(document.getId())\r\n                                        .update(\"products\", storeCart.getProductCart())\r\n                                        .addOnSuccessListener(aVoid -> Log.d(\"Firebase\", \"Giỏ hàng đã được cập nhật.\"))\r\n                                        .addOnFailureListener(e -> Log.e(\"Firebase\", \"Lỗi khi cập nhật giỏ hàng: \" + e.getMessage()));\r\n                            } else {\r\n                                Log.e(\"Firebase\", \"Không tìm thấy sản phẩm trong giỏ hàng.\");\r\n                            }\r\n                        }\r\n                    } else {\r\n                        Log.e(\"Firebase\", \"Không tìm thấy giỏ hàng hoặc có lỗi xảy ra: \" + (task.getException() != null ? task.getException().getMessage() : \"\"));\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n\r\n    public void addProductToCart(String storeId, Product productToAdd, int quantity) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        // Query the user's cart based on userId and storeId\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .whereEqualTo(\"storeId\", storeId)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        if (!task.getResult().isEmpty()) {\r\n                            // Retrieve the existing cart if available\r\n                            DocumentSnapshot document = task.getResult().getDocuments().get(0);\r\n                            Cart storeCart = document.toObject(Cart.class);\r\n\r\n                            if (storeCart != null) {\r\n                                List<Product> products = storeCart.getProducts();\r\n                                List<ProductCart> productCarts = new ArrayList<>();\r\n\r\n                                if (products == null) {\r\n                                    products = new ArrayList<>(); // Initialize if null\r\n                                }\r\n\r\n                                // Check if the product already exists in the cart\r\n                                boolean productExists = false;\r\n                                for (Product product : products) {\r\n                                    ProductCart pro = new ProductCart();\r\n                                    pro.setProduct_id(product.getProduct_id());\r\n                                    pro.setQuantity(product.getQuantity());\r\n                                    if (product.getProduct_id().equals(productToAdd.getProduct_id())) {\r\n                                        productExists = true;\r\n                                        pro.setQuantity(product.getQuantity() + quantity);\r\n                                    }\r\n                                    productCarts.add(pro);\r\n                                }\r\n\r\n                                // If the product doesn't exist, add it as a new product\r\n                                if (!productExists) {\r\n                                    ProductCart pro = new ProductCart();\r\n                                    pro.setProduct_id(productToAdd.getProduct_id());\r\n                                    pro.setQuantity(quantity);\r\n                                    productCarts.add(pro);\r\n                                }\r\n\r\n                                storeCart.setProduct(products); // Update the cart with the new product list\r\n                                String updatedAt = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\", Locale.getDefault()).format(new Date());\r\n                                storeCart.setUpdatedAt(updatedAt); // Update the timestamp\r\n\r\n                                // Update Firestore\r\n                                firestore.collection(\"cart\")\r\n                                        .document(document.getId())\r\n                                        .update(\r\n                                                \"products\", productCarts,\r\n                                                \"updatedAt\", updatedAt\r\n                                        )\r\n                                        .addOnSuccessListener(aVoid -> Log.d(\"Firebase\", \"Product has been added to the cart.\"))\r\n                                        .addOnFailureListener(e -> Log.e(\"Firebase\", \"Error adding product to cart: \" + e.getMessage()));\r\n                            }\r\n                        } else {\r\n                            // Define a new cart\r\n                            Map<String, Object> newCart = new HashMap<>();\r\n                            newCart.put(\"userId\", userId);\r\n                            newCart.put(\"storeId\", storeId);\r\n                            String updatedAt = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\", Locale.getDefault()).format(new Date());\r\n                            newCart.put(\"updatedAt\", updatedAt);\r\n                            newCart.put(\"checked\", false);\r\n\r\n                            // Create the initial list of products\r\n                            List<Map<String, Object>> productCarts = new ArrayList<>();\r\n                            Map<String, Object> productData = new HashMap<>();\r\n                            productData.put(\"product_id\", productToAdd.getProduct_id());\r\n                            productData.put(\"quantity\", quantity);\r\n                            productCarts.add(productData);\r\n                            newCart.put(\"products\", productCarts);\r\n\r\n                            // Add the new cart to Firestore\r\n                            firestore.collection(\"cart\")\r\n                                    .add(newCart)\r\n                                    .addOnSuccessListener(documentReference -> Log.d(\"Firebase\", \"New cart has been created.\"))\r\n                                    .addOnFailureListener(e -> Log.e(\"Firebase\", \"Error creating new cart: \" + e.getMessage()));\r\n                        }\r\n                    } else {\r\n                        Log.e(\"Firebase\", \"Error retrieving cart: \" + task.getException());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void updateProductCheckedStatusInFirebase(String productId, String storeId, boolean isChecked) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        // Tạo Map để lưu trạng thái vào Firestore\r\n        Map<String, Object> updates = new HashMap<>();\r\n        updates.put(\"checked\", isChecked);\r\n\r\n        // Truy vấn giỏ hàng theo userId và storeId\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .whereEqualTo(\"storeId\", storeId)\r\n                .get()  // Lấy tất cả các tài liệu phù hợp\r\n                .addOnSuccessListener(querySnapshot -> {\r\n                    if (!querySnapshot.isEmpty()) {\r\n                        // Nếu có tài liệu giỏ hàng phù hợp, tiến hành cập nhật\r\n                        DocumentSnapshot cartDoc = querySnapshot.getDocuments().get(0);\r\n                        // Lấy mảng sản phẩm trong giỏ hàng\r\n                        List<Map<String, Object>> products = (List<Map<String, Object>>) cartDoc.get(\"products\");\r\n\r\n                        // Kiểm tra và cập nhật sản phẩm trong mảng\r\n                        for (Map<String, Object> product : products) {\r\n                            if (product.get(\"product_id\").equals(productId)) {\r\n                                // Cập nhật trạng thái của sản phẩm trong mảng\r\n                                product.put(\"checked\", isChecked);\r\n                                break; // Dừng lại sau khi cập nhật sản phẩm\r\n                            }\r\n                        }\r\n\r\n                        // Cập nhật lại toàn bộ mảng products\r\n                        Map<String, Object> updatedCart = new HashMap<>();\r\n                        updatedCart.put(\"products\", products);\r\n\r\n                        // Cập nhật lại tài liệu giỏ hàng\r\n                        firestore.collection(\"cart\")\r\n                                .document(cartDoc.getId())  // Lấy ID của tài liệu cart phù hợp\r\n                                .update(updatedCart)\r\n                                .addOnSuccessListener(aVoid -> {\r\n                                    Log.d(\"Cart\", \"Trạng thái checkbox đã được cập nhật\");\r\n                                    // Làm mới dữ liệu UI sau khi cập nhật\r\n                                })\r\n                                .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi cập nhật trạng thái checkbox\", e));\r\n                    } else {\r\n                        // Không tìm thấy tài liệu giỏ hàng phù hợp\r\n                        Log.e(\"Cart\", \"Không tìm thấy giỏ hàng của người dùng với storeId \" + storeId);\r\n                    }\r\n                })\r\n                .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi truy vấn Firestore\", e));\r\n    }\r\n\r\n\r\n    public void updateStoreCheckedStatusInFirebase(String storeId, boolean isChecked) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        // Tạo Map để lưu trạng thái vào Firestore\r\n        Map<String, Object> updates = new HashMap<>();\r\n        updates.put(\"checked\", isChecked);  // Thêm trường 'checked' vào tài liệu giỏ hàng\r\n\r\n        // Truy vấn giỏ hàng theo userId và storeId\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .whereEqualTo(\"storeId\", storeId)\r\n                .get()  // Lấy tất cả các tài liệu phù hợp\r\n                .addOnSuccessListener(querySnapshot -> {\r\n                    if (!querySnapshot.isEmpty()) {\r\n                        // Duyệt qua tất cả các tài liệu giỏ hàng\r\n                        for (DocumentSnapshot cartDoc : querySnapshot.getDocuments()) {\r\n                            // Lấy mảng sản phẩm trong giỏ hàng\r\n                            List<Map<String, Object>> products = (List<Map<String, Object>>) cartDoc.get(\"products\");\r\n\r\n                            if (products != null) {\r\n                                // Cập nhật trạng thái checked cho tất cả sản phẩm trong giỏ hàng\r\n                                for (Map<String, Object> product : products) {\r\n                                    product.put(\"checked\", isChecked);\r\n                                }\r\n\r\n                                // Cập nhật lại toàn bộ mảng products\r\n                                Map<String, Object> updatedCart = new HashMap<>();\r\n                                updatedCart.put(\"products\", products);\r\n                                updatedCart.put(\"checked\", isChecked);  // Thêm trường checked vào giỏ hàng\r\n\r\n                                // Cập nhật lại tài liệu giỏ hàng\r\n                                firestore.collection(\"cart\")\r\n                                        .document(cartDoc.getId())  // Lấy ID của tài liệu cart phù hợp\r\n                                        .update(updatedCart)\r\n                                        .addOnSuccessListener(aVoid -> Log.d(\"Cart\", \"Trạng thái checkbox đã được cập nhật 1\"))\r\n                                        .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi cập nhật trạng thái checkbox\", e));\r\n                            }\r\n                        }\r\n                    } else {\r\n                        // Không tìm thấy tài liệu giỏ hàng phù hợp\r\n                        Log.e(\"Cart\", \"Không tìm thấy giỏ hàng của người dùng với storeId \" + storeId);\r\n                    }\r\n                })\r\n                .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi truy vấn Firestore\", e));\r\n    }\r\n\r\n    public void onlyUpdateStoreCheckedStatusInFirebase(String storeId, boolean isChecked) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        // Tạo Map để lưu trạng thái vào Firestore\r\n        Map<String, Object> updates = new HashMap<>();\r\n        updates.put(\"checked\", isChecked);  // Thêm trường 'checked' vào tài liệu giỏ hàng\r\n\r\n        // Truy vấn giỏ hàng theo userId và storeId\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .whereEqualTo(\"storeId\", storeId)\r\n                .get()  // Lấy tất cả các tài liệu phù hợp\r\n                .addOnSuccessListener(querySnapshot -> {\r\n                    if (!querySnapshot.isEmpty()) {\r\n                        // Duyệt qua tất cả các tài liệu giỏ hàng\r\n                        for (DocumentSnapshot cartDoc : querySnapshot.getDocuments()) {\r\n                            // Lấy mảng sản phẩm trong giỏ hàng\r\n                            List<Map<String, Object>> products = (List<Map<String, Object>>) cartDoc.get(\"products\");\r\n\r\n                            if (products != null) {\r\n\r\n                                // Cập nhật lại toàn bộ mảng products\r\n                                Map<String, Object> updatedCart = new HashMap<>();\r\n                                //updatedCart.put(\"products\", products);\r\n                                updatedCart.put(\"checked\", isChecked);  // Thêm trường checked vào giỏ hàng\r\n\r\n                                // Cập nhật lại tài liệu giỏ hàng\r\n                                firestore.collection(\"cart\")\r\n                                        .document(cartDoc.getId())  // Lấy ID của tài liệu cart phù hợp\r\n                                        .update(updatedCart)\r\n                                        .addOnSuccessListener(aVoid -> Log.d(\"Cart\", \"Trạng thái checkbox đã được cập nhật 1\"))\r\n                                        .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi cập nhật trạng thái checkbox\", e));\r\n                            }\r\n                        }\r\n                    } else {\r\n                        // Không tìm thấy tài liệu giỏ hàng phù hợp\r\n                        Log.e(\"Cart\", \"Không tìm thấy giỏ hàng của người dùng với storeId \" + storeId);\r\n                    }\r\n                })\r\n                .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi truy vấn Firestore\", e));\r\n    }\r\n\r\n    public void removeCheckedProductsOrCart(OnDeleteCompletedListener listener) {\r\n        String userId = auth.getCurrentUser().getUid();\r\n\r\n        // Truy vấn tất cả giỏ hàng của người dùng\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .get()\r\n                .addOnSuccessListener(querySnapshot -> {\r\n                    if (!querySnapshot.isEmpty()) {\r\n                        // Duyệt qua tất cả các giỏ hàng của người dùng\r\n                        for (DocumentSnapshot cartDoc : querySnapshot.getDocuments()) {\r\n                            List<Map<String, Object>> products = (List<Map<String, Object>>) cartDoc.get(\"products\");\r\n\r\n                            boolean allChecked = true;  // Biến kiểm tra tất cả sản phẩm có checked = true hay không\r\n\r\n                            // Kiểm tra các sản phẩm có checked = true không\r\n                            for (Map<String, Object> product : products) {\r\n                                if (product.get(\"checked\") == null || !(boolean) product.get(\"checked\")) {\r\n                                    allChecked = false;  // Nếu có sản phẩm không được chọn, set allChecked = false\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            if (allChecked) {\r\n                                // Nếu tất cả sản phẩm đều được chọn (checked = true), xóa giỏ hàng\r\n                                firestore.collection(\"cart\")\r\n                                        .document(cartDoc.getId())\r\n                                        .delete()\r\n                                        .addOnSuccessListener(aVoid -> {\r\n                                            Log.d(\"Cart\", \"Giỏ hàng đã bị xóa vì tất cả sản phẩm đều được chọn.\");\r\n                                            // Gọi callback khi việc xóa hoàn tất\r\n                                            listener.onDeleteCompleted();\r\n                                        })\r\n                                        .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi xóa giỏ hàng\", e));\r\n                            } else {\r\n                                // Nếu không phải tất cả sản phẩm đều được chọn, chỉ xóa những sản phẩm được chọn\r\n                                List<Map<String, Object>> updatedProducts = new ArrayList<>();\r\n\r\n                                // Giữ lại những sản phẩm chưa được chọn (checked = false)\r\n                                for (Map<String, Object> product : products) {\r\n                                    if (product.get(\"checked\") == null || !(boolean) product.get(\"checked\")) {\r\n                                        updatedProducts.add(product);  // Giữ lại sản phẩm không được chọn\r\n                                    }\r\n                                }\r\n\r\n                                // Cập nhật lại giỏ hàng với các sản phẩm chưa được chọn\r\n                                Map<String, Object> updatedCart = new HashMap<>();\r\n                                updatedCart.put(\"products\", updatedProducts);\r\n\r\n                                firestore.collection(\"cart\")\r\n                                        .document(cartDoc.getId())\r\n                                        .update(updatedCart)\r\n                                        .addOnSuccessListener(aVoid -> {\r\n                                            Log.d(\"Cart\", \"Các sản phẩm được chọn đã được xóa khỏi giỏ hàng.\");\r\n                                            // Gọi callback khi việc xóa hoàn tất\r\n                                            listener.onDeleteCompleted();\r\n                                        })\r\n                                        .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi xóa sản phẩm khỏi giỏ hàng\", e));\r\n                            }\r\n                        }\r\n                    } else {\r\n                        // Nếu không có giỏ hàng cho người dùng\r\n                        Log.e(\"Cart\", \"Không tìm thấy giỏ hàng của người dùng.\");\r\n                    }\r\n                })\r\n                .addOnFailureListener(e -> Log.e(\"Cart\", \"Lỗi khi truy vấn Firestore\", e));\r\n    }\r\n\r\n\r\n    public interface OnDeleteCompletedListener {\r\n        void onDeleteCompleted();\r\n    }\r\n\r\n\r\n    // Listener để callback khi lấy dữ liệu xong\r\n    public interface OnDataFetchedListener {\r\n        void onDataFetched(List<Cart> storeCarts);\r\n\r\n        void onError(String errorMessage);\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java
---- a/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ b/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java	(date 1732075731822)
-@@ -15,6 +15,7 @@
- 
- import java.text.SimpleDateFormat;
- import java.util.ArrayList;
-+import java.util.Collections;
- import java.util.Date;
- import java.util.HashMap;
- import java.util.List;
-@@ -47,18 +48,24 @@
-                         List<Cart> storeCartList = new ArrayList<>();
-                         for (DocumentSnapshot document : task.getResult()) {
-                             Cart storeCart = document.toObject(Cart.class);
--                            if (storeCart != null) {
-+                            if (storeCart != null && storeCart.getProducts() != null && !storeCart.getProducts().isEmpty()) {
-+                                // Chỉ thêm giỏ hàng nếu danh sách products không rỗng
-                                 storeCartList.add(storeCart);
--
-                             }
-                         }
- 
--                        fetchProductDetailsAndStore(storeCartList, listener);
-+                        if (!storeCartList.isEmpty()) {
-+                            fetchProductDetailsAndStore(storeCartList, listener);
-+                        } else {
-+                            listener.onDataFetched(Collections.emptyList()); // Trả về danh sách rỗng nếu không có giỏ hàng hợp lệ
-+                        }
-                     } else {
-                         Log.e("CartFragmentViewModel", "Failed to fetch data:" + task.getException().getMessage());
-+                        listener.onError("Lỗi khi lấy dữ liệu: " + task.getException().getMessage());
-                     }
-                 });
-     }
-+
- 
- 
- 
-Index: app/src/main/res/layout/fragment_deliverey.xml
-===================================================================
-diff --git a/app/src/main/res/layout/fragment_deliverey.xml b/app/src/main/res/layout/fragment_deliverey.xml
-deleted file mode 100644
---- a/app/src/main/res/layout/fragment_deliverey.xml	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,14 +0,0 @@
--<?xml version="1.0" encoding="utf-8"?>
--<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
--    xmlns:tools="http://schemas.android.com/tools"
--    android:layout_width="match_parent"
--    android:layout_height="match_parent"
--    tools:context=".ui.MyProfile.PurchasedOrders.WaitingDelivereyFragment">
--
--    <!-- TODO: Update blank fragment layout -->
--    <TextView
--        android:layout_width="match_parent"
--        android:layout_height="match_parent"
--        android:text="@string/hello_blank_fragment" />
--
--</FrameLayout>
-\ No newline at end of file
-Index: app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/WaitingGoodsFragment.java
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/WaitingGoodsFragment.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/WaitingGoodsFragment.java
-deleted file mode 100644
---- a/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/WaitingGoodsFragment.java	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,66 +0,0 @@
--package com.example.agrimart.ui.MyProfile.PurchasedOrders;
--
--import android.os.Bundle;
--
--import androidx.fragment.app.Fragment;
--
--import android.view.LayoutInflater;
--import android.view.View;
--import android.view.ViewGroup;
--
--import com.example.agrimart.R;
--
--/**
-- * A simple {@link Fragment} subclass.
-- * Use the {@link WaitingGoodsFragment#newInstance} factory method to
-- * create an instance of this fragment.
-- */
--public class WaitingGoodsFragment extends Fragment {
--
--    // TODO: Rename parameter arguments, choose names that match
--    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
--    private static final String ARG_PARAM1 = "param1";
--    private static final String ARG_PARAM2 = "param2";
--
--    // TODO: Rename and change types of parameters
--    private String mParam1;
--    private String mParam2;
--
--    public WaitingGoodsFragment() {
--        // Required empty public constructor
--    }
--
--    /**
--     * Use this factory method to create a new instance of
--     * this fragment using the provided parameters.
--     *
--     * @param param1 Parameter 1.
--     * @param param2 Parameter 2.
--     * @return A new instance of fragment WaitingFragment.
--     */
--    // TODO: Rename and change types and number of parameters
--    public static WaitingGoodsFragment newInstance(String param1, String param2) {
--        WaitingGoodsFragment fragment = new WaitingGoodsFragment();
--        Bundle args = new Bundle();
--        args.putString(ARG_PARAM1, param1);
--        args.putString(ARG_PARAM2, param2);
--        fragment.setArguments(args);
--        return fragment;
--    }
--
--    @Override
--    public void onCreate(Bundle savedInstanceState) {
--        super.onCreate(savedInstanceState);
--        if (getArguments() != null) {
--            mParam1 = getArguments().getString(ARG_PARAM1);
--            mParam2 = getArguments().getString(ARG_PARAM2);
--        }
--    }
--
--    @Override
--    public View onCreateView(LayoutInflater inflater, ViewGroup container,
--                             Bundle savedInstanceState) {
--        // Inflate the layout for this fragment
--        return inflater.inflate(R.layout.fragment_waiting, container, false);
--    }
--}
-\ No newline at end of file
-Index: app/src/main/java/com/example/agrimart/adapter/PurchasedOrdersPagerAdapter.java
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/adapter/PurchasedOrdersPagerAdapter.java b/app/src/main/java/com/example/agrimart/adapter/PurchasedOrdersPagerAdapter.java
-deleted file mode 100644
---- a/app/src/main/java/com/example/agrimart/adapter/PurchasedOrdersPagerAdapter.java	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,48 +0,0 @@
--package com.example.agrimart.adapter;
--
--import androidx.annotation.NonNull;
--import androidx.fragment.app.Fragment;
--import androidx.fragment.app.FragmentActivity;
--import androidx.viewpager2.adapter.FragmentStateAdapter;
--
--import com.example.agrimart.ui.MyProfile.PurchasedOrders.CancelledFragment;
--import com.example.agrimart.ui.MyProfile.PurchasedOrders.WaitingConfirmFragment;
--import com.example.agrimart.ui.MyProfile.PurchasedOrders.DeliveredFragment;
--import com.example.agrimart.ui.MyProfile.PurchasedOrders.WaitingDelivereyFragment;
--import com.example.agrimart.ui.MyProfile.PurchasedOrders.ReturnFragment;
--import com.example.agrimart.ui.MyProfile.PurchasedOrders.WaitingGoodsFragment;
--
--public class PurchasedOrdersPagerAdapter extends FragmentStateAdapter {
--
--    public PurchasedOrdersPagerAdapter(@NonNull FragmentActivity fragmentActivity) {
--        super(fragmentActivity);
--    }
--
--    @NonNull
--    @Override
--    public Fragment createFragment(int position) {
--        switch (position) {
--            case 0:
--                return new WaitingConfirmFragment();
--            case 1:
--                return new WaitingGoodsFragment();
--            case 2:
--                return new WaitingDelivereyFragment();
--            case 3:
--                return new DeliveredFragment();
--            case 4:
--                return new CancelledFragment();
--            case 5:
--                return new ReturnFragment();
--
--            // Thêm các case cho các tab khác nếu cần
--            default:
--                return new WaitingConfirmFragment();
--        }
--    }
--
--    @Override
--    public int getItemCount() {
--        return 6; // Số lượng tab
--    }
--}
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM_[Changes]/shelved.patch
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM_[Changes]/shelved.patch
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM_[Changes]/shelved.patch	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,1645 +0,0 @@
--Index: app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.ui.MyProfile.MyAccount;\r\n\r\nimport android.app.DatePickerDialog;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Typeface;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.widget.CalendarView;\r\nimport android.widget.DatePicker;\r\nimport android.widget.FrameLayout;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.request.RequestOptions;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.viewmodel.MyAccountViewModel;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.UserInfo;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\nimport com.yalantis.ucrop.UCrop;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Calendar;\r\n\r\npublic class MyAccountActivity extends AppCompatActivity {\r\n\r\n    TextView user_name_text, my_phone_number_text, email_text, user_sex_text, user_date_birth_text;\r\n    ImageButton btn_back;\r\n    ImageView user_image;\r\n    FrameLayout btn_account_img;\r\n    private static final int PICK_IMAGE_REQUEST = 1;\r\n    LinearLayout myUserSex, myUserDateBirth, myUserName, changePassword, myPhoneNumber;\r\n    String[] genderOptions = {\"Nam\", \"Nữ\", \"Khác\"};\r\n    private static final int EDIT_USER_REQUEST_CODE = 1;\r\n    private static final int EDIT_NUMBER_PHONE_REQUEST_CODE = 10;\r\n    private MyAccountViewModel viewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_my_account);\r\n\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        addControl();\r\n\r\n\r\n\r\n        addLoadData();\r\n\r\n        addEvent();\r\n    }\r\n\r\n    void addControl() {\r\n        user_name_text = findViewById(R.id.user_name_text);\r\n        my_phone_number_text = findViewById(R.id.my_phone_number_text);\r\n        email_text = findViewById(R.id.email_text);\r\n        user_date_birth_text = findViewById(R.id.user_date_birth_text);\r\n        user_sex_text = findViewById(R.id.user_sex_text);\r\n        btn_back = findViewById(R.id.btn_back);\r\n        user_image = findViewById(R.id.user_image);\r\n        btn_account_img = findViewById(R.id.fl_my_account_img);\r\n        myUserSex = findViewById(R.id.my_user_sex);\r\n        myUserDateBirth = findViewById(R.id.my_user_date_birth);\r\n        myUserName = findViewById(R.id.my_user_name);\r\n        changePassword = findViewById(R.id.change_password);\r\n        myPhoneNumber = findViewById(R.id.my_phone_number);\r\n        viewModel = new ViewModelProvider(this).get(MyAccountViewModel.class);\r\n    }\r\n\r\n    void addLoadData()\r\n    {\r\n        // lấy thông tin user\r\n        viewModel.getUser().observe(this, user -> {\r\n\r\n            if (user != null) {\r\n                user_name_text.setText(user.getFullName());\r\n                my_phone_number_text.setText(user.getPhoneNumber());\r\n                email_text.setText(user.getEmail());\r\n                user_sex_text.setText(user.getSex());\r\n                user_date_birth_text.setText(user.getBirthDate());\r\n                viewModel.loadImage(MyAccountActivity.this, user_image);\r\n\r\n            }\r\n        });\r\n\r\n        // kiểm tra đăng nhập\r\n        viewModel.getIsChangePassword().observe(this, isChangePassword -> {\r\n            if(isChangePassword)\r\n            {\r\n                changePassword.setVisibility(View.GONE);\r\n            }\r\n        });\r\n    }\r\n\r\n    void addEvent() {\r\n        btn_back.setOnClickListener(v -> back());\r\n        btn_account_img.setOnClickListener(v -> openImageChooser()); // cập nhật ảnh user\r\n        myUserSex.setOnClickListener(v -> openGenderOptions()); // cập nhật giới tính\r\n        myUserDateBirth.setOnClickListener(v -> openDatePicker());\r\n        myUserName.setOnClickListener(v -> openEditUser());\r\n        changePassword.setOnClickListener(v -> openVerifyAccount());\r\n        myPhoneNumber.setOnClickListener(v -> openEditNumberPhone());\r\n    }\r\n\r\n    void openEditNumberPhone()\r\n    {\r\n        Intent intent = new Intent(MyAccountActivity.this, EditNumberPhoneActivity.class);\r\n        startActivityForResult(intent, EDIT_NUMBER_PHONE_REQUEST_CODE);\r\n    }\r\n\r\n    void back()\r\n    {\r\n        setResult(RESULT_OK); // Đặt kết quả trả về\r\n        finish();\r\n    }\r\n\r\n\r\n    private void openVerifyAccount()\r\n    {\r\n        Intent intent = new Intent(MyAccountActivity.this, VerifyWithPasswordActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void openEditUser()\r\n    {\r\n        Intent intent = new Intent(MyAccountActivity.this, EditUserNameActivity.class);\r\n        startActivityForResult(intent, EDIT_USER_REQUEST_CODE);\r\n    }\r\n\r\n    private void openDatePicker() {\r\n        // Tạo AlertDialog\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\r\n        // Inflate layout tùy chỉnh\r\n        LayoutInflater inflater = getLayoutInflater();\r\n        View dialogView = inflater.inflate(R.layout.dialog_calendar, null);\r\n        DatePicker datePicker = dialogView.findViewById(R.id.datePicker);\r\n\r\n        // Đặt ngày cho DatePicker\r\n        final Calendar calendar = Calendar.getInstance();\r\n        datePicker.init(calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get(Calendar.DAY_OF_MONTH), null);\r\n\r\n        builder.setView(dialogView)\r\n                .setPositiveButton(\"Hoàn thành\", (dialog, which) -> {\r\n                    // Lấy ngày đã chọn\r\n                    int day = datePicker.getDayOfMonth();\r\n                    int month = datePicker.getMonth() + 1; // Month is 0-based\r\n                    int year = datePicker.getYear();\r\n                    String selectedDate = day + \"/\" + month + \"/\" + year;\r\n\r\n                    // Cập nhật TextView với ngày đã chọn\r\n                    user_date_birth_text.setText(selectedDate);\r\n                    viewModel.saveBirthDateToFirestore(selectedDate);\r\n                })\r\n                .setNegativeButton(\"Hủy\", (dialog, which) -> dialog.dismiss());\r\n\r\n        // Giới hạn ngày phải bé hơn hoặc bằng ngày hiện hành\r\n        datePicker.setMaxDate(calendar.getTimeInMillis());\r\n\r\n        // Hiển thị AlertDialog\r\n        builder.show();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private void openGenderOptions() {\r\n        // Tạo một TextView cho tiêu đề và tùy chỉnh nó\r\n        TextView title = new TextView(this);\r\n        title.setText(\"Giới tính\");\r\n        title.setPadding(0, 30, 0, 30); // Khoảng cách trên và dưới\r\n        title.setGravity(Gravity.CENTER); // Căn giữa\r\n        title.setTextSize(20); // Kích thước chữ\r\n        title.setTypeface(null, Typeface.BOLD); // Đặt kiểu chữ đậm nếu cần\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setCustomTitle(title); // Đặt tiêu đề tùy chỉnh\r\n\r\n        // Kiểm tra nếu genderOptions không null\r\n        if (genderOptions != null) {\r\n            // Thiết lập danh sách tùy chọn\r\n            builder.setItems(genderOptions, (dialog, which) -> {\r\n                user_sex_text.setText(genderOptions[which]);\r\n                // Gọi phương thức trong ViewModel để lưu giới tính\r\n                viewModel.saveGenderToFirestore(genderOptions[which]);\r\n            });\r\n        } else {\r\n            Toast.makeText(this, \"Không có tùy chọn giới tính\", Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        // Hiển thị dialog\r\n        builder.show();\r\n    }\r\n\r\n\r\n    private void openImageChooser() {\r\n        Intent intent = new Intent();\r\n        intent.setType(\"image/*\");\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(Intent.createChooser(intent, \"Select Picture\"), PICK_IMAGE_REQUEST);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == EDIT_NUMBER_PHONE_REQUEST_CODE && resultCode == RESULT_OK) {\r\n            viewModel.loadUserInfo(); // Gọi phương thức để tải lại thông tin người dùng\r\n        }\r\n        // Kiểm tra nếu kết quả trả về từ EditUserActivity\r\n        if (requestCode == EDIT_USER_REQUEST_CODE && resultCode == RESULT_OK) {\r\n            viewModel.loadUserInfo(); // Gọi phương thức để tải lại thông tin người dùng\r\n        }\r\n\r\n        if (requestCode == PICK_IMAGE_REQUEST && resultCode == RESULT_OK && data != null && data.getData() != null) {\r\n            Uri imageUri = data.getData();\r\n\r\n            // Crop ảnh trước khi tải lên\r\n            Uri destinationUri = Uri.fromFile(new File(getCacheDir(), \"cropped_image.jpg\"));\r\n            UCrop.of(imageUri, destinationUri)\r\n                    .withAspectRatio(1, 1) // Tỉ lệ khung hình 1:1\r\n                    .withMaxResultSize(512, 512) // Kích thước tối đa\r\n                    .start(this);\r\n        }\r\n\r\n        if (requestCode == UCrop.REQUEST_CROP) {\r\n            final int resultCodeCrop = resultCode;\r\n            final Intent resultData = data;\r\n            if (resultCodeCrop == RESULT_OK) {\r\n                Uri croppedImageUri = UCrop.getOutput(resultData);\r\n\r\n                // Tải ảnh đã crop lên Firebase\r\n                viewModel.uploadImageToFirebase(MyAccountActivity.this, croppedImageUri, new MyAccountViewModel.ImageUploadCallback() {\r\n                    @Override\r\n                    public void onSuccess(String imageUrl) {\r\n                        // Gọi loadUserInfo và loadImage sau khi ảnh đã được tải lên thành công\r\n                        viewModel.loadUserInfo();\r\n                        viewModel.loadImage(MyAccountActivity.this, user_image);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure() {\r\n                        Toast.makeText(MyAccountActivity.this, \"Error uploading image\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n            } else if (resultCodeCrop == UCrop.RESULT_ERROR) {\r\n                Toast.makeText(this, \"Error cropping image\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java
----- a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java	(date 1731393515891)
--@@ -22,6 +22,7 @@
-- import androidx.activity.EdgeToEdge;
-- import androidx.appcompat.app.AlertDialog;
-- import androidx.appcompat.app.AppCompatActivity;
--+import androidx.appcompat.widget.Toolbar;
-- import androidx.core.graphics.Insets;
-- import androidx.core.view.ViewCompat;
-- import androidx.core.view.WindowInsetsCompat;
--@@ -48,7 +49,7 @@
-- public class MyAccountActivity extends AppCompatActivity {
-- 
--     TextView user_name_text, my_phone_number_text, email_text, user_sex_text, user_date_birth_text;
---    ImageButton btn_back;
--+    //ImageButton btn_back;
--     ImageView user_image;
--     FrameLayout btn_account_img;
--     private static final int PICK_IMAGE_REQUEST = 1;
--@@ -57,6 +58,7 @@
--     private static final int EDIT_USER_REQUEST_CODE = 1;
--     private static final int EDIT_NUMBER_PHONE_REQUEST_CODE = 10;
--     private MyAccountViewModel viewModel;
--+    private Toolbar toolbar;
-- 
--     @Override
--     protected void onCreate(Bundle savedInstanceState) {
--@@ -85,7 +87,8 @@
--         email_text = findViewById(R.id.email_text);
--         user_date_birth_text = findViewById(R.id.user_date_birth_text);
--         user_sex_text = findViewById(R.id.user_sex_text);
---        btn_back = findViewById(R.id.btn_back);
--+        //btn_back = findViewById(R.id.btn_back);
--+        toolbar = findViewById(R.id.header_toolbar);
--         user_image = findViewById(R.id.user_image);
--         btn_account_img = findViewById(R.id.fl_my_account_img);
--         myUserSex = findViewById(R.id.my_user_sex);
--@@ -122,7 +125,8 @@
--     }
-- 
--     void addEvent() {
---        btn_back.setOnClickListener(v -> back());
--+        //btn_back.setOnClickListener(v -> back());
--+        toolbar.setNavigationOnClickListener(v -> back());
--         btn_account_img.setOnClickListener(v -> openImageChooser()); // cập nhật ảnh user
--         myUserSex.setOnClickListener(v -> openGenderOptions()); // cập nhật giới tính
--         myUserDateBirth.setOnClickListener(v -> openDatePicker());
--Index: app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.data.model.Store;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.text.Normalizer;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class SearchViewModel extends ViewModel {\r\n\r\n    private MutableLiveData<List<Product>> filteredProducts = new MutableLiveData<>(new ArrayList<>());\r\n    private List<Product> originalProductList = new ArrayList<>();\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n    public LiveData<List<Product>> getFilteredProducts() {\r\n        return filteredProducts;\r\n    }\r\n\r\n    public void searchProductsByName(String query) {\r\n        db.collection(\"products\")\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Product> products = task.getResult().toObjects(Product.class);\r\n                        List<Product> filteredList = new ArrayList<>();\r\n                        List<Product> remainingList = new ArrayList<>();\r\n\r\n                        for (Product product : products) {\r\n                            if (product.getName() != null) {\r\n                                String productName = product.getName().toLowerCase();\r\n                                String lowerCaseQuery = query.toLowerCase();\r\n                                if (productName.startsWith(lowerCaseQuery)) {\r\n                                    filteredList.add(product);\r\n                                } else if (productName.contains(lowerCaseQuery)) {\r\n                                    remainingList.add(product);\r\n                                }\r\n                            }\r\n                        }\r\n                        filteredList.addAll(remainingList);\r\n                        originalProductList = new ArrayList<>(filteredList);\r\n                        filteredProducts.setValue(filteredList);\r\n                    } else {\r\n                        filteredProducts.setValue(new ArrayList<>());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void searchProductsByCategory(String categoryId) {\r\n        db.collection(\"products\")\r\n                .whereEqualTo(\"category_id\", categoryId)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Product> products = task.getResult().toObjects(Product.class);\r\n                        originalProductList = new ArrayList<>(products);\r\n                        filteredProducts.setValue(products);\r\n                    } else {\r\n                        filteredProducts.setValue(new ArrayList<>());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void searchProductsByStoreName(String storeName) {\r\n        db.collection(\"users\")\r\n                .whereEqualTo(\"store_name\", storeName)\r\n                .get()\r\n                .addOnCompleteListener(storeTask -> {\r\n                    if (storeTask.isSuccessful() && !storeTask.getResult().isEmpty()) {\r\n                        String storeId = storeTask.getResult().getDocuments().get(0).getId();\r\n                        db.collection(\"products\")\r\n                                .whereEqualTo(\"storeId\", storeId)\r\n                                .get()\r\n                                .addOnCompleteListener(productTask -> {\r\n                                    if (productTask.isSuccessful()) {\r\n                                        List<Product> products = productTask.getResult().toObjects(Product.class);\r\n                                        originalProductList = new ArrayList<>(products);\r\n                                        filteredProducts.setValue(products);\r\n                                    } else {\r\n                                        filteredProducts.setValue(new ArrayList<>());\r\n                                    }\r\n                                });\r\n                    } else {\r\n                        filteredProducts.setValue(new ArrayList<>());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void sortProducts(String sortBy) {\r\n        List<Product> currentProducts = filteredProducts.getValue() != null ? new ArrayList<>(filteredProducts.getValue()) : new ArrayList<>();\r\n\r\n        switch (sortBy) {\r\n            case \"Liên quan nhất\":\r\n                currentProducts = new ArrayList<>(originalProductList);\r\n                break;\r\n            case \"Mới nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> p2.getCreated_at().compareTo(p1.getCreated_at()));\r\n                break;\r\n            case \"Cũ nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> p1.getCreated_at().compareTo(p2.getCreated_at()));\r\n                break;\r\n            case \"Giá cao nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> Double.compare(p2.getPrice(), p1.getPrice()));\r\n                break;\r\n            case \"Giá thấp nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> Double.compare(p1.getPrice(), p2.getPrice()));\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        filteredProducts.setValue(currentProducts);\r\n    }\r\n\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java
----- a/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ b/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java	(date 1731396078369)
--@@ -7,11 +7,8 @@
-- import androidx.lifecycle.ViewModel;
-- 
-- import com.example.agrimart.data.model.Product;
---import com.example.agrimart.data.model.Store;
---import com.google.firebase.firestore.DocumentSnapshot;
-- import com.google.firebase.firestore.FirebaseFirestore;
-- 
---import java.text.Normalizer;
-- import java.util.ArrayList;
-- import java.util.Collections;
-- import java.util.List;
--@@ -36,7 +33,7 @@
--                         List<Product> remainingList = new ArrayList<>();
-- 
--                         for (Product product : products) {
---                            if (product.getName() != null) {
--+                            if (product.getName() != null && "available".equals(product.getActive())) {
--                                 String productName = product.getName().toLowerCase();
--                                 String lowerCaseQuery = query.toLowerCase();
--                                 if (productName.startsWith(lowerCaseQuery)) {
--@@ -62,8 +59,14 @@
--                 .addOnCompleteListener(task -> {
--                     if (task.isSuccessful()) {
--                         List<Product> products = task.getResult().toObjects(Product.class);
---                        originalProductList = new ArrayList<>(products);
---                        filteredProducts.setValue(products);
--+                        List<Product> availableProducts = new ArrayList<>();
--+                        for (Product product : products) {
--+                            if ("available".equals(product.getActive())) {
--+                                availableProducts.add(product);
--+                            }
--+                        }
--+                        originalProductList = new ArrayList<>(availableProducts);
--+                        filteredProducts.setValue(availableProducts);
--                     } else {
--                         filteredProducts.setValue(new ArrayList<>());
--                     }
--@@ -83,8 +86,14 @@
--                                 .addOnCompleteListener(productTask -> {
--                                     if (productTask.isSuccessful()) {
--                                         List<Product> products = productTask.getResult().toObjects(Product.class);
---                                        originalProductList = new ArrayList<>(products);
---                                        filteredProducts.setValue(products);
--+                                        List<Product> availableProducts = new ArrayList<>();
--+                                        for (Product product : products) {
--+                                            if ("available".equals(product.getActive())) {
--+                                                availableProducts.add(product);
--+                                            }
--+                                        }
--+                                        originalProductList = new ArrayList<>(availableProducts);
--+                                        filteredProducts.setValue(availableProducts);
--                                     } else {
--                                         filteredProducts.setValue(new ArrayList<>());
--                                     }
--@@ -121,4 +130,4 @@
--         filteredProducts.setValue(currentProducts);
--     }
-- 
---}
--+}
--\ No newline at end of file
--Index: app/src/main/res/layout/activity_my_account.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.MyProfile.MyAccount.MyAccountActivity\">\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"vertical\"\r\n        tools:ignore=\"MissingConstraints\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:paddingStart=\"12dp\"\r\n            android:paddingEnd=\"12dp\"\r\n            android:paddingTop=\"10dp\"\r\n            android:paddingBottom=\"10dp\"\r\n            android:background=\"@color/white\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/btn_back\"\r\n                android:layout_width=\"30dp\"\r\n                android:layout_height=\"35dp\"\r\n                android:src=\"@drawable/ic_left\"\r\n                android:scaleType=\"fitCenter\"\r\n                android:layout_marginStart=\"5dp\"\r\n                android:layout_gravity=\"center_vertical\"\r\n                android:background=\"@color/white\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textView1\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"35dp\"\r\n                android:layout_weight=\"1\"\r\n                android:gravity=\"start\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:text=\"Tài khoản &amp; Bảo mật\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"11pt\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"5dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/ll_my_account\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"140dp\"\r\n            android:background=\"@color/green\"\r\n            android:gravity=\"center_vertical\"\r\n            android:orientation=\"vertical\"\r\n            android:padding=\"16dp\">\r\n\r\n            <FrameLayout\r\n                android:id=\"@+id/fl_my_account_img\"\r\n                android:layout_width=\"78dp\"\r\n                android:layout_height=\"78dp\"\r\n                android:background=\"@drawable/rounded_frame\"\r\n                android:clipToOutline=\"true\"\r\n                android:layout_gravity=\"center\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/user_image\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:scaleType=\"centerCrop\"\r\n                    />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/overlay_text\"\r\n                    android:layout_width=\"78dp\"\r\n                    android:layout_height=\"39dp\"\r\n                    android:layout_gravity=\"bottom\"\r\n                    android:gravity=\"center\"\r\n                    android:background=\"@drawable/rounded_text\"\r\n                    android:text=\"Sửa\"\r\n                    android:textColor=\"@android:color/white\"\r\n                    android:textSize=\"18sp\" />\r\n\r\n            </FrameLayout>\r\n        </LinearLayout>\r\n\r\n\r\n\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/my_user_name\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_name\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Tên\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_name_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n            <ImageView\r\n                android:id=\"@+id/my_profile_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/my_user_sex\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_sex\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Giới tính\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_sex_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n            <ImageView\r\n                android:id=\"@+id/user_sex_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/my_user_date_birth\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_date_birth\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Ngày sinh\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_date_birth_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n            <ImageView\r\n                android:id=\"@+id/my_date_birth_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/my_phone_number\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/my_phone_number_text1\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Điện thoại\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/my_phone_number_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/my_phone_number_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/my_email\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/email\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Email\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/email_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/my_email_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                 />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/change_password\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/change_password_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"2\"\r\n\r\n                android:text=\"Đổi mật khẩu\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/change_password_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n\r\n    </LinearLayout>\r\n</androidx.constraintlayout.widget.ConstraintLayout>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/activity_my_account.xml b/app/src/main/res/layout/activity_my_account.xml
----- a/app/src/main/res/layout/activity_my_account.xml	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ b/app/src/main/res/layout/activity_my_account.xml	(date 1731393207553)
--@@ -12,37 +12,20 @@
--         android:orientation="vertical"
--         tools:ignore="MissingConstraints">
-- 
---        <LinearLayout
--+        <androidx.appcompat.widget.Toolbar
--+            android:id="@+id/header_toolbar"
--             android:layout_width="match_parent"
--             android:layout_height="wrap_content"
--+            android:background="@color/white"
--             android:paddingStart="12dp"
--             android:paddingEnd="12dp"
--             android:paddingTop="10dp"
--             android:paddingBottom="10dp"
---            android:background="@color/white"
---            android:orientation="horizontal">
--+            app:title="Tài khoản &amp; Bảo mật"
--+            app:titleTextColor="@color/black"
--+            app:titleTextAppearance="@style/TextAppearance.AppCompat.Large"
--+            app:navigationIcon="@drawable/chevron_left" />
-- 
---            <ImageButton
---                android:id="@+id/btn_back"
---                android:layout_width="30dp"
---                android:layout_height="35dp"
---                android:src="@drawable/ic_left"
---                android:scaleType="fitCenter"
---                android:layout_marginStart="5dp"
---                android:layout_gravity="center_vertical"
---                android:background="@color/white" />
---
---            <TextView
---                android:id="@+id/textView1"
---                android:layout_width="0dp"
---                android:layout_height="35dp"
---                android:layout_weight="1"
---                android:gravity="start"
---                android:layout_marginStart="15dp"
---                android:text="Tài khoản &amp; Bảo mật"
---                android:textColor="@color/black"
---                android:textSize="11pt" />
---        </LinearLayout>
--         <View
--             android:layout_width="match_parent"
--             android:layout_height="5dp"
--Index: .idea/shelf/Uncommitted_changes_before_rebase__Changes_.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_rebase__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_rebase__Changes_.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_rebase__Changes_.xml	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ /dev/null	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_rebase_[Changes]" date="1730829309579" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before rebase [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM__Changes_1.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM__Changes_1.xml b/.idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM__Changes_1.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM__Changes_1.xml	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ /dev/null	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM_[Changes]1" date="1730832274928" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM_[Changes]1/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Checkout at 11/6/2024 1:43 AM [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM_[Changes]1/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM_[Changes]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM_[Changes]1/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Checkout_at_11_6_2024_1_43_AM_[Changes]1/shelved.patch	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ /dev/null	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--@@ -1,43 +0,0 @@
---Index: app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.databinding.CategoryItemBinding;\r\nimport com.denzcoskun.imageslider.models.SlideModel;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CategoryAdapter extends RecyclerView.Adapter<CategoryAdapter.MyViewHolder> {\r\n    private List<Category> categories;\r\n\r\n    private int position = -1;\r\n    public Category category;\r\n    public CategoryAdapter(List<Category> categories) {\r\n        this.categories = categories;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        CategoryItemBinding binding = CategoryItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        return new MyViewHolder(binding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        holder.bindData(categories.get(position));\r\n\r\n        if (position == this.position) {\r\n            holder.binding.getRoot().setBackgroundResource(android.R.color.holo_green_light);\r\n        } else {\r\n            holder.binding.getRoot().setBackgroundResource(android.R.color.transparent);\r\n        }\r\n\r\n        holder.binding.getRoot().setOnClickListener(v -> {\r\n            category = categories.get(position);\r\n            int prePos=this.position;\r\n            this.position=position;\r\n            notifyItemChanged(prePos);\r\n            notifyItemChanged(position);\r\n\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return categories.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        CategoryItemBinding binding;\r\n\r\n        public MyViewHolder(@NonNull CategoryItemBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n\r\n        public void bindData(Category category) {\r\n            Glide.with(binding.getRoot())\r\n                    .load(category.getImg())\r\n                    .into(binding.imgCate);\r\n\r\n            binding.tvName.setText(category.getName());\r\n        }\r\n    }\r\n}\r\n\r\n
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java b/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java
------ a/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java	
---+++ b/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java	
---@@ -18,7 +18,7 @@
--- public class CategoryAdapter extends RecyclerView.Adapter<CategoryAdapter.MyViewHolder> {
---     private List<Category> categories;
--- 
----    private int position = -1;
---+    private int selectedPosition = -1;
---     public Category category;
---     public CategoryAdapter(List<Category> categories) {
---         this.categories = categories;
---@@ -36,18 +36,18 @@
---     public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {
---         holder.bindData(categories.get(position));
--- 
----        if (position == this.position) {
---+        if (holder.getAdapterPosition() == selectedPosition) {
---             holder.binding.getRoot().setBackgroundResource(android.R.color.holo_green_light);
---         } else {
---             holder.binding.getRoot().setBackgroundResource(android.R.color.transparent);
---         }
--- 
---         holder.binding.getRoot().setOnClickListener(v -> {
----            category = categories.get(position);
----            int prePos=this.position;
----            this.position=position;
---+            category = categories.get(holder.getAdapterPosition());
---+            int prePos=selectedPosition;
---+            selectedPosition=holder.getAdapterPosition();
---             notifyItemChanged(prePos);
----            notifyItemChanged(position);
---+            notifyItemChanged(holder.getAdapterPosition());
--- 
---         });
---     }
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ /dev/null	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--@@ -1,1295 +0,0 @@
---Index: app/src/main/java/com/example/agrimart/data/model/Product.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.data.model;\r\n\r\npublic class Product {\r\n    private String image;\r\n    private String name;\r\n    private double price;\r\n    private String active;\r\n\r\n    public Product() {\r\n    }\r\n\r\n    public Product(String image, String name, double price) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n    }\r\n\r\n    public Product(String image, String name, double price, String active) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.active = active;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public String getActive() {\r\n        return active;\r\n    }\r\n\r\n    public void setActive(String active) {\r\n        this.active = active;\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/Product.java b/app/src/main/java/com/example/agrimart/data/model/Product.java
------ a/app/src/main/java/com/example/agrimart/data/model/Product.java	
---+++ b/app/src/main/java/com/example/agrimart/data/model/Product.java	
---@@ -1,33 +1,57 @@
--- package com.example.agrimart.data.model;
--- 
----public class Product {
----    private String image;
---+import java.io.Serializable;
---+import java.util.Collections;
---+import java.util.List;
---+
---+public class Product implements Serializable {
---+    private String productId;
---     private String name;
---     private double price;
---     private String active;
---+    private String category;
---+    private String description;
---+    private int height;
---+    private List<String> images;
---+    private int length;
---+    private int quantity;
---+    private String storeId;
---+    private int weight;
---+    private int width;
---+    private int soldQuantity;
--- 
---     public Product() {
---     }
--- 
----    public Product(String image, String name, double price) {
----        this.image = image;
---+    public Product(String productId, String name, double price, String active, String category, String description, int height, List<String> images, int length, int quantity, String storeId, int weight, int width, int soldQuantity) {
---+        this.productId = productId;
---         this.name = name;
---         this.price = price;
---+        this.active = active;
---+        this.category = category;
---+        this.description = description;
---+        this.height = height;
---+        this.images = images;
---+        this.length = length;
---+        this.quantity = quantity;
---+        this.storeId = storeId;
---+        this.weight = weight;
---+        this.width = width;
---+        this.soldQuantity = soldQuantity;
---     }
--- 
----    public Product(String image, String name, double price, String active) {
----        this.image = image;
---+    public Product(String imageUrl, String name, double price) {
---+        this.images = Collections.singletonList(imageUrl);
---         this.name = name;
---         this.price = price;
----        this.active = active;
---     }
--- 
----    public String getImage() {
----        return image;
---+    public String getProductId() {
---+        return productId;
---     }
--- 
----    public void setImage(String image) {
----        this.image = image;
---+    public void setProductId(String productId) {
---+        this.productId = productId;
---     }
--- 
---     public String getName() {
---@@ -53,4 +77,84 @@
---     public void setActive(String active) {
---         this.active = active;
---     }
---+
---+    public String getCategory() {
---+        return category;
---+    }
---+
---+    public void setCategory(String category) {
---+        this.category = category;
---+    }
---+
---+    public String getDescription() {
---+        return description;
---+    }
---+
---+    public void setDescription(String description) {
---+        this.description = description;
---+    }
---+
---+    public int getHeight() {
---+        return height;
---+    }
---+
---+    public void setHeight(int height) {
---+        this.height = height;
---+    }
---+
---+    public List<String> getImages() {
---+        return images;
---+    }
---+
---+    public void setImages(List<String> images) {
---+        this.images = images;
---+    }
---+
---+    public int getLength() {
---+        return length;
---+    }
---+
---+    public void setLength(int length) {
---+        this.length = length;
---+    }
---+
---+    public int getQuantity() {
---+        return quantity;
---+    }
---+
---+    public void setQuantity(int quantity) {
---+        this.quantity = quantity;
---+    }
---+
---+    public String getStoreId() {
---+        return storeId;
---+    }
---+
---+    public void setStoreId(String storeId) {
---+        this.storeId = storeId;
---+    }
---+
---+    public int getWeight() {
---+        return weight;
---+    }
---+
---+    public void setWeight(int weight) {
---+        this.weight = weight;
---+    }
---+
---+    public int getWidth() {
---+        return width;
---+    }
---+
---+    public void setWidth(int width) {
---+        this.width = width;
---+    }
---+
---+    public int getSoldQuantity() {
---+        return soldQuantity;
---+    }
---+
---+    public void setSoldQuantity(int soldQuantity) {
---+        this.soldQuantity = soldQuantity;
---+    }
--- }
---\ No newline at end of file
---Index: app/src/main/res/layout/item_product.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\r\n\r\n    <data>\r\n        <variable\r\n            name=\"product\"\r\n            type=\"com.example.agrimart.data.model.Product\" />\r\n    </data>\r\n\r\n    <RelativeLayout\r\n        android:layout_width=\"173dp\"\r\n        android:background=\"@drawable/bg_product\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"5dp\"\r\n        android:layout_marginTop=\"5dp\">\r\n\r\n        <FrameLayout\r\n            android:id=\"@+id/frame_layout\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"124dp\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imgPro\"\r\n                android:layout_width=\"99dp\"\r\n                android:layout_height=\"79dp\"\r\n                android:scaleType=\"centerCrop\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/banana\" />\r\n        </FrameLayout>\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvName\"\r\n            android:layout_width=\"129dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/frame_layout\"\r\n            android:layout_marginTop=\"12dp\"\r\n            android:textSize=\"16sp\"\r\n            android:textColor=\"#333333\"\r\n            android:letterSpacing=\"0.01\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:ellipsize=\"end\"\r\n            android:maxLines=\"1\"\r\n            android:textStyle=\"bold\"/>\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvPrice\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/tvName\"\r\n            android:textSize=\"18sp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:textColor=\"#F44336\"\r\n            android:fontFamily=\"@font/gabarito\"\r\n            android:letterSpacing=\"0.01\"/>\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/imageButton\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@color/transparent\"\r\n            android:layout_below=\"@id/tvName\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:layout_marginEnd=\"16dp\"\r\n            android:layout_marginBottom=\"10dp\"\r\n            app:srcCompat=\"@drawable/ic_plus_1\" />\r\n\r\n    </RelativeLayout>\r\n</layout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/item_product.xml b/app/src/main/res/layout/item_product.xml
------ a/app/src/main/res/layout/item_product.xml	
---+++ b/app/src/main/res/layout/item_product.xml	
---@@ -22,10 +22,10 @@
--- 
---             <ImageView
---                 android:id="@+id/imgPro"
----                android:layout_width="99dp"
----                android:layout_height="79dp"
----                android:scaleType="centerCrop"
---+                android:layout_width="match_parent"
---+                android:layout_height="139dp"
---                 android:layout_gravity="center"
---+                android:scaleType="centerCrop"
---                 android:src="@drawable/banana" />
---         </FrameLayout>
--- 
---Index: app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Store;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.data.model.ProductRequest;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class StoreActivity extends AppCompatActivity {\r\n\r\n    private ImageView storeAvatar;\r\n    private TextView storeName, storeRating, storeAddress;\r\n    private RecyclerView rvProducts;\r\n    private ProductAdapter productAdapter;\r\n    private List<Product> productList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_store);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));\r\n        }\r\n\r\n        storeAvatar = findViewById(R.id.store_avatar);\r\n        storeName = findViewById(R.id.store_name);\r\n        storeRating = findViewById(R.id.store_rating);\r\n        storeAddress = findViewById(R.id.store_address);\r\n        rvProducts = findViewById(R.id.rvProducts);\r\n\r\n\r\n        productList = new ArrayList<>();\r\n\r\n\r\n        productAdapter = new ProductAdapter(productList, product -> {\r\n\r\n        });\r\n        rvProducts.setLayoutManager(new GridLayoutManager(this, 2));\r\n        rvProducts.setAdapter(productAdapter);\r\n        loadData();\r\n    }\r\n    private void loadData() {\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (user != null) {\r\n            String uid = user.getUid();\r\n\r\n            FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n            db.collection(\"products\")\r\n                    .whereEqualTo(\"storeId\", uid)\r\n                    .get()\r\n                    .addOnCompleteListener(task -> {\r\n                        if (task.isSuccessful()) {\r\n\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                ProductRequest product = document.toObject(ProductRequest.class);\r\n                                productList.add(\r\n                                        new Product(\r\n                                                product.getImageUrls().isEmpty() ? \"https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/notfound.jpg?alt=media&token=40e61714-5a10-4352-918c-7e5e2643a1fe\" : product.getImageUrls().get(0),\r\n                                                product.getName(),\r\n                                                product.getPrice()\r\n                                        )\r\n                                );\r\n                            }\r\n                            productAdapter.notifyDataSetChanged();\r\n                        }\r\n                    });\r\n\r\n        }\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java b/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java	
---+++ b/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java	
---@@ -3,9 +3,9 @@
--- import android.os.Bundle;
--- import android.view.Window;
--- import android.view.WindowManager;
---+import android.widget.ImageButton;
--- import android.widget.ImageView;
--- import android.widget.TextView;
----
--- import androidx.activity.EdgeToEdge;
--- import androidx.appcompat.app.AppCompatActivity;
--- import androidx.core.content.ContextCompat;
---@@ -14,16 +14,14 @@
--- import androidx.core.view.WindowInsetsCompat;
--- import androidx.recyclerview.widget.GridLayoutManager;
--- import androidx.recyclerview.widget.RecyclerView;
----
---+import com.bumptech.glide.Glide;
--- import com.example.agrimart.R;
--- import com.example.agrimart.adapter.ProductAdapter;
--- import com.example.agrimart.data.model.Product;
--- import com.example.agrimart.data.model.ProductRequest;
----import com.google.firebase.auth.FirebaseAuth;
----import com.google.firebase.auth.FirebaseUser;
---+import com.example.agrimart.data.model.User;
--- import com.google.firebase.firestore.FirebaseFirestore;
--- import com.google.firebase.firestore.QueryDocumentSnapshot;
----
--- import java.util.ArrayList;
--- import java.util.List;
--- 
---@@ -40,6 +38,14 @@
---         super.onCreate(savedInstanceState);
---         EdgeToEdge.enable(this);
---         setContentView(R.layout.activity_store);
---+        setupWindowInsets();
---+
---+        initializeViews();
---+        setupRecyclerView();
---+        loadStoreData();
---+    }
---+
---+    private void setupWindowInsets() {
---         ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {
---             Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
---             v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
---@@ -51,50 +57,84 @@
---             window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);
---             window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));
---         }
---+    }
--- 
---+    private void initializeViews() {
---         storeAvatar = findViewById(R.id.store_avatar);
---         storeName = findViewById(R.id.store_name);
---         storeRating = findViewById(R.id.store_rating);
---         storeAddress = findViewById(R.id.store_address);
---         rvProducts = findViewById(R.id.rvProducts);
---+    }
--- 
----
---+    private void setupRecyclerView() {
---         productList = new ArrayList<>();
----
----
---         productAdapter = new ProductAdapter(productList, product -> {
----
---+            // Xử lý khi nhấn vào sản phẩm (nếu cần)
---         });
---         rvProducts.setLayoutManager(new GridLayoutManager(this, 2));
---         rvProducts.setAdapter(productAdapter);
----        loadData();
---+    }
---+
---+    private void loadStoreData() {
---+        String storeId = getIntent().getStringExtra("storeId");
---+        if (storeId != null) {
---+            loadStoreInfo(storeId);
---+            loadProducts(storeId);
---+        }
---+    }
---+
---+    private void loadStoreInfo(String storeId) {
---+        FirebaseFirestore db = FirebaseFirestore.getInstance();
---+        db.collection("users")
---+                .document(storeId)
---+                .get()
---+                .addOnSuccessListener(documentSnapshot -> {
---+                    User store = documentSnapshot.toObject(User.class);
---+                    if (store != null) {
---+                        updateStoreInfo(store);
---+                    } else {
---+                        showError("Thông tin cửa hàng không hợp lệ.");
---+                    }
---+                })
---+                .addOnFailureListener(e -> {
---+                    showError("Không thể tải thông tin cửa hàng.");
---+                });
---+    }
---+
---+    private void updateStoreInfo(User store) {
---+        storeName.setText(store.getStoreName());
---+        storeAddress.setText(store.getStoreAddress() != null ? store.getStoreAddress().getStreet() : "Địa chỉ không khả dụng");
---+        Glide.with(this)
---+                .load(store.getStoreImage() != null && !store.getStoreImage().isEmpty() ? store.getStoreImage() : R.drawable.user)
---+                .placeholder(R.drawable.user)
---+                .error(R.drawable.user)
---+                .into(storeAvatar);
---     }
----    private void loadData() {
----        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
----        if (user != null) {
----            String uid = user.getUid();
--- 
----            FirebaseFirestore db = FirebaseFirestore.getInstance();
----            db.collection("products")
----                    .whereEqualTo("storeId", uid)
----                    .get()
----                    .addOnCompleteListener(task -> {
----                        if (task.isSuccessful()) {
----
----                            for (QueryDocumentSnapshot document : task.getResult()) {
----                                ProductRequest product = document.toObject(ProductRequest.class);
----                                productList.add(
----                                        new Product(
----                                                product.getImageUrls().isEmpty() ? "https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/notfound.jpg?alt=media&token=40e61714-5a10-4352-918c-7e5e2643a1fe" : product.getImageUrls().get(0),
----                                                product.getName(),
----                                                product.getPrice()
----                                        )
----                                );
----                            }
----                            productAdapter.notifyDataSetChanged();
----                        }
----                    });
---+    private void loadProducts(String storeId) {
---+        FirebaseFirestore db = FirebaseFirestore.getInstance();
---+        db.collection("products")
---+                .whereEqualTo("storeId", storeId)
---+                .get()
---+                .addOnSuccessListener(queryDocumentSnapshots -> {
---+                    for (QueryDocumentSnapshot document : queryDocumentSnapshots) {
---+                        ProductRequest productRequest = document.toObject(ProductRequest.class);
---+                        String imageUrl = productRequest.getImageUrls().isEmpty()
---+                                ? "https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/notfound.jpg?alt=media&token=40e61714-5a10-4352-918c-7e5e2643a1fe"
---+                                : productRequest.getImageUrls().get(0);
---+                        productList.add(new Product(imageUrl, productRequest.getName(), productRequest.getPrice()));
---+                    }
---+                    productAdapter.notifyDataSetChanged();
---+                })
---+                .addOnFailureListener(e -> {
---+                    showError("Không thể tải sản phẩm.");
---+                });
---+    }
--- 
----        }
----    }
----}
---\ No newline at end of file
---+    private void showError(String message) {
---+        storeName.setText(message);
---+        storeAddress.setText("");
---+        storeAvatar.setImageResource(R.drawable.user);
---+    }
---+}
---Index: app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.ItemProductBinding;\r\n\r\nimport java.util.List;\r\n\r\npublic class ProductAdapter extends RecyclerView.Adapter<ProductAdapter.MyViewHolder> {\r\n    private List<Product> products;\r\n    private OnItemClickListener listener;\r\n\r\n    public ProductAdapter(List<Product> products, OnItemClickListener listener) {\r\n        this.products = products;\r\n        this.listener = listener;\r\n    }\r\n\r\n    public interface OnItemClickListener {\r\n        void onItemClick(Product product);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        ItemProductBinding binding = ItemProductBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        return new MyViewHolder(binding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        Product product = products.get(position);\r\n        holder.bindData(product);\r\n        holder.itemView.setOnClickListener(v -> listener.onItemClick(product));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return products.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        private final ItemProductBinding binding;\r\n\r\n        public MyViewHolder(@NonNull ItemProductBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n\r\n        public void bindData(Product product) {\r\n            binding.tvName.setText(product.getName());\r\n            binding.tvPrice.setText(String.valueOf(product.getPrice()));\r\n            Glide.with(binding.getRoot().getContext())\r\n                    .load(product.getImage())\r\n                    .into(binding.imgPro);\r\n            binding.executePendingBindings();\r\n        }\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java b/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java
------ a/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java	
---+++ b/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java	
---@@ -10,7 +10,9 @@
--- import com.example.agrimart.data.model.Product;
--- import com.example.agrimart.databinding.ItemProductBinding;
--- 
---+import java.text.NumberFormat;
--- import java.util.List;
---+import java.util.Locale;
--- 
--- public class ProductAdapter extends RecyclerView.Adapter<ProductAdapter.MyViewHolder> {
---     private List<Product> products;
---@@ -54,10 +56,20 @@
--- 
---         public void bindData(Product product) {
---             binding.tvName.setText(product.getName());
----            binding.tvPrice.setText(String.valueOf(product.getPrice()));
----            Glide.with(binding.getRoot().getContext())
----                    .load(product.getImage())
----                    .into(binding.imgPro);
---+
---+            NumberFormat format = NumberFormat.getCurrencyInstance(new Locale("vi", "VN"));
---+            binding.tvPrice.setText(format.format(product.getPrice()));
---+
---+            if (product.getImages() != null && !product.getImages().isEmpty()) {
---+                Glide.with(binding.getRoot().getContext())
---+                        .load(product.getImages().get(0))
---+                        .into(binding.imgPro);
---+            } else if (product.getImages() != null) {
---+                Glide.with(binding.getRoot().getContext())
---+                        .load(product.getImages())
---+                        .into(binding.imgPro);
---+            }
---+
---             binding.executePendingBindings();
---         }
---     }
---Index: app/src/main/res/layout/activity_product_detail.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main1\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.ProductPage.ProductDetailActivity\">\r\n    <RelativeLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/header\">\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/btn_back\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:layout_marginBottom=\"8dp\"\r\n            android:background=\"@color/background_light\"\r\n            android:src=\"@drawable/chevron_left\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.0\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            tools:ignore=\"MissingConstraints\"\r\n            android:backgroundTint=\"@color/white\"/>\r\n    </RelativeLayout>\r\n\r\n    <ScrollView\r\n        android:id=\"@+id/scrollView\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"4dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/header\"\r\n        tools:layout_editor_absoluteX=\"0dp\"\r\n        android:layout_below=\"@id/header\"\r\n        android:scrollbars=\"none\"\r\n        android:layout_above=\"@id/footer\">\r\n\r\n        <RelativeLayout\r\n            android:id=\"@+id/product_detail\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n            <com.denzcoskun.imageslider.ImageSlider\r\n                android:id=\"@+id/product_image\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"250dp\"\r\n                android:background=\"@null\"\r\n                app:iss_auto_cycle=\"true\"\r\n                app:iss_period=\"1000\"\r\n                app:iss_title_background=\"@color/transparent\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_name\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"8dp\"\r\n                android:text=\"@string/product_name\"\r\n                android:layout_below=\"@+id/product_image\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"20sp\"\r\n                android:textAllCaps=\"true\"\r\n                android:textColor=\"@color/black\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_price\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"24dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"8dp\"\r\n                android:text=\"@string/price\"\r\n                android:layout_below=\"@+id/product_name\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"24sp\"\r\n                android:textColor=\"@android:color/holo_red_dark\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/address\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"24dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"16dp\"\r\n                android:text=\"@string/address\"\r\n                android:layout_below=\"@+id/product_price\"\r\n                android:fontFamily=\"@font/circular_std\"\r\n                android:textSize=\"16sp\"\r\n                android:drawableStart=\"@drawable/location\"/>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/quantity\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/address\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginBottom=\"10dp\">\r\n                <TextView\r\n                    android:id=\"@+id/btn_decrease\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"-\"\r\n                    android:textColor=\"#9E9E9E\"\r\n                    android:textSize=\"24sp\"\r\n                    android:padding=\"8dp\"\r\n                    android:gravity=\"center\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_quantity\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_marginStart=\"8dp\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:layout_marginBottom=\"8dp\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"1\"\r\n                    android:textSize=\"18sp\"\r\n                    android:textColor=\"#212121\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:background=\"@drawable/round_border\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_increase\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"+\"\r\n                    android:textColor=\"#4CAF50\"\r\n                    android:textSize=\"24sp\"\r\n                    android:padding=\"8dp\"\r\n                    android:gravity=\"center\"/>\r\n            </LinearLayout>\r\n\r\n            <RelativeLayout\r\n                android:id=\"@+id/product_description\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/quantity\">\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"@string/description\"\r\n                    android:textSize=\"16sp\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:id=\"@+id/description_title\"\r\n                    android:textColor=\"@color/black\"/>\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:id=\"@+id/description\"\r\n                    android:layout_below=\"@+id/description_title\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:textSize=\"13sp\"\r\n                    android:text=\"@string/descriptions\"\r\n                    android:maxLines=\"3\"\r\n                    android:ellipsize=\"end\"/>\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/btn_expand\"\r\n                    android:layout_width=\"32dp\"\r\n                    android:layout_height=\"32dp\"\r\n                    android:layout_below=\"@+id/description\"\r\n                    android:layout_centerHorizontal=\"true\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:src=\"@drawable/down\"\r\n                    android:background=\"@color/transparent\"/>\r\n            </RelativeLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/shop_info\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/product_description\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <androidx.cardview.widget.CardView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"8dp\"\r\n                    android:background=\"@color/background_light\"\r\n                    app:cardElevation=\"0dp\">\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/store\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"horizontal\"\r\n                        android:padding=\"16dp\">\r\n\r\n                        <de.hdodenhof.circleimageview.CircleImageView\r\n                            android:id=\"@+id/shop_avatar\"\r\n                            android:layout_width=\"40dp\"\r\n                            android:layout_height=\"40dp\"\r\n                            android:src=\"@drawable/user\"\r\n                            app:civ_border_width=\"2dp\"\r\n                            app:civ_border_color=\"#FF000000\"\r\n                            android:layout_marginEnd=\"16dp\"/>\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/shop_name\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Tên người bán\"\r\n                            android:textSize=\"16sp\"\r\n                            android:textStyle=\"bold\"\r\n                            android:textColor=\"#000000\"/>\r\n                    </LinearLayout>\r\n                </androidx.cardview.widget.CardView>\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/rating\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/shop_info\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:orientation=\"horizontal\">\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:textSize=\"16sp\"\r\n                    android:text=\"Đánh giá sản phẩm\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:id=\"@+id/quantity_title\"\r\n                    android:textColor=\"@color/black\"/>\r\n\r\n                <RatingBar\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:rating=\"4.5\"\r\n                    style=\"?android:attr/ratingBarStyleIndicator\"\r\n                    android:progressTint=\"#FFCC01\"\r\n                    android:id=\"@+id/totalRating\"\r\n                    android:layout_marginStart=\"40dp\"/>\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/reviews\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/rating\">\r\n\r\n                <de.hdodenhof.circleimageview.CircleImageView\r\n                    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n                    android:id=\"@+id/user_avatar\"\r\n                    android:layout_width=\"40dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:src=\"@drawable/user\"\r\n                    app:civ_border_width=\"2dp\"\r\n                    app:civ_border_color=\"#FF000000\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"16dp\"/>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"vertical\"\r\n                    android:layout_weight=\"1\"\r\n                    android:padding=\"10dp\"\r\n                    android:id=\"@+id/user_rv\">\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_name\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"User name\"\r\n                        android:textStyle=\"bold\"\r\n                        android:textSize=\"16sp\"\r\n                        android:textColor=\"#000000\" />\r\n\r\n                    <RatingBar\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:rating=\"3\"\r\n                        style=\"?android:attr/ratingBarStyleIndicator\"\r\n                        android:progressTint=\"#FFCC01\"\r\n                        android:id=\"@+id/userRating\"/>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_review\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"4dp\"\r\n                        android:text=\"@string/user_review\"\r\n                        android:textSize=\"14sp\"\r\n                        android:textColor=\"#616161\" />\r\n                </LinearLayout>\r\n            </LinearLayout>\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"16dp\"\r\n                android:layout_below=\"@id/reviews\"/>\r\n\r\n        </RelativeLayout>\r\n    </ScrollView>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/footer\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentBottom=\"true\">\r\n\r\n        <Button\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_marginStart=\"48dp\"\r\n            android:layout_marginEnd=\"48dp\"\r\n            android:backgroundTint=\"@color/green\"\r\n            app:cornerRadius=\"24dp\"\r\n            android:text=\"@string/add_cart\"/>\r\n    </RelativeLayout>\r\n</RelativeLayout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/activity_product_detail.xml b/app/src/main/res/layout/activity_product_detail.xml
------ a/app/src/main/res/layout/activity_product_detail.xml	
---+++ b/app/src/main/res/layout/activity_product_detail.xml	
---@@ -5,26 +5,23 @@
---     android:id="@+id/main1"
---     android:layout_width="match_parent"
---     android:layout_height="match_parent"
---+    android:padding="16dp"
---     tools:context=".ui.ProductPage.ProductDetailActivity">
---+
---     <RelativeLayout
---+        android:id="@+id/header"
---         android:layout_width="match_parent"
---         android:layout_height="wrap_content"
----        android:id="@+id/header">
---+        android:padding="8dp">
--- 
---         <ImageButton
---             android:id="@+id/btn_back"
---             android:layout_width="32dp"
---             android:layout_height="32dp"
----            android:layout_marginStart="24dp"
----            android:layout_marginTop="16dp"
----            android:layout_marginBottom="8dp"
---+            android:layout_marginStart="8dp"
---+            android:layout_marginTop="8dp"
---             android:background="@color/background_light"
---             android:src="@drawable/chevron_left"
----            app:layout_constraintEnd_toEndOf="parent"
----            app:layout_constraintHorizontal_bias="0.0"
----            app:layout_constraintStart_toStartOf="parent"
----            app:layout_constraintTop_toTopOf="parent"
----            tools:ignore="MissingConstraints"
---             android:backgroundTint="@color/white"/>
---     </RelativeLayout>
--- 
---@@ -32,12 +29,9 @@
---         android:id="@+id/scrollView"
---         android:layout_width="match_parent"
---         android:layout_height="wrap_content"
----        android:layout_marginTop="4dp"
----        app:layout_constraintTop_toBottomOf="@+id/header"
----        tools:layout_editor_absoluteX="0dp"
---         android:layout_below="@id/header"
----        android:scrollbars="none"
----        android:layout_above="@id/footer">
---+        android:layout_above="@id/footer"
---+        android:scrollbars="none">
--- 
---         <RelativeLayout
---             android:id="@+id/product_detail"
---@@ -53,14 +47,26 @@
---                 app:iss_period="1000"
---                 app:iss_title_background="@color/transparent"/>
--- 
---+            <TextView
---+                android:id="@+id/product_price"
---+                android:layout_width="wrap_content"
---+                android:layout_height="wrap_content"
---+                android:layout_marginStart="16dp"
---+                android:layout_marginEnd="16dp"
---+                android:layout_marginBottom="8dp"
---+                android:text="@string/price"
---+                android:layout_below="@+id/product_name"
---+                android:fontFamily="@font/gabarito"
---+                android:textSize="28sp"
---+                android:textColor="@android:color/holo_red_dark"/>
---+
---             <TextView
---                 android:id="@+id/product_name"
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
----                android:layout_marginTop="10dp"
---+                android:layout_marginTop="15dp"
---                 android:layout_marginStart="16dp"
----                android:layout_marginEnd="24dp"
----                android:layout_marginBottom="8dp"
---+                android:layout_marginEnd="16dp"
---                 android:text="@string/product_name"
---                 android:layout_below="@+id/product_image"
---                 android:fontFamily="@font/gabarito"
---@@ -68,25 +74,12 @@
---                 android:textAllCaps="true"
---                 android:textColor="@color/black"/>
--- 
----            <TextView
----                android:id="@+id/product_price"
----                android:layout_width="wrap_content"
----                android:layout_height="wrap_content"
----                android:layout_marginStart="24dp"
----                android:layout_marginEnd="24dp"
----                android:layout_marginBottom="8dp"
----                android:text="@string/price"
----                android:layout_below="@+id/product_name"
----                android:fontFamily="@font/gabarito"
----                android:textSize="24sp"
----                android:textColor="@android:color/holo_red_dark"/>
----
---             <TextView
---                 android:id="@+id/address"
---                 android:layout_width="wrap_content"
---                 android:layout_height="wrap_content"
----                android:layout_marginStart="24dp"
----                android:layout_marginEnd="24dp"
---+                android:layout_marginStart="16dp"
---+                android:layout_marginEnd="16dp"
---                 android:layout_marginBottom="16dp"
---                 android:text="@string/address"
---                 android:layout_below="@+id/product_price"
---@@ -100,7 +93,9 @@
---                 android:layout_height="wrap_content"
---                 android:layout_below="@+id/address"
---                 android:layout_marginStart="16dp"
----                android:layout_marginBottom="10dp">
---+                android:layout_marginBottom="10dp"
---+                android:orientation="horizontal">
---+
---                 <TextView
---                     android:id="@+id/btn_decrease"
---                     android:layout_width="30dp"
---@@ -143,26 +138,26 @@
---                 android:layout_below="@+id/quantity">
--- 
---                 <TextView
---+                    android:id="@+id/description_title"
---                     android:layout_width="match_parent"
---                     android:layout_height="wrap_content"
----                    android:layout_marginStart="16dp"
---+                    android:layout_marginStart="15dp"
---                     android:layout_marginEnd="16dp"
---                     android:layout_marginTop="8dp"
---                     android:text="@string/description"
----                    android:textSize="16sp"
---+                    android:textSize="17sp"
---                     android:fontFamily="@font/gabarito"
----                    android:id="@+id/description_title"
---                     android:textColor="@color/black"/>
--- 
---                 <TextView
---+                    android:id="@+id/description"
---                     android:layout_width="match_parent"
---                     android:layout_height="wrap_content"
----                    android:id="@+id/description"
---                     android:layout_below="@+id/description_title"
---                     android:layout_marginStart="16dp"
---                     android:layout_marginEnd="16dp"
---                     android:layout_marginTop="8dp"
----                    android:textSize="13sp"
---+                    android:textSize="15sp"
---                     android:text="@string/descriptions"
---                     android:maxLines="3"
---                     android:ellipsize="end"/>
---@@ -183,7 +178,9 @@
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
---                 android:layout_below="@+id/product_description"
---+                android:layout_margin="8dp"
---                 android:layout_marginTop="24dp"
---+                android:background="@color/transparent"
---                 android:orientation="vertical">
--- 
---                 <androidx.cardview.widget.CardView
---@@ -197,29 +194,27 @@
---                         android:id="@+id/store"
---                         android:layout_width="match_parent"
---                         android:layout_height="wrap_content"
----                        android:orientation="horizontal"
----                        android:padding="16dp">
---+                        android:orientation="horizontal">
--- 
---                         <de.hdodenhof.circleimageview.CircleImageView
----                            android:id="@+id/shop_avatar"
----                            android:layout_width="40dp"
----                            android:layout_height="40dp"
---+                            android:id="@+id/store_img"
---+                            android:layout_width="50dp"
---+                            android:layout_height="50dp"
---+                            android:layout_marginEnd="16dp"
---                             android:src="@drawable/user"
----                            app:civ_border_width="2dp"
---                             app:civ_border_color="#FF000000"
----                            android:layout_marginEnd="16dp"/>
---+                            app:civ_border_width="2dp" />
--- 
---                         <TextView
----                            android:id="@+id/shop_name"
---+                            android:id="@+id/store_name"
---                             android:layout_width="wrap_content"
---                             android:layout_height="wrap_content"
---                             android:text="Tên người bán"
----                            android:textSize="16sp"
----                            android:textStyle="bold"
----                            android:textColor="#000000"/>
---+                            android:textColor="#000000"
---+                            android:textSize="20sp"
---+                            android:textStyle="bold" />
---                     </LinearLayout>
---                 </androidx.cardview.widget.CardView>
----
---             </LinearLayout>
--- 
---             <LinearLayout
---@@ -228,8 +223,11 @@
---                 android:layout_height="wrap_content"
---                 android:layout_below="@+id/shop_info"
---                 android:layout_marginTop="24dp"
----                android:orientation="horizontal">
---+                android:orientation="horizontal"
---+                android:padding="8dp">
---+
---                 <TextView
---+                    android:id="@+id/quantity_title"
---                     android:layout_width="wrap_content"
---                     android:layout_height="wrap_content"
---                     android:layout_marginStart="16dp"
---@@ -237,16 +235,15 @@
---                     android:textSize="16sp"
---                     android:text="Đánh giá sản phẩm"
---                     android:fontFamily="@font/gabarito"
----                    android:id="@+id/quantity_title"
---                     android:textColor="@color/black"/>
--- 
---                 <RatingBar
---+                    android:id="@+id/totalRating"
---                     android:layout_width="wrap_content"
---                     android:layout_height="wrap_content"
---                     android:rating="4.5"
---                     style="?android:attr/ratingBarStyleIndicator"
---                     android:progressTint="#FFCC01"
----                    android:id="@+id/totalRating"
---                     android:layout_marginStart="40dp"/>
---             </LinearLayout>
--- 
---@@ -254,10 +251,10 @@
---                 android:id="@+id/reviews"
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
----                android:layout_below="@+id/rating">
---+                android:layout_below="@+id/rating"
---+                android:padding="8dp">
--- 
---                 <de.hdodenhof.circleimageview.CircleImageView
----                    xmlns:app="http://schemas.android.com/apk/res-auto"
---                     android:id="@+id/user_avatar"
---                     android:layout_width="40dp"
---                     android:layout_height="40dp"
---@@ -268,12 +265,12 @@
---                     android:layout_marginTop="16dp"/>
--- 
---                 <LinearLayout
---+                    android:id="@+id/user_rv"
---                     android:layout_width="0dp"
---                     android:layout_height="wrap_content"
---                     android:orientation="vertical"
---                     android:layout_weight="1"
----                    android:padding="10dp"
----                    android:id="@+id/user_rv">
---+                    android:padding="10dp">
--- 
---                     <TextView
---                         android:id="@+id/user_name"
---@@ -285,12 +282,12 @@
---                         android:textColor="#000000" />
--- 
---                     <RatingBar
---+                        android:id="@+id/userRating"
---                         android:layout_width="wrap_content"
---                         android:layout_height="wrap_content"
---                         android:rating="3"
---                         style="?android:attr/ratingBarStyleIndicator"
----                        android:progressTint="#FFCC01"
----                        android:id="@+id/userRating"/>
---+                        android:progressTint="#FFCC01"/>
--- 
---                     <TextView
---                         android:id="@+id/user_review"
---@@ -302,12 +299,12 @@
---                         android:textColor="#616161" />
---                 </LinearLayout>
---             </LinearLayout>
---+
---             <androidx.recyclerview.widget.RecyclerView
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
---                 android:layout_marginTop="16dp"
---                 android:layout_below="@id/reviews"/>
----
---         </RelativeLayout>
---     </ScrollView>
--- 
---@@ -315,7 +312,8 @@
---         android:id="@+id/footer"
---         android:layout_width="match_parent"
---         android:layout_height="wrap_content"
----        android:layout_alignParentBottom="true">
---+        android:layout_alignParentBottom="true"
---+        android:padding="16dp">
--- 
---         <Button
---             android:layout_width="match_parent"
---Index: app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\nimport com.example.agrimart.viewmodel.HomeFragmentViewModel;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    ImageButton btnSearch;\r\n    TextView search;\r\n    HomeFragmentViewModel viewModel;\r\n    FragmentHomeBinding binding;\r\n\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    public static HomeFragment newInstance() {\r\n        return new HomeFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        binding=DataBindingUtil.inflate(inflater,R.layout.fragment_home,container,false);\r\n        viewModel=new ViewModelProvider(this).get(HomeFragmentViewModel.class);\r\n\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding.setViewmodel(viewModel);\r\n        View view = binding.getRoot();\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getActivity().getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n//        if (getActivity() != null) {\r\n//            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n//        }\r\n        viewModel.getData();\r\n        viewModel.categories.observe(getViewLifecycleOwner(), categories -> {\r\n            if (categories != null) {\r\n                CategoryAdapter categoryAdapter = new CategoryAdapter(categories);\r\n                binding.rvCategories.setAdapter(categoryAdapter);\r\n                binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));\r\n                Log.d(\"duy1\", \"onCreateView: \" + categories.size());\r\n            }\r\n        });\r\n\r\n\r\n        List<Product> products = new ArrayList<>();\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n            Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n\r\n        addControls(view);\r\n        addEvents();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void addEvents() {\r\n        btnSearch.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getActivity(), SearchActivity.class);\r\n            getActivity().startActivity(intent);\r\n        });\r\n\r\n        search.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getContext(), SearchActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void addControls(View view) {\r\n        btnSearch = view.findViewById(R.id.search_icon);\r\n        search = view.findViewById(R.id.search_input);\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getActivity().getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
------ a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	
---+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	
---@@ -3,15 +3,12 @@
--- import android.content.Intent;
--- import android.os.Build;
--- import android.os.Bundle;
----
--- import androidx.annotation.NonNull;
--- import androidx.core.content.ContextCompat;
--- import androidx.databinding.DataBindingUtil;
--- import androidx.fragment.app.Fragment;
--- import androidx.lifecycle.ViewModelProvider;
--- import androidx.recyclerview.widget.GridLayoutManager;
----import androidx.recyclerview.widget.RecyclerView;
----
--- import android.util.Log;
--- import android.view.LayoutInflater;
--- import android.view.View;
---@@ -25,23 +22,22 @@
--- import com.example.agrimart.SpacesItemDecoration;
--- import com.example.agrimart.adapter.CategoryAdapter;
--- import com.example.agrimart.adapter.ProductAdapter;
----import com.example.agrimart.data.model.Category;
--- import com.example.agrimart.data.model.Product;
--- import com.example.agrimart.databinding.FragmentHomeBinding;
--- import com.example.agrimart.ui.ProductPage.ProductDetailActivity;
--- import com.example.agrimart.viewmodel.HomeFragmentViewModel;
--- 
----import java.util.ArrayList;
--- import java.util.List;
--- 
--- public class HomeFragment extends Fragment {
---+    private static final String TAG = "HomeFragment";
---     ImageButton btnSearch;
---     TextView search;
---     HomeFragmentViewModel viewModel;
---     FragmentHomeBinding binding;
--- 
---     public HomeFragment() {
----        // Required empty public constructor
---+
---     }
--- 
---     public static HomeFragment newInstance() {
---@@ -54,10 +50,9 @@
---     }
--- 
---     @Override
----    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,
----                             Bundle savedInstanceState) {
----        binding=DataBindingUtil.inflate(inflater,R.layout.fragment_home,container,false);
----        viewModel=new ViewModelProvider(this).get(HomeFragmentViewModel.class);
---+    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
---+        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_home, container, false);
---+        viewModel = new ViewModelProvider(this).get(HomeFragmentViewModel.class);
--- 
---         int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);
---         binding.setViewmodel(viewModel);
---@@ -69,36 +64,35 @@
---             window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));
---         }
--- 
----//        if (getActivity() != null) {
----//            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));
----//        }
---         viewModel.getData();
---+        viewModel.getProducts();
---+
---         viewModel.categories.observe(getViewLifecycleOwner(), categories -> {
---             if (categories != null) {
---                 CategoryAdapter categoryAdapter = new CategoryAdapter(categories);
---                 binding.rvCategories.setAdapter(categoryAdapter);
---                 binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));
----                Log.d("duy1", "onCreateView: " + categories.size());
---+                Log.d(TAG, "Categories loaded: " + categories.size());
---             }
---         });
--- 
----
----        List<Product> products = new ArrayList<>();
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----
----        ProductAdapter productAdapter = new ProductAdapter(products, product -> {
----            Intent intent = new Intent(getContext(), ProductDetailActivity.class);
----            startActivity(intent);
----        });
---+        viewModel.products.observe(getViewLifecycleOwner(), products -> {
---+            if (products != null) {
---+                ProductAdapter productAdapter = new ProductAdapter(products, product -> {
---+                    try {
---+                        Intent intent = new Intent(getContext(), ProductDetailActivity.class);
---+                        intent.putExtra("product", product);
---+                        intent.putExtra("storeId", product.getStoreId());
---+                        startActivity(intent);
---+                    } catch (Exception e) {
--- 
----        binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));
----        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
----        binding.rvProducts.setAdapter(productAdapter);
---+                    }
---+                });
---+                binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));
---+                binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
---+                binding.rvProducts.setAdapter(productAdapter);
---+            }
---+        });
--- 
---         addControls(view);
---         addEvents();
---@@ -107,13 +101,13 @@
---     }
--- 
---     private void addEvents() {
----        btnSearch.setOnClickListener(View -> {
----            Intent intent=new Intent(getActivity(), SearchActivity.class);
---+        btnSearch.setOnClickListener(v -> {
---+            Intent intent = new Intent(getActivity(), SearchActivity.class);
---             getActivity().startActivity(intent);
---         });
--- 
----        search.setOnClickListener(View -> {
----            Intent intent=new Intent(getContext(), SearchActivity.class);
---+        search.setOnClickListener(v -> {
---+            Intent intent = new Intent(getContext(), SearchActivity.class);
---             startActivity(intent);
---         });
---     }
---Index: app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.ProductPage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.ImageButton;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\n\r\nimport com.denzcoskun.imageslider.ImageSlider;\r\nimport com.denzcoskun.imageslider.constants.ScaleTypes;\r\nimport com.denzcoskun.imageslider.models.SlideModel;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.Store.StoreActivity;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ProductDetailActivity extends AppCompatActivity {\r\n    ImageButton btn_back, btnExpand;\r\n    TextView description;\r\n    boolean isExpanded = false;\r\n    LinearLayout store;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_product_detail);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        description = findViewById(R.id.description);\r\n        btnExpand = findViewById(R.id.btn_expand);\r\n\r\n        btn_back = findViewById(R.id.btn_back);\r\n        btn_back.setOnClickListener(v -> finish());\r\n        store = findViewById(R.id.store);\r\n\r\n        ArrayList<SlideModel> imgList = new ArrayList<>();\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n\r\n        ImageSlider imageSlider = findViewById(R.id.product_image);\r\n        imageSlider.setImageList(imgList, ScaleTypes.FIT);\r\n\r\n        btnExpand.setOnClickListener(v -> {\r\n            if (isExpanded) {\r\n                description.setMaxLines(3);\r\n                btnExpand.setImageResource(R.drawable.down);\r\n            } else {\r\n                description.setMaxLines(Integer.MAX_VALUE);\r\n                btnExpand.setImageResource(R.drawable.arrowhead_up);\r\n            }\r\n            isExpanded = !isExpanded;\r\n        });\r\n\r\n        store.setOnClickListener(v -> {\r\n            Intent intent = new Intent(ProductDetailActivity.this, StoreActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java	
---+++ b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java	
---@@ -3,28 +3,40 @@
--- import android.content.Intent;
--- import android.os.Bundle;
--- import android.widget.ImageButton;
---+import android.widget.ImageView;
--- import android.widget.LinearLayout;
--- import android.widget.TextView;
--- 
--- import androidx.activity.EdgeToEdge;
---+import androidx.annotation.NonNull;
--- import androidx.appcompat.app.AppCompatActivity;
--- import androidx.core.graphics.Insets;
--- import androidx.core.view.ViewCompat;
--- import androidx.core.view.WindowInsetsCompat;
---+import androidx.lifecycle.Observer;
---+import androidx.lifecycle.ViewModelProvider;
--- 
---+import com.bumptech.glide.Glide;
--- import com.denzcoskun.imageslider.ImageSlider;
--- import com.denzcoskun.imageslider.constants.ScaleTypes;
--- import com.denzcoskun.imageslider.models.SlideModel;
--- import com.example.agrimart.R;
---+import com.example.agrimart.data.model.Product;
---+import com.example.agrimart.data.model.Store;
--- import com.example.agrimart.ui.Store.StoreActivity;
---+import com.example.agrimart.viewmodel.ProductDetailViewModel;
---+
--- 
--- import java.util.ArrayList;
--- 
--- public class ProductDetailActivity extends AppCompatActivity {
----    ImageButton btn_back, btnExpand;
----    TextView description;
----    boolean isExpanded = false;
----    LinearLayout store;
---+    private static final String TAG = "ProductDetailActivity";
---+    private ImageButton btn_back, btnExpand;
---+    private TextView description, productName, productPrice, storeName, storeAddress, storePhoneNumber;
---+    private ImageView storeAvatar;
---+    private boolean isExpanded = false;
---+    private LinearLayout store;
---+    private ProductDetailViewModel viewModel;
--- 
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---@@ -37,24 +49,51 @@
---             return insets;
---         });
--- 
---+        viewModel = new ViewModelProvider(this).get(ProductDetailViewModel.class);
---+
---         description = findViewById(R.id.description);
---+        productName = findViewById(R.id.product_name);
---+        productPrice = findViewById(R.id.product_price);
---         btnExpand = findViewById(R.id.btn_expand);
----
---         btn_back = findViewById(R.id.btn_back);
----        btn_back.setOnClickListener(v -> finish());
---         store = findViewById(R.id.store);
---+        storeName = findViewById(R.id.store_name);
---+        storeAddress = findViewById(R.id.address);
---+        storeAvatar = findViewById(R.id.store_img);
---+
---+        btn_back.setOnClickListener(v -> finish());
---+
---+        Intent intent = getIntent();
---+        Product product = (Product) intent.getSerializableExtra("product");
---+
---+        if (product != null) {
---+            productName.setText(product.getName());
---+            productPrice.setText(String.format("%,.0f đ", product.getPrice()));
---+            description.setText(product.getDescription());
--- 
----        ArrayList<SlideModel> imgList = new ArrayList<>();
----        imgList.add(new SlideModel(R.drawable.banana, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.apple, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.banana, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.apple, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.banana, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.apple, "", ScaleTypes.FIT));
----
----        ImageSlider imageSlider = findViewById(R.id.product_image);
----        imageSlider.setImageList(imgList, ScaleTypes.FIT);
---+            ArrayList<SlideModel> imgList = new ArrayList<>();
---+            if (product.getImages() != null) {
---+                for (String url : product.getImages()) {
---+                    imgList.add(new SlideModel(url, "", ScaleTypes.FIT));
---+                }
---+            }
---+            ImageSlider imageSlider = findViewById(R.id.product_image);
---+            imageSlider.setImageList(imgList, ScaleTypes.FIT);
--- 
---+            viewModel.loadStoreInfo(product.getStoreId());
---+        }
---+
---+        viewModel.getStoreInfo().observe(this, new Observer<Store>() {
---+            @Override
---+            public void onChanged(Store storeInfo) {
---+                if (storeInfo != null) {
---+                    storeName.setText(storeInfo.getName());
---+                    storeAddress.setText(storeInfo.getFullAddress());
---+                    Glide.with(ProductDetailActivity.this).load(storeInfo.getAvatarUrl()).into(storeAvatar);
---+                }
---+            }
---+        });
---+
---         btnExpand.setOnClickListener(v -> {
---             if (isExpanded) {
---                 description.setMaxLines(3);
---@@ -67,8 +106,9 @@
---         });
--- 
---         store.setOnClickListener(v -> {
----            Intent intent = new Intent(ProductDetailActivity.this, StoreActivity.class);
----            startActivity(intent);
---+            Intent storeIntent = new Intent(ProductDetailActivity.this, StoreActivity.class);
---+            storeIntent.putExtra("storeId", product.getStoreId());
---+            startActivity(storeIntent);
---         });
---     }
----}
---\ No newline at end of file
---+}
---Index: app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.List;\r\n\r\npublic class HomeFragmentViewModel extends ViewModel {\r\n    public MutableLiveData<List<Category>> categories;\r\n\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    public HomeFragmentViewModel() {\r\n        categories = new MutableLiveData<>();\r\n    }\r\n\r\n    public void getData(){\r\n        db.collection(\"categories\")\r\n                .orderBy(\"id\")\r\n                .get().addOnCompleteListener(task -> {\r\n            if (task.isSuccessful()) {\r\n                List<Category> categoryList = task.getResult().toObjects(Category.class);\r\n                categories.setValue(categoryList);\r\n            } else {\r\n                Log.e(\"HomeFragmentViewModel\", \"Error getting documents: \", task.getException());\r\n            }\r\n        });\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java
------ a/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java	
---+++ b/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java	
---@@ -6,28 +6,47 @@
--- import androidx.lifecycle.ViewModel;
--- 
--- import com.example.agrimart.data.model.Category;
---+import com.example.agrimart.data.model.Product;
--- import com.google.firebase.firestore.FirebaseFirestore;
--- 
--- import java.util.List;
--- 
--- public class HomeFragmentViewModel extends ViewModel {
---     public MutableLiveData<List<Category>> categories;
---+    public MutableLiveData<List<Product>> products;
--- 
---     FirebaseFirestore db = FirebaseFirestore.getInstance();
---+
---     public HomeFragmentViewModel() {
---         categories = new MutableLiveData<>();
---+        products = new MutableLiveData<>();
---     }
--- 
----    public void getData(){
---+    public void getData() {
---         db.collection("categories")
---                 .orderBy("id")
----                .get().addOnCompleteListener(task -> {
----            if (task.isSuccessful()) {
----                List<Category> categoryList = task.getResult().toObjects(Category.class);
----                categories.setValue(categoryList);
----            } else {
----                Log.e("HomeFragmentViewModel", "Error getting documents: ", task.getException());
----            }
----        });
---+                .get()
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        List<Category> categoryList = task.getResult().toObjects(Category.class);
---+                        categories.setValue(categoryList);
---+                    } else {
---+                        Log.e("HomeFragmentViewModel", "Error getting categories: ", task.getException());
---+                    }
---+                });
---+    }
---+
---+    public void getProducts() {
---+        db.collection("products")
---+                .orderBy("product_id")
---+                .get()
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        List<Product> productList = task.getResult().toObjects(Product.class);
---+                        products.setValue(productList);
---+                    } else {
---+                        Log.e("HomeFragmentViewModel", "Error getting products: ", task.getException());
---+                    }
---+                });
---     }
----}
---\ No newline at end of file
---+}
---Index: app/src/main/java/com/example/agrimart/data/model/User.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.data.model;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\nimport java.io.Serializable;\r\nimport java.util.Date;\r\n\r\npublic class User implements Serializable {\r\n    @SerializedName(\"userId\")\r\n    private String userId;\r\n    @SerializedName(\"role\")\r\n    private String role;\r\n    @SerializedName(\"fullName\")\r\n    private String fullName;\r\n    @SerializedName(\"email\")\r\n    private String email;\r\n    @SerializedName(\"phoneNumber\")\r\n    private String phoneNumber;\r\n    @SerializedName(\"password\")\r\n    private String password;\r\n    @SerializedName(\"address\")\r\n    private Address address;\r\n    @SerializedName(\"storeName\")\r\n    private String storeName;\r\n    @SerializedName(\"storeAddress\")\r\n    private Address storeAddress;\r\n    @SerializedName(\"storeImage\")\r\n    private String storeImage;\r\n    @SerializedName(\"storeRating\")\r\n    private double storeRating;\r\n    @SerializedName(\"paymentAccount\")\r\n    private PaymentAccount paymentAccount;\r\n    @SerializedName(\"createdAt\")\r\n    private Date createdAt;\r\n    @SerializedName(\"updatedAt\")\r\n    private Date updatedAt;\r\n\r\n    public User(String userId, String role, String fullName, String email, String phoneNumber, String password, Address address, String storeName, Address storeAddress, String storeImage, double storeRating, PaymentAccount paymentAccount, Date createdAt, Date updatedAt) {\r\n        this.userId = userId;\r\n        this.role = role;\r\n        this.fullName = fullName;\r\n        this.email = email;\r\n        this.phoneNumber = phoneNumber;\r\n        this.password = password;\r\n        this.address = address;\r\n        this.storeName = storeName;\r\n        this.storeAddress = storeAddress;\r\n        this.storeImage = storeImage;\r\n        this.storeRating = storeRating;\r\n        this.paymentAccount = paymentAccount;\r\n        this.createdAt = createdAt;\r\n        this.updatedAt = updatedAt;\r\n    }\r\n\r\n    public String getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(String userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getRole() {\r\n        return role;\r\n    }\r\n\r\n    public void setRole(String role) {\r\n        this.role = role;\r\n    }\r\n\r\n    public String getFullName() {\r\n        return fullName;\r\n    }\r\n\r\n    public void setFullName(String fullName) {\r\n        this.fullName = fullName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Address getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(Address address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getStoreName() {\r\n        return storeName;\r\n    }\r\n\r\n    public void setStoreName(String storeName) {\r\n        this.storeName = storeName;\r\n    }\r\n\r\n    public Address getStoreAddress() {\r\n        return storeAddress;\r\n    }\r\n\r\n    public void setStoreAddress(Address storeAddress) {\r\n        this.storeAddress = storeAddress;\r\n    }\r\n\r\n    public String getStoreImage() {\r\n        return storeImage;\r\n    }\r\n\r\n    public void setStoreImage(String storeImage) {\r\n        this.storeImage = storeImage;\r\n    }\r\n\r\n    public double getStoreRating() {\r\n        return storeRating;\r\n    }\r\n\r\n    public void setStoreRating(double storeRating) {\r\n        this.storeRating = storeRating;\r\n    }\r\n\r\n    public PaymentAccount getPaymentAccount() {\r\n        return paymentAccount;\r\n    }\r\n\r\n    public void setPaymentAccount(PaymentAccount paymentAccount) {\r\n        this.paymentAccount = paymentAccount;\r\n    }\r\n\r\n    public Date getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(Date createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Date getUpdatedAt() {\r\n        return updatedAt;\r\n    }\r\n\r\n    public void setUpdatedAt(Date updatedAt) {\r\n        this.updatedAt = updatedAt;\r\n    }\r\n\r\n//    public static class Address {\r\n//        @SerializedName(\"street\")\r\n//        private String street;\r\n//        @SerializedName(\"district\")\r\n//        private String district;\r\n//        @SerializedName(\"city\")\r\n//        private String city;\r\n//\r\n//        // Constructors, getters, and setters...\r\n//    }\r\n\r\n    public static class PaymentAccount {\r\n        @SerializedName(\"accountNumber\")\r\n        private String accountNumber;\r\n        @SerializedName(\"bankName\")\r\n        private String bankName;\r\n        @SerializedName(\"branchName\")\r\n        private String branchName;\r\n\r\n        // Constructors, getters, and setters...\r\n    }\r\n\r\n    // Getters and setters for User class fields\r\n    // ...\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/User.java b/app/src/main/java/com/example/agrimart/data/model/User.java
------ a/app/src/main/java/com/example/agrimart/data/model/User.java	
---+++ b/app/src/main/java/com/example/agrimart/data/model/User.java	
---@@ -1,3 +1,4 @@
---+// User.java
--- package com.example.agrimart.data.model;
--- 
--- import com.google.gson.annotations.SerializedName;
---@@ -34,6 +35,10 @@
---     @SerializedName("updatedAt")
---     private Date updatedAt;
--- 
---+    // No-argument constructor
---+    public User() {
---+    }
---+
---     public User(String userId, String role, String fullName, String email, String phoneNumber, String password, Address address, String storeName, Address storeAddress, String storeImage, double storeRating, PaymentAccount paymentAccount, Date createdAt, Date updatedAt) {
---         this.userId = userId;
---         this.role = role;
---@@ -163,16 +168,49 @@
---         this.updatedAt = updatedAt;
---     }
--- 
----//    public static class Address {
----//        @SerializedName("street")
----//        private String street;
----//        @SerializedName("district")
----//        private String district;
----//        @SerializedName("city")
----//        private String city;
----//
----//        // Constructors, getters, and setters...
----//    }
---+    public static class Address {
---+        @SerializedName("street")
---+        private String street;
---+        @SerializedName("district")
---+        private String district;
---+        @SerializedName("city")
---+        private String city;
---+
---+        public Address() {
---+        }
---+
---+        public Address(String street, String district, String city) {
---+            this.street = street;
---+            this.district = district;
---+            this.city = city;
---+        }
---+
---+        // Getters and setters...
---+
---+        public String getStreet() {
---+            return street;
---+        }
---+
---+        public void setStreet(String street) {
---+            this.street = street;
---+        }
---+
---+        public String getDistrict() {
---+            return district;
---+        }
---+
---+        public void setDistrict(String district) {
---+            this.district = district;
---+        }
---+
---+        public String getCity() {
---+            return city;
---+        }
---+
---+        public void setCity(String city) {
---+            this.city = city;
---+        }
---+    }
--- 
---     public static class PaymentAccount {
---         @SerializedName("accountNumber")
---@@ -182,9 +220,15 @@
---         @SerializedName("branchName")
---         private String branchName;
--- 
----        // Constructors, getters, and setters...
----    }
---+        public PaymentAccount() {
---+        }
---+
---+        public PaymentAccount(String accountNumber, String bankName, String branchName) {
---+            this.accountNumber = accountNumber;
---+            this.bankName = bankName;
---+            this.branchName = branchName;
---+        }
--- 
----    // Getters and setters for User class fields
----    // ...
---+        // Getters and setters...
---+    }
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java
---new file mode 100644
------ /dev/null	
---+++ b/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java	
---@@ -0,0 +1,56 @@
---+package com.example.agrimart.viewmodel;
---+
---+import androidx.lifecycle.LiveData;
---+import androidx.lifecycle.MutableLiveData;
---+import androidx.lifecycle.ViewModel;
---+
---+import com.example.agrimart.data.model.Store;
---+import com.google.firebase.firestore.DocumentSnapshot;
---+import com.google.firebase.firestore.FirebaseFirestore;
---+import com.google.firebase.firestore.ListenerRegistration;
---+
---+public class ProductDetailViewModel extends ViewModel {
---+    private final FirebaseFirestore db;
---+    private ListenerRegistration storeListener;
---+    private final MutableLiveData<Store> storeInfo = new MutableLiveData<>();
---+
---+    public ProductDetailViewModel() {
---+        db = FirebaseFirestore.getInstance();
---+    }
---+
---+    public LiveData<Store> getStoreInfo() {
---+        return storeInfo;
---+    }
---+
---+    public void loadStoreInfo(String storeId) {
---+        if (storeListener != null) {
---+            storeListener.remove();
---+        }
---+
---+        storeListener = db.collection("users").document(storeId)
---+                .addSnapshotListener((snapshot, e) -> {
---+                    if (e != null || snapshot == null || !snapshot.exists()) {
---+                        return;
---+                    }
---+                    String name = snapshot.getString("store_name");
---+                    String avatarUrl = snapshot.getString("userImage");
---+                    String street = snapshot.getString("store_address.street");
---+                    String ward = snapshot.getString("store_address.ward");
---+                    String district = snapshot.getString("store_address.district");
---+                    String city = snapshot.getString("store_address.city");
---+                    String phoneNumber = snapshot.getString("store_phone_number");
---+
---+                    Store info = new Store(name, avatarUrl, street, ward, district, city, phoneNumber);
---+                    storeInfo.setValue(info);
---+                });
---+    }
---+
---+    @Override
---+    protected void onCleared() {
---+        super.onCleared();
---+        if (storeListener != null) {
---+            storeListener.remove();
---+        }
---+    }
---+
---+}
---Index: app/src/main/java/com/example/agrimart/data/model/Store.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/Store.java b/app/src/main/java/com/example/agrimart/data/model/Store.java
---new file mode 100644
------ /dev/null	
---+++ b/app/src/main/java/com/example/agrimart/data/model/Store.java	
---@@ -0,0 +1,37 @@
---+package com.example.agrimart.data.model;
---+
---+public class Store {
---+    private final String name;
---+    private final String avatarUrl;
---+    private final String street;
---+    private final String ward;
---+    private final String district;
---+    private final String city;
---+    private final String phoneNumber;
---+
---+    public Store(String name, String avatarUrl, String street, String ward, String district, String city, String phoneNumber) {
---+        this.name = name;
---+        this.avatarUrl = avatarUrl;
---+        this.street = street;
---+        this.ward = ward;
---+        this.district = district;
---+        this.city = city;
---+        this.phoneNumber = phoneNumber;
---+    }
---+
---+    public String getName() {
---+        return name;
---+    }
---+
---+    public String getAvatarUrl() {
---+        return avatarUrl;
---+    }
---+
---+    public String getFullAddress() {
---+        return street + ", " + ward + ", " + district + ", " + city;
---+    }
---+
---+    public String getPhoneNumber() {
---+        return phoneNumber;
---+    }
---+}
---Index: app/src/main/java/com/example/agrimart/data/model/Address.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.data.model;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\n\r\npublic class Address {\r\n    @SerializedName(\"default\")\r\n    private boolean isDefault;\r\n    @SerializedName(\"detailedAddress\")\r\n    private String detailedAddress;\r\n    @SerializedName(\"name\")\r\n    private String name;\r\n    @SerializedName(\"phone\")\r\n    private String phone;\r\n    @SerializedName(\"street\")\r\n    private String street;\r\n\r\n    public String getAddressId() {\r\n        return this.AddressId;\r\n    }\r\n\r\n    public void setAddressId(String AddressId) {\r\n        this.AddressId = AddressId;\r\n    }\r\n\r\n    @SerializedName(\"AddressId\")\r\n    private String AddressId;\r\n    public Address() {\r\n\r\n    }\r\n    // Constructor\r\n    public Address(String AddressId,String name, String phone, String street, String detailedAddress, boolean isDefault) {\r\n        this.name = name;\r\n        this.phone = phone;\r\n        this.street = street;\r\n        this.detailedAddress = detailedAddress;\r\n        this.isDefault = isDefault;\r\n        this.AddressId = AddressId;\r\n    }\r\n\r\n    // Getters and Setters\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getPhone() {\r\n        return phone;\r\n    }\r\n\r\n    public void setPhone(String phone) {\r\n        this.phone = phone;\r\n    }\r\n\r\n    public String getStreet() {\r\n        return street;\r\n    }\r\n\r\n    public void setStreet(String street) {\r\n        this.street = street;\r\n    }\r\n\r\n    public String getDetailedAddress() {\r\n        return detailedAddress;\r\n    }\r\n\r\n    public void setDetailedAddress(String detailedAddress) {\r\n        this.detailedAddress = detailedAddress;\r\n    }\r\n\r\n    public boolean isDefault() {\r\n        return isDefault;\r\n    }\r\n\r\n    public void setDefault(boolean aDefault) {\r\n        isDefault = aDefault;\r\n    }\r\n}\r\n
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/Address.java b/app/src/main/java/com/example/agrimart/data/model/Address.java
------ a/app/src/main/java/com/example/agrimart/data/model/Address.java	
---+++ b/app/src/main/java/com/example/agrimart/data/model/Address.java	
---@@ -27,7 +27,7 @@
---     public Address() {
--- 
---     }
----    // Constructor
---+
---     public Address(String AddressId,String name, String phone, String street, String detailedAddress, boolean isDefault) {
---         this.name = name;
---         this.phone = phone;
--Index: .idea/shelf/Uncommitted_changes_before_rebase__Changes_1.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_rebase__Changes_1.xml b/.idea/shelf/Uncommitted_changes_before_rebase__Changes_1.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_rebase__Changes_1.xml	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ /dev/null	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_rebase_[Changes]1" date="1730832353615" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]1/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before rebase [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_rebase_[Changes]1/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]1/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]1/shelved.patch	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ /dev/null	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--@@ -1,54 +0,0 @@
---Index: app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.databinding.CategoryItemBinding;\r\nimport com.denzcoskun.imageslider.models.SlideModel;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class CategoryAdapter extends RecyclerView.Adapter<CategoryAdapter.MyViewHolder> {\r\n    private List<Category> categories;\r\n\r\n    public Category category;\r\n    public CategoryAdapter(List<Category> categories) {\r\n        this.categories = categories;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        CategoryItemBinding binding = CategoryItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        return new MyViewHolder(binding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        holder.bindData(categories.get(position));\r\n        holder.binding.getRoot().setOnClickListener(v -> {\r\n            category = categories.get(position);\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return categories.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        CategoryItemBinding binding;\r\n\r\n        public MyViewHolder(@NonNull CategoryItemBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n\r\n        public void bindData(Category category) {\r\n            Glide.with(binding.getRoot())\r\n                    .load(category.getImg())\r\n                    .into(binding.imgCate);\r\n\r\n            binding.tvName.setText(category.getName());\r\n        }\r\n    }\r\n}\r\n\r\n
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java b/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java
------ a/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java	(revision aaeb065a8f3edd30a5ad853ed31ea946b99700eb)
---+++ b/app/src/main/java/com/example/agrimart/adapter/CategoryAdapter.java	(date 1730832274853)
---@@ -7,6 +7,7 @@
--- import androidx.recyclerview.widget.RecyclerView;
--- 
--- import com.bumptech.glide.Glide;
---+import com.example.agrimart.R;
--- import com.example.agrimart.data.model.Category;
--- import com.example.agrimart.databinding.CategoryItemBinding;
--- import com.denzcoskun.imageslider.models.SlideModel;
---@@ -17,11 +18,13 @@
--- public class CategoryAdapter extends RecyclerView.Adapter<CategoryAdapter.MyViewHolder> {
---     private List<Category> categories;
--- 
---+    private int selectedPosition = -1;
---     public Category category;
---     public CategoryAdapter(List<Category> categories) {
---         this.categories = categories;
---     }
--- 
---+
---     @NonNull
---     @Override
---     public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
---@@ -32,8 +35,20 @@
---     @Override
---     public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {
---         holder.bindData(categories.get(position));
---+
---+        if (holder.getAdapterPosition() == selectedPosition) {
---+            holder.binding.getRoot().setBackgroundResource(android.R.color.holo_green_light);
---+        } else {
---+            holder.binding.getRoot().setBackgroundResource(android.R.color.transparent);
---+        }
---+
---         holder.binding.getRoot().setOnClickListener(v -> {
----            category = categories.get(position);
---+            category = categories.get(holder.getAdapterPosition());
---+            int prePos=selectedPosition;
---+            selectedPosition=holder.getAdapterPosition();
---+            notifyItemChanged(prePos);
---+            notifyItemChanged(holder.getAdapterPosition());
---+
---         });
---     }
--- 
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--+++ /dev/null	(revision b12ffe68bdd14704b88b112981ae7e8f7ee39a3e)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1" date="1730802371626" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/5/2024 5:25 PM [Changes]" />
---</changelist>
--\ No newline at end of file
--diff --git a/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_rebase_[Changes]/shelved.patch
--deleted file mode 100644
-Index: app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/WaitingDelivereyFragment.java
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/WaitingDelivereyFragment.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/WaitingDelivereyFragment.java
-deleted file mode 100644
---- a/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/WaitingDelivereyFragment.java	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,66 +0,0 @@
--package com.example.agrimart.ui.MyProfile.PurchasedOrders;
--
--import android.os.Bundle;
--
--import androidx.fragment.app.Fragment;
--
--import android.view.LayoutInflater;
--import android.view.View;
--import android.view.ViewGroup;
--
--import com.example.agrimart.R;
--
--/**
-- * A simple {@link Fragment} subclass.
-- * Use the {@link WaitingDelivereyFragment#newInstance} factory method to
-- * create an instance of this fragment.
-- */
--public class WaitingDelivereyFragment extends Fragment {
--
--    // TODO: Rename parameter arguments, choose names that match
--    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
--    private static final String ARG_PARAM1 = "param1";
--    private static final String ARG_PARAM2 = "param2";
--
--    // TODO: Rename and change types of parameters
--    private String mParam1;
--    private String mParam2;
--
--    public WaitingDelivereyFragment() {
--        // Required empty public constructor
--    }
--
--    /**
--     * Use this factory method to create a new instance of
--     * this fragment using the provided parameters.
--     *
--     * @param param1 Parameter 1.
--     * @param param2 Parameter 2.
--     * @return A new instance of fragment DelivereyFragment.
--     */
--    // TODO: Rename and change types and number of parameters
--    public static WaitingDelivereyFragment newInstance(String param1, String param2) {
--        WaitingDelivereyFragment fragment = new WaitingDelivereyFragment();
--        Bundle args = new Bundle();
--        args.putString(ARG_PARAM1, param1);
--        args.putString(ARG_PARAM2, param2);
--        fragment.setArguments(args);
--        return fragment;
--    }
--
--    @Override
--    public void onCreate(Bundle savedInstanceState) {
--        super.onCreate(savedInstanceState);
--        if (getArguments() != null) {
--            mParam1 = getArguments().getString(ARG_PARAM1);
--            mParam2 = getArguments().getString(ARG_PARAM2);
--        }
--    }
--
--    @Override
--    public View onCreateView(LayoutInflater inflater, ViewGroup container,
--                             Bundle savedInstanceState) {
--        // Inflate the layout for this fragment
--        return inflater.inflate(R.layout.fragment_deliverey, container, false);
--    }
--}
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM_[Changes]/shelved.patch
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM_[Changes]/shelved.patch
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM_[Changes]/shelved.patch	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,1532 +0,0 @@
--Index: app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.ui.Cart;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.adapter.StoreCartAdapter;\r\nimport com.example.agrimart.data.model.Cart;\r\nimport com.example.agrimart.viewmodel.CartFragmentViewModel;\r\n\r\nimport java.util.List;\r\n\r\npublic class CartFragment extends Fragment {\r\n    private RecyclerView rvCarts;\r\n    private StoreCartAdapter storeCartAdapter;\r\n    private CartFragmentViewModel viewModel;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_cart, container, false);\r\n\r\n        // Cập nhật màu status bar\r\n        if (getActivity() != null) {\r\n            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        // Khởi tạo RecyclerView\r\n        rvCarts = view.findViewById(R.id.rv_cart);\r\n        rvCarts.setLayoutManager(new LinearLayoutManager(requireActivity()));\r\n\r\n        // Khởi tạo ViewModel\r\n        viewModel = new CartFragmentViewModel();\r\n\r\n\r\n\r\n        // Lấy dữ liệu từ Firestore và cập nhật RecyclerView\r\n        viewModel.getStoreCartsByUserId(new CartFragmentViewModel.OnDataFetchedListener() {\r\n            @Override\r\n            public void onDataFetched(List<Cart> storeCarts) {\r\n                // Cập nhật RecyclerView với danh sách StoreCart\r\n                storeCartAdapter = new StoreCartAdapter(storeCarts);\r\n                rvCarts.setAdapter(storeCartAdapter);\r\n            }\r\n\r\n            @Override\r\n            public void onError(String errorMessage) {\r\n                // Xử lý lỗi nếu không lấy được dữ liệu\r\n                Toast.makeText(getContext(), errorMessage, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java b/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java
----- a/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--+++ b/app/src/main/java/com/example/agrimart/ui/Cart/CartFragment.java	(date 1731470593311)
--@@ -1,6 +1,7 @@
-- package com.example.agrimart.ui.Cart;
-- 
-- import android.os.Bundle;
--+import android.util.Log;
-- import android.view.LayoutInflater;
-- import android.view.View;
-- import android.view.ViewGroup;
--@@ -42,13 +43,13 @@
-- 
-- 
-- 
---        // Lấy dữ liệu từ Firestore và cập nhật RecyclerView
--         viewModel.getStoreCartsByUserId(new CartFragmentViewModel.OnDataFetchedListener() {
--             @Override
--             public void onDataFetched(List<Cart> storeCarts) {
--                 // Cập nhật RecyclerView với danh sách StoreCart
--                 storeCartAdapter = new StoreCartAdapter(storeCarts);
--                 rvCarts.setAdapter(storeCartAdapter);
--+
--             }
-- 
--             @Override
--@@ -58,6 +59,8 @@
--             }
--         });
-- 
--+
--+
--         return view;
--     }
-- }
--Index: app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.data.model.Cart;\r\nimport com.example.agrimart.data.model.ProductCart;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.firestore.WriteBatch;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.Map;\r\n\r\npublic class CartFragmentViewModel extends ViewModel {\r\n    private final FirebaseAuth auth;\r\n    private final FirebaseFirestore firestore;\r\n    private String userId;\r\n\r\n    // Constructor\r\n    public CartFragmentViewModel() {\r\n        this.auth = FirebaseAuth.getInstance();\r\n        this.firestore = FirebaseFirestore.getInstance();\r\n    }\r\n\r\n    // Hàm để lấy danh sách các StoreCart theo userId, sắp xếp theo ngày\r\n    public void getStoreCartsByUserId(final OnDataFetchedListener listener) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId) // Tìm các StoreCart có userId trùng với tham số\r\n                .orderBy(\"updatedAt\", Query.Direction.DESCENDING) // Sắp xếp theo updatedAt giảm dần\r\n                .get() // Lấy dữ liệu\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Cart> storeCartList = new ArrayList<>();\r\n                        for (DocumentSnapshot document : task.getResult()) {\r\n                            Cart storeCart = document.toObject(Cart.class);\r\n                            if (storeCart != null) {\r\n                                storeCartList.add(storeCart);\r\n                            }\r\n                        }\r\n                        // Sau khi lấy danh sách StoreCart, tiếp tục truy vấn thông tin sản phẩm tương ứng\r\n                        fetchProductDetailsAndStore(storeCartList, listener);\r\n                    } else {\r\n                        Log.e(\"CartFragmentViewModel\", \"Failed to fetch data:\" + task.getException().getMessage());\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n    // Hàm để lấy thông tin sản phẩm từ productId\r\n    private void fetchProductDetailsAndStore(List<Cart> storeCartList, final OnDataFetchedListener listener) {\r\n        List<Cart> updatedStoreCartList = new ArrayList<>();\r\n        int[] remainingRequests = {storeCartList.size()}; // Đếm số yêu cầu cần xử lý\r\n\r\n        for (Cart storeCart : storeCartList) {\r\n            List<Product> products = storeCart.getProducts(); // Lấy danh sách sản phẩm hiện có trong storeCart\r\n            int[] productRequests = {products.size()}; // Đếm yêu cầu lấy thông tin cho từng sản phẩm\r\n\r\n            for (Product product : products) {\r\n                firestore.collection(\"products\")\r\n                        .document(product.getProduct_id())\r\n                        .get()\r\n                        .addOnCompleteListener(productTask -> {\r\n                            if (productTask.isSuccessful()) {\r\n                                DocumentSnapshot productDoc = productTask.getResult();\r\n                                if (productDoc.exists()) {\r\n                                    // Cập nhật thông tin trực tiếp vào đối tượng Product hiện có\r\n                                    product.setName(productDoc.getString(\"name\"));\r\n                                    product.setPrice(productDoc.getDouble(\"price\"));\r\n                                    product.setImages((List<String>) productDoc.get(\"images\"));\r\n                                }\r\n                            } else {\r\n                                listener.onError(\"Lấy thông tin sản phẩm thất bại: \" + productTask.getException().getMessage());\r\n                            }\r\n\r\n                            // Kiểm tra nếu tất cả sản phẩm đã được xử lý\r\n                            productRequests[0]--;\r\n                            if (productRequests[0] == 0) {\r\n                                // Khi tất cả sản phẩm đã được lấy, tiến hành lấy thông tin cửa hàng\r\n                                firestore.collection(\"users\")  // Collection \"users\" chứa thông tin cửa hàng\r\n                                        .document(storeCart.getStoreId())\r\n                                        .get()\r\n                                        .addOnCompleteListener(userTask -> {\r\n                                            if (userTask.isSuccessful()) {\r\n                                                DocumentSnapshot storeDoc = userTask.getResult();\r\n                                                if (storeDoc.exists()) {\r\n                                                    storeCart.setStore_name(storeDoc.getString(\"store_name\"));\r\n                                                }\r\n                                            } else {\r\n                                                listener.onError(\"Lấy thông tin cửa hàng thất bại: \" + userTask.getException().getMessage());\r\n                                            }\r\n\r\n                                            // Thêm storeCart đã cập nhật vào danh sách kết quả\r\n                                            updatedStoreCartList.add(storeCart);\r\n\r\n                                            // Giảm đếm remainingRequests và kiểm tra nếu tất cả storeCart đã hoàn thành\r\n                                            remainingRequests[0]--;\r\n                                            if (remainingRequests[0] == 0) {\r\n                                                listener.onDataFetched(updatedStoreCartList);\r\n                                            }\r\n                                        });\r\n                            }\r\n                        });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public void updateProductQuantityInFirebase(String productId, int newQuantity) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful() && !task.getResult().isEmpty()) {\r\n                        DocumentSnapshot document = task.getResult().getDocuments().get(0);\r\n                        Cart storeCart = document.toObject(Cart.class);\r\n\r\n                        if (storeCart != null) {\r\n                            List<ProductCart> updatedProductList = new ArrayList<>();\r\n                            boolean productFound = false;\r\n\r\n                            for (Product product : storeCart.getProducts()) {\r\n                                int quantity = product.getProduct_id().equals(productId) ? newQuantity : product.getQuantity();\r\n                                updatedProductList.add(new ProductCart(product.getProduct_id(), quantity));\r\n\r\n                                if (product.getProduct_id().equals(productId)) {\r\n                                    productFound = true;\r\n                                }\r\n                            }\r\n\r\n                            if (productFound) {\r\n                                storeCart.setProductCart(updatedProductList);\r\n\r\n                                firestore.collection(\"cart\")\r\n                                        .document(document.getId())\r\n                                        .update(\"products\", storeCart.getProductCart())\r\n                                        .addOnSuccessListener(aVoid -> Log.d(\"Firebase\", \"Giỏ hàng đã được cập nhật.\"))\r\n                                        .addOnFailureListener(e -> Log.e(\"Firebase\", \"Lỗi khi cập nhật giỏ hàng: \" + e.getMessage()));\r\n                            } else {\r\n                                Log.e(\"Firebase\", \"Không tìm thấy sản phẩm trong giỏ hàng.\");\r\n                            }\r\n                        }\r\n                    } else {\r\n                        Log.e(\"Firebase\", \"Không tìm thấy giỏ hàng hoặc có lỗi xảy ra: \" + (task.getException() != null ? task.getException().getMessage() : \"\"));\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n\r\n    public void addProductToCart(String storeId, Product productToAdd) {\r\n        userId = auth.getCurrentUser().getUid();\r\n\r\n        // Query the user's cart based on userId and storeId\r\n        firestore.collection(\"cart\")\r\n                .whereEqualTo(\"userId\", userId)\r\n                .whereEqualTo(\"storeId\", storeId)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        if (!task.getResult().isEmpty()) {\r\n                            // Retrieve the existing cart if available\r\n                            DocumentSnapshot document = task.getResult().getDocuments().get(0);\r\n                            Cart storeCart = document.toObject(Cart.class);\r\n\r\n                            if (storeCart != null) {\r\n                                List<Product> products = storeCart.getProducts();\r\n                                List<ProductCart> productCarts = new ArrayList<>();\r\n\r\n                                if (products == null) {\r\n                                    products = new ArrayList<>(); // Initialize if null\r\n                                }\r\n\r\n                                // Check if the product already exists in the cart\r\n                                boolean productExists = false;\r\n                                for (Product product : products) {\r\n                                    ProductCart pro = new ProductCart();\r\n                                    pro.setProduct_id(product.getProduct_id());\r\n                                    pro.setQuantity(product.getQuantity());\r\n                                    if (product.getProduct_id().equals(productToAdd.getProduct_id())) {\r\n                                        productExists = true;\r\n                                        pro.setQuantity(product.getQuantity() + 1);\r\n                                    }\r\n                                    productCarts.add(pro);\r\n                                }\r\n\r\n                                // If the product doesn't exist, add it as a new product\r\n                                if (!productExists) {\r\n                                    ProductCart pro = new ProductCart();\r\n                                    pro.setProduct_id(productToAdd.getProduct_id());\r\n                                    pro.setQuantity(1);\r\n                                    productCarts.add(pro);\r\n                                }\r\n\r\n                                storeCart.setProduct(products); // Update the cart with the new product list\r\n                                String updatedAt = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\", Locale.getDefault()).format(new Date());\r\n                                storeCart.setUpdatedAt(updatedAt); // Update the timestamp\r\n\r\n                                // Update Firestore\r\n                                firestore.collection(\"cart\")\r\n                                        .document(document.getId())\r\n                                        .update(\r\n                                                \"products\", productCarts,\r\n                                                \"updatedAt\", updatedAt\r\n                                        )\r\n                                        .addOnSuccessListener(aVoid -> Log.d(\"Firebase\", \"Product has been added to the cart.\"))\r\n                                        .addOnFailureListener(e -> Log.e(\"Firebase\", \"Error adding product to cart: \" + e.getMessage()));\r\n                            }\r\n                        } else {\r\n                            // Define a new cart\r\n                            Map<String, Object> newCart = new HashMap<>();\r\n                            newCart.put(\"userId\", userId);\r\n                            newCart.put(\"storeId\", storeId);\r\n                            String updatedAt = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\", Locale.getDefault()).format(new Date());\r\n                            newCart.put(\"updatedAt\", updatedAt);\r\n\r\n                            // Create the initial list of products\r\n                            List<Map<String, Object>> productCarts = new ArrayList<>();\r\n                            Map<String, Object> productData = new HashMap<>();\r\n                            productData.put(\"product_id\", productToAdd.getProduct_id());\r\n                            productData.put(\"quantity\", 1);\r\n                            productCarts.add(productData);\r\n                            newCart.put(\"products\", productCarts);\r\n\r\n                            // Add the new cart to Firestore\r\n                            firestore.collection(\"cart\")\r\n                                    .add(newCart)\r\n                                    .addOnSuccessListener(documentReference -> Log.d(\"Firebase\", \"New cart has been created.\"))\r\n                                    .addOnFailureListener(e -> Log.e(\"Firebase\", \"Error creating new cart: \" + e.getMessage()));\r\n                        }\r\n                    } else {\r\n                        Log.e(\"Firebase\", \"Error retrieving cart: \" + task.getException());\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n    // Listener để callback khi lấy dữ liệu xong\r\n    public interface OnDataFetchedListener {\r\n        void onDataFetched(List<Cart> storeCarts);\r\n\r\n        void onError(String errorMessage);\r\n    }\r\n\r\n\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java
----- a/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--+++ b/app/src/main/java/com/example/agrimart/viewmodel/CartFragmentViewModel.java	(date 1731470889891)
--@@ -11,7 +11,6 @@
-- import com.google.firebase.firestore.FirebaseFirestore;
-- import com.google.firebase.firestore.DocumentSnapshot;
-- import com.google.firebase.firestore.Query;
---import com.google.firebase.firestore.WriteBatch;
-- 
-- import java.text.SimpleDateFormat;
-- import java.util.ArrayList;
--@@ -20,6 +19,7 @@
-- import java.util.List;
-- import java.util.Locale;
-- import java.util.Map;
--+import java.util.concurrent.atomic.AtomicInteger;
-- 
-- public class CartFragmentViewModel extends ViewModel {
--     private final FirebaseAuth auth;
--@@ -37,9 +37,9 @@
--         userId = auth.getCurrentUser().getUid();
-- 
--         firestore.collection("cart")
---                .whereEqualTo("userId", userId) // Tìm các StoreCart có userId trùng với tham số
---                .orderBy("updatedAt", Query.Direction.DESCENDING) // Sắp xếp theo updatedAt giảm dần
---                .get() // Lấy dữ liệu
--+                .whereEqualTo("userId", userId)
--+                .orderBy("updatedAt", Query.Direction.DESCENDING)
--+                .get()
--                 .addOnCompleteListener(task -> {
--                     if (task.isSuccessful()) {
--                         List<Cart> storeCartList = new ArrayList<>();
--@@ -47,9 +47,10 @@
--                             Cart storeCart = document.toObject(Cart.class);
--                             if (storeCart != null) {
--                                 storeCartList.add(storeCart);
--+
--                             }
--                         }
---                        // Sau khi lấy danh sách StoreCart, tiếp tục truy vấn thông tin sản phẩm tương ứng
--+
--                         fetchProductDetailsAndStore(storeCartList, listener);
--                     } else {
--                         Log.e("CartFragmentViewModel", "Failed to fetch data:" + task.getException().getMessage());
--@@ -58,14 +59,16 @@
--     }
-- 
-- 
--+
--     // Hàm để lấy thông tin sản phẩm từ productId
--+
--     private void fetchProductDetailsAndStore(List<Cart> storeCartList, final OnDataFetchedListener listener) {
--         List<Cart> updatedStoreCartList = new ArrayList<>();
---        int[] remainingRequests = {storeCartList.size()}; // Đếm số yêu cầu cần xử lý
--+        AtomicInteger remainingRequests = new AtomicInteger(storeCartList.size());  // Use AtomicInteger to handle concurrency
-- 
--         for (Cart storeCart : storeCartList) {
---            List<Product> products = storeCart.getProducts(); // Lấy danh sách sản phẩm hiện có trong storeCart
---            int[] productRequests = {products.size()}; // Đếm yêu cầu lấy thông tin cho từng sản phẩm
--+            List<Product> products = storeCart.getProducts();
--+            AtomicInteger productRequests = new AtomicInteger(products.size());  // Track product requests
-- 
--             for (Product product : products) {
--                 firestore.collection("products")
--@@ -75,20 +78,18 @@
--                             if (productTask.isSuccessful()) {
--                                 DocumentSnapshot productDoc = productTask.getResult();
--                                 if (productDoc.exists()) {
---                                    // Cập nhật thông tin trực tiếp vào đối tượng Product hiện có
--                                     product.setName(productDoc.getString("name"));
--                                     product.setPrice(productDoc.getDouble("price"));
--                                     product.setImages((List<String>) productDoc.get("images"));
--+                                    product.setStoreId(productDoc.getString("storeId"));
--                                 }
--                             } else {
--                                 listener.onError("Lấy thông tin sản phẩm thất bại: " + productTask.getException().getMessage());
--                             }
-- 
---                            // Kiểm tra nếu tất cả sản phẩm đã được xử lý
---                            productRequests[0]--;
---                            if (productRequests[0] == 0) {
---                                // Khi tất cả sản phẩm đã được lấy, tiến hành lấy thông tin cửa hàng
---                                firestore.collection("users")  // Collection "users" chứa thông tin cửa hàng
--+                            // Decrement product request counter
--+                            if (productRequests.decrementAndGet() == 0) {
--+                                firestore.collection("users")
--                                         .document(storeCart.getStoreId())
--                                         .get()
--                                         .addOnCompleteListener(userTask -> {
--@@ -101,12 +102,10 @@
--                                                 listener.onError("Lấy thông tin cửa hàng thất bại: " + userTask.getException().getMessage());
--                                             }
-- 
---                                            // Thêm storeCart đã cập nhật vào danh sách kết quả
--                                             updatedStoreCartList.add(storeCart);
-- 
---                                            // Giảm đếm remainingRequests và kiểm tra nếu tất cả storeCart đã hoàn thành
---                                            remainingRequests[0]--;
---                                            if (remainingRequests[0] == 0) {
--+                                            // Decrement the remaining request counter
--+                                            if (remainingRequests.decrementAndGet() == 0) {
--                                                 listener.onDataFetched(updatedStoreCartList);
--                                             }
--                                         });
--@@ -117,11 +116,14 @@
--     }
-- 
-- 
---    public void updateProductQuantityInFirebase(String productId, int newQuantity) {
--+
--+
--+    public void updateProductQuantityInFirebase(String productId, String storeId, int newQuantity) {
--         userId = auth.getCurrentUser().getUid();
-- 
--         firestore.collection("cart")
--                 .whereEqualTo("userId", userId)
--+                .whereEqualTo("storeId", storeId)
--                 .get()
--                 .addOnCompleteListener(task -> {
--                     if (task.isSuccessful() && !task.getResult().isEmpty()) {
--Index: app/src/main/java/com/example/agrimart/adapter/ProductCartAdapter.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.adapter;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.lifecycle.ViewModel;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.model.Cart;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.viewmodel.CartFragmentViewModel;\r\nimport com.google.android.material.imageview.ShapeableImageView;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.List;\r\n\r\npublic class ProductCartAdapter extends RecyclerView.Adapter<ProductCartAdapter.ProductViewHolder> {\r\n\r\n    private List<Product> productList;\r\n\r\n    public ProductCartAdapter(List<Product> productList) {\r\n        this.productList = productList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ProductViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.item_cart_product, parent, false);\r\n        return new ProductViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ProductViewHolder holder, int position) {\r\n        Product product = productList.get(position);\r\n        holder.tvProductName.setText(product.getName());\r\n        holder.quantity.setText(String.valueOf(product.getQuantity()));\r\n        holder.tvPrice.setText(String.format(\"%,.0f đ\", product.getPrice()));\r\n        CartFragmentViewModel viewModel = new CartFragmentViewModel();\r\n\r\n        Glide.with(holder.itemView.getContext())\r\n                .load(product.getImages().get(0))\r\n                .placeholder(R.drawable.placeholder_image)\r\n                .error(R.drawable.error_image)\r\n                .into(holder.img_product);\r\n\r\n        // Xử lý khi bấm nút giảm số lượng\r\n        holder.btn_decrease.setOnClickListener(v -> {\r\n            if (product.getQuantity() > 1) { // Đảm bảo số lượng không giảm dưới 1\r\n                product.setQuantity(product.getQuantity() - 1);\r\n                holder.quantity.setText(String.valueOf(product.getQuantity())); // Cập nhật hiển thị số lượng\r\n                viewModel.updateProductQuantityInFirebase(product.getProduct_id(), product.getQuantity());\r\n            }\r\n        });\r\n\r\n        // Xử lý khi bấm nút tăng số lượng\r\n        holder.btn_increase.setOnClickListener(v -> {\r\n            product.setQuantity(product.getQuantity() + 1);\r\n            holder.quantity.setText(String.valueOf(product.getQuantity())); // Cập nhật hiển thị số lượng\r\n            viewModel.updateProductQuantityInFirebase(product.getProduct_id(), product.getQuantity());\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return productList.size();\r\n    }\r\n\r\n    static class ProductViewHolder extends RecyclerView.ViewHolder {\r\n        TextView tvProductName, tvPrice, quantity;\r\n        ShapeableImageView img_product;\r\n        ImageView btn_decrease, btn_increase;\r\n\r\n        public ProductViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            tvProductName = itemView.findViewById(R.id.tv_product_name);\r\n            tvPrice = itemView.findViewById(R.id.price);\r\n            img_product = itemView.findViewById(R.id.img_product);\r\n            quantity = itemView.findViewById(R.id.cart_quantity_product);\r\n            btn_decrease = itemView.findViewById(R.id.btn_decrease);\r\n            btn_increase = itemView.findViewById(R.id.btn_increase);\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/adapter/ProductCartAdapter.java b/app/src/main/java/com/example/agrimart/adapter/ProductCartAdapter.java
----- a/app/src/main/java/com/example/agrimart/adapter/ProductCartAdapter.java	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--+++ b/app/src/main/java/com/example/agrimart/adapter/ProductCartAdapter.java	(date 1731424512970)
--@@ -57,7 +57,7 @@
--             if (product.getQuantity() > 1) { // Đảm bảo số lượng không giảm dưới 1
--                 product.setQuantity(product.getQuantity() - 1);
--                 holder.quantity.setText(String.valueOf(product.getQuantity())); // Cập nhật hiển thị số lượng
---                viewModel.updateProductQuantityInFirebase(product.getProduct_id(), product.getQuantity());
--+                viewModel.updateProductQuantityInFirebase(product.getProduct_id(), product.getStoreId() ,product.getQuantity());
--             }
--         });
-- 
--@@ -65,7 +65,7 @@
--         holder.btn_increase.setOnClickListener(v -> {
--             product.setQuantity(product.getQuantity() + 1);
--             holder.quantity.setText(String.valueOf(product.getQuantity())); // Cập nhật hiển thị số lượng
---            viewModel.updateProductQuantityInFirebase(product.getProduct_id(), product.getQuantity());
--+            viewModel.updateProductQuantityInFirebase(product.getProduct_id(),product.getStoreId(), product.getQuantity());
--         });
--     }
-- 
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM__Changes_1.xml	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--+++ /dev/null	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1" date="1730802371626" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/5/2024 5:25 PM [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_5_2024_5_25_PM_[Changes]1/shelved.patch	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--+++ /dev/null	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--@@ -1,1295 +0,0 @@
---Index: app/src/main/java/com/example/agrimart/data/model/Product.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.data.model;\r\n\r\npublic class Product {\r\n    private String image;\r\n    private String name;\r\n    private double price;\r\n    private String active;\r\n\r\n    public Product() {\r\n    }\r\n\r\n    public Product(String image, String name, double price) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n    }\r\n\r\n    public Product(String image, String name, double price, String active) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.active = active;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public String getActive() {\r\n        return active;\r\n    }\r\n\r\n    public void setActive(String active) {\r\n        this.active = active;\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/Product.java b/app/src/main/java/com/example/agrimart/data/model/Product.java
------ a/app/src/main/java/com/example/agrimart/data/model/Product.java	
---+++ b/app/src/main/java/com/example/agrimart/data/model/Product.java	
---@@ -1,33 +1,57 @@
--- package com.example.agrimart.data.model;
--- 
----public class Product {
----    private String image;
---+import java.io.Serializable;
---+import java.util.Collections;
---+import java.util.List;
---+
---+public class Product implements Serializable {
---+    private String productId;
---     private String name;
---     private double price;
---     private String active;
---+    private String category;
---+    private String description;
---+    private int height;
---+    private List<String> images;
---+    private int length;
---+    private int quantity;
---+    private String storeId;
---+    private int weight;
---+    private int width;
---+    private int soldQuantity;
--- 
---     public Product() {
---     }
--- 
----    public Product(String image, String name, double price) {
----        this.image = image;
---+    public Product(String productId, String name, double price, String active, String category, String description, int height, List<String> images, int length, int quantity, String storeId, int weight, int width, int soldQuantity) {
---+        this.productId = productId;
---         this.name = name;
---         this.price = price;
---+        this.active = active;
---+        this.category = category;
---+        this.description = description;
---+        this.height = height;
---+        this.images = images;
---+        this.length = length;
---+        this.quantity = quantity;
---+        this.storeId = storeId;
---+        this.weight = weight;
---+        this.width = width;
---+        this.soldQuantity = soldQuantity;
---     }
--- 
----    public Product(String image, String name, double price, String active) {
----        this.image = image;
---+    public Product(String imageUrl, String name, double price) {
---+        this.images = Collections.singletonList(imageUrl);
---         this.name = name;
---         this.price = price;
----        this.active = active;
---     }
--- 
----    public String getImage() {
----        return image;
---+    public String getProductId() {
---+        return productId;
---     }
--- 
----    public void setImage(String image) {
----        this.image = image;
---+    public void setProductId(String productId) {
---+        this.productId = productId;
---     }
--- 
---     public String getName() {
---@@ -53,4 +77,84 @@
---     public void setActive(String active) {
---         this.active = active;
---     }
---+
---+    public String getCategory() {
---+        return category;
---+    }
---+
---+    public void setCategory(String category) {
---+        this.category = category;
---+    }
---+
---+    public String getDescription() {
---+        return description;
---+    }
---+
---+    public void setDescription(String description) {
---+        this.description = description;
---+    }
---+
---+    public int getHeight() {
---+        return height;
---+    }
---+
---+    public void setHeight(int height) {
---+        this.height = height;
---+    }
---+
---+    public List<String> getImages() {
---+        return images;
---+    }
---+
---+    public void setImages(List<String> images) {
---+        this.images = images;
---+    }
---+
---+    public int getLength() {
---+        return length;
---+    }
---+
---+    public void setLength(int length) {
---+        this.length = length;
---+    }
---+
---+    public int getQuantity() {
---+        return quantity;
---+    }
---+
---+    public void setQuantity(int quantity) {
---+        this.quantity = quantity;
---+    }
---+
---+    public String getStoreId() {
---+        return storeId;
---+    }
---+
---+    public void setStoreId(String storeId) {
---+        this.storeId = storeId;
---+    }
---+
---+    public int getWeight() {
---+        return weight;
---+    }
---+
---+    public void setWeight(int weight) {
---+        this.weight = weight;
---+    }
---+
---+    public int getWidth() {
---+        return width;
---+    }
---+
---+    public void setWidth(int width) {
---+        this.width = width;
---+    }
---+
---+    public int getSoldQuantity() {
---+        return soldQuantity;
---+    }
---+
---+    public void setSoldQuantity(int soldQuantity) {
---+        this.soldQuantity = soldQuantity;
---+    }
--- }
---\ No newline at end of file
---Index: app/src/main/res/layout/item_product.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\r\n\r\n    <data>\r\n        <variable\r\n            name=\"product\"\r\n            type=\"com.example.agrimart.data.model.Product\" />\r\n    </data>\r\n\r\n    <RelativeLayout\r\n        android:layout_width=\"173dp\"\r\n        android:background=\"@drawable/bg_product\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"5dp\"\r\n        android:layout_marginTop=\"5dp\">\r\n\r\n        <FrameLayout\r\n            android:id=\"@+id/frame_layout\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"124dp\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/imgPro\"\r\n                android:layout_width=\"99dp\"\r\n                android:layout_height=\"79dp\"\r\n                android:scaleType=\"centerCrop\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/banana\" />\r\n        </FrameLayout>\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvName\"\r\n            android:layout_width=\"129dp\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/frame_layout\"\r\n            android:layout_marginTop=\"12dp\"\r\n            android:textSize=\"16sp\"\r\n            android:textColor=\"#333333\"\r\n            android:letterSpacing=\"0.01\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:ellipsize=\"end\"\r\n            android:maxLines=\"1\"\r\n            android:textStyle=\"bold\"/>\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvPrice\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/tvName\"\r\n            android:textSize=\"18sp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:textColor=\"#F44336\"\r\n            android:fontFamily=\"@font/gabarito\"\r\n            android:letterSpacing=\"0.01\"/>\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/imageButton\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@color/transparent\"\r\n            android:layout_below=\"@id/tvName\"\r\n            android:layout_alignParentEnd=\"true\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:layout_marginEnd=\"16dp\"\r\n            android:layout_marginBottom=\"10dp\"\r\n            app:srcCompat=\"@drawable/ic_plus_1\" />\r\n\r\n    </RelativeLayout>\r\n</layout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/item_product.xml b/app/src/main/res/layout/item_product.xml
------ a/app/src/main/res/layout/item_product.xml	
---+++ b/app/src/main/res/layout/item_product.xml	
---@@ -22,10 +22,10 @@
--- 
---             <ImageView
---                 android:id="@+id/imgPro"
----                android:layout_width="99dp"
----                android:layout_height="79dp"
----                android:scaleType="centerCrop"
---+                android:layout_width="match_parent"
---+                android:layout_height="139dp"
---                 android:layout_gravity="center"
---+                android:scaleType="centerCrop"
---                 android:src="@drawable/banana" />
---         </FrameLayout>
--- 
---Index: app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Store;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.data.model.ProductRequest;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class StoreActivity extends AppCompatActivity {\r\n\r\n    private ImageView storeAvatar;\r\n    private TextView storeName, storeRating, storeAddress;\r\n    private RecyclerView rvProducts;\r\n    private ProductAdapter productAdapter;\r\n    private List<Product> productList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_store);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));\r\n        }\r\n\r\n        storeAvatar = findViewById(R.id.store_avatar);\r\n        storeName = findViewById(R.id.store_name);\r\n        storeRating = findViewById(R.id.store_rating);\r\n        storeAddress = findViewById(R.id.store_address);\r\n        rvProducts = findViewById(R.id.rvProducts);\r\n\r\n\r\n        productList = new ArrayList<>();\r\n\r\n\r\n        productAdapter = new ProductAdapter(productList, product -> {\r\n\r\n        });\r\n        rvProducts.setLayoutManager(new GridLayoutManager(this, 2));\r\n        rvProducts.setAdapter(productAdapter);\r\n        loadData();\r\n    }\r\n    private void loadData() {\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (user != null) {\r\n            String uid = user.getUid();\r\n\r\n            FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n            db.collection(\"products\")\r\n                    .whereEqualTo(\"storeId\", uid)\r\n                    .get()\r\n                    .addOnCompleteListener(task -> {\r\n                        if (task.isSuccessful()) {\r\n\r\n                            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                                ProductRequest product = document.toObject(ProductRequest.class);\r\n                                productList.add(\r\n                                        new Product(\r\n                                                product.getImageUrls().isEmpty() ? \"https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/notfound.jpg?alt=media&token=40e61714-5a10-4352-918c-7e5e2643a1fe\" : product.getImageUrls().get(0),\r\n                                                product.getName(),\r\n                                                product.getPrice()\r\n                                        )\r\n                                );\r\n                            }\r\n                            productAdapter.notifyDataSetChanged();\r\n                        }\r\n                    });\r\n\r\n        }\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java b/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java	
---+++ b/app/src/main/java/com/example/agrimart/ui/Store/StoreActivity.java	
---@@ -3,9 +3,9 @@
--- import android.os.Bundle;
--- import android.view.Window;
--- import android.view.WindowManager;
---+import android.widget.ImageButton;
--- import android.widget.ImageView;
--- import android.widget.TextView;
----
--- import androidx.activity.EdgeToEdge;
--- import androidx.appcompat.app.AppCompatActivity;
--- import androidx.core.content.ContextCompat;
---@@ -14,16 +14,14 @@
--- import androidx.core.view.WindowInsetsCompat;
--- import androidx.recyclerview.widget.GridLayoutManager;
--- import androidx.recyclerview.widget.RecyclerView;
----
---+import com.bumptech.glide.Glide;
--- import com.example.agrimart.R;
--- import com.example.agrimart.adapter.ProductAdapter;
--- import com.example.agrimart.data.model.Product;
--- import com.example.agrimart.data.model.ProductRequest;
----import com.google.firebase.auth.FirebaseAuth;
----import com.google.firebase.auth.FirebaseUser;
---+import com.example.agrimart.data.model.User;
--- import com.google.firebase.firestore.FirebaseFirestore;
--- import com.google.firebase.firestore.QueryDocumentSnapshot;
----
--- import java.util.ArrayList;
--- import java.util.List;
--- 
---@@ -40,6 +38,14 @@
---         super.onCreate(savedInstanceState);
---         EdgeToEdge.enable(this);
---         setContentView(R.layout.activity_store);
---+        setupWindowInsets();
---+
---+        initializeViews();
---+        setupRecyclerView();
---+        loadStoreData();
---+    }
---+
---+    private void setupWindowInsets() {
---         ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {
---             Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
---             v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
---@@ -51,50 +57,84 @@
---             window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);
---             window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));
---         }
---+    }
--- 
---+    private void initializeViews() {
---         storeAvatar = findViewById(R.id.store_avatar);
---         storeName = findViewById(R.id.store_name);
---         storeRating = findViewById(R.id.store_rating);
---         storeAddress = findViewById(R.id.store_address);
---         rvProducts = findViewById(R.id.rvProducts);
---+    }
--- 
----
---+    private void setupRecyclerView() {
---         productList = new ArrayList<>();
----
----
---         productAdapter = new ProductAdapter(productList, product -> {
----
---+            // Xử lý khi nhấn vào sản phẩm (nếu cần)
---         });
---         rvProducts.setLayoutManager(new GridLayoutManager(this, 2));
---         rvProducts.setAdapter(productAdapter);
----        loadData();
---+    }
---+
---+    private void loadStoreData() {
---+        String storeId = getIntent().getStringExtra("storeId");
---+        if (storeId != null) {
---+            loadStoreInfo(storeId);
---+            loadProducts(storeId);
---+        }
---+    }
---+
---+    private void loadStoreInfo(String storeId) {
---+        FirebaseFirestore db = FirebaseFirestore.getInstance();
---+        db.collection("users")
---+                .document(storeId)
---+                .get()
---+                .addOnSuccessListener(documentSnapshot -> {
---+                    User store = documentSnapshot.toObject(User.class);
---+                    if (store != null) {
---+                        updateStoreInfo(store);
---+                    } else {
---+                        showError("Thông tin cửa hàng không hợp lệ.");
---+                    }
---+                })
---+                .addOnFailureListener(e -> {
---+                    showError("Không thể tải thông tin cửa hàng.");
---+                });
---+    }
---+
---+    private void updateStoreInfo(User store) {
---+        storeName.setText(store.getStoreName());
---+        storeAddress.setText(store.getStoreAddress() != null ? store.getStoreAddress().getStreet() : "Địa chỉ không khả dụng");
---+        Glide.with(this)
---+                .load(store.getStoreImage() != null && !store.getStoreImage().isEmpty() ? store.getStoreImage() : R.drawable.user)
---+                .placeholder(R.drawable.user)
---+                .error(R.drawable.user)
---+                .into(storeAvatar);
---     }
----    private void loadData() {
----        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
----        if (user != null) {
----            String uid = user.getUid();
--- 
----            FirebaseFirestore db = FirebaseFirestore.getInstance();
----            db.collection("products")
----                    .whereEqualTo("storeId", uid)
----                    .get()
----                    .addOnCompleteListener(task -> {
----                        if (task.isSuccessful()) {
----
----                            for (QueryDocumentSnapshot document : task.getResult()) {
----                                ProductRequest product = document.toObject(ProductRequest.class);
----                                productList.add(
----                                        new Product(
----                                                product.getImageUrls().isEmpty() ? "https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/notfound.jpg?alt=media&token=40e61714-5a10-4352-918c-7e5e2643a1fe" : product.getImageUrls().get(0),
----                                                product.getName(),
----                                                product.getPrice()
----                                        )
----                                );
----                            }
----                            productAdapter.notifyDataSetChanged();
----                        }
----                    });
---+    private void loadProducts(String storeId) {
---+        FirebaseFirestore db = FirebaseFirestore.getInstance();
---+        db.collection("products")
---+                .whereEqualTo("storeId", storeId)
---+                .get()
---+                .addOnSuccessListener(queryDocumentSnapshots -> {
---+                    for (QueryDocumentSnapshot document : queryDocumentSnapshots) {
---+                        ProductRequest productRequest = document.toObject(ProductRequest.class);
---+                        String imageUrl = productRequest.getImageUrls().isEmpty()
---+                                ? "https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/notfound.jpg?alt=media&token=40e61714-5a10-4352-918c-7e5e2643a1fe"
---+                                : productRequest.getImageUrls().get(0);
---+                        productList.add(new Product(imageUrl, productRequest.getName(), productRequest.getPrice()));
---+                    }
---+                    productAdapter.notifyDataSetChanged();
---+                })
---+                .addOnFailureListener(e -> {
---+                    showError("Không thể tải sản phẩm.");
---+                });
---+    }
--- 
----        }
----    }
----}
---\ No newline at end of file
---+    private void showError(String message) {
---+        storeName.setText(message);
---+        storeAddress.setText("");
---+        storeAvatar.setImageResource(R.drawable.user);
---+    }
---+}
---Index: app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.adapter;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.ItemProductBinding;\r\n\r\nimport java.util.List;\r\n\r\npublic class ProductAdapter extends RecyclerView.Adapter<ProductAdapter.MyViewHolder> {\r\n    private List<Product> products;\r\n    private OnItemClickListener listener;\r\n\r\n    public ProductAdapter(List<Product> products, OnItemClickListener listener) {\r\n        this.products = products;\r\n        this.listener = listener;\r\n    }\r\n\r\n    public interface OnItemClickListener {\r\n        void onItemClick(Product product);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        ItemProductBinding binding = ItemProductBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        return new MyViewHolder(binding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        Product product = products.get(position);\r\n        holder.bindData(product);\r\n        holder.itemView.setOnClickListener(v -> listener.onItemClick(product));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return products.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n        private final ItemProductBinding binding;\r\n\r\n        public MyViewHolder(@NonNull ItemProductBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n\r\n        public void bindData(Product product) {\r\n            binding.tvName.setText(product.getName());\r\n            binding.tvPrice.setText(String.valueOf(product.getPrice()));\r\n            Glide.with(binding.getRoot().getContext())\r\n                    .load(product.getImage())\r\n                    .into(binding.imgPro);\r\n            binding.executePendingBindings();\r\n        }\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java b/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java
------ a/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java	
---+++ b/app/src/main/java/com/example/agrimart/adapter/ProductAdapter.java	
---@@ -10,7 +10,9 @@
--- import com.example.agrimart.data.model.Product;
--- import com.example.agrimart.databinding.ItemProductBinding;
--- 
---+import java.text.NumberFormat;
--- import java.util.List;
---+import java.util.Locale;
--- 
--- public class ProductAdapter extends RecyclerView.Adapter<ProductAdapter.MyViewHolder> {
---     private List<Product> products;
---@@ -54,10 +56,20 @@
--- 
---         public void bindData(Product product) {
---             binding.tvName.setText(product.getName());
----            binding.tvPrice.setText(String.valueOf(product.getPrice()));
----            Glide.with(binding.getRoot().getContext())
----                    .load(product.getImage())
----                    .into(binding.imgPro);
---+
---+            NumberFormat format = NumberFormat.getCurrencyInstance(new Locale("vi", "VN"));
---+            binding.tvPrice.setText(format.format(product.getPrice()));
---+
---+            if (product.getImages() != null && !product.getImages().isEmpty()) {
---+                Glide.with(binding.getRoot().getContext())
---+                        .load(product.getImages().get(0))
---+                        .into(binding.imgPro);
---+            } else if (product.getImages() != null) {
---+                Glide.with(binding.getRoot().getContext())
---+                        .load(product.getImages())
---+                        .into(binding.imgPro);
---+            }
---+
---             binding.executePendingBindings();
---         }
---     }
---Index: app/src/main/res/layout/activity_product_detail.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main1\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.ProductPage.ProductDetailActivity\">\r\n    <RelativeLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:id=\"@+id/header\">\r\n\r\n        <ImageButton\r\n            android:id=\"@+id/btn_back\"\r\n            android:layout_width=\"32dp\"\r\n            android:layout_height=\"32dp\"\r\n            android:layout_marginStart=\"24dp\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:layout_marginBottom=\"8dp\"\r\n            android:background=\"@color/background_light\"\r\n            android:src=\"@drawable/chevron_left\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintHorizontal_bias=\"0.0\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            tools:ignore=\"MissingConstraints\"\r\n            android:backgroundTint=\"@color/white\"/>\r\n    </RelativeLayout>\r\n\r\n    <ScrollView\r\n        android:id=\"@+id/scrollView\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"4dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/header\"\r\n        tools:layout_editor_absoluteX=\"0dp\"\r\n        android:layout_below=\"@id/header\"\r\n        android:scrollbars=\"none\"\r\n        android:layout_above=\"@id/footer\">\r\n\r\n        <RelativeLayout\r\n            android:id=\"@+id/product_detail\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\">\r\n\r\n            <com.denzcoskun.imageslider.ImageSlider\r\n                android:id=\"@+id/product_image\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"250dp\"\r\n                android:background=\"@null\"\r\n                app:iss_auto_cycle=\"true\"\r\n                app:iss_period=\"1000\"\r\n                app:iss_title_background=\"@color/transparent\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_name\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"10dp\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"8dp\"\r\n                android:text=\"@string/product_name\"\r\n                android:layout_below=\"@+id/product_image\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"20sp\"\r\n                android:textAllCaps=\"true\"\r\n                android:textColor=\"@color/black\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/product_price\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"24dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"8dp\"\r\n                android:text=\"@string/price\"\r\n                android:layout_below=\"@+id/product_name\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:textSize=\"24sp\"\r\n                android:textColor=\"@android:color/holo_red_dark\"/>\r\n\r\n            <TextView\r\n                android:id=\"@+id/address\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"24dp\"\r\n                android:layout_marginEnd=\"24dp\"\r\n                android:layout_marginBottom=\"16dp\"\r\n                android:text=\"@string/address\"\r\n                android:layout_below=\"@+id/product_price\"\r\n                android:fontFamily=\"@font/circular_std\"\r\n                android:textSize=\"16sp\"\r\n                android:drawableStart=\"@drawable/location\"/>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/quantity\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/address\"\r\n                android:layout_marginStart=\"16dp\"\r\n                android:layout_marginBottom=\"10dp\">\r\n                <TextView\r\n                    android:id=\"@+id/btn_decrease\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"-\"\r\n                    android:textColor=\"#9E9E9E\"\r\n                    android:textSize=\"24sp\"\r\n                    android:padding=\"8dp\"\r\n                    android:gravity=\"center\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/tv_quantity\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"30dp\"\r\n                    android:layout_marginStart=\"8dp\"\r\n                    android:layout_marginEnd=\"8dp\"\r\n                    android:layout_marginBottom=\"8dp\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"1\"\r\n                    android:textSize=\"18sp\"\r\n                    android:textColor=\"#212121\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:background=\"@drawable/round_border\"/>\r\n\r\n                <TextView\r\n                    android:id=\"@+id/btn_increase\"\r\n                    android:layout_width=\"30dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"+\"\r\n                    android:textColor=\"#4CAF50\"\r\n                    android:textSize=\"24sp\"\r\n                    android:padding=\"8dp\"\r\n                    android:gravity=\"center\"/>\r\n            </LinearLayout>\r\n\r\n            <RelativeLayout\r\n                android:id=\"@+id/product_description\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/quantity\">\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:text=\"@string/description\"\r\n                    android:textSize=\"16sp\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:id=\"@+id/description_title\"\r\n                    android:textColor=\"@color/black\"/>\r\n\r\n                <TextView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:id=\"@+id/description\"\r\n                    android:layout_below=\"@+id/description_title\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginEnd=\"16dp\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:textSize=\"13sp\"\r\n                    android:text=\"@string/descriptions\"\r\n                    android:maxLines=\"3\"\r\n                    android:ellipsize=\"end\"/>\r\n\r\n                <ImageButton\r\n                    android:id=\"@+id/btn_expand\"\r\n                    android:layout_width=\"32dp\"\r\n                    android:layout_height=\"32dp\"\r\n                    android:layout_below=\"@+id/description\"\r\n                    android:layout_centerHorizontal=\"true\"\r\n                    android:layout_marginTop=\"8dp\"\r\n                    android:src=\"@drawable/down\"\r\n                    android:background=\"@color/transparent\"/>\r\n            </RelativeLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/shop_info\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/product_description\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <androidx.cardview.widget.CardView\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_margin=\"8dp\"\r\n                    android:background=\"@color/background_light\"\r\n                    app:cardElevation=\"0dp\">\r\n\r\n                    <LinearLayout\r\n                        android:id=\"@+id/store\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:orientation=\"horizontal\"\r\n                        android:padding=\"16dp\">\r\n\r\n                        <de.hdodenhof.circleimageview.CircleImageView\r\n                            android:id=\"@+id/shop_avatar\"\r\n                            android:layout_width=\"40dp\"\r\n                            android:layout_height=\"40dp\"\r\n                            android:src=\"@drawable/user\"\r\n                            app:civ_border_width=\"2dp\"\r\n                            app:civ_border_color=\"#FF000000\"\r\n                            android:layout_marginEnd=\"16dp\"/>\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/shop_name\"\r\n                            android:layout_width=\"wrap_content\"\r\n                            android:layout_height=\"wrap_content\"\r\n                            android:text=\"Tên người bán\"\r\n                            android:textSize=\"16sp\"\r\n                            android:textStyle=\"bold\"\r\n                            android:textColor=\"#000000\"/>\r\n                    </LinearLayout>\r\n                </androidx.cardview.widget.CardView>\r\n\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/rating\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/shop_info\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:orientation=\"horizontal\">\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:textSize=\"16sp\"\r\n                    android:text=\"Đánh giá sản phẩm\"\r\n                    android:fontFamily=\"@font/gabarito\"\r\n                    android:id=\"@+id/quantity_title\"\r\n                    android:textColor=\"@color/black\"/>\r\n\r\n                <RatingBar\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:rating=\"4.5\"\r\n                    style=\"?android:attr/ratingBarStyleIndicator\"\r\n                    android:progressTint=\"#FFCC01\"\r\n                    android:id=\"@+id/totalRating\"\r\n                    android:layout_marginStart=\"40dp\"/>\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:id=\"@+id/reviews\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@+id/rating\">\r\n\r\n                <de.hdodenhof.circleimageview.CircleImageView\r\n                    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n                    android:id=\"@+id/user_avatar\"\r\n                    android:layout_width=\"40dp\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:src=\"@drawable/user\"\r\n                    app:civ_border_width=\"2dp\"\r\n                    app:civ_border_color=\"#FF000000\"\r\n                    android:layout_marginStart=\"16dp\"\r\n                    android:layout_marginTop=\"16dp\"/>\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"0dp\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"vertical\"\r\n                    android:layout_weight=\"1\"\r\n                    android:padding=\"10dp\"\r\n                    android:id=\"@+id/user_rv\">\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_name\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:text=\"User name\"\r\n                        android:textStyle=\"bold\"\r\n                        android:textSize=\"16sp\"\r\n                        android:textColor=\"#000000\" />\r\n\r\n                    <RatingBar\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:rating=\"3\"\r\n                        style=\"?android:attr/ratingBarStyleIndicator\"\r\n                        android:progressTint=\"#FFCC01\"\r\n                        android:id=\"@+id/userRating\"/>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/user_review\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginTop=\"4dp\"\r\n                        android:text=\"@string/user_review\"\r\n                        android:textSize=\"14sp\"\r\n                        android:textColor=\"#616161\" />\r\n                </LinearLayout>\r\n            </LinearLayout>\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"16dp\"\r\n                android:layout_below=\"@id/reviews\"/>\r\n\r\n        </RelativeLayout>\r\n    </ScrollView>\r\n\r\n    <RelativeLayout\r\n        android:id=\"@+id/footer\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_alignParentBottom=\"true\">\r\n\r\n        <Button\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"60dp\"\r\n            android:layout_marginStart=\"48dp\"\r\n            android:layout_marginEnd=\"48dp\"\r\n            android:backgroundTint=\"@color/green\"\r\n            app:cornerRadius=\"24dp\"\r\n            android:text=\"@string/add_cart\"/>\r\n    </RelativeLayout>\r\n</RelativeLayout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/activity_product_detail.xml b/app/src/main/res/layout/activity_product_detail.xml
------ a/app/src/main/res/layout/activity_product_detail.xml	
---+++ b/app/src/main/res/layout/activity_product_detail.xml	
---@@ -5,26 +5,23 @@
---     android:id="@+id/main1"
---     android:layout_width="match_parent"
---     android:layout_height="match_parent"
---+    android:padding="16dp"
---     tools:context=".ui.ProductPage.ProductDetailActivity">
---+
---     <RelativeLayout
---+        android:id="@+id/header"
---         android:layout_width="match_parent"
---         android:layout_height="wrap_content"
----        android:id="@+id/header">
---+        android:padding="8dp">
--- 
---         <ImageButton
---             android:id="@+id/btn_back"
---             android:layout_width="32dp"
---             android:layout_height="32dp"
----            android:layout_marginStart="24dp"
----            android:layout_marginTop="16dp"
----            android:layout_marginBottom="8dp"
---+            android:layout_marginStart="8dp"
---+            android:layout_marginTop="8dp"
---             android:background="@color/background_light"
---             android:src="@drawable/chevron_left"
----            app:layout_constraintEnd_toEndOf="parent"
----            app:layout_constraintHorizontal_bias="0.0"
----            app:layout_constraintStart_toStartOf="parent"
----            app:layout_constraintTop_toTopOf="parent"
----            tools:ignore="MissingConstraints"
---             android:backgroundTint="@color/white"/>
---     </RelativeLayout>
--- 
---@@ -32,12 +29,9 @@
---         android:id="@+id/scrollView"
---         android:layout_width="match_parent"
---         android:layout_height="wrap_content"
----        android:layout_marginTop="4dp"
----        app:layout_constraintTop_toBottomOf="@+id/header"
----        tools:layout_editor_absoluteX="0dp"
---         android:layout_below="@id/header"
----        android:scrollbars="none"
----        android:layout_above="@id/footer">
---+        android:layout_above="@id/footer"
---+        android:scrollbars="none">
--- 
---         <RelativeLayout
---             android:id="@+id/product_detail"
---@@ -53,14 +47,26 @@
---                 app:iss_period="1000"
---                 app:iss_title_background="@color/transparent"/>
--- 
---+            <TextView
---+                android:id="@+id/product_price"
---+                android:layout_width="wrap_content"
---+                android:layout_height="wrap_content"
---+                android:layout_marginStart="16dp"
---+                android:layout_marginEnd="16dp"
---+                android:layout_marginBottom="8dp"
---+                android:text="@string/price"
---+                android:layout_below="@+id/product_name"
---+                android:fontFamily="@font/gabarito"
---+                android:textSize="28sp"
---+                android:textColor="@android:color/holo_red_dark"/>
---+
---             <TextView
---                 android:id="@+id/product_name"
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
----                android:layout_marginTop="10dp"
---+                android:layout_marginTop="15dp"
---                 android:layout_marginStart="16dp"
----                android:layout_marginEnd="24dp"
----                android:layout_marginBottom="8dp"
---+                android:layout_marginEnd="16dp"
---                 android:text="@string/product_name"
---                 android:layout_below="@+id/product_image"
---                 android:fontFamily="@font/gabarito"
---@@ -68,25 +74,12 @@
---                 android:textAllCaps="true"
---                 android:textColor="@color/black"/>
--- 
----            <TextView
----                android:id="@+id/product_price"
----                android:layout_width="wrap_content"
----                android:layout_height="wrap_content"
----                android:layout_marginStart="24dp"
----                android:layout_marginEnd="24dp"
----                android:layout_marginBottom="8dp"
----                android:text="@string/price"
----                android:layout_below="@+id/product_name"
----                android:fontFamily="@font/gabarito"
----                android:textSize="24sp"
----                android:textColor="@android:color/holo_red_dark"/>
----
---             <TextView
---                 android:id="@+id/address"
---                 android:layout_width="wrap_content"
---                 android:layout_height="wrap_content"
----                android:layout_marginStart="24dp"
----                android:layout_marginEnd="24dp"
---+                android:layout_marginStart="16dp"
---+                android:layout_marginEnd="16dp"
---                 android:layout_marginBottom="16dp"
---                 android:text="@string/address"
---                 android:layout_below="@+id/product_price"
---@@ -100,7 +93,9 @@
---                 android:layout_height="wrap_content"
---                 android:layout_below="@+id/address"
---                 android:layout_marginStart="16dp"
----                android:layout_marginBottom="10dp">
---+                android:layout_marginBottom="10dp"
---+                android:orientation="horizontal">
---+
---                 <TextView
---                     android:id="@+id/btn_decrease"
---                     android:layout_width="30dp"
---@@ -143,26 +138,26 @@
---                 android:layout_below="@+id/quantity">
--- 
---                 <TextView
---+                    android:id="@+id/description_title"
---                     android:layout_width="match_parent"
---                     android:layout_height="wrap_content"
----                    android:layout_marginStart="16dp"
---+                    android:layout_marginStart="15dp"
---                     android:layout_marginEnd="16dp"
---                     android:layout_marginTop="8dp"
---                     android:text="@string/description"
----                    android:textSize="16sp"
---+                    android:textSize="17sp"
---                     android:fontFamily="@font/gabarito"
----                    android:id="@+id/description_title"
---                     android:textColor="@color/black"/>
--- 
---                 <TextView
---+                    android:id="@+id/description"
---                     android:layout_width="match_parent"
---                     android:layout_height="wrap_content"
----                    android:id="@+id/description"
---                     android:layout_below="@+id/description_title"
---                     android:layout_marginStart="16dp"
---                     android:layout_marginEnd="16dp"
---                     android:layout_marginTop="8dp"
----                    android:textSize="13sp"
---+                    android:textSize="15sp"
---                     android:text="@string/descriptions"
---                     android:maxLines="3"
---                     android:ellipsize="end"/>
---@@ -183,7 +178,9 @@
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
---                 android:layout_below="@+id/product_description"
---+                android:layout_margin="8dp"
---                 android:layout_marginTop="24dp"
---+                android:background="@color/transparent"
---                 android:orientation="vertical">
--- 
---                 <androidx.cardview.widget.CardView
---@@ -197,29 +194,27 @@
---                         android:id="@+id/store"
---                         android:layout_width="match_parent"
---                         android:layout_height="wrap_content"
----                        android:orientation="horizontal"
----                        android:padding="16dp">
---+                        android:orientation="horizontal">
--- 
---                         <de.hdodenhof.circleimageview.CircleImageView
----                            android:id="@+id/shop_avatar"
----                            android:layout_width="40dp"
----                            android:layout_height="40dp"
---+                            android:id="@+id/store_img"
---+                            android:layout_width="50dp"
---+                            android:layout_height="50dp"
---+                            android:layout_marginEnd="16dp"
---                             android:src="@drawable/user"
----                            app:civ_border_width="2dp"
---                             app:civ_border_color="#FF000000"
----                            android:layout_marginEnd="16dp"/>
---+                            app:civ_border_width="2dp" />
--- 
---                         <TextView
----                            android:id="@+id/shop_name"
---+                            android:id="@+id/store_name"
---                             android:layout_width="wrap_content"
---                             android:layout_height="wrap_content"
---                             android:text="Tên người bán"
----                            android:textSize="16sp"
----                            android:textStyle="bold"
----                            android:textColor="#000000"/>
---+                            android:textColor="#000000"
---+                            android:textSize="20sp"
---+                            android:textStyle="bold" />
---                     </LinearLayout>
---                 </androidx.cardview.widget.CardView>
----
---             </LinearLayout>
--- 
---             <LinearLayout
---@@ -228,8 +223,11 @@
---                 android:layout_height="wrap_content"
---                 android:layout_below="@+id/shop_info"
---                 android:layout_marginTop="24dp"
----                android:orientation="horizontal">
---+                android:orientation="horizontal"
---+                android:padding="8dp">
---+
---                 <TextView
---+                    android:id="@+id/quantity_title"
---                     android:layout_width="wrap_content"
---                     android:layout_height="wrap_content"
---                     android:layout_marginStart="16dp"
---@@ -237,16 +235,15 @@
---                     android:textSize="16sp"
---                     android:text="Đánh giá sản phẩm"
---                     android:fontFamily="@font/gabarito"
----                    android:id="@+id/quantity_title"
---                     android:textColor="@color/black"/>
--- 
---                 <RatingBar
---+                    android:id="@+id/totalRating"
---                     android:layout_width="wrap_content"
---                     android:layout_height="wrap_content"
---                     android:rating="4.5"
---                     style="?android:attr/ratingBarStyleIndicator"
---                     android:progressTint="#FFCC01"
----                    android:id="@+id/totalRating"
---                     android:layout_marginStart="40dp"/>
---             </LinearLayout>
--- 
---@@ -254,10 +251,10 @@
---                 android:id="@+id/reviews"
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
----                android:layout_below="@+id/rating">
---+                android:layout_below="@+id/rating"
---+                android:padding="8dp">
--- 
---                 <de.hdodenhof.circleimageview.CircleImageView
----                    xmlns:app="http://schemas.android.com/apk/res-auto"
---                     android:id="@+id/user_avatar"
---                     android:layout_width="40dp"
---                     android:layout_height="40dp"
---@@ -268,12 +265,12 @@
---                     android:layout_marginTop="16dp"/>
--- 
---                 <LinearLayout
---+                    android:id="@+id/user_rv"
---                     android:layout_width="0dp"
---                     android:layout_height="wrap_content"
---                     android:orientation="vertical"
---                     android:layout_weight="1"
----                    android:padding="10dp"
----                    android:id="@+id/user_rv">
---+                    android:padding="10dp">
--- 
---                     <TextView
---                         android:id="@+id/user_name"
---@@ -285,12 +282,12 @@
---                         android:textColor="#000000" />
--- 
---                     <RatingBar
---+                        android:id="@+id/userRating"
---                         android:layout_width="wrap_content"
---                         android:layout_height="wrap_content"
---                         android:rating="3"
---                         style="?android:attr/ratingBarStyleIndicator"
----                        android:progressTint="#FFCC01"
----                        android:id="@+id/userRating"/>
---+                        android:progressTint="#FFCC01"/>
--- 
---                     <TextView
---                         android:id="@+id/user_review"
---@@ -302,12 +299,12 @@
---                         android:textColor="#616161" />
---                 </LinearLayout>
---             </LinearLayout>
---+
---             <androidx.recyclerview.widget.RecyclerView
---                 android:layout_width="match_parent"
---                 android:layout_height="wrap_content"
---                 android:layout_marginTop="16dp"
---                 android:layout_below="@id/reviews"/>
----
---         </RelativeLayout>
---     </ScrollView>
--- 
---@@ -315,7 +312,8 @@
---         android:id="@+id/footer"
---         android:layout_width="match_parent"
---         android:layout_height="wrap_content"
----        android:layout_alignParentBottom="true">
---+        android:layout_alignParentBottom="true"
---+        android:padding="16dp">
--- 
---         <Button
---             android:layout_width="match_parent"
---Index: app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\nimport com.example.agrimart.viewmodel.HomeFragmentViewModel;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    ImageButton btnSearch;\r\n    TextView search;\r\n    HomeFragmentViewModel viewModel;\r\n    FragmentHomeBinding binding;\r\n\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    public static HomeFragment newInstance() {\r\n        return new HomeFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        binding=DataBindingUtil.inflate(inflater,R.layout.fragment_home,container,false);\r\n        viewModel=new ViewModelProvider(this).get(HomeFragmentViewModel.class);\r\n\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding.setViewmodel(viewModel);\r\n        View view = binding.getRoot();\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getActivity().getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n//        if (getActivity() != null) {\r\n//            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n//        }\r\n        viewModel.getData();\r\n        viewModel.categories.observe(getViewLifecycleOwner(), categories -> {\r\n            if (categories != null) {\r\n                CategoryAdapter categoryAdapter = new CategoryAdapter(categories);\r\n                binding.rvCategories.setAdapter(categoryAdapter);\r\n                binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));\r\n                Log.d(\"duy1\", \"onCreateView: \" + categories.size());\r\n            }\r\n        });\r\n\r\n\r\n        List<Product> products = new ArrayList<>();\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n//        products.add(new Product(R.drawable.banana, \"Chuối nhà trồng\", \"45.000\"));\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n            Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n\r\n        addControls(view);\r\n        addEvents();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void addEvents() {\r\n        btnSearch.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getActivity(), SearchActivity.class);\r\n            getActivity().startActivity(intent);\r\n        });\r\n\r\n        search.setOnClickListener(View -> {\r\n            Intent intent=new Intent(getContext(), SearchActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void addControls(View view) {\r\n        btnSearch = view.findViewById(R.id.search_icon);\r\n        search = view.findViewById(R.id.search_input);\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getActivity().getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
------ a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	
---+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	
---@@ -3,15 +3,12 @@
--- import android.content.Intent;
--- import android.os.Build;
--- import android.os.Bundle;
----
--- import androidx.annotation.NonNull;
--- import androidx.core.content.ContextCompat;
--- import androidx.databinding.DataBindingUtil;
--- import androidx.fragment.app.Fragment;
--- import androidx.lifecycle.ViewModelProvider;
--- import androidx.recyclerview.widget.GridLayoutManager;
----import androidx.recyclerview.widget.RecyclerView;
----
--- import android.util.Log;
--- import android.view.LayoutInflater;
--- import android.view.View;
---@@ -25,23 +22,22 @@
--- import com.example.agrimart.SpacesItemDecoration;
--- import com.example.agrimart.adapter.CategoryAdapter;
--- import com.example.agrimart.adapter.ProductAdapter;
----import com.example.agrimart.data.model.Category;
--- import com.example.agrimart.data.model.Product;
--- import com.example.agrimart.databinding.FragmentHomeBinding;
--- import com.example.agrimart.ui.ProductPage.ProductDetailActivity;
--- import com.example.agrimart.viewmodel.HomeFragmentViewModel;
--- 
----import java.util.ArrayList;
--- import java.util.List;
--- 
--- public class HomeFragment extends Fragment {
---+    private static final String TAG = "HomeFragment";
---     ImageButton btnSearch;
---     TextView search;
---     HomeFragmentViewModel viewModel;
---     FragmentHomeBinding binding;
--- 
---     public HomeFragment() {
----        // Required empty public constructor
---+
---     }
--- 
---     public static HomeFragment newInstance() {
---@@ -54,10 +50,9 @@
---     }
--- 
---     @Override
----    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container,
----                             Bundle savedInstanceState) {
----        binding=DataBindingUtil.inflate(inflater,R.layout.fragment_home,container,false);
----        viewModel=new ViewModelProvider(this).get(HomeFragmentViewModel.class);
---+    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
---+        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_home, container, false);
---+        viewModel = new ViewModelProvider(this).get(HomeFragmentViewModel.class);
--- 
---         int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);
---         binding.setViewmodel(viewModel);
---@@ -69,36 +64,35 @@
---             window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));
---         }
--- 
----//        if (getActivity() != null) {
----//            getActivity().getWindow().setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));
----//        }
---         viewModel.getData();
---+        viewModel.getProducts();
---+
---         viewModel.categories.observe(getViewLifecycleOwner(), categories -> {
---             if (categories != null) {
---                 CategoryAdapter categoryAdapter = new CategoryAdapter(categories);
---                 binding.rvCategories.setAdapter(categoryAdapter);
---                 binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));
----                Log.d("duy1", "onCreateView: " + categories.size());
---+                Log.d(TAG, "Categories loaded: " + categories.size());
---             }
---         });
--- 
----
----        List<Product> products = new ArrayList<>();
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----//        products.add(new Product(R.drawable.banana, "Chuối nhà trồng", "45.000"));
----
----        ProductAdapter productAdapter = new ProductAdapter(products, product -> {
----            Intent intent = new Intent(getContext(), ProductDetailActivity.class);
----            startActivity(intent);
----        });
---+        viewModel.products.observe(getViewLifecycleOwner(), products -> {
---+            if (products != null) {
---+                ProductAdapter productAdapter = new ProductAdapter(products, product -> {
---+                    try {
---+                        Intent intent = new Intent(getContext(), ProductDetailActivity.class);
---+                        intent.putExtra("product", product);
---+                        intent.putExtra("storeId", product.getStoreId());
---+                        startActivity(intent);
---+                    } catch (Exception e) {
--- 
----        binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));
----        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
----        binding.rvProducts.setAdapter(productAdapter);
---+                    }
---+                });
---+                binding.rvProducts.setLayoutManager(new GridLayoutManager(getContext(), 2));
---+                binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
---+                binding.rvProducts.setAdapter(productAdapter);
---+            }
---+        });
--- 
---         addControls(view);
---         addEvents();
---@@ -107,13 +101,13 @@
---     }
--- 
---     private void addEvents() {
----        btnSearch.setOnClickListener(View -> {
----            Intent intent=new Intent(getActivity(), SearchActivity.class);
---+        btnSearch.setOnClickListener(v -> {
---+            Intent intent = new Intent(getActivity(), SearchActivity.class);
---             getActivity().startActivity(intent);
---         });
--- 
----        search.setOnClickListener(View -> {
----            Intent intent=new Intent(getContext(), SearchActivity.class);
---+        search.setOnClickListener(v -> {
---+            Intent intent = new Intent(getContext(), SearchActivity.class);
---             startActivity(intent);
---         });
---     }
---Index: app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.ProductPage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.ImageButton;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\n\r\nimport com.denzcoskun.imageslider.ImageSlider;\r\nimport com.denzcoskun.imageslider.constants.ScaleTypes;\r\nimport com.denzcoskun.imageslider.models.SlideModel;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.Store.StoreActivity;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class ProductDetailActivity extends AppCompatActivity {\r\n    ImageButton btn_back, btnExpand;\r\n    TextView description;\r\n    boolean isExpanded = false;\r\n    LinearLayout store;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_product_detail);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        description = findViewById(R.id.description);\r\n        btnExpand = findViewById(R.id.btn_expand);\r\n\r\n        btn_back = findViewById(R.id.btn_back);\r\n        btn_back.setOnClickListener(v -> finish());\r\n        store = findViewById(R.id.store);\r\n\r\n        ArrayList<SlideModel> imgList = new ArrayList<>();\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.banana, \"\", ScaleTypes.FIT));\r\n        imgList.add(new SlideModel(R.drawable.apple, \"\", ScaleTypes.FIT));\r\n\r\n        ImageSlider imageSlider = findViewById(R.id.product_image);\r\n        imageSlider.setImageList(imgList, ScaleTypes.FIT);\r\n\r\n        btnExpand.setOnClickListener(v -> {\r\n            if (isExpanded) {\r\n                description.setMaxLines(3);\r\n                btnExpand.setImageResource(R.drawable.down);\r\n            } else {\r\n                description.setMaxLines(Integer.MAX_VALUE);\r\n                btnExpand.setImageResource(R.drawable.arrowhead_up);\r\n            }\r\n            isExpanded = !isExpanded;\r\n        });\r\n\r\n        store.setOnClickListener(v -> {\r\n            Intent intent = new Intent(ProductDetailActivity.this, StoreActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java	
---+++ b/app/src/main/java/com/example/agrimart/ui/ProductPage/ProductDetailActivity.java	
---@@ -3,28 +3,40 @@
--- import android.content.Intent;
--- import android.os.Bundle;
--- import android.widget.ImageButton;
---+import android.widget.ImageView;
--- import android.widget.LinearLayout;
--- import android.widget.TextView;
--- 
--- import androidx.activity.EdgeToEdge;
---+import androidx.annotation.NonNull;
--- import androidx.appcompat.app.AppCompatActivity;
--- import androidx.core.graphics.Insets;
--- import androidx.core.view.ViewCompat;
--- import androidx.core.view.WindowInsetsCompat;
---+import androidx.lifecycle.Observer;
---+import androidx.lifecycle.ViewModelProvider;
--- 
---+import com.bumptech.glide.Glide;
--- import com.denzcoskun.imageslider.ImageSlider;
--- import com.denzcoskun.imageslider.constants.ScaleTypes;
--- import com.denzcoskun.imageslider.models.SlideModel;
--- import com.example.agrimart.R;
---+import com.example.agrimart.data.model.Product;
---+import com.example.agrimart.data.model.Store;
--- import com.example.agrimart.ui.Store.StoreActivity;
---+import com.example.agrimart.viewmodel.ProductDetailViewModel;
---+
--- 
--- import java.util.ArrayList;
--- 
--- public class ProductDetailActivity extends AppCompatActivity {
----    ImageButton btn_back, btnExpand;
----    TextView description;
----    boolean isExpanded = false;
----    LinearLayout store;
---+    private static final String TAG = "ProductDetailActivity";
---+    private ImageButton btn_back, btnExpand;
---+    private TextView description, productName, productPrice, storeName, storeAddress, storePhoneNumber;
---+    private ImageView storeAvatar;
---+    private boolean isExpanded = false;
---+    private LinearLayout store;
---+    private ProductDetailViewModel viewModel;
--- 
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---@@ -37,24 +49,51 @@
---             return insets;
---         });
--- 
---+        viewModel = new ViewModelProvider(this).get(ProductDetailViewModel.class);
---+
---         description = findViewById(R.id.description);
---+        productName = findViewById(R.id.product_name);
---+        productPrice = findViewById(R.id.product_price);
---         btnExpand = findViewById(R.id.btn_expand);
----
---         btn_back = findViewById(R.id.btn_back);
----        btn_back.setOnClickListener(v -> finish());
---         store = findViewById(R.id.store);
---+        storeName = findViewById(R.id.store_name);
---+        storeAddress = findViewById(R.id.address);
---+        storeAvatar = findViewById(R.id.store_img);
---+
---+        btn_back.setOnClickListener(v -> finish());
---+
---+        Intent intent = getIntent();
---+        Product product = (Product) intent.getSerializableExtra("product");
---+
---+        if (product != null) {
---+            productName.setText(product.getName());
---+            productPrice.setText(String.format("%,.0f đ", product.getPrice()));
---+            description.setText(product.getDescription());
--- 
----        ArrayList<SlideModel> imgList = new ArrayList<>();
----        imgList.add(new SlideModel(R.drawable.banana, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.apple, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.banana, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.apple, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.banana, "", ScaleTypes.FIT));
----        imgList.add(new SlideModel(R.drawable.apple, "", ScaleTypes.FIT));
----
----        ImageSlider imageSlider = findViewById(R.id.product_image);
----        imageSlider.setImageList(imgList, ScaleTypes.FIT);
---+            ArrayList<SlideModel> imgList = new ArrayList<>();
---+            if (product.getImages() != null) {
---+                for (String url : product.getImages()) {
---+                    imgList.add(new SlideModel(url, "", ScaleTypes.FIT));
---+                }
---+            }
---+            ImageSlider imageSlider = findViewById(R.id.product_image);
---+            imageSlider.setImageList(imgList, ScaleTypes.FIT);
--- 
---+            viewModel.loadStoreInfo(product.getStoreId());
---+        }
---+
---+        viewModel.getStoreInfo().observe(this, new Observer<Store>() {
---+            @Override
---+            public void onChanged(Store storeInfo) {
---+                if (storeInfo != null) {
---+                    storeName.setText(storeInfo.getName());
---+                    storeAddress.setText(storeInfo.getFullAddress());
---+                    Glide.with(ProductDetailActivity.this).load(storeInfo.getAvatarUrl()).into(storeAvatar);
---+                }
---+            }
---+        });
---+
---         btnExpand.setOnClickListener(v -> {
---             if (isExpanded) {
---                 description.setMaxLines(3);
---@@ -67,8 +106,9 @@
---         });
--- 
---         store.setOnClickListener(v -> {
----            Intent intent = new Intent(ProductDetailActivity.this, StoreActivity.class);
----            startActivity(intent);
---+            Intent storeIntent = new Intent(ProductDetailActivity.this, StoreActivity.class);
---+            storeIntent.putExtra("storeId", product.getStoreId());
---+            startActivity(storeIntent);
---         });
---     }
----}
---\ No newline at end of file
---+}
---Index: app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.List;\r\n\r\npublic class HomeFragmentViewModel extends ViewModel {\r\n    public MutableLiveData<List<Category>> categories;\r\n\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    public HomeFragmentViewModel() {\r\n        categories = new MutableLiveData<>();\r\n    }\r\n\r\n    public void getData(){\r\n        db.collection(\"categories\")\r\n                .orderBy(\"id\")\r\n                .get().addOnCompleteListener(task -> {\r\n            if (task.isSuccessful()) {\r\n                List<Category> categoryList = task.getResult().toObjects(Category.class);\r\n                categories.setValue(categoryList);\r\n            } else {\r\n                Log.e(\"HomeFragmentViewModel\", \"Error getting documents: \", task.getException());\r\n            }\r\n        });\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java
------ a/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java	
---+++ b/app/src/main/java/com/example/agrimart/viewmodel/HomeFragmentViewModel.java	
---@@ -6,28 +6,47 @@
--- import androidx.lifecycle.ViewModel;
--- 
--- import com.example.agrimart.data.model.Category;
---+import com.example.agrimart.data.model.Product;
--- import com.google.firebase.firestore.FirebaseFirestore;
--- 
--- import java.util.List;
--- 
--- public class HomeFragmentViewModel extends ViewModel {
---     public MutableLiveData<List<Category>> categories;
---+    public MutableLiveData<List<Product>> products;
--- 
---     FirebaseFirestore db = FirebaseFirestore.getInstance();
---+
---     public HomeFragmentViewModel() {
---         categories = new MutableLiveData<>();
---+        products = new MutableLiveData<>();
---     }
--- 
----    public void getData(){
---+    public void getData() {
---         db.collection("categories")
---                 .orderBy("id")
----                .get().addOnCompleteListener(task -> {
----            if (task.isSuccessful()) {
----                List<Category> categoryList = task.getResult().toObjects(Category.class);
----                categories.setValue(categoryList);
----            } else {
----                Log.e("HomeFragmentViewModel", "Error getting documents: ", task.getException());
----            }
----        });
---+                .get()
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        List<Category> categoryList = task.getResult().toObjects(Category.class);
---+                        categories.setValue(categoryList);
---+                    } else {
---+                        Log.e("HomeFragmentViewModel", "Error getting categories: ", task.getException());
---+                    }
---+                });
---+    }
---+
---+    public void getProducts() {
---+        db.collection("products")
---+                .orderBy("product_id")
---+                .get()
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        List<Product> productList = task.getResult().toObjects(Product.class);
---+                        products.setValue(productList);
---+                    } else {
---+                        Log.e("HomeFragmentViewModel", "Error getting products: ", task.getException());
---+                    }
---+                });
---     }
----}
---\ No newline at end of file
---+}
---Index: app/src/main/java/com/example/agrimart/data/model/User.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.data.model;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\nimport java.io.Serializable;\r\nimport java.util.Date;\r\n\r\npublic class User implements Serializable {\r\n    @SerializedName(\"userId\")\r\n    private String userId;\r\n    @SerializedName(\"role\")\r\n    private String role;\r\n    @SerializedName(\"fullName\")\r\n    private String fullName;\r\n    @SerializedName(\"email\")\r\n    private String email;\r\n    @SerializedName(\"phoneNumber\")\r\n    private String phoneNumber;\r\n    @SerializedName(\"password\")\r\n    private String password;\r\n    @SerializedName(\"address\")\r\n    private Address address;\r\n    @SerializedName(\"storeName\")\r\n    private String storeName;\r\n    @SerializedName(\"storeAddress\")\r\n    private Address storeAddress;\r\n    @SerializedName(\"storeImage\")\r\n    private String storeImage;\r\n    @SerializedName(\"storeRating\")\r\n    private double storeRating;\r\n    @SerializedName(\"paymentAccount\")\r\n    private PaymentAccount paymentAccount;\r\n    @SerializedName(\"createdAt\")\r\n    private Date createdAt;\r\n    @SerializedName(\"updatedAt\")\r\n    private Date updatedAt;\r\n\r\n    public User(String userId, String role, String fullName, String email, String phoneNumber, String password, Address address, String storeName, Address storeAddress, String storeImage, double storeRating, PaymentAccount paymentAccount, Date createdAt, Date updatedAt) {\r\n        this.userId = userId;\r\n        this.role = role;\r\n        this.fullName = fullName;\r\n        this.email = email;\r\n        this.phoneNumber = phoneNumber;\r\n        this.password = password;\r\n        this.address = address;\r\n        this.storeName = storeName;\r\n        this.storeAddress = storeAddress;\r\n        this.storeImage = storeImage;\r\n        this.storeRating = storeRating;\r\n        this.paymentAccount = paymentAccount;\r\n        this.createdAt = createdAt;\r\n        this.updatedAt = updatedAt;\r\n    }\r\n\r\n    public String getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(String userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getRole() {\r\n        return role;\r\n    }\r\n\r\n    public void setRole(String role) {\r\n        this.role = role;\r\n    }\r\n\r\n    public String getFullName() {\r\n        return fullName;\r\n    }\r\n\r\n    public void setFullName(String fullName) {\r\n        this.fullName = fullName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Address getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(Address address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getStoreName() {\r\n        return storeName;\r\n    }\r\n\r\n    public void setStoreName(String storeName) {\r\n        this.storeName = storeName;\r\n    }\r\n\r\n    public Address getStoreAddress() {\r\n        return storeAddress;\r\n    }\r\n\r\n    public void setStoreAddress(Address storeAddress) {\r\n        this.storeAddress = storeAddress;\r\n    }\r\n\r\n    public String getStoreImage() {\r\n        return storeImage;\r\n    }\r\n\r\n    public void setStoreImage(String storeImage) {\r\n        this.storeImage = storeImage;\r\n    }\r\n\r\n    public double getStoreRating() {\r\n        return storeRating;\r\n    }\r\n\r\n    public void setStoreRating(double storeRating) {\r\n        this.storeRating = storeRating;\r\n    }\r\n\r\n    public PaymentAccount getPaymentAccount() {\r\n        return paymentAccount;\r\n    }\r\n\r\n    public void setPaymentAccount(PaymentAccount paymentAccount) {\r\n        this.paymentAccount = paymentAccount;\r\n    }\r\n\r\n    public Date getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(Date createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Date getUpdatedAt() {\r\n        return updatedAt;\r\n    }\r\n\r\n    public void setUpdatedAt(Date updatedAt) {\r\n        this.updatedAt = updatedAt;\r\n    }\r\n\r\n//    public static class Address {\r\n//        @SerializedName(\"street\")\r\n//        private String street;\r\n//        @SerializedName(\"district\")\r\n//        private String district;\r\n//        @SerializedName(\"city\")\r\n//        private String city;\r\n//\r\n//        // Constructors, getters, and setters...\r\n//    }\r\n\r\n    public static class PaymentAccount {\r\n        @SerializedName(\"accountNumber\")\r\n        private String accountNumber;\r\n        @SerializedName(\"bankName\")\r\n        private String bankName;\r\n        @SerializedName(\"branchName\")\r\n        private String branchName;\r\n\r\n        // Constructors, getters, and setters...\r\n    }\r\n\r\n    // Getters and setters for User class fields\r\n    // ...\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/User.java b/app/src/main/java/com/example/agrimart/data/model/User.java
------ a/app/src/main/java/com/example/agrimart/data/model/User.java	
---+++ b/app/src/main/java/com/example/agrimart/data/model/User.java	
---@@ -1,3 +1,4 @@
---+// User.java
--- package com.example.agrimart.data.model;
--- 
--- import com.google.gson.annotations.SerializedName;
---@@ -34,6 +35,10 @@
---     @SerializedName("updatedAt")
---     private Date updatedAt;
--- 
---+    // No-argument constructor
---+    public User() {
---+    }
---+
---     public User(String userId, String role, String fullName, String email, String phoneNumber, String password, Address address, String storeName, Address storeAddress, String storeImage, double storeRating, PaymentAccount paymentAccount, Date createdAt, Date updatedAt) {
---         this.userId = userId;
---         this.role = role;
---@@ -163,16 +168,49 @@
---         this.updatedAt = updatedAt;
---     }
--- 
----//    public static class Address {
----//        @SerializedName("street")
----//        private String street;
----//        @SerializedName("district")
----//        private String district;
----//        @SerializedName("city")
----//        private String city;
----//
----//        // Constructors, getters, and setters...
----//    }
---+    public static class Address {
---+        @SerializedName("street")
---+        private String street;
---+        @SerializedName("district")
---+        private String district;
---+        @SerializedName("city")
---+        private String city;
---+
---+        public Address() {
---+        }
---+
---+        public Address(String street, String district, String city) {
---+            this.street = street;
---+            this.district = district;
---+            this.city = city;
---+        }
---+
---+        // Getters and setters...
---+
---+        public String getStreet() {
---+            return street;
---+        }
---+
---+        public void setStreet(String street) {
---+            this.street = street;
---+        }
---+
---+        public String getDistrict() {
---+            return district;
---+        }
---+
---+        public void setDistrict(String district) {
---+            this.district = district;
---+        }
---+
---+        public String getCity() {
---+            return city;
---+        }
---+
---+        public void setCity(String city) {
---+            this.city = city;
---+        }
---+    }
--- 
---     public static class PaymentAccount {
---         @SerializedName("accountNumber")
---@@ -182,9 +220,15 @@
---         @SerializedName("branchName")
---         private String branchName;
--- 
----        // Constructors, getters, and setters...
----    }
---+        public PaymentAccount() {
---+        }
---+
---+        public PaymentAccount(String accountNumber, String bankName, String branchName) {
---+            this.accountNumber = accountNumber;
---+            this.bankName = bankName;
---+            this.branchName = branchName;
---+        }
--- 
----    // Getters and setters for User class fields
----    // ...
---+        // Getters and setters...
---+    }
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java
---new file mode 100644
------ /dev/null	
---+++ b/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java	
---@@ -0,0 +1,56 @@
---+package com.example.agrimart.viewmodel;
---+
---+import androidx.lifecycle.LiveData;
---+import androidx.lifecycle.MutableLiveData;
---+import androidx.lifecycle.ViewModel;
---+
---+import com.example.agrimart.data.model.Store;
---+import com.google.firebase.firestore.DocumentSnapshot;
---+import com.google.firebase.firestore.FirebaseFirestore;
---+import com.google.firebase.firestore.ListenerRegistration;
---+
---+public class ProductDetailViewModel extends ViewModel {
---+    private final FirebaseFirestore db;
---+    private ListenerRegistration storeListener;
---+    private final MutableLiveData<Store> storeInfo = new MutableLiveData<>();
---+
---+    public ProductDetailViewModel() {
---+        db = FirebaseFirestore.getInstance();
---+    }
---+
---+    public LiveData<Store> getStoreInfo() {
---+        return storeInfo;
---+    }
---+
---+    public void loadStoreInfo(String storeId) {
---+        if (storeListener != null) {
---+            storeListener.remove();
---+        }
---+
---+        storeListener = db.collection("users").document(storeId)
---+                .addSnapshotListener((snapshot, e) -> {
---+                    if (e != null || snapshot == null || !snapshot.exists()) {
---+                        return;
---+                    }
---+                    String name = snapshot.getString("store_name");
---+                    String avatarUrl = snapshot.getString("userImage");
---+                    String street = snapshot.getString("store_address.street");
---+                    String ward = snapshot.getString("store_address.ward");
---+                    String district = snapshot.getString("store_address.district");
---+                    String city = snapshot.getString("store_address.city");
---+                    String phoneNumber = snapshot.getString("store_phone_number");
---+
---+                    Store info = new Store(name, avatarUrl, street, ward, district, city, phoneNumber);
---+                    storeInfo.setValue(info);
---+                });
---+    }
---+
---+    @Override
---+    protected void onCleared() {
---+        super.onCleared();
---+        if (storeListener != null) {
---+            storeListener.remove();
---+        }
---+    }
---+
---+}
---Index: app/src/main/java/com/example/agrimart/data/model/Store.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/Store.java b/app/src/main/java/com/example/agrimart/data/model/Store.java
---new file mode 100644
------ /dev/null	
---+++ b/app/src/main/java/com/example/agrimart/data/model/Store.java	
---@@ -0,0 +1,37 @@
---+package com.example.agrimart.data.model;
---+
---+public class Store {
---+    private final String name;
---+    private final String avatarUrl;
---+    private final String street;
---+    private final String ward;
---+    private final String district;
---+    private final String city;
---+    private final String phoneNumber;
---+
---+    public Store(String name, String avatarUrl, String street, String ward, String district, String city, String phoneNumber) {
---+        this.name = name;
---+        this.avatarUrl = avatarUrl;
---+        this.street = street;
---+        this.ward = ward;
---+        this.district = district;
---+        this.city = city;
---+        this.phoneNumber = phoneNumber;
---+    }
---+
---+    public String getName() {
---+        return name;
---+    }
---+
---+    public String getAvatarUrl() {
---+        return avatarUrl;
---+    }
---+
---+    public String getFullAddress() {
---+        return street + ", " + ward + ", " + district + ", " + city;
---+    }
---+
---+    public String getPhoneNumber() {
---+        return phoneNumber;
---+    }
---+}
---Index: app/src/main/java/com/example/agrimart/data/model/Address.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.data.model;\r\n\r\nimport com.google.gson.annotations.SerializedName;\r\n\r\npublic class Address {\r\n    @SerializedName(\"default\")\r\n    private boolean isDefault;\r\n    @SerializedName(\"detailedAddress\")\r\n    private String detailedAddress;\r\n    @SerializedName(\"name\")\r\n    private String name;\r\n    @SerializedName(\"phone\")\r\n    private String phone;\r\n    @SerializedName(\"street\")\r\n    private String street;\r\n\r\n    public String getAddressId() {\r\n        return this.AddressId;\r\n    }\r\n\r\n    public void setAddressId(String AddressId) {\r\n        this.AddressId = AddressId;\r\n    }\r\n\r\n    @SerializedName(\"AddressId\")\r\n    private String AddressId;\r\n    public Address() {\r\n\r\n    }\r\n    // Constructor\r\n    public Address(String AddressId,String name, String phone, String street, String detailedAddress, boolean isDefault) {\r\n        this.name = name;\r\n        this.phone = phone;\r\n        this.street = street;\r\n        this.detailedAddress = detailedAddress;\r\n        this.isDefault = isDefault;\r\n        this.AddressId = AddressId;\r\n    }\r\n\r\n    // Getters and Setters\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getPhone() {\r\n        return phone;\r\n    }\r\n\r\n    public void setPhone(String phone) {\r\n        this.phone = phone;\r\n    }\r\n\r\n    public String getStreet() {\r\n        return street;\r\n    }\r\n\r\n    public void setStreet(String street) {\r\n        this.street = street;\r\n    }\r\n\r\n    public String getDetailedAddress() {\r\n        return detailedAddress;\r\n    }\r\n\r\n    public void setDetailedAddress(String detailedAddress) {\r\n        this.detailedAddress = detailedAddress;\r\n    }\r\n\r\n    public boolean isDefault() {\r\n        return isDefault;\r\n    }\r\n\r\n    public void setDefault(boolean aDefault) {\r\n        isDefault = aDefault;\r\n    }\r\n}\r\n
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/data/model/Address.java b/app/src/main/java/com/example/agrimart/data/model/Address.java
------ a/app/src/main/java/com/example/agrimart/data/model/Address.java	
---+++ b/app/src/main/java/com/example/agrimart/data/model/Address.java	
---@@ -27,7 +27,7 @@
---     public Address() {
--- 
---     }
----    // Constructor
---+
---     public Address(String AddressId,String name, String phone, String street, String detailedAddress, boolean isDefault) {
---         this.name = name;
---         this.phone = phone;
--Index: app/src/main/java/com/example/agrimart/data/model/Product.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.data.model;\r\n\r\nimport com.google.firebase.firestore.PropertyName;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class Product implements Serializable {\r\n\r\n    private String product_id;\r\n    private String name;\r\n    private double price;\r\n\r\n    @PropertyName(\"status\")\r\n    private String active;\r\n\r\n    @PropertyName(\"category_id\")\r\n    private String category;\r\n    private String description;\r\n    private int height;\r\n    private List<String> images;\r\n    private int length;\r\n    private int quantity;\r\n    private String storeId;\r\n    private int weight;\r\n    private int width;\r\n    private int soldQuantity;\r\n    private String created_at;\r\n\r\n\r\n    public Product() {\r\n    }\r\n\r\n    public Product(String name, double price, List<String> images) {\r\n        this.name = name;\r\n        this.price = price;\r\n        this.images = images;\r\n    }\r\n\r\n    public Product(String product_id, String name, double price, String active, String category, String description, int height, List<String> images, int length, int quantity, String storeId, int weight, int width, int soldQuantity) {\r\n        this.product_id = product_id;\r\n        this.name = name;\r\n        this.price = price;\r\n        this.active = active;\r\n        this.category = category;\r\n        this.description = description;\r\n        this.height = height;\r\n        this.images = images;\r\n        this.length = length;\r\n        this.quantity = quantity;\r\n        this.storeId = storeId;\r\n        this.weight = weight;\r\n        this.width = width;\r\n        this.soldQuantity = soldQuantity;\r\n    }\r\n\r\n    public String getCreated_at() {\r\n        return created_at;\r\n    }\r\n\r\n    public void setCreated_at(String created_at) {\r\n        this.created_at = created_at;\r\n    }\r\n\r\n    public String getProduct_id() {\r\n        return product_id;\r\n    }\r\n\r\n    public void setProduct_id(String product_id) {\r\n        this.product_id = product_id;\r\n    }\r\n\r\n\r\n    public static class Address {\r\n        private String city;\r\n        private String district;\r\n        private String street;\r\n        private String ward;\r\n\r\n        public String getCity() {\r\n            return city;\r\n        }\r\n\r\n        public void setCity(String city) {\r\n            this.city = city;\r\n        }\r\n\r\n        public String getDistrict() {\r\n            return district;\r\n        }\r\n\r\n        public void setDistrict(String district) {\r\n            this.district = district;\r\n        }\r\n\r\n        public String getStreet() {\r\n            return street;\r\n        }\r\n\r\n        public void setStreet(String street) {\r\n            this.street = street;\r\n        }\r\n\r\n        public String getWard() {\r\n            return ward;\r\n        }\r\n\r\n        public void setWard(String ward) {\r\n            this.ward = ward;\r\n        }\r\n    }\r\n\r\n    public Product(String imageUrl, String name, double price) {\r\n        this.images = Collections.singletonList(imageUrl);\r\n        this.name = name;\r\n        this.price = price;\r\n    }\r\n\r\n\r\n\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public double getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(double price) {\r\n        this.price = price;\r\n    }\r\n\r\n    @PropertyName(\"status\")\r\n    public String getActive() {\r\n        return active;\r\n    }\r\n\r\n    @PropertyName(\"status\")\r\n    public void setActive(String active) {\r\n        this.active = active;\r\n    }\r\n\r\n    @PropertyName(\"category_id\")\r\n    public String getCategory() {\r\n        return category;\r\n    }\r\n\r\n    @PropertyName(\"category_id\")\r\n    public void setCategory(String category) {\r\n        this.category = category;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public int getHeight() {\r\n        return height;\r\n    }\r\n\r\n    public void setHeight(int height) {\r\n        this.height = height;\r\n    }\r\n\r\n    public List<String> getImages() {\r\n        return images;\r\n    }\r\n\r\n    public void setImages(List<String> images) {\r\n        this.images = images;\r\n    }\r\n\r\n    public int getLength() {\r\n        return length;\r\n    }\r\n\r\n    public void setLength(int length) {\r\n        this.length = length;\r\n    }\r\n\r\n    public int getQuantity() {\r\n        return quantity;\r\n    }\r\n\r\n    public void setQuantity(int quantity) {\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public String getStoreId() {\r\n        return storeId;\r\n    }\r\n\r\n    public void setStoreId(String storeId) {\r\n        this.storeId = storeId;\r\n    }\r\n\r\n    public int getWeight() {\r\n        return weight;\r\n    }\r\n\r\n    public void setWeight(int weight) {\r\n        this.weight = weight;\r\n    }\r\n\r\n    public int getWidth() {\r\n        return width;\r\n    }\r\n\r\n    public void setWidth(int width) {\r\n        this.width = width;\r\n    }\r\n\r\n    public int getSoldQuantity() {\r\n        return soldQuantity;\r\n    }\r\n\r\n    public void setSoldQuantity(int soldQuantity) {\r\n        this.soldQuantity = soldQuantity;\r\n    }\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/data/model/Product.java b/app/src/main/java/com/example/agrimart/data/model/Product.java
----- a/app/src/main/java/com/example/agrimart/data/model/Product.java	(revision eea9d4bf6f6c1c5c27e432e8d7149e77f8986ab7)
--+++ b/app/src/main/java/com/example/agrimart/data/model/Product.java	(date 1731425506949)
--@@ -11,10 +11,8 @@
--     private String product_id;
--     private String name;
--     private double price;
---
--     @PropertyName("status")
--     private String active;
---
--     @PropertyName("category_id")
--     private String category;
--     private String description;
-Index: app/src/main/res/layout/fragment_return.xml
-===================================================================
-diff --git a/app/src/main/res/layout/fragment_return.xml b/app/src/main/res/layout/fragment_return.xml
-deleted file mode 100644
---- a/app/src/main/res/layout/fragment_return.xml	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,14 +0,0 @@
--<?xml version="1.0" encoding="utf-8"?>
--<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
--    xmlns:tools="http://schemas.android.com/tools"
--    android:layout_width="match_parent"
--    android:layout_height="match_parent"
--    tools:context=".ui.MyProfile.PurchasedOrders.ReturnFragment">
--
--    <!-- TODO: Update blank fragment layout -->
--    <TextView
--        android:layout_width="match_parent"
--        android:layout_height="match_parent"
--        android:text="@string/hello_blank_fragment" />
--
--</FrameLayout>
-\ No newline at end of file
-Index: app/src/main/res/layout/fragment_delivered2.xml
-===================================================================
-diff --git a/app/src/main/res/layout/fragment_delivered2.xml b/app/src/main/res/layout/fragment_delivered2.xml
-deleted file mode 100644
---- a/app/src/main/res/layout/fragment_delivered2.xml	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,13 +0,0 @@
--<?xml version="1.0" encoding="utf-8"?>
--<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
--    xmlns:tools="http://schemas.android.com/tools"
--    android:layout_width="match_parent"
--    android:layout_height="match_parent"
--    tools:context=".ui.MyProfile.state_order.fragment.InTransitFragment" >
--
--    <androidx.recyclerview.widget.RecyclerView
--        android:id="@+id/rvOrder"
--        android:layout_width="match_parent"
--        android:layout_height="match_parent"
--        tools:listitem="@layout/item_order"/>
--</RelativeLayout>
-\ No newline at end of file
-Index: app/src/main/res/layout/fragment_waiting.xml
-===================================================================
-diff --git a/app/src/main/res/layout/fragment_waiting.xml b/app/src/main/res/layout/fragment_waiting.xml
-deleted file mode 100644
---- a/app/src/main/res/layout/fragment_waiting.xml	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,14 +0,0 @@
--<?xml version="1.0" encoding="utf-8"?>
--<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
--    xmlns:tools="http://schemas.android.com/tools"
--    android:layout_width="match_parent"
--    android:layout_height="match_parent"
--    tools:context=".ui.MyProfile.PurchasedOrders.WaitingGoodsFragment">
--
--    <!-- TODO: Update blank fragment layout -->
--    <TextView
--        android:layout_width="match_parent"
--        android:layout_height="match_parent"
--        android:text="@string/hello_blank_fragment" />
--
--</FrameLayout>
-\ No newline at end of file
-Index: app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/WaitingConfirmFragment.java
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/WaitingConfirmFragment.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/WaitingConfirmFragment.java
-deleted file mode 100644
---- a/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/WaitingConfirmFragment.java	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,66 +0,0 @@
--package com.example.agrimart.ui.MyProfile.PurchasedOrders;
--
--import android.os.Bundle;
--
--import androidx.fragment.app.Fragment;
--
--import android.view.LayoutInflater;
--import android.view.View;
--import android.view.ViewGroup;
--
--import com.example.agrimart.R;
--
--/**
-- * A simple {@link Fragment} subclass.
-- * Use the {@link WaitingConfirmFragment#newInstance} factory method to
-- * create an instance of this fragment.
-- */
--public class WaitingConfirmFragment extends Fragment {
--
--    // TODO: Rename parameter arguments, choose names that match
--    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
--    private static final String ARG_PARAM1 = "param1";
--    private static final String ARG_PARAM2 = "param2";
--
--    // TODO: Rename and change types of parameters
--    private String mParam1;
--    private String mParam2;
--
--    public WaitingConfirmFragment() {
--        // Required empty public constructor
--    }
--
--    /**
--     * Use this factory method to create a new instance of
--     * this fragment using the provided parameters.
--     *
--     * @param param1 Parameter 1.
--     * @param param2 Parameter 2.
--     * @return A new instance of fragment ConfirmFragment.
--     */
--    // TODO: Rename and change types and number of parameters
--    public static WaitingConfirmFragment newInstance(String param1, String param2) {
--        WaitingConfirmFragment fragment = new WaitingConfirmFragment();
--        Bundle args = new Bundle();
--        args.putString(ARG_PARAM1, param1);
--        args.putString(ARG_PARAM2, param2);
--        fragment.setArguments(args);
--        return fragment;
--    }
--
--    @Override
--    public void onCreate(Bundle savedInstanceState) {
--        super.onCreate(savedInstanceState);
--        if (getArguments() != null) {
--            mParam1 = getArguments().getString(ARG_PARAM1);
--            mParam2 = getArguments().getString(ARG_PARAM2);
--        }
--    }
--
--    @Override
--    public View onCreateView(LayoutInflater inflater, ViewGroup container,
--                             Bundle savedInstanceState) {
--        // Inflate the layout for this fragment
--        return inflater.inflate(R.layout.fragment_confirm, container, false);
--    }
--}
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM__Changes_.xml
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM__Changes_.xml
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM__Changes_.xml	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM_[Changes]" date="1731470924007" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_08_AM_[Changes]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/13/2024 11:08 AM [Changes]" />
--</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM__Changes_.xml
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM__Changes_.xml
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM__Changes_.xml	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM_[Changes]" date="1731471097165" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_11_11_AM_[Changes]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/13/2024 11:11 AM [Changes]" />
--</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_5_23_PM__Changes_1.xml
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_5_23_PM__Changes_1.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_5_23_PM__Changes_1.xml
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_5_23_PM__Changes_1.xml	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_11_13_2024_5_23_PM_[Changes]1" date="1731493428102" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_5_23_PM_[Changes]1/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/13/2024 5:23 PM [Changes]" />
--</changelist>
-\ No newline at end of file
-Index: app/src/main/res/layout/fragment_confirm.xml
-===================================================================
-diff --git a/app/src/main/res/layout/fragment_confirm.xml b/app/src/main/res/layout/fragment_confirm.xml
-deleted file mode 100644
---- a/app/src/main/res/layout/fragment_confirm.xml	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,14 +0,0 @@
--<?xml version="1.0" encoding="utf-8"?>
--<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
--    xmlns:tools="http://schemas.android.com/tools"
--    android:layout_width="match_parent"
--    android:layout_height="match_parent"
--    tools:context=".ui.MyProfile.PurchasedOrders.WaitingConfirmFragment">
--
--    <!-- TODO: Update blank fragment layout -->
--    <TextView
--        android:layout_width="match_parent"
--        android:layout_height="match_parent"
--        android:text="@string/hello_blank_fragment" />
--
--</FrameLayout>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_5_23_PM_[Changes]1/shelved.patch
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_5_23_PM_[Changes]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_5_23_PM_[Changes]1/shelved.patch
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_13_2024_5_23_PM_[Changes]1/shelved.patch	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,230 +0,0 @@
--Index: app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.ui.MyProfile.MyAccount;\r\n\r\nimport android.app.DatePickerDialog;\r\nimport android.content.Intent;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Typeface;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.widget.CalendarView;\r\nimport android.widget.DatePicker;\r\nimport android.widget.FrameLayout;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.bumptech.glide.Glide;\r\nimport com.bumptech.glide.request.RequestOptions;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.viewmodel.MyAccountViewModel;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.UserInfo;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\nimport com.yalantis.ucrop.UCrop;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Calendar;\r\n\r\npublic class MyAccountActivity extends AppCompatActivity {\r\n\r\n    TextView user_name_text, my_phone_number_text, email_text, user_sex_text, user_date_birth_text;\r\n    ImageButton btn_back;\r\n    ImageView user_image;\r\n    FrameLayout btn_account_img;\r\n    private static final int PICK_IMAGE_REQUEST = 1;\r\n    LinearLayout myUserSex, myUserDateBirth, myUserName, changePassword, myPhoneNumber;\r\n    String[] genderOptions = {\"Nam\", \"Nữ\", \"Khác\"};\r\n    private static final int EDIT_USER_REQUEST_CODE = 1;\r\n    private static final int EDIT_NUMBER_PHONE_REQUEST_CODE = 10;\r\n    private MyAccountViewModel viewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_my_account);\r\n\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        addControl();\r\n\r\n\r\n\r\n        addLoadData();\r\n\r\n        addEvent();\r\n    }\r\n\r\n    void addControl() {\r\n        user_name_text = findViewById(R.id.user_name_text);\r\n        my_phone_number_text = findViewById(R.id.my_phone_number_text);\r\n        email_text = findViewById(R.id.email_text);\r\n        user_date_birth_text = findViewById(R.id.user_date_birth_text);\r\n        user_sex_text = findViewById(R.id.user_sex_text);\r\n        btn_back = findViewById(R.id.btn_back);\r\n        user_image = findViewById(R.id.user_image);\r\n        btn_account_img = findViewById(R.id.fl_my_account_img);\r\n        myUserSex = findViewById(R.id.my_user_sex);\r\n        myUserDateBirth = findViewById(R.id.my_user_date_birth);\r\n        myUserName = findViewById(R.id.my_user_name);\r\n        changePassword = findViewById(R.id.change_password);\r\n        myPhoneNumber = findViewById(R.id.my_phone_number);\r\n        viewModel = new ViewModelProvider(this).get(MyAccountViewModel.class);\r\n    }\r\n\r\n    void addLoadData()\r\n    {\r\n        // lấy thông tin user\r\n        viewModel.getUser().observe(this, user -> {\r\n\r\n            if (user != null) {\r\n                user_name_text.setText(user.getFullName());\r\n                my_phone_number_text.setText(user.getPhoneNumber());\r\n                email_text.setText(user.getEmail());\r\n                user_sex_text.setText(user.getSex());\r\n                user_date_birth_text.setText(user.getBirthDate());\r\n                viewModel.loadImage(MyAccountActivity.this, user_image);\r\n\r\n            }\r\n        });\r\n\r\n        // kiểm tra đăng nhập\r\n        viewModel.getIsChangePassword().observe(this, isChangePassword -> {\r\n            if(isChangePassword)\r\n            {\r\n                changePassword.setVisibility(View.GONE);\r\n            }\r\n        });\r\n    }\r\n\r\n    void addEvent() {\r\n        btn_back.setOnClickListener(v -> back());\r\n        btn_account_img.setOnClickListener(v -> openImageChooser()); // cập nhật ảnh user\r\n        myUserSex.setOnClickListener(v -> openGenderOptions()); // cập nhật giới tính\r\n        myUserDateBirth.setOnClickListener(v -> openDatePicker());\r\n        myUserName.setOnClickListener(v -> openEditUser());\r\n        changePassword.setOnClickListener(v -> openVerifyAccount());\r\n        myPhoneNumber.setOnClickListener(v -> openEditNumberPhone());\r\n    }\r\n\r\n    void openEditNumberPhone()\r\n    {\r\n        Intent intent = new Intent(MyAccountActivity.this, EditNumberPhoneActivity.class);\r\n        startActivityForResult(intent, EDIT_NUMBER_PHONE_REQUEST_CODE);\r\n    }\r\n\r\n    void back()\r\n    {\r\n        setResult(RESULT_OK); // Đặt kết quả trả về\r\n        finish();\r\n    }\r\n\r\n\r\n    private void openVerifyAccount()\r\n    {\r\n        Intent intent = new Intent(MyAccountActivity.this, VerifyWithPasswordActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void openEditUser()\r\n    {\r\n        Intent intent = new Intent(MyAccountActivity.this, EditUserNameActivity.class);\r\n        startActivityForResult(intent, EDIT_USER_REQUEST_CODE);\r\n    }\r\n\r\n    private void openDatePicker() {\r\n        // Tạo AlertDialog\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\r\n        // Inflate layout tùy chỉnh\r\n        LayoutInflater inflater = getLayoutInflater();\r\n        View dialogView = inflater.inflate(R.layout.dialog_calendar, null);\r\n        DatePicker datePicker = dialogView.findViewById(R.id.datePicker);\r\n\r\n        // Đặt ngày cho DatePicker\r\n        final Calendar calendar = Calendar.getInstance();\r\n        datePicker.init(calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get(Calendar.DAY_OF_MONTH), null);\r\n\r\n        builder.setView(dialogView)\r\n                .setPositiveButton(\"Hoàn thành\", (dialog, which) -> {\r\n                    // Lấy ngày đã chọn\r\n                    int day = datePicker.getDayOfMonth();\r\n                    int month = datePicker.getMonth() + 1; // Month is 0-based\r\n                    int year = datePicker.getYear();\r\n                    String selectedDate = day + \"/\" + month + \"/\" + year;\r\n\r\n                    // Cập nhật TextView với ngày đã chọn\r\n                    user_date_birth_text.setText(selectedDate);\r\n                    viewModel.saveBirthDateToFirestore(selectedDate);\r\n                })\r\n                .setNegativeButton(\"Hủy\", (dialog, which) -> dialog.dismiss());\r\n\r\n        // Giới hạn ngày phải bé hơn hoặc bằng ngày hiện hành\r\n        datePicker.setMaxDate(calendar.getTimeInMillis());\r\n\r\n        // Hiển thị AlertDialog\r\n        builder.show();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private void openGenderOptions() {\r\n        // Tạo một TextView cho tiêu đề và tùy chỉnh nó\r\n        TextView title = new TextView(this);\r\n        title.setText(\"Giới tính\");\r\n        title.setPadding(0, 30, 0, 30); // Khoảng cách trên và dưới\r\n        title.setGravity(Gravity.CENTER); // Căn giữa\r\n        title.setTextSize(20); // Kích thước chữ\r\n        title.setTypeface(null, Typeface.BOLD); // Đặt kiểu chữ đậm nếu cần\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setCustomTitle(title); // Đặt tiêu đề tùy chỉnh\r\n\r\n        // Kiểm tra nếu genderOptions không null\r\n        if (genderOptions != null) {\r\n            // Thiết lập danh sách tùy chọn\r\n            builder.setItems(genderOptions, (dialog, which) -> {\r\n                user_sex_text.setText(genderOptions[which]);\r\n                // Gọi phương thức trong ViewModel để lưu giới tính\r\n                viewModel.saveGenderToFirestore(genderOptions[which]);\r\n            });\r\n        } else {\r\n            Toast.makeText(this, \"Không có tùy chọn giới tính\", Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        // Hiển thị dialog\r\n        builder.show();\r\n    }\r\n\r\n\r\n    private void openImageChooser() {\r\n        Intent intent = new Intent();\r\n        intent.setType(\"image/*\");\r\n        intent.setAction(Intent.ACTION_GET_CONTENT);\r\n        startActivityForResult(Intent.createChooser(intent, \"Select Picture\"), PICK_IMAGE_REQUEST);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == EDIT_NUMBER_PHONE_REQUEST_CODE && resultCode == RESULT_OK) {\r\n            viewModel.loadUserInfo(); // Gọi phương thức để tải lại thông tin người dùng\r\n        }\r\n        // Kiểm tra nếu kết quả trả về từ EditUserActivity\r\n        if (requestCode == EDIT_USER_REQUEST_CODE && resultCode == RESULT_OK) {\r\n            viewModel.loadUserInfo(); // Gọi phương thức để tải lại thông tin người dùng\r\n        }\r\n\r\n        if (requestCode == PICK_IMAGE_REQUEST && resultCode == RESULT_OK && data != null && data.getData() != null) {\r\n            Uri imageUri = data.getData();\r\n\r\n            // Crop ảnh trước khi tải lên\r\n            Uri destinationUri = Uri.fromFile(new File(getCacheDir(), \"cropped_image.jpg\"));\r\n            UCrop.of(imageUri, destinationUri)\r\n                    .withAspectRatio(1, 1) // Tỉ lệ khung hình 1:1\r\n                    .withMaxResultSize(512, 512) // Kích thước tối đa\r\n                    .start(this);\r\n        }\r\n\r\n        if (requestCode == UCrop.REQUEST_CROP) {\r\n            final int resultCodeCrop = resultCode;\r\n            final Intent resultData = data;\r\n            if (resultCodeCrop == RESULT_OK) {\r\n                Uri croppedImageUri = UCrop.getOutput(resultData);\r\n\r\n                // Tải ảnh đã crop lên Firebase\r\n                viewModel.uploadImageToFirebase(MyAccountActivity.this, croppedImageUri, new MyAccountViewModel.ImageUploadCallback() {\r\n                    @Override\r\n                    public void onSuccess(String imageUrl) {\r\n                        // Gọi loadUserInfo và loadImage sau khi ảnh đã được tải lên thành công\r\n                        viewModel.loadUserInfo();\r\n                        viewModel.loadImage(MyAccountActivity.this, user_image);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure() {\r\n                        Toast.makeText(MyAccountActivity.this, \"Error uploading image\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n            } else if (resultCodeCrop == UCrop.RESULT_ERROR) {\r\n                Toast.makeText(this, \"Error cropping image\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java
----- a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java	
--+++ b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAccount/MyAccountActivity.java	
--@@ -22,6 +22,7 @@
-- import androidx.activity.EdgeToEdge;
-- import androidx.appcompat.app.AlertDialog;
-- import androidx.appcompat.app.AppCompatActivity;
--+import androidx.appcompat.widget.Toolbar;
-- import androidx.core.graphics.Insets;
-- import androidx.core.view.ViewCompat;
-- import androidx.core.view.WindowInsetsCompat;
--@@ -48,7 +49,7 @@
-- public class MyAccountActivity extends AppCompatActivity {
-- 
--     TextView user_name_text, my_phone_number_text, email_text, user_sex_text, user_date_birth_text;
---    ImageButton btn_back;
--+    //ImageButton btn_back;
--     ImageView user_image;
--     FrameLayout btn_account_img;
--     private static final int PICK_IMAGE_REQUEST = 1;
--@@ -57,6 +58,7 @@
--     private static final int EDIT_USER_REQUEST_CODE = 1;
--     private static final int EDIT_NUMBER_PHONE_REQUEST_CODE = 10;
--     private MyAccountViewModel viewModel;
--+    private Toolbar toolbar;
-- 
--     @Override
--     protected void onCreate(Bundle savedInstanceState) {
--@@ -85,7 +87,8 @@
--         email_text = findViewById(R.id.email_text);
--         user_date_birth_text = findViewById(R.id.user_date_birth_text);
--         user_sex_text = findViewById(R.id.user_sex_text);
---        btn_back = findViewById(R.id.btn_back);
--+        //btn_back = findViewById(R.id.btn_back);
--+        toolbar = findViewById(R.id.header_toolbar);
--         user_image = findViewById(R.id.user_image);
--         btn_account_img = findViewById(R.id.fl_my_account_img);
--         myUserSex = findViewById(R.id.my_user_sex);
--@@ -122,7 +125,8 @@
--     }
-- 
--     void addEvent() {
---        btn_back.setOnClickListener(v -> back());
--+        //btn_back.setOnClickListener(v -> back());
--+        toolbar.setNavigationOnClickListener(v -> back());
--         btn_account_img.setOnClickListener(v -> openImageChooser()); // cập nhật ảnh user
--         myUserSex.setOnClickListener(v -> openGenderOptions()); // cập nhật giới tính
--         myUserDateBirth.setOnClickListener(v -> openDatePicker());
--Index: app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.data.model.Store;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.text.Normalizer;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class SearchViewModel extends ViewModel {\r\n\r\n    private MutableLiveData<List<Product>> filteredProducts = new MutableLiveData<>(new ArrayList<>());\r\n    private List<Product> originalProductList = new ArrayList<>();\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n    public LiveData<List<Product>> getFilteredProducts() {\r\n        return filteredProducts;\r\n    }\r\n\r\n    public void searchProductsByName(String query) {\r\n        db.collection(\"products\")\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Product> products = task.getResult().toObjects(Product.class);\r\n                        List<Product> filteredList = new ArrayList<>();\r\n                        List<Product> remainingList = new ArrayList<>();\r\n\r\n                        for (Product product : products) {\r\n                            if (product.getName() != null) {\r\n                                String productName = product.getName().toLowerCase();\r\n                                String lowerCaseQuery = query.toLowerCase();\r\n                                if (productName.startsWith(lowerCaseQuery)) {\r\n                                    filteredList.add(product);\r\n                                } else if (productName.contains(lowerCaseQuery)) {\r\n                                    remainingList.add(product);\r\n                                }\r\n                            }\r\n                        }\r\n                        filteredList.addAll(remainingList);\r\n                        originalProductList = new ArrayList<>(filteredList);\r\n                        filteredProducts.setValue(filteredList);\r\n                    } else {\r\n                        filteredProducts.setValue(new ArrayList<>());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void searchProductsByCategory(String categoryId) {\r\n        db.collection(\"products\")\r\n                .whereEqualTo(\"category_id\", categoryId)\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        List<Product> products = task.getResult().toObjects(Product.class);\r\n                        originalProductList = new ArrayList<>(products);\r\n                        filteredProducts.setValue(products);\r\n                    } else {\r\n                        filteredProducts.setValue(new ArrayList<>());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void searchProductsByStoreName(String storeName) {\r\n        db.collection(\"users\")\r\n                .whereEqualTo(\"store_name\", storeName)\r\n                .get()\r\n                .addOnCompleteListener(storeTask -> {\r\n                    if (storeTask.isSuccessful() && !storeTask.getResult().isEmpty()) {\r\n                        String storeId = storeTask.getResult().getDocuments().get(0).getId();\r\n                        db.collection(\"products\")\r\n                                .whereEqualTo(\"storeId\", storeId)\r\n                                .get()\r\n                                .addOnCompleteListener(productTask -> {\r\n                                    if (productTask.isSuccessful()) {\r\n                                        List<Product> products = productTask.getResult().toObjects(Product.class);\r\n                                        originalProductList = new ArrayList<>(products);\r\n                                        filteredProducts.setValue(products);\r\n                                    } else {\r\n                                        filteredProducts.setValue(new ArrayList<>());\r\n                                    }\r\n                                });\r\n                    } else {\r\n                        filteredProducts.setValue(new ArrayList<>());\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void sortProducts(String sortBy) {\r\n        List<Product> currentProducts = filteredProducts.getValue() != null ? new ArrayList<>(filteredProducts.getValue()) : new ArrayList<>();\r\n\r\n        switch (sortBy) {\r\n            case \"Liên quan nhất\":\r\n                currentProducts = new ArrayList<>(originalProductList);\r\n                break;\r\n            case \"Mới nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> p2.getCreated_at().compareTo(p1.getCreated_at()));\r\n                break;\r\n            case \"Cũ nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> p1.getCreated_at().compareTo(p2.getCreated_at()));\r\n                break;\r\n            case \"Giá cao nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> Double.compare(p2.getPrice(), p1.getPrice()));\r\n                break;\r\n            case \"Giá thấp nhất\":\r\n                Collections.sort(currentProducts, (p1, p2) -> Double.compare(p1.getPrice(), p2.getPrice()));\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        filteredProducts.setValue(currentProducts);\r\n    }\r\n\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java
----- a/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java	
--+++ b/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java	
--@@ -7,11 +7,8 @@
-- import androidx.lifecycle.ViewModel;
-- 
-- import com.example.agrimart.data.model.Product;
---import com.example.agrimart.data.model.Store;
---import com.google.firebase.firestore.DocumentSnapshot;
-- import com.google.firebase.firestore.FirebaseFirestore;
-- 
---import java.text.Normalizer;
-- import java.util.ArrayList;
-- import java.util.Collections;
-- import java.util.List;
--@@ -36,7 +33,7 @@
--                         List<Product> remainingList = new ArrayList<>();
-- 
--                         for (Product product : products) {
---                            if (product.getName() != null) {
--+                            if (product.getName() != null && "available".equals(product.getActive())) {
--                                 String productName = product.getName().toLowerCase();
--                                 String lowerCaseQuery = query.toLowerCase();
--                                 if (productName.startsWith(lowerCaseQuery)) {
--@@ -62,8 +59,14 @@
--                 .addOnCompleteListener(task -> {
--                     if (task.isSuccessful()) {
--                         List<Product> products = task.getResult().toObjects(Product.class);
---                        originalProductList = new ArrayList<>(products);
---                        filteredProducts.setValue(products);
--+                        List<Product> availableProducts = new ArrayList<>();
--+                        for (Product product : products) {
--+                            if ("available".equals(product.getActive())) {
--+                                availableProducts.add(product);
--+                            }
--+                        }
--+                        originalProductList = new ArrayList<>(availableProducts);
--+                        filteredProducts.setValue(availableProducts);
--                     } else {
--                         filteredProducts.setValue(new ArrayList<>());
--                     }
--@@ -83,8 +86,14 @@
--                                 .addOnCompleteListener(productTask -> {
--                                     if (productTask.isSuccessful()) {
--                                         List<Product> products = productTask.getResult().toObjects(Product.class);
---                                        originalProductList = new ArrayList<>(products);
---                                        filteredProducts.setValue(products);
--+                                        List<Product> availableProducts = new ArrayList<>();
--+                                        for (Product product : products) {
--+                                            if ("available".equals(product.getActive())) {
--+                                                availableProducts.add(product);
--+                                            }
--+                                        }
--+                                        originalProductList = new ArrayList<>(availableProducts);
--+                                        filteredProducts.setValue(availableProducts);
--                                     } else {
--                                         filteredProducts.setValue(new ArrayList<>());
--                                     }
--@@ -121,4 +130,4 @@
--         filteredProducts.setValue(currentProducts);
--     }
-- 
---}
--+}
--\ No newline at end of file
--Index: app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.adapter.CarouselAdapter;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.adapter.EndlessRecyclerViewScrollListener;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\nimport com.example.agrimart.ui.Explore.ExploreFragment;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\nimport com.example.agrimart.viewmodel.HomeFragmentViewModel;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    private static final String TAG = \"HomeFragment\";\r\n    ImageButton btnSearch;\r\n    TextView search;\r\n    HomeFragmentViewModel viewModel;\r\n    FragmentHomeBinding binding;\r\n    EndlessRecyclerViewScrollListener scrollListener;\r\n    private int totalPages;\r\n    private int currentPage = 1;\r\n    private List<Product> products=new ArrayList<>();\r\n    private DocumentSnapshot lastVisible;\r\n    ProductAdapter productAdapter;\r\n    private boolean isLoading = false;\r\n    private ViewPager2 carouselViewPager;\r\n    private CarouselAdapter carouselAdapter;\r\n    private Handler carouselHandler;\r\n    private Runnable carouselRunnable;\r\n\r\n    public HomeFragment() {\r\n\r\n    }\r\n\r\n    public static HomeFragment newInstance() {\r\n        return new HomeFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        db.collection(\"products\")\r\n                .whereEqualTo(\"status\", \"available\")\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        totalPages= (task.getResult().size()/10)+1;\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_home, container, false);\r\n        viewModel = new ViewModelProvider(this).get(HomeFragmentViewModel.class);\r\n\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding.setViewmodel(viewModel);\r\n        View view = binding.getRoot();\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getActivity().getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        viewModel.getCategories();\r\n//        viewModel.getFirstProducts();\r\n\r\n        viewModel.categories.observe(getViewLifecycleOwner(), categories -> {\r\n            if (categories != null) {\r\n                CategoryAdapter categoryAdapter = new CategoryAdapter(categories, category -> {\r\n                    // Khi chọn một category, chuyển đến ExploreFragment và chọn mục category\r\n                    ExploreFragment newFragment = new ExploreFragment(category.getId());\r\n\r\n                    // Thay đổi mục đã chọn trong BottomNavigationView\r\n                    BottomNavigationView bottomNavigationView = getActivity().findViewById(R.id.bottomNavigation);\r\n                    if (bottomNavigationView != null) {\r\n                        bottomNavigationView.setSelectedItemId(R.id.category); // Chọn mục category\r\n                    }\r\n\r\n                    loadFragment(newFragment);\r\n                });\r\n\r\n                binding.rvCategories.setAdapter(categoryAdapter);\r\n                binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));\r\n                Log.d(TAG, \"Categories loaded: \" + categories.size());\r\n            }\r\n        });\r\n\r\n//        viewModel.products.observe(getViewLifecycleOwner(), products -> {\r\n//            if (products != null) {\r\n//                productAdapter = new ProductAdapter(products, product -> {\r\n//                    try {\r\n//                        Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n//                        intent.putExtra(\"product\", product);\r\n//                        intent.putExtra(\"storeId\", product.getStoreId());\r\n//                        startActivity(intent);\r\n//                    } catch (Exception e) {\r\n//\r\n//                    }\r\n//                });\r\n//                GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(), 2);\r\n//                binding.rvProducts.setLayoutManager(gridLayoutManager);\r\n//                binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n//                binding.rvProducts.setAdapter(productAdapter);\r\n//\r\n//            }\r\n//        });\r\n        getFirstProducts();\r\n        productAdapter= new ProductAdapter(products, product -> {\r\n            try {\r\n                Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n                intent.putExtra(\"product\", product);\r\n                intent.putExtra(\"storeId\", product.getStoreId());\r\n                startActivity(intent);\r\n            } catch (Exception e) {\r\n\r\n            }\r\n        });\r\n        GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(), 2);\r\n        binding.rvProducts.setLayoutManager(gridLayoutManager);\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n\r\n\r\n\r\n\r\n\r\n\r\n        binding.scrollView.setOnScrollChangeListener(new View.OnScrollChangeListener() {\r\n            @Override\r\n            public void onScrollChange(View view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\r\n                int scrollViewHeight = binding.scrollView.getChildAt(0).getMeasuredHeight();\r\n                int scrollViewVisibleHeight = binding.scrollView.getHeight();\r\n\r\n                if (scrollY + scrollViewVisibleHeight >= scrollViewHeight) {\r\n\r\n                    if (!isLoading) {\r\n                        isLoading = true;\r\n                        binding.seeAll1.setVisibility(View.VISIBLE);\r\n\r\n                        new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                getMoreProducts();\r\n                            }\r\n                        }, 2000);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        addControls(view);\r\n        addEvents();\r\n        setupCarousel();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void setupCarousel() {\r\n        carouselViewPager = binding.carouselViewpager;\r\n        carouselAdapter = new CarouselAdapter(getCarouselItems());\r\n        carouselViewPager.setAdapter(carouselAdapter);\r\n\r\n        carouselHandler = new Handler(Looper.getMainLooper());\r\n        carouselRunnable = () -> {\r\n            int currentItem = carouselViewPager.getCurrentItem();\r\n            int nextItem = (currentItem + 1) % carouselAdapter.getItemCount();\r\n            carouselViewPager.setCurrentItem(nextItem, true);\r\n            carouselHandler.postDelayed(carouselRunnable, 10000);\r\n        };\r\n        carouselHandler.postDelayed(carouselRunnable, 10000);\r\n    }\r\n\r\n    private List<String> getCarouselItems() {\r\n        List<String> items = new ArrayList<>();\r\n        items.add(\"https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/categories%2Fgiavi.jpg?alt=media&token=3670aa28-c5ff-483c-bf9a-3325bf48ce9c\");\r\n        items.add(\"https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/categories%2Fgiavi.jpg?alt=media&token=3670aa28-c5ff-483c-bf9a-3325bf48ce9c\");\r\n        items.add(\"https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/categories%2Fgiavi.jpg?alt=media&token=3670aa28-c5ff-483c-bf9a-3325bf48ce9c\");\r\n        return items;\r\n    }\r\n\r\n    private void addEvents() {\r\n        btnSearch.setOnClickListener(v -> {\r\n            Intent intent = new Intent(getActivity(), SearchActivity.class);\r\n            getActivity().startActivity(intent);\r\n        });\r\n\r\n        search.setOnClickListener(v -> {\r\n            Intent intent = new Intent(getContext(), SearchActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void addControls(View view) {\r\n        btnSearch = view.findViewById(R.id.search_icon);\r\n        search = view.findViewById(R.id.search_input);\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getActivity().getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n    public void getFirstProducts(){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        Query first= db.collection(\"products\")\r\n                .whereEqualTo(\"status\", \"available\")\r\n                .limit(10);\r\n\r\n        first.get()\r\n                .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                        List<Product> productList = queryDocumentSnapshots.toObjects(Product.class);\r\n                        products.addAll(productList);\r\n                        productAdapter.notifyDataSetChanged();\r\n\r\n                        lastVisible=queryDocumentSnapshots.getDocuments()\r\n                                .get(queryDocumentSnapshots.size()-1);\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void getMoreProducts(){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        Query next= db.collection(\"products\")\r\n                .whereEqualTo(\"status\", \"available\")\r\n                .startAfter(lastVisible)\r\n                .limit(10);\r\n\r\n        next.get()\r\n                .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n\r\n                        List<Product> newList = queryDocumentSnapshots.toObjects(Product.class);\r\n\r\n                        products.addAll(newList);\r\n                        productAdapter.notifyDataSetChanged();\r\n                        isLoading=false;\r\n\r\n                        if(!newList.isEmpty()){\r\n                            lastVisible=queryDocumentSnapshots.getDocuments()\r\n                                    .get(queryDocumentSnapshots.size()-1);\r\n                        }\r\n                        currentPage+=1;\r\n                        if(currentPage==totalPages){\r\n                            binding.seeAll1.setVisibility(View.GONE);\r\n                        }\r\n                        binding.seeAll1.setVisibility(View.GONE);\r\n\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
----- a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	
--+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	
--@@ -1,5 +1,6 @@
-- package com.example.agrimart.ui.Homepage;
-- 
--+import android.annotation.SuppressLint;
-- import android.content.Intent;
-- import android.os.Build;
-- import android.os.Bundle;
--@@ -86,6 +87,7 @@
--     }
-- 
-- 
--+    @SuppressLint("NewApi")
--     @Override
--     public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
--         binding = DataBindingUtil.inflate(inflater, R.layout.fragment_home, container, false);
--Index: app/build.gradle.kts
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>plugins {\r\n    id(\"com.android.application\")\r\n    id(\"com.google.gms.google-services\")\r\n}\r\n\r\nandroid {\r\n    namespace = \"com.example.agrimart\"\r\n    compileSdk = 34\r\n\r\n    defaultConfig {\r\n        applicationId = \"com.example.agrimart\"\r\n        minSdk = 30\r\n        targetSdk = 34\r\n        versionCode = 1\r\n        versionName = \"1.0\"\r\n\r\n        testInstrumentationRunner = \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            isMinifyEnabled = false\r\n            proguardFiles(getDefaultProguardFile(\"proguard-android-optimize.txt\"), \"proguard-rules.pro\")\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility = JavaVersion.VERSION_1_8\r\n        targetCompatibility = JavaVersion.VERSION_1_8\r\n    }\r\n    sourceSets {\r\n        getByName(\"main\") {\r\n            res {\r\n                srcDirs(\"src\\\\main\\\\res\", \"src\\\\main\\\\res\\\\animator\")\r\n            }\r\n        }\r\n    }\r\n    buildFeatures{\r\n        viewBinding=true;\r\n        dataBinding=true;\r\n    }\r\n}\r\ndependencies {\r\n    implementation(\"com.squareup.retrofit2:retrofit:2.9.0\")\r\n    implementation(\"com.squareup.retrofit2:converter-gson:2.9.0\")\r\n    implementation(\"com.google.code.gson:gson:2.10.1\")\r\n    implementation(\"com.github.yalantis:ucrop:2.2.6\")\r\n    implementation(\"androidx.core:core-ktx:1.12.0\")\r\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib:1.8.22\")\r\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.22\")\r\n    implementation(\"androidx.viewpager:viewpager:1.0.0\")\r\n    implementation(\"androidx.appcompat:appcompat:1.6.1\")\r\n    implementation(\"androidx.constraintlayout:constraintlayout:2.1.4\")\r\n    implementation(\"androidx.activity:activity:1.9.1\")\r\n    implementation (\"com.github.denzcoskun:ImageSlideshow:0.1.2\")\r\n    implementation (\"de.hdodenhof:circleimageview:3.1.0\")\r\n    implementation (\"com.squareup.picasso:picasso:2.71828\")\r\n    implementation(\"androidx.lifecycle:lifecycle-livedata-ktx:2.8.7\")\r\n    implementation(\"androidx.lifecycle:lifecycle-viewmodel-ktx:2.8.7\")\r\n    implementation(\"androidx.recyclerview:recyclerview:1.3.2\")\r\n    implementation (\"com.google.android.material:material:1.12.0\")\r\n    implementation(\"com.google.firebase:firebase-firestore:25.1.1\")\r\n    implementation(\"com.google.firebase:firebase-auth:23.1.0\")\r\n    implementation(\"com.google.firebase:firebase-storage:21.0.1\")\r\n    implementation(\"com.google.firebase:firebase-messaging:24.0.3\")\r\n    implementation(\"com.google.firebase:firebase-inappmessaging-display:21.0.1\")\r\n    implementation(\"androidx.navigation:navigation-fragment:2.8.3\")\r\n    implementation(\"androidx.navigation:navigation-ui:2.8.3\")\r\n    testImplementation(\"junit:junit:4.13.2\")\r\n    androidTestImplementation(\"androidx.test.ext:junit:1.2.1\")\r\n    androidTestImplementation(\"androidx.test.espresso:espresso-core:3.6.1\")\r\n    implementation(\"com.google.android.gms:play-services-auth:21.2.0\")\r\n    implementation(platform(\"com.google.firebase:firebase-bom:33.5.1\"))\r\n    implementation (\"com.github.bumptech.glide:glide:4.16.0\")\r\n    implementation (\"com.github.dhaval2404:imagepicker:2.1\")\r\n//  implementation (\"io.github.ParkSangGwon:tedimagepicker:1.6.1\")\r\n    // ViewModel\r\n//    implementation(\"androidx.lifecycle:lifecycle-viewmodel:2.8.5\")\r\n    implementation (\"com.facebook.android:facebook-login:latest.release\")\r\n    implementation(\"androidx.browser:browser:1.8.0\")\r\n\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/build.gradle.kts b/app/build.gradle.kts
----- a/app/build.gradle.kts	
--+++ b/app/build.gradle.kts	
--@@ -65,6 +65,12 @@
--     implementation("com.google.firebase:firebase-inappmessaging-display:21.0.1")
--     implementation("androidx.navigation:navigation-fragment:2.8.3")
--     implementation("androidx.navigation:navigation-ui:2.8.3")
--+    //ZaloPay
--+    implementation(fileTree(mapOf(
--+        "dir" to "D:\\Data\\Android\\DoAn\\ZaloPay",
--+        "include" to listOf("*.aar", "*.jar"),
--+        "exclude" to listOf("")
--+    )))
--     testImplementation("junit:junit:4.13.2")
--     androidTestImplementation("androidx.test.ext:junit:1.2.1")
--     androidTestImplementation("androidx.test.espresso:espresso-core:3.6.1")
--Index: app/src/main/res/layout/activity_my_account.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.MyProfile.MyAccount.MyAccountActivity\">\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"vertical\"\r\n        tools:ignore=\"MissingConstraints\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:paddingStart=\"12dp\"\r\n            android:paddingEnd=\"12dp\"\r\n            android:paddingTop=\"10dp\"\r\n            android:paddingBottom=\"10dp\"\r\n            android:background=\"@color/white\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/btn_back\"\r\n                android:layout_width=\"30dp\"\r\n                android:layout_height=\"35dp\"\r\n                android:src=\"@drawable/ic_left\"\r\n                android:scaleType=\"fitCenter\"\r\n                android:layout_marginStart=\"5dp\"\r\n                android:layout_gravity=\"center_vertical\"\r\n                android:background=\"@color/white\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/textView1\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"35dp\"\r\n                android:layout_weight=\"1\"\r\n                android:gravity=\"start\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:text=\"Tài khoản &amp; Bảo mật\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"11pt\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"5dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/ll_my_account\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"140dp\"\r\n            android:background=\"@color/green\"\r\n            android:gravity=\"center_vertical\"\r\n            android:orientation=\"vertical\"\r\n            android:padding=\"16dp\">\r\n\r\n            <FrameLayout\r\n                android:id=\"@+id/fl_my_account_img\"\r\n                android:layout_width=\"78dp\"\r\n                android:layout_height=\"78dp\"\r\n                android:background=\"@drawable/rounded_frame\"\r\n                android:clipToOutline=\"true\"\r\n                android:layout_gravity=\"center\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/user_image\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    android:scaleType=\"centerCrop\"\r\n                    />\r\n\r\n                <TextView\r\n                    android:id=\"@+id/overlay_text\"\r\n                    android:layout_width=\"78dp\"\r\n                    android:layout_height=\"39dp\"\r\n                    android:layout_gravity=\"bottom\"\r\n                    android:gravity=\"center\"\r\n                    android:background=\"@drawable/rounded_text\"\r\n                    android:text=\"Sửa\"\r\n                    android:textColor=\"@android:color/white\"\r\n                    android:textSize=\"18sp\" />\r\n\r\n            </FrameLayout>\r\n        </LinearLayout>\r\n\r\n\r\n\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/my_user_name\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_name\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Tên\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_name_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n            <ImageView\r\n                android:id=\"@+id/my_profile_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/my_user_sex\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_sex\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Giới tính\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_sex_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n            <ImageView\r\n                android:id=\"@+id/user_sex_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/my_user_date_birth\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_date_birth\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Ngày sinh\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/user_date_birth_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n            <ImageView\r\n                android:id=\"@+id/my_date_birth_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/my_phone_number\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/my_phone_number_text1\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Điện thoại\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/my_phone_number_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/my_phone_number_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"2dp\"\r\n            android:layout_marginStart=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/my_email\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/email\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:text=\"Email\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/email_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:gravity=\"end\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/my_email_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                 />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"15dp\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n        <LinearLayout\r\n            android:id=\"@+id/change_password\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"50dp\"\r\n            android:orientation=\"horizontal\"\r\n            android:paddingTop=\"10dp\"\r\n            android:layout_marginStart=\"20dp\"\r\n            android:paddingBottom=\"10dp\">\r\n\r\n\r\n            <TextView\r\n                android:id=\"@+id/change_password_text\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"2\"\r\n\r\n                android:text=\"Đổi mật khẩu\"\r\n                android:textColor=\"@color/black\"\r\n                android:textSize=\"8pt\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/change_password_next\"\r\n                android:layout_width=\"40dp\"\r\n                android:layout_height=\"20dp\"\r\n                android:layout_gravity=\"center\"\r\n                android:src=\"@drawable/next\" />\r\n        </LinearLayout>\r\n        <View\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:background=\"@color/background_light_blur_1\" />\r\n\r\n    </LinearLayout>\r\n</androidx.constraintlayout.widget.ConstraintLayout>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/activity_my_account.xml b/app/src/main/res/layout/activity_my_account.xml
----- a/app/src/main/res/layout/activity_my_account.xml	
--+++ b/app/src/main/res/layout/activity_my_account.xml	
--@@ -12,37 +12,20 @@
--         android:orientation="vertical"
--         tools:ignore="MissingConstraints">
-- 
---        <LinearLayout
--+        <androidx.appcompat.widget.Toolbar
--+            android:id="@+id/header_toolbar"
--             android:layout_width="match_parent"
--             android:layout_height="wrap_content"
--+            android:background="@color/white"
--             android:paddingStart="12dp"
--             android:paddingEnd="12dp"
--             android:paddingTop="10dp"
--             android:paddingBottom="10dp"
---            android:background="@color/white"
---            android:orientation="horizontal">
--+            app:title="Tài khoản &amp; Bảo mật"
--+            app:titleTextColor="@color/black"
--+            app:titleTextAppearance="@style/TextAppearance.AppCompat.Large"
--+            app:navigationIcon="@drawable/chevron_left" />
-- 
---            <ImageButton
---                android:id="@+id/btn_back"
---                android:layout_width="30dp"
---                android:layout_height="35dp"
---                android:src="@drawable/ic_left"
---                android:scaleType="fitCenter"
---                android:layout_marginStart="5dp"
---                android:layout_gravity="center_vertical"
---                android:background="@color/white" />
---
---            <TextView
---                android:id="@+id/textView1"
---                android:layout_width="0dp"
---                android:layout_height="35dp"
---                android:layout_weight="1"
---                android:gravity="start"
---                android:layout_marginStart="15dp"
---                android:text="Tài khoản &amp; Bảo mật"
---                android:textColor="@color/black"
---                android:textSize="11pt" />
---        </LinearLayout>
--         <View
--             android:layout_width="match_parent"
--             android:layout_height="5dp"
-Index: app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/ReturnFragment.java
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/ReturnFragment.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/ReturnFragment.java
-deleted file mode 100644
---- a/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/ReturnFragment.java	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,66 +0,0 @@
--package com.example.agrimart.ui.MyProfile.PurchasedOrders;
--
--import android.os.Bundle;
--
--import androidx.fragment.app.Fragment;
--
--import android.view.LayoutInflater;
--import android.view.View;
--import android.view.ViewGroup;
--
--import com.example.agrimart.R;
--
--/**
-- * A simple {@link Fragment} subclass.
-- * Use the {@link ReturnFragment#newInstance} factory method to
-- * create an instance of this fragment.
-- */
--public class ReturnFragment extends Fragment {
--
--    // TODO: Rename parameter arguments, choose names that match
--    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
--    private static final String ARG_PARAM1 = "param1";
--    private static final String ARG_PARAM2 = "param2";
--
--    // TODO: Rename and change types of parameters
--    private String mParam1;
--    private String mParam2;
--
--    public ReturnFragment() {
--        // Required empty public constructor
--    }
--
--    /**
--     * Use this factory method to create a new instance of
--     * this fragment using the provided parameters.
--     *
--     * @param param1 Parameter 1.
--     * @param param2 Parameter 2.
--     * @return A new instance of fragment ReturnFragment.
--     */
--    // TODO: Rename and change types and number of parameters
--    public static ReturnFragment newInstance(String param1, String param2) {
--        ReturnFragment fragment = new ReturnFragment();
--        Bundle args = new Bundle();
--        args.putString(ARG_PARAM1, param1);
--        args.putString(ARG_PARAM2, param2);
--        fragment.setArguments(args);
--        return fragment;
--    }
--
--    @Override
--    public void onCreate(Bundle savedInstanceState) {
--        super.onCreate(savedInstanceState);
--        if (getArguments() != null) {
--            mParam1 = getArguments().getString(ARG_PARAM1);
--            mParam2 = getArguments().getString(ARG_PARAM2);
--        }
--    }
--
--    @Override
--    public View onCreateView(LayoutInflater inflater, ViewGroup container,
--                             Bundle savedInstanceState) {
--        // Inflate the layout for this fragment
--        return inflater.inflate(R.layout.fragment_return, container, false);
--    }
--}
-\ No newline at end of file
-Index: app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/DeliveredFragment.java
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/DeliveredFragment.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/DeliveredFragment.java
-deleted file mode 100644
---- a/app/src/main/java/com/example/agrimart/ui/MyProfile/PurchasedOrders/DeliveredFragment.java	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ /dev/null	(revision 9957bda51f2baad613096b803a384183006af48a)
-@@ -1,66 +0,0 @@
--package com.example.agrimart.ui.MyProfile.PurchasedOrders;
--
--import android.os.Bundle;
--
--import androidx.fragment.app.Fragment;
--
--import android.view.LayoutInflater;
--import android.view.View;
--import android.view.ViewGroup;
--
--import com.example.agrimart.R;
--
--/**
-- * A simple {@link Fragment} subclass.
-- * Use the {@link DeliveredFragment#newInstance} factory method to
-- * create an instance of this fragment.
-- */
--public class DeliveredFragment extends Fragment {
--
--    // TODO: Rename parameter arguments, choose names that match
--    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
--    private static final String ARG_PARAM1 = "param1";
--    private static final String ARG_PARAM2 = "param2";
--
--    // TODO: Rename and change types of parameters
--    private String mParam1;
--    private String mParam2;
--
--    public DeliveredFragment() {
--        // Required empty public constructor
--    }
--
--    /**
--     * Use this factory method to create a new instance of
--     * this fragment using the provided parameters.
--     *
--     * @param param1 Parameter 1.
--     * @param param2 Parameter 2.
--     * @return A new instance of fragment DeliveredFragment.
--     */
--    // TODO: Rename and change types and number of parameters
--    public static DeliveredFragment newInstance(String param1, String param2) {
--        DeliveredFragment fragment = new DeliveredFragment();
--        Bundle args = new Bundle();
--        args.putString(ARG_PARAM1, param1);
--        args.putString(ARG_PARAM2, param2);
--        fragment.setArguments(args);
--        return fragment;
--    }
--
--    @Override
--    public void onCreate(Bundle savedInstanceState) {
--        super.onCreate(savedInstanceState);
--        if (getArguments() != null) {
--            mParam1 = getArguments().getString(ARG_PARAM1);
--            mParam2 = getArguments().getString(ARG_PARAM2);
--        }
--    }
--
--    @Override
--    public View onCreateView(LayoutInflater inflater, ViewGroup container,
--                             Bundle savedInstanceState) {
--        // Inflate the layout for this fragment
--        return inflater.inflate(R.layout.fragment_delivered, container, false);
--    }
--}
-\ No newline at end of file
-Index: app/src/main/res/drawable/rounded_edittext_order.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/drawable/rounded_edittext_order.xml b/app/src/main/res/drawable/rounded_edittext_order.xml
-new file mode 100644
---- /dev/null	(date 1732077805999)
-+++ b/app/src/main/res/drawable/rounded_edittext_order.xml	(date 1732077805999)
-@@ -0,0 +1,6 @@
-+<?xml version="1.0" encoding="utf-8"?>
-+<shape xmlns:android="http://schemas.android.com/apk/res/android">
-+    <solid android:color="#FFFFFF"/> <!-- Màu nền -->
-+    <corners android:radius="10dp"/> <!-- Bán kính bo tròn -->
-+    <stroke android:width="1dp" android:color="@color/green"/> <!-- Đường viền -->
-+</shape>
-Index: app/src/main/res/layout/item_order_store.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/item_order_store.xml b/app/src/main/res/layout/item_order_store.xml
-new file mode 100644
---- /dev/null	(date 1732095714796)
-+++ b/app/src/main/res/layout/item_order_store.xml	(date 1732095714796)
-@@ -0,0 +1,94 @@
-+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
-+    xmlns:app="http://schemas.android.com/apk/res-auto"
-+    xmlns:tools="http://schemas.android.com/tools"
-+    android:layout_width="match_parent"
-+    android:layout_height="wrap_content"
-+    android:orientation="vertical">
-+
-+    <View
-+        android:layout_width="match_parent"
-+        android:layout_height="10dp"
-+        android:background="@color/background_light_blur" />
-+
-+    <LinearLayout
-+        android:layout_width="match_parent"
-+        android:layout_height="wrap_content"
-+        android:layout_marginTop="10dp"
-+        android:padding="10dp">
-+
-+
-+        <ImageView
-+            android:id="@+id/imageView9"
-+            android:layout_width="20dp"
-+            android:layout_height="20dp"
-+            android:layout_gravity="center"
-+            android:layout_weight="0"
-+            app:srcCompat="@drawable/cart_store" />
-+
-+        <TextView
-+            android:id="@+id/tv_store_name"
-+            android:layout_width="wrap_content"
-+            android:layout_height="wrap_content"
-+            android:layout_gravity="center"
-+            android:layout_marginStart="10dp"
-+            android:text="@string/store_name"
-+            android:textColor="@android:color/black"
-+            android:textSize="18sp"
-+            android:textStyle="bold" />
-+
-+        <TextView
-+            android:id="@+id/status"
-+            android:layout_width="wrap_content"
-+            android:layout_height="wrap_content"
-+            android:gravity="end"
-+            android:layout_weight="1"
-+            android:textColor="@color/green"
-+            android:text="Đã hủy"
-+            android:textSize="18sp" />
-+
-+    </LinearLayout>
-+
-+    <View
-+        android:layout_width="match_parent"
-+        android:layout_height="1dp"
-+        android:background="@color/background_light_blur" />
-+
-+    <androidx.recyclerview.widget.RecyclerView
-+        android:id="@+id/recycler"
-+        android:layout_width="match_parent"
-+        android:layout_height="wrap_content"
-+        android:paddingStart="10dp" />
-+
-+    <LinearLayout
-+        android:layout_width="match_parent"
-+        android:layout_height="match_parent"
-+        android:layout_marginTop="10dp"
-+        android:layout_marginEnd="10dp"
-+        android:layout_marginBottom="10dp"
-+        android:orientation="vertical">
-+
-+        <TextView
-+            android:id="@+id/total_price"
-+            android:layout_width="match_parent"
-+            android:layout_height="wrap_content"
-+            android:layout_weight="1"
-+            android:gravity="end"
-+            android:textSize="16sp"
-+            android:textColor="@color/black"
-+            android:text="Tổng số tiền: 100000" />
-+
-+        <androidx.appcompat.widget.AppCompatButton
-+            android:id="@+id/btn_buyBack"
-+            android:layout_width="wrap_content"
-+            android:layout_height="wrap_content"
-+            android:layout_marginTop="10dp"
-+            android:layout_weight="1"
-+            android:layout_gravity="end"
-+            android:background="@drawable/rounded_edittext_order"
-+            android:text="Mua lại"
-+            android:textAllCaps="false"
-+            android:textColor="@color/green"
-+            android:textSize="16sp" />
-+    </LinearLayout>
-+
-+</LinearLayout>
-\ No newline at end of file
-Index: app/src/main/java/com/example/agrimart/data/model/Order.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.data.model;\r\n\r\nimport com.google.firebase.firestore.PropertyName;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.List;\r\n\r\npublic class Order implements Serializable {\r\n\r\n    @PropertyName(\"orderId\")\r\n    private String orderId;\r\n\r\n    @PropertyName(\"products\")\r\n    private List<Product> products;\r\n\r\n    @PropertyName(\"status\")\r\n    private String status;\r\n\r\n    @PropertyName(\"total_price\")\r\n    private int totalPrice;\r\n\r\n    @PropertyName(\"userId\")\r\n    private String userId;\r\n\r\n    @PropertyName(\"storeId\")\r\n    private String sellerId;\r\n\r\n    @PropertyName(\"order_code\")\r\n    private String orderCode;\r\n\r\n    @PropertyName(\"address\")\r\n    private String address;\r\n\r\n    private String statusDelivery;\r\n\r\n    public Order() {\r\n    }\r\n\r\n    public Order(String orderId, String status, int totalPrice) {\r\n        this.orderId = orderId;\r\n        this.status = status;\r\n        this.totalPrice = totalPrice;\r\n    }\r\n\r\n    @PropertyName(\"orderId\")\r\n    public String getOrderId() {\r\n        return orderId;\r\n    }\r\n\r\n    @PropertyName(\"orderId\")\r\n    public void setOrderId(String orderId) {\r\n        this.orderId = orderId;\r\n    }\r\n\r\n    @PropertyName(\"status\")\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    @PropertyName(\"status\")\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    @PropertyName(\"total_price\")\r\n    public int getTotalPrice() {\r\n        return totalPrice;\r\n    }\r\n\r\n    @PropertyName(\"total_price\")\r\n    public void setTotalPrice(int totalPrice) {\r\n        this.totalPrice = totalPrice;\r\n    }\r\n\r\n    @PropertyName(\"userId\")\r\n    public String getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    @PropertyName(\"userId\")\r\n    public void setUserId(String userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    @PropertyName(\"order_code\")\r\n    public String getOrderCode() {\r\n        return orderCode;\r\n    }\r\n\r\n    @PropertyName(\"order_code\")\r\n    public void setOrderCode(String orderCode) {\r\n        this.orderCode = orderCode;\r\n    }\r\n\r\n    public String getStatusDelivery() {\r\n        return statusDelivery;\r\n    }\r\n\r\n    public void setStatusDelivery(String statusDelivery) {\r\n        this.statusDelivery = statusDelivery;\r\n    }\r\n\r\n    @PropertyName(\"address\")\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    @PropertyName(\"address\")\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    @PropertyName(\"storeId\")\r\n    public String getSellerId() {\r\n        return sellerId;\r\n    }\r\n\r\n    @PropertyName(\"storeId\")\r\n    public void setSellerId(String sellerId) {\r\n        this.sellerId = sellerId;\r\n    }\r\n\r\n    public List<Product> getProducts() {\r\n        return products;\r\n    }\r\n\r\n    public void setProducts(List<Product> products) {\r\n        this.products = products;\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/data/model/Order.java b/app/src/main/java/com/example/agrimart/data/model/Order.java
---- a/app/src/main/java/com/example/agrimart/data/model/Order.java	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ b/app/src/main/java/com/example/agrimart/data/model/Order.java	(date 1732097306855)
-@@ -33,6 +33,8 @@
- 
-     private String statusDelivery;
- 
-+    private String storeName;
-+
-     public Order() {
-     }
- 
-@@ -127,4 +129,12 @@
-     public void setProducts(List<Product> products) {
-         this.products = products;
-     }
-+
-+    public String getStoreName() {
-+        return storeName;
-+    }
-+
-+    public void setStoreName(String storeName) {
-+        this.storeName = storeName;
-+    }
- }
-Index: app/src/main/res/layout/item_order_product.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/item_order_product.xml b/app/src/main/res/layout/item_order_product.xml
-new file mode 100644
---- /dev/null	(date 1732077156881)
-+++ b/app/src/main/res/layout/item_order_product.xml	(date 1732077156881)
-@@ -0,0 +1,90 @@
-+<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
-+    xmlns:app="http://schemas.android.com/apk/res-auto"
-+    xmlns:tools="http://schemas.android.com/tools"
-+    android:layout_width="match_parent"
-+    android:layout_height="wrap_content"
-+    app:cardBackgroundColor="@android:color/white"
-+    >
-+
-+    <LinearLayout
-+        android:layout_width="match_parent"
-+        android:layout_height="wrap_content"
-+        android:layout_marginTop="5dp"
-+        android:layout_marginBottom="5dp"
-+        android:padding="10dp">
-+
-+
-+        <com.google.android.material.imageview.ShapeableImageView
-+            android:id="@+id/img_product"
-+            android:layout_width="90dp"
-+            android:layout_height="90dp"
-+            android:background="@drawable/round_border"
-+            android:scaleType="centerCrop" />
-+
-+        <LinearLayout
-+            android:layout_width="match_parent"
-+            android:layout_height="match_parent"
-+            android:orientation="vertical">
-+
-+            <TextView
-+                android:id="@+id/tv_product_name"
-+                android:layout_width="wrap_content"
-+                android:layout_height="wrap_content"
-+                android:layout_marginStart="16dp"
-+                android:textColor="@android:color/black"
-+                android:text="Sạc nhanh"
-+                android:textSize="18sp" />
-+
-+            <LinearLayout
-+                android:layout_width="match_parent"
-+                android:layout_height="match_parent"
-+                android:orientation="horizontal">
-+
-+                <TextView
-+                    android:id="@+id/unit"
-+                    android:layout_width="120dp"
-+                    android:layout_height="wrap_content"
-+                    android:layout_marginStart="16dp"
-+                    android:layout_weight="1"
-+                    android:gravity="top"
-+                    android:text="cái"
-+                    android:textColor="@color/black"
-+                    android:textSize="8pt" />
-+
-+                <LinearLayout
-+                    android:layout_width="match_parent"
-+                    android:layout_height="match_parent"
-+                    android:layout_weight="1"
-+                    android:orientation="vertical">
-+
-+                    <TextView
-+                        android:id="@+id/quantity"
-+                        android:layout_width="wrap_content"
-+                        android:layout_height="wrap_content"
-+                        android:layout_gravity="bottom|end"
-+                        android:gravity="top"
-+                        android:layout_marginStart="16dp"
-+                        android:text="x1"
-+                        android:layout_weight="1"
-+                        android:textColor="@color/black"
-+                        android:textSize="8pt" />
-+
-+                    <TextView
-+                        android:id="@+id/price"
-+                        android:layout_width="wrap_content"
-+                        android:layout_height="wrap_content"
-+                        android:layout_gravity="bottom|end"
-+                        android:gravity="bottom"
-+                        android:layout_marginStart="16dp"
-+                        android:text="90.000"
-+                        android:layout_weight="1"
-+                        android:textColor="@color/black"
-+                        android:textSize="9pt" />
-+                </LinearLayout>
-+
-+            </LinearLayout>
-+
-+        </LinearLayout>
-+
-+    </LinearLayout>
-+</androidx.cardview.widget.CardView>
-Index: app/src/main/java/com/example/agrimart/viewmodel/PurchasedOrdersViewModel.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/viewmodel/PurchasedOrdersViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/PurchasedOrdersViewModel.java
-new file mode 100644
---- /dev/null	(date 1732092257298)
-+++ b/app/src/main/java/com/example/agrimart/viewmodel/PurchasedOrdersViewModel.java	(date 1732092257298)
-@@ -0,0 +1,49 @@
-+package com.example.agrimart.viewmodel;
-+
-+import androidx.lifecycle.LiveData;
-+import androidx.lifecycle.MutableLiveData;
-+
-+import com.example.agrimart.data.model.Category;
-+import com.example.agrimart.data.model.Order;
-+import com.google.firebase.auth.FirebaseAuth;
-+import com.google.firebase.firestore.FirebaseFirestore;
-+import com.google.firebase.firestore.Query;
-+
-+import java.util.List;
-+
-+public class PurchasedOrdersViewModel {
-+
-+    private final FirebaseFirestore firestore;
-+    private final FirebaseAuth auth;
-+    private String userId;
-+    private final MutableLiveData<List<Order>> orders = new MutableLiveData<>();
-+
-+    public LiveData<List<Order>> getOrders() {
-+        return orders;
-+    }
-+
-+    public PurchasedOrdersViewModel() {
-+        this.auth = FirebaseAuth.getInstance();
-+        this.firestore = FirebaseFirestore.getInstance();
-+    }
-+
-+
-+
-+    public void getData(String status) {
-+        userId = auth.getCurrentUser().getUid();
-+
-+        firestore.collection("orders")
-+                .whereEqualTo("userId", userId)
-+                .whereEqualTo("status", status)
-+                .orderBy("created_at")
-+                .get().addOnCompleteListener(task -> {
-+                    if (task.isSuccessful()) {
-+                        List<Order> orderList = task.getResult().toObjects(Order.class);
-+                        orders.setValue(orderList);
-+                    } else {
-+
-+                    }
-+                });
-+    }
-+
-+}
-Index: app/src/main/java/com/example/agrimart/ui/MyProfile/MyAddress/EditAddressActivity.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.ui.MyProfile.MyAddress;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.Switch;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.data.model.Address;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class EditAddressActivity extends AppCompatActivity {\r\n    public static final int REQUEST_CODE_EDIT_ADDRESS = 12;\r\n    private EditText edtHoTen, edtSDT, edtTenDuong;\r\n    private Switch switchDefault;\r\n    private String AddressId; // Biến lưu trữ ID của địa chỉ\r\n    private FirebaseFirestore firestore;\r\n    private FirebaseAuth auth;\r\n    private LinearLayout save_address, delete_address, getAddress;\r\n    private String detailedAddressID;\r\n    private TextView edtTinh;\r\n    ImageButton btnBack;\r\n\r\n\r\n    @SuppressLint(\"MissingInflatedId\")\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_edit_address);\r\n\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n\r\n        // Khởi tạo Firestore và FirebaseAuth\r\n        firestore = FirebaseFirestore.getInstance();\r\n        auth = FirebaseAuth.getInstance();\r\n        addControl();\r\n\r\n        // Nhận AddressId từ Intent\r\n        Intent intent = getIntent();\r\n        AddressId = intent.getStringExtra(\"addressId\");\r\n\r\n        // Tải thông tin địa chỉ\r\n        loadAddressDetails();\r\n\r\n\r\n        addEvent();\r\n\r\n    }\r\n\r\n    void addControl() {\r\n        // Khởi tạo các EditText và Switch\r\n        edtHoTen = findViewById(R.id.edtHoTen);\r\n        edtSDT = findViewById(R.id.edtSDT);\r\n        edtTinh = findViewById(R.id.edtTinh);\r\n        edtTenDuong = findViewById(R.id.edtTenDuong);\r\n        switchDefault = findViewById(R.id.switch2);\r\n        getAddress = findViewById(R.id.get_address);\r\n        save_address = findViewById(R.id.id_save_address);\r\n        delete_address = findViewById(R.id.id_delete_address);\r\n        btnBack = findViewById(R.id.btn_back);\r\n    }\r\n\r\n    void addEvent() {\r\n        save_address.setOnClickListener(v -> saveAddress());\r\n\r\n        delete_address.setOnClickListener(v -> deleteAddress());\r\n\r\n        btnBack.setOnClickListener(v -> onBackPressed());\r\n\r\n        getAddress.setOnClickListener(v -> openAddressAPI());\r\n    }\r\n\r\n    private void openAddressAPI() {\r\n        Intent intent = new Intent(EditAddressActivity.this, GetAddressActivity.class);\r\n\r\n        if (detailedAddressID != null && !detailedAddressID.isEmpty()) {\r\n            intent.putExtra(\"detailedAddressID\", detailedAddressID);\r\n        }\r\n\r\n        startActivityForResult(intent, REQUEST_CODE_EDIT_ADDRESS);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == REQUEST_CODE_EDIT_ADDRESS && resultCode == RESULT_OK) {\r\n            if (data != null) {\r\n                // Nhận chuỗi từ Intent\r\n                String addressString = data.getStringExtra(\"address\");\r\n                detailedAddressID = data.getStringExtra(\"detailedAddressID\");\r\n                // Xử lý chuỗi nhận được ở đây (ví dụ: hiển thị trong một TextView hoặc sử dụng nó theo cách khác)\r\n                edtTinh.setText(addressString);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void loadAddressDetails() {\r\n        String userId = auth.getCurrentUser().getUid();\r\n\r\n        // Lấy thông tin địa chỉ bằng AddressId\r\n        firestore.collection(\"users\").document(userId).get()\r\n                .addOnSuccessListener(documentSnapshot -> {\r\n                    if (documentSnapshot.exists() && documentSnapshot.contains(\"addresses\")) {\r\n                        List<Map<String, Object>> addressList = (List<Map<String, Object>>) documentSnapshot.get(\"addresses\");\r\n\r\n                        // Tìm địa chỉ theo AddressId\r\n                        for (Map<String, Object> address : addressList) {\r\n                            if (AddressId.equals(address.get(\"addressId\"))) {\r\n                                edtHoTen.setText((String) address.get(\"name\"));\r\n                                edtSDT.setText((String) address.get(\"phone\"));\r\n                                edtTenDuong.setText((String) address.get(\"street\"));\r\n                                edtTinh.setText((String) address.get(\"province\"));\r\n                                detailedAddressID = (String) address.get(\"detailedAddressID\");\r\n\r\n                                Boolean isDefault = (Boolean) address.get(\"default\");\r\n                                switchDefault.setChecked(isDefault != null ? isDefault : false);\r\n                                return; // Dừng việc tìm kiếm khi đã tìm thấy địa chỉ\r\n                            }\r\n                        }\r\n                        Log.d(\"EditAddressActivity\", \"Address not found with ID: \" + AddressId);\r\n                    } else {\r\n                        Log.d(\"EditAddressActivity\", \"No addresses field in document.\");\r\n                    }\r\n                })\r\n                .addOnFailureListener(e -> Toast.makeText(this, \"Lỗi khi tải địa chỉ: \" + e.getMessage(), Toast.LENGTH_SHORT).show());\r\n    }\r\n\r\n    private void saveAddress() {\r\n        String name = edtHoTen.getText().toString();\r\n        String phone = edtSDT.getText().toString();\r\n        String street = edtTenDuong.getText().toString();\r\n        String detailedAddress = edtTinh.getText().toString();\r\n        boolean isDefault = switchDefault.isChecked();\r\n\r\n        Map<String, Object> updatedAddress = new HashMap<>();\r\n        updatedAddress.put(\"addressId\", AddressId);\r\n        updatedAddress.put(\"street\", street);\r\n        updatedAddress.put(\"phone\", phone);\r\n        updatedAddress.put(\"detailedAddress\", detailedAddress);\r\n        updatedAddress.put(\"detailedAddressID\", detailedAddressID);\r\n        updatedAddress.put(\"name\", name);\r\n        updatedAddress.put(\"default\", isDefault);\r\n\r\n        String userId = auth.getCurrentUser().getUid();\r\n\r\n        firestore.collection(\"users\")\r\n                .document(userId)\r\n                .get()\r\n                .addOnSuccessListener(documentSnapshot -> {\r\n                    if (documentSnapshot.exists() && documentSnapshot.contains(\"addresses\")) {\r\n                        List<Map<String, Object>> addressList = (List<Map<String, Object>>) documentSnapshot.get(\"addresses\");\r\n\r\n                        // Ensure we update only the matching address\r\n                        boolean addressFound = false;\r\n\r\n                        if (isDefault) {\r\n                            // Reset default flag for all addresses\r\n                            for (Map<String, Object> address : addressList) {\r\n                                if (address.containsKey(\"default\") && (Boolean) address.get(\"default\")) {\r\n                                    address.put(\"default\", false);\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        // Update the existing address\r\n                        for (int i = 0; i < addressList.size(); i++) {\r\n                            if (AddressId.equals(addressList.get(i).get(\"addressId\"))) {\r\n                                addressList.set(i, updatedAddress);\r\n                                addressFound = true;\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        if (addressFound) {\r\n                            // Update Firestore with modified address list\r\n                            firestore.collection(\"users\")\r\n                                    .document(userId)\r\n                                    .update(\"addresses\", addressList)\r\n                                    .addOnSuccessListener(aVoid -> {\r\n                                        setResult(RESULT_OK);\r\n                                        Toast.makeText(this, \"Địa chỉ đã được lưu\", Toast.LENGTH_SHORT).show();\r\n                                        finish();\r\n                                    })\r\n                                    .addOnFailureListener(e -> Toast.makeText(this, \"Lỗi khi lưu địa chỉ: \" + e.getMessage(), Toast.LENGTH_SHORT).show());\r\n                        } else {\r\n                            Toast.makeText(this, \"Không tìm thấy địa chỉ để cập nhật.\", Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                })\r\n                .addOnFailureListener(e -> Toast.makeText(this, \"Lỗi khi tải danh sách địa chỉ: \" + e.getMessage(), Toast.LENGTH_SHORT).show());\r\n    }\r\n\r\n\r\n    private void deleteAddress() {\r\n        String userId = auth.getCurrentUser().getUid();\r\n\r\n        firestore.collection(\"users\")\r\n                .document(userId)\r\n                .get()\r\n                .addOnSuccessListener(documentSnapshot -> {\r\n                    if (documentSnapshot.exists() && documentSnapshot.contains(\"addresses\")) {\r\n                        List<Map<String, Object>> addressList = (List<Map<String, Object>>) documentSnapshot.get(\"addresses\");\r\n\r\n                        for (int i = 0; i < addressList.size(); i++) {\r\n                            if (AddressId.equals(addressList.get(i).get(\"addressId\"))) {\r\n                                addressList.remove(i);\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        firestore.collection(\"users\")\r\n                                .document(userId)\r\n                                .update(\"addresses\", addressList)\r\n                                .addOnSuccessListener(aVoid -> {\r\n                                    setResult(RESULT_OK);\r\n                                    Toast.makeText(this, \"Địa chỉ đã được xóa\", Toast.LENGTH_SHORT).show();\r\n                                    finish();\r\n                                })\r\n                                .addOnFailureListener(e -> Toast.makeText(this, \"Lỗi khi xóa địa chỉ: \" + e.getMessage(), Toast.LENGTH_SHORT).show());\r\n                    }\r\n                })\r\n                .addOnFailureListener(e -> Toast.makeText(this, \"Lỗi khi tải danh sách địa chỉ: \" + e.getMessage(), Toast.LENGTH_SHORT).show());\r\n    }\r\n}\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAddress/EditAddressActivity.java b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAddress/EditAddressActivity.java
---- a/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAddress/EditAddressActivity.java	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ b/app/src/main/java/com/example/agrimart/ui/MyProfile/MyAddress/EditAddressActivity.java	(date 1732073554451)
-@@ -36,7 +36,11 @@
-     private LinearLayout save_address, delete_address, getAddress;
-     private String detailedAddressID;
-     private TextView edtTinh;
--    ImageButton btnBack;
-+    private ImageButton btnBack;
-+    private String province;
-+    private String district;
-+    private String commune;
-+
- 
- 
-     @SuppressLint("MissingInflatedId")
-@@ -133,7 +137,11 @@
-                                 edtHoTen.setText((String) address.get("name"));
-                                 edtSDT.setText((String) address.get("phone"));
-                                 edtTenDuong.setText((String) address.get("street"));
--                                edtTinh.setText((String) address.get("province"));
-+                                province = (String) address.get("province");
-+                                district = (String) address.get("district");
-+                                commune = (String) address.get("commune");
-+
-+                                edtTinh.setText(commune + ", " + district + ", " + province);
-                                 detailedAddressID = (String) address.get("detailedAddressID");
- 
-                                 Boolean isDefault = (Boolean) address.get("default");
-@@ -153,14 +161,15 @@
-         String name = edtHoTen.getText().toString();
-         String phone = edtSDT.getText().toString();
-         String street = edtTenDuong.getText().toString();
--        String detailedAddress = edtTinh.getText().toString();
-         boolean isDefault = switchDefault.isChecked();
- 
-         Map<String, Object> updatedAddress = new HashMap<>();
-         updatedAddress.put("addressId", AddressId);
-         updatedAddress.put("street", street);
-         updatedAddress.put("phone", phone);
--        updatedAddress.put("detailedAddress", detailedAddress);
-+        updatedAddress.put("province", province);
-+        updatedAddress.put("district", district);
-+        updatedAddress.put("commune", commune);
-         updatedAddress.put("detailedAddressID", detailedAddressID);
-         updatedAddress.put("name", name);
-         updatedAddress.put("default", isDefault);
-Index: app/src/main/res/layout/fragment_cancelled.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/layout/fragment_cancelled.xml b/app/src/main/res/layout/fragment_order_status.xml
-rename from app/src/main/res/layout/fragment_cancelled.xml
-rename to app/src/main/res/layout/fragment_order_status.xml
---- a/app/src/main/res/layout/fragment_cancelled.xml	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ b/app/src/main/res/layout/fragment_order_status.xml	(date 1732095800132)
-@@ -3,12 +3,12 @@
-     xmlns:tools="http://schemas.android.com/tools"
-     android:layout_width="match_parent"
-     android:layout_height="match_parent"
--    tools:context=".ui.MyProfile.PurchasedOrders.CancelledFragment">
-+    tools:context=".ui.MyProfile.PurchasedOrders.OrderStatusFragment">
- 
--    <!-- TODO: Update blank fragment layout -->
--    <TextView
-+    <androidx.recyclerview.widget.RecyclerView
-+        android:id="@+id/recyclerViewOrders"
-         android:layout_width="match_parent"
-         android:layout_height="match_parent"
--        android:text="@string/hello_blank_fragment" />
--
-+        android:padding="4dp"
-+        android:clipToPadding="false" />
- </FrameLayout>
-\ No newline at end of file
-Index: .idea/deploymentTargetSelector.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"deploymentTargetSelector\">\r\n    <selectionStates>\r\n      <SelectionState runConfigName=\"app\">\r\n        <option name=\"selectionMode\" value=\"DROPDOWN\" />\r\n      </SelectionState>\r\n    </selectionStates>\r\n  </component>\r\n</project>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/.idea/deploymentTargetSelector.xml b/.idea/deploymentTargetSelector.xml
---- a/.idea/deploymentTargetSelector.xml	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ b/.idea/deploymentTargetSelector.xml	(date 1732103691477)
-@@ -2,7 +2,7 @@
- <project version="4">
-   <component name="deploymentTargetSelector">
-     <selectionStates>
--      <SelectionState runConfigName="app">
-+      <SelectionState runConfigName="SignInActivity">
-         <option name="selectionMode" value="DROPDOWN" />
-       </SelectionState>
-     </selectionStates>
-Index: app/src/main/java/com/example/agrimart/adapter/ProductOrderAdapter.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/adapter/ProductOrderAdapter.java b/app/src/main/java/com/example/agrimart/adapter/ProductOrderAdapter.java
-new file mode 100644
---- /dev/null	(date 1732098587579)
-+++ b/app/src/main/java/com/example/agrimart/adapter/ProductOrderAdapter.java	(date 1732098587579)
-@@ -0,0 +1,72 @@
-+package com.example.agrimart.adapter;
-+
-+import android.content.Context;
-+import android.view.LayoutInflater;
-+import android.view.View;
-+import android.view.ViewGroup;
-+import android.widget.TextView;
-+
-+import androidx.annotation.NonNull;
-+import androidx.recyclerview.widget.RecyclerView;
-+
-+import com.bumptech.glide.Glide;
-+import com.example.agrimart.R;
-+import com.example.agrimart.data.model.Product;
-+import com.google.android.material.imageview.ShapeableImageView;
-+
-+import java.util.List;
-+
-+public class ProductOrderAdapter extends RecyclerView.Adapter<ProductOrderAdapter.ProductOrderViewHolder> {
-+
-+    private Context context;
-+    private List<Product> productOrderList;
-+
-+    public ProductOrderAdapter(Context context, List<Product> productOrderList) {
-+        this.context = context;
-+        this.productOrderList = productOrderList;
-+    }
-+
-+    @NonNull
-+    @Override
-+    public ProductOrderViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
-+        // Inflate the layout for each item
-+        View view = LayoutInflater.from(context).inflate(R.layout.item_order_product, parent, false);
-+        return new ProductOrderViewHolder(view);
-+    }
-+
-+    @Override
-+    public void onBindViewHolder(@NonNull ProductOrderViewHolder holder, int position) {
-+        // Get the product order at the current position
-+        Product productOrder = productOrderList.get(position);
-+
-+        // Set data to views
-+        holder.tvProductName.setText(productOrder.getName());
-+        holder.tvUnit.setText(productOrder.getUnit());
-+        holder.tvQuantity.setText("x" + productOrder.getQuantity());
-+        holder.tvPrice.setText(String.format("%,.0f", productOrder.getPrice()) + " VND");
-+
-+
-+    }
-+
-+    @Override
-+    public int getItemCount() {
-+        return productOrderList.size();
-+    }
-+
-+    public static class ProductOrderViewHolder extends RecyclerView.ViewHolder {
-+
-+        ShapeableImageView imgProduct;
-+        TextView tvProductName, tvUnit, tvQuantity, tvPrice;
-+
-+        public ProductOrderViewHolder(View itemView) {
-+            super(itemView);
-+
-+            // Bind views from layout
-+            imgProduct = itemView.findViewById(R.id.img_product);
-+            tvProductName = itemView.findViewById(R.id.tv_product_name);
-+            tvUnit = itemView.findViewById(R.id.unit);
-+            tvQuantity = itemView.findViewById(R.id.quantity);
-+            tvPrice = itemView.findViewById(R.id.price);
-+        }
-+    }
-+}
-Index: app/src/main/java/com/example/agrimart/viewmodel/OrderStatusFragmentViewModel.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/viewmodel/OrderStatusFragmentViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/OrderStatusFragmentViewModel.java
-new file mode 100644
---- /dev/null	(date 1732105072109)
-+++ b/app/src/main/java/com/example/agrimart/viewmodel/OrderStatusFragmentViewModel.java	(date 1732105072109)
-@@ -0,0 +1,61 @@
-+package com.example.agrimart.viewmodel;
-+
-+import android.util.Log;
-+
-+import androidx.lifecycle.LiveData;
-+import androidx.lifecycle.MutableLiveData;
-+import androidx.lifecycle.ViewModel;
-+
-+import com.example.agrimart.data.model.Order;
-+import com.example.agrimart.data.model.Product;
-+import com.google.firebase.auth.FirebaseAuth;
-+import com.google.firebase.firestore.DocumentSnapshot;
-+import com.google.firebase.firestore.FirebaseFirestore;
-+
-+import java.util.ArrayList;
-+import java.util.List;
-+import java.util.concurrent.atomic.AtomicInteger;
-+
-+public class OrderStatusFragmentViewModel extends ViewModel {
-+    private final FirebaseFirestore firestore;
-+    private final FirebaseAuth auth;
-+    private String userId;
-+    private final MutableLiveData<List<Order>> orders = new MutableLiveData<>();
-+
-+    public LiveData<List<Order>> getOrders() {
-+        return orders;
-+    }
-+
-+    public OrderStatusFragmentViewModel() {
-+        this.auth = FirebaseAuth.getInstance();
-+        this.firestore = FirebaseFirestore.getInstance();
-+    }
-+
-+    public void getData(String status) {
-+        Log.d("OrderStatusFragmentViewModel", "Fetching data for status: " + status);
-+        userId = auth.getCurrentUser().getUid();
-+        firestore.collection("orders")
-+                .whereEqualTo("userId", userId)
-+                .whereEqualTo("status", status)
-+                .get()
-+                .addOnCompleteListener(task -> {
-+                    if (task.isSuccessful() && task.getResult() != null) {
-+                        Log.d("OrderStatusFragmentViewModel", "Data fetched successfully");
-+                        List<Order> orderList = task.getResult().toObjects(Order.class);
-+                        if (!orderList.isEmpty()) {
-+                            orders.setValue(orderList);
-+                            Log.d("OrderStatusFragmentViewModel", "Orders set to LiveData: " + orderList.size());
-+                        } else {
-+                            orders.setValue(new ArrayList<>());
-+                            Log.d("OrderStatusFragmentViewModel", "No orders found");
-+                        }
-+                    } else {
-+                        Log.d("OrderStatusFragmentViewModel", "Error fetching data");
-+                        orders.setValue(new ArrayList<>());
-+                    }
-+                });
-+    }
-+
-+
-+
-+}
-Index: app/src/main/java/com/example/agrimart/ui/Explore/ExploreFragment.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.agrimart.ui.Explore;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageButton;\r\nimport android.widget.PopupMenu;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.adapter.ViewPagerAdapter;\r\nimport com.example.agrimart.databinding.FragmentExploreBinding;\r\nimport com.example.agrimart.ui.Cart.CartFragment;\r\nimport com.example.agrimart.ui.Homepage.HomeFragment;\r\nimport com.example.agrimart.ui.MyProfile.MyProfileFragment;\r\nimport com.example.agrimart.ui.Notification.NotificationFragment;\r\nimport com.example.agrimart.viewmodel.CategoryViewModel;\r\nimport com.example.agrimart.viewmodel.ExploreFragmentViewModel;\r\nimport com.example.agrimart.viewmodel.SharedViewModel;\r\nimport com.google.android.material.tabs.TabLayout;\r\nimport com.google.android.material.tabs.TabLayoutMediator;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ExploreFragment extends Fragment {\r\n    private TabLayout tabLayout;\r\n    private ViewPager2 viewPager;\r\n    private ImageButton filterIcon;\r\n    private FragmentExploreBinding binding;\r\n    private ExploreFragmentViewModel viewModel;\r\n    private String categoryID;\r\n    private SharedViewModel sharedViewModel;\r\n\r\n    public ExploreFragment(String categoryID) {\r\n        this.categoryID = categoryID;\r\n    }\r\n    public ExploreFragment() {\r\n\r\n    }\r\n\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_explore, container, false);\r\n        viewModel = new ViewModelProvider(this).get(ExploreFragmentViewModel.class);\r\n        binding.setViewmodel(viewModel);\r\n        View view = binding.getRoot();\r\n\r\n        tabLayout = view.findViewById(R.id.tabLayout);\r\n        viewPager = view.findViewById(R.id.viewPager);\r\n        filterIcon = view.findViewById(R.id.filter_icon);\r\n\r\n        viewModel.getData();\r\n        sharedViewModel = new ViewModelProvider(requireActivity()).get(SharedViewModel.class);\r\n        viewModel.categories.observe(getViewLifecycleOwner(), categories -> {\r\n            List<Fragment> fragments = new ArrayList<>();\r\n            List<String> titles = new ArrayList<>();\r\n            int selectedCategoryIndex = -1; // Lưu chỉ số category được chọn (nếu có)\r\n\r\n            // Kiểm tra nếu có categoryID và chọn category tương ứng\r\n            if (categoryID != null && !categoryID.isEmpty()) {\r\n                for (int i = 0; i < categories.size(); i++) {\r\n                    if (categories.get(i).getId().equals(categoryID)) {\r\n                        selectedCategoryIndex = i;  // Ghi nhận chỉ số category được chọn\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Thêm các fragment cho tất cả các category vào ViewPager\r\n            for (int i = 0; i < categories.size(); i++) {\r\n                fragments.add(new CategoryFragment(categories.get(i).getId()));\r\n                titles.add(categories.get(i).getName());\r\n            }\r\n\r\n            ViewPagerAdapter viewPagerAdapter = new ViewPagerAdapter(requireActivity(), fragments, titles);\r\n            viewPager.setAdapter(viewPagerAdapter);\r\n\r\n            // Nếu có categoryID, chọn tab tương ứng\r\n            if (selectedCategoryIndex != -1) {\r\n                viewPager.setCurrentItem(selectedCategoryIndex);  // Chọn category tương ứng trong ViewPager\r\n            }\r\n\r\n            new TabLayoutMediator(tabLayout, viewPager, (tab, pos) -> tab.setText(titles.get(pos))).attach();\r\n\r\n            filterIcon.setOnClickListener(this::showFilterMenu);\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n\r\n    private void showFilterMenu(View v) {\r\n        PopupMenu popup = new PopupMenu(getContext(), v);\r\n        MenuInflater inflater = popup.getMenuInflater();\r\n        inflater.inflate(R.menu.filter_menu, popup.getMenu());\r\n        popup.setOnMenuItemClickListener(this::filterMenuItemSelected);\r\n        popup.show();\r\n    }\r\n\r\n    private boolean filterMenuItemSelected(MenuItem item) {\r\n        String sortOrder = null;\r\n        if (item.getItemId() == R.id.filter_lowest_price) {\r\n            sortOrder = \"lowest_price\";\r\n            Log.d(\"ExploreFragment\", \"Sort order set to: \" + sortOrder);\r\n        } else if (item.getItemId() == R.id.filter_highest_price) {\r\n            sortOrder = \"highest_price\";\r\n        } else if (item.getItemId() == R.id.filter_latest) {\r\n            sortOrder = \"latest\";\r\n        } else if (item.getItemId() == R.id.filter_oldest) {\r\n            sortOrder = \"oldest\";\r\n        } else {\r\n            return false;\r\n        }\r\n        sharedViewModel.setSortOrder(sortOrder);\r\n        return true;\r\n    }\r\n\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/ui/Explore/ExploreFragment.java b/app/src/main/java/com/example/agrimart/ui/Explore/ExploreFragment.java
---- a/app/src/main/java/com/example/agrimart/ui/Explore/ExploreFragment.java	(revision 9957bda51f2baad613096b803a384183006af48a)
-+++ b/app/src/main/java/com/example/agrimart/ui/Explore/ExploreFragment.java	(date 1732092257293)
-@@ -65,6 +65,7 @@
- 
-         viewModel.getData();
-         sharedViewModel = new ViewModelProvider(requireActivity()).get(SharedViewModel.class);
-+
-         viewModel.categories.observe(getViewLifecycleOwner(), categories -> {
-             List<Fragment> fragments = new ArrayList<>();
-             List<String> titles = new ArrayList<>();
-Index: app/src/main/java/com/example/agrimart/adapter/OrderStoreAdapter.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/java/com/example/agrimart/adapter/OrderStoreAdapter.java b/app/src/main/java/com/example/agrimart/adapter/OrderStoreAdapter.java
-new file mode 100644
---- /dev/null	(date 1732103751878)
-+++ b/app/src/main/java/com/example/agrimart/adapter/OrderStoreAdapter.java	(date 1732103751878)
-@@ -0,0 +1,83 @@
-+package com.example.agrimart.adapter;
-+
-+import android.view.LayoutInflater;
-+import android.view.View;
-+import android.view.ViewGroup;
-+import android.widget.ImageView;
-+import android.widget.TextView;
-+
-+import androidx.annotation.NonNull;
-+import androidx.recyclerview.widget.RecyclerView;
-+
-+import com.bumptech.glide.Glide;
-+import com.example.agrimart.R;
-+import com.example.agrimart.data.model.Order;
-+
-+import java.util.ArrayList;
-+import java.util.List;
-+
-+public class OrderStoreAdapter extends RecyclerView.Adapter<OrderStoreAdapter.OrderStoreViewHolder> {
-+    private final List<Order> orderStoreList = new ArrayList<>();
-+
-+    // Constructor
-+    public OrderStoreAdapter(List<Order> orderStoreList) {
-+        this.orderStoreList.addAll(orderStoreList);
-+    }
-+
-+    // Update orders when data changes
-+    public void updateOrders(List<Order> newOrders) {
-+        orderStoreList.clear();
-+        orderStoreList.addAll(newOrders);
-+        notifyDataSetChanged();
-+    }
-+
-+    @NonNull
-+    @Override
-+    public OrderStoreViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
-+        // Inflate the layout for each item
-+        View view = LayoutInflater.from(parent.getContext())
-+                .inflate(R.layout.item_order_store, parent, false);
-+        return new OrderStoreViewHolder(view);
-+    }
-+
-+    @Override
-+    public void onBindViewHolder(@NonNull OrderStoreViewHolder holder, int position) {
-+        // Get the current OrderStore
-+        Order orderStore = orderStoreList.get(position);
-+
-+        // Set text data
-+        holder.tvStoreName.setText(orderStore.getStoreName());
-+        holder.tvStatus.setText(orderStore.getStatus());
-+        holder.tvTotalPrice.setText("Tổng số tiền: " + orderStore.getTotalPrice() + " VND");
-+
-+        // Set the status color based on its value
-+        if ("Đã hủy".equals(orderStore.getStatus())) {
-+            holder.tvStatus.setTextColor(holder.itemView.getContext().getResources().getColor(R.color.red));
-+        } else {
-+            holder.tvStatus.setTextColor(holder.itemView.getContext().getResources().getColor(R.color.green));
-+        }
-+
-+        // Load product/store image (you can modify this depending on your image URL or resource)
-+
-+    }
-+
-+    @Override
-+    public int getItemCount() {
-+        return orderStoreList.size();
-+    }
-+
-+    // ViewHolder class
-+    static class OrderStoreViewHolder extends RecyclerView.ViewHolder {
-+
-+        TextView tvStoreName, tvStatus, tvTotalPrice;
-+        ImageView imageView;
-+
-+        public OrderStoreViewHolder(@NonNull View itemView) {
-+            super(itemView);
-+            tvStoreName = itemView.findViewById(R.id.tv_store_name);
-+            tvStatus = itemView.findViewById(R.id.status);
-+            tvTotalPrice = itemView.findViewById(R.id.total_price);
-+            imageView = itemView.findViewById(R.id.imageView9);
-+        }
-+    }
-+}
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_9_45_PM__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_9_45_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_9_45_PM__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_9_45_PM__Changes_.xml	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ /dev/null	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
@@ -1,19 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_11_17_2024_9_45_PM_[Changes]" date="1731854758166" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_9_45_PM_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/17/2024 9:45 PM [Changes]" />
-  <binary>
-    <option name="BEFORE_PATH" />
-    <option name="AFTER_PATH" value="app/src/main/res/drawable/error.png" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_9_45_PM_[Changes]/error.png" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value="app/src/main/res/drawable/shopping_cart.png" />
-    <option name="AFTER_PATH" value="app/src/main/res/drawable/shopping_cart.png" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_9_45_PM_[Changes]/shopping_cart.png" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" />
-    <option name="AFTER_PATH" value="app/src/main/res/drawable/dots.png" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_9_45_PM_[Changes]/dots.png" />
-  </binary>
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_7_35_PM__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_7_35_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_7_35_PM__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_7_35_PM__Changes_.xml	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ /dev/null	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_11_20_2024_7_35_PM_[Changes]" date="1732106140938" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_20_2024_7_35_PM_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/20/2024 7:35 PM [Changes]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_3_12_PM_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_3_12_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_3_12_PM_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2024_3_12_PM_[Changes]/shelved.patch	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
+++ /dev/null	(revision 5a3ae256f22b8158cfb6c2bee0ad3cf1e44cd124)
@@ -1,2381 +0,0 @@
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM__Changes_.xml
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM__Changes_.xml
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM__Changes_.xml	(revision 9f0ca9e3389f6118955988b1c2e3e5cfbe7936b4)
-+++ /dev/null	(revision 9f0ca9e3389f6118955988b1c2e3e5cfbe7936b4)
-@@ -1,64 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]" date="1731152909863" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/9/2024 6:47 PM [Changes]" />
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_5.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_5.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_2.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_2.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_3.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_3.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_6.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_6.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/placeholder_image.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/placeholder_image.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" value=".idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/email.png" />
--    <option name="AFTER_PATH" />
--    <option name="SHELVED_PATH" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_7.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_7.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/error_image.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/error_image.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_1.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_1.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_4.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_4.png" />
--  </binary>
--  <binary>
--    <option name="BEFORE_PATH" />
--    <option name="AFTER_PATH" value="app/src/main/res/drawable/img_8.png" />
--    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/img_8.png" />
--  </binary>
--</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/shelved.patch
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/shelved.patch
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_9_2024_6_47_PM_[Changes]/shelved.patch	(revision 9f0ca9e3389f6118955988b1c2e3e5cfbe7936b4)
-+++ /dev/null	(revision 9f0ca9e3389f6118955988b1c2e3e5cfbe7936b4)
-@@ -1,2276 +0,0 @@
--Index: app/src/main/java/com/example/agrimart/data/model/Store.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.data.model;\r\n\r\npublic class Store {\r\n    private String name;\r\n    private String avatarUrl;\r\n    private String street;\r\n    private String ward;\r\n    private String district;\r\n    private String city;\r\n    private String phoneNumber;\r\n\r\n    public Store() {\r\n    }\r\n\r\n    public Store(String name, String avatarUrl, String street, String ward, String district, String city, String phoneNumber) {\r\n        this.name = name;\r\n        this.avatarUrl = avatarUrl;\r\n        this.street = street;\r\n        this.ward = ward;\r\n        this.district = district;\r\n        this.city = city;\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getAvatarUrl() {\r\n        return avatarUrl;\r\n    }\r\n\r\n    public String getFullAddress() {\r\n        return street + \", \" + ward + \", \" + district + \", \" + city;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/data/model/Store.java b/app/src/main/java/com/example/agrimart/data/model/Store.java
----- a/app/src/main/java/com/example/agrimart/data/model/Store.java	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/java/com/example/agrimart/data/model/Store.java	(date 1731057706441)
--@@ -1,6 +1,9 @@
-- package com.example.agrimart.data.model;
-- 
--+import java.util.List;
--+
-- public class Store {
--+    private String id;
--     private String name;
--     private String avatarUrl;
--     private String street;
--@@ -8,11 +11,14 @@
--     private String district;
--     private String city;
--     private String phoneNumber;
--+    private String userId;
--+    private List<Product> products;
-- 
--     public Store() {
--     }
-- 
---    public Store(String name, String avatarUrl, String street, String ward, String district, String city, String phoneNumber) {
--+    public Store(String id, String name, String avatarUrl, String street, String ward, String district, String city, String phoneNumber) {
--+        this.id = id;
--         this.name = name;
--         this.avatarUrl = avatarUrl;
--         this.street = street;
--@@ -22,19 +28,88 @@
--         this.phoneNumber = phoneNumber;
--     }
-- 
--+    // Getters and setters for all fields
--+    public String getId() {
--+        return id;
--+    }
--+
--+    public void setId(String id) {
--+        this.id = id;
--+    }
--+
--     public String getName() {
--         return name;
--     }
-- 
--+    public void setName(String name) {
--+        this.name = name;
--+    }
--+
--     public String getAvatarUrl() {
--         return avatarUrl;
--     }
-- 
--+    public void setAvatarUrl(String avatarUrl) {
--+        this.avatarUrl = avatarUrl;
--+    }
--+
--+    public String getStreet() {
--+        return street;
--+    }
--+
--+    public void setStreet(String street) {
--+        this.street = street;
--+    }
--+
--+    public String getWard() {
--+        return ward;
--+    }
--+
--+    public void setWard(String ward) {
--+        this.ward = ward;
--+    }
--+
--+    public String getDistrict() {
--+        return district;
--+    }
--+
--+    public void setDistrict(String district) {
--+        this.district = district;
--+    }
--+
--+    public String getCity() {
--+        return city;
--+    }
--+
--+    public void setCity(String city) {
--+        this.city = city;
--+    }
--+
--+    public String getPhoneNumber() {
--+        return phoneNumber;
--+    }
--+
--+    public void setPhoneNumber(String phoneNumber) {
--+        this.phoneNumber = phoneNumber;
--+    }
--+
--+    public String getUserId() {
--+        return userId;
--+    }
--+
--+    public void setUserId(String userId) {
--+        this.userId = userId;
--+    }
--+
--+    public List<Product> getProducts() {
--+        return products;
--+    }
--+
--+    public void setProducts(List<Product> products) {
--+        this.products = products;
--+    }
--+
--     public String getFullAddress() {
--         return street + ", " + ward + ", " + district + ", " + city;
--     }
---
---    public String getPhoneNumber() {
---        return phoneNumber;
---    }
---}
--+}
--\ No newline at end of file
--Index: app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.viewmodel;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Store;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.ListenerRegistration;\r\n\r\npublic class ProductDetailViewModel extends ViewModel {\r\n    private final FirebaseFirestore db;\r\n    private ListenerRegistration storeListener;\r\n    private final MutableLiveData<Store> storeInfo = new MutableLiveData<>();\r\n\r\n    public ProductDetailViewModel() {\r\n        db = FirebaseFirestore.getInstance();\r\n    }\r\n\r\n    public LiveData<Store> getStoreInfo() {\r\n        return storeInfo;\r\n    }\r\n\r\n    public void loadStoreInfo(String storeId) {\r\n        if (storeListener != null) {\r\n            storeListener.remove();\r\n        }\r\n\r\n        storeListener = db.collection(\"users\").document(storeId)\r\n                .addSnapshotListener((snapshot, e) -> {\r\n                    if (e != null || snapshot == null || !snapshot.exists()) {\r\n                        return;\r\n                    }\r\n                    String name = snapshot.getString(\"store_name\");\r\n                    String avatarUrl = snapshot.getString(\"store_avatar\");\r\n                    String street = snapshot.getString(\"store_address.street\");\r\n                    String ward = snapshot.getString(\"store_address.ward\");\r\n                    String district = snapshot.getString(\"store_address.district\");\r\n                    String city = snapshot.getString(\"store_address.city\");\r\n                    String phoneNumber = snapshot.getString(\"store_phone_number\");\r\n\r\n                    Store info = new Store(name, avatarUrl, street, ward, district, city, phoneNumber);\r\n                    storeInfo.setValue(info);\r\n                });\r\n    }\r\n\r\n    @Override\r\n    protected void onCleared() {\r\n        super.onCleared();\r\n        if (storeListener != null) {\r\n            storeListener.remove();\r\n        }\r\n    }\r\n\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java
----- a/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/java/com/example/agrimart/viewmodel/ProductDetailViewModel.java	(date 1731055914569)
--@@ -22,7 +22,7 @@
--         return storeInfo;
--     }
-- 
---    public void loadStoreInfo(String storeId) {
--+   public void loadStoreInfo(String storeId) {
--         if (storeListener != null) {
--             storeListener.remove();
--         }
--@@ -40,11 +40,10 @@
--                     String city = snapshot.getString("store_address.city");
--                     String phoneNumber = snapshot.getString("store_phone_number");
-- 
---                    Store info = new Store(name, avatarUrl, street, ward, district, city, phoneNumber);
--+                    Store info = new Store(storeId, name, avatarUrl, street, ward, district, city, phoneNumber);
--                     storeInfo.setValue(info);
--                 });
--     }
---
--     @Override
--     protected void onCleared() {
--         super.onCleared();
--Index: app/src/main/res/layout/activity_search.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <data>\r\n        <import type=\"android.view.View\"/>\r\n        <variable\r\n            name=\"search\"\r\n            type=\"com.example.agrimart.viewmodel.SearchViewModel\" />\r\n    </data>\r\n\r\n\r\n    <RelativeLayout\r\n\r\n        android:id=\"@+id/main1\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\">\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/header\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@color/green\"\r\n            android:orientation=\"horizontal\"\r\n            android:padding=\"16dp\">\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/btnBack\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"40dp\"\r\n                android:layout_marginEnd=\"10dp\"\r\n                android:background=\"@null\"\r\n                android:layout_gravity=\"center_vertical\"\r\n                android:src=\"@drawable/chevron_left\" />\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:id=\"@+id/search_card\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"1\"\r\n                app:cardCornerRadius=\"8dp\"\r\n                app:cardElevation=\"4dp\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\"\r\n                    android:padding=\"8dp\"\r\n                    android:id=\"@+id/search_bar\">\r\n\r\n                    <ImageButton\r\n                        android:id=\"@+id/search_icon\"\r\n                        android:layout_width=\"32dp\"\r\n                        android:layout_height=\"32dp\"\r\n                        android:src=\"@drawable/ic_search\"\r\n                        android:tint=\"@color/black\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginEnd=\"8dp\"\r\n                        android:background=\"@color/white\"/>\r\n\r\n                    <EditText\r\n                        android:id=\"@+id/search_input\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_weight=\"1\"\r\n                        android:hint=\"@string/search\"\r\n                        android:background=\"@null\"\r\n                        android:padding=\"8dp\"\r\n                        android:textColor=\"@android:color/black\"\r\n                        android:textColorHint=\"@android:color/darker_gray\" />\r\n                </LinearLayout>\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/filter_icon\"\r\n                android:layout_width=\"32dp\"\r\n                android:layout_height=\"32dp\"\r\n                android:layout_gravity=\"center_vertical\"\r\n                android:layout_marginStart=\"10dp\"\r\n                android:layout_marginEnd=\"4dp\"\r\n                android:background=\"@color/green\"\r\n                android:src=\"@drawable/filter\"\r\n                app:tint=\"@color/black\" />\r\n\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:id=\"@+id/ln1\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/header\"\r\n            android:layout_marginTop=\"16dp\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/textView3\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:textSize=\"20sp\"\r\n                android:layout_marginStart=\"24dp\"\r\n                android:textStyle=\"bold\"\r\n                android:textColor=\"#272727\"\r\n                android:fontFamily=\"@font/circular_std\"\r\n                android:text=\"@string/t_m_theo_danh_m_c\" />\r\n\r\n            <ScrollView\r\n                android:id=\"@+id/sc\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:layout_height=\"wrap_content\">\r\n\r\n                <androidx.recyclerview.widget.RecyclerView\r\n                    android:id=\"@+id/rvCategories\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    >\r\n\r\n                </androidx.recyclerview.widget.RecyclerView>\r\n            </ScrollView>\r\n        </LinearLayout>\r\n\r\n        <ScrollView\r\n            android:id=\"@+id/sc2\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"24dp\"\r\n            android:layout_below=\"@id/ln1\"\r\n            android:visibility=\"@{search.isProductsEmpty() ? View.VISIBLE : View.GONE}\">\r\n\r\n            <androidx.recyclerview.widget.RecyclerView\r\n                android:id=\"@+id/rvProducts\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n            />\r\n        </ScrollView>\r\n\r\n        <TextView\r\n            android:id=\"@+id/tvNotFound\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/sc2\"\r\n            android:layout_centerHorizontal=\"true\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:visibility=\"@{search.isProductsEmpty() ? View.VISIBLE : View.GONE}\"\r\n            android:text=\"Không tìm thấy kết quả đã nhập\" />\r\n\r\n\r\n    </RelativeLayout>\r\n</layout>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/activity_search.xml b/app/src/main/res/layout/activity_search.xml
----- a/app/src/main/res/layout/activity_search.xml	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/res/layout/activity_search.xml	(date 1731061603486)
--@@ -1,151 +1,118 @@
-- <?xml version="1.0" encoding="utf-8"?>
---<layout
---    xmlns:android="http://schemas.android.com/apk/res/android"
--+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
--     xmlns:app="http://schemas.android.com/apk/res-auto"
---    xmlns:tools="http://schemas.android.com/tools">
---
---    <data>
---        <import type="android.view.View"/>
---        <variable
---            name="search"
---            type="com.example.agrimart.viewmodel.SearchViewModel" />
---    </data>
---
---
---    <RelativeLayout
---
---        android:id="@+id/main1"
---        android:layout_width="match_parent"
---        android:layout_height="match_parent">
--+    android:id="@+id/main1"
--+    android:layout_width="match_parent"
--+    android:layout_height="match_parent">
-- 
---        <LinearLayout
---            android:id="@+id/header"
---            android:layout_width="match_parent"
---            android:layout_height="wrap_content"
---            android:background="@color/green"
---            android:orientation="horizontal"
---            android:padding="16dp">
--+    <LinearLayout
--+        android:id="@+id/header"
--+        android:layout_width="match_parent"
--+        android:layout_height="wrap_content"
--+        android:background="@color/green"
--+        android:orientation="horizontal"
--+        android:padding="16dp">
-- 
---            <ImageButton
---                android:id="@+id/btnBack"
---                android:layout_width="wrap_content"
---                android:layout_height="40dp"
---                android:layout_marginEnd="10dp"
---                android:background="@null"
---                android:layout_gravity="center_vertical"
---                android:src="@drawable/chevron_left" />
--+        <ImageButton
--+            android:id="@+id/btnBack"
--+            android:layout_width="wrap_content"
--+            android:layout_height="40dp"
--+            android:layout_marginEnd="10dp"
--+            android:background="@null"
--+            android:layout_gravity="center_vertical"
--+            android:src="@drawable/chevron_left" />
-- 
---            <androidx.cardview.widget.CardView
---                android:id="@+id/search_card"
---                android:layout_width="0dp"
---                android:layout_height="wrap_content"
---                android:layout_weight="1"
---                app:cardCornerRadius="8dp"
---                app:cardElevation="4dp">
--+        <androidx.cardview.widget.CardView
--+            android:id="@+id/search_card"
--+            android:layout_width="0dp"
--+            android:layout_height="wrap_content"
--+            android:layout_weight="1"
--+            app:cardCornerRadius="8dp"
--+            app:cardElevation="4dp">
-- 
---                <LinearLayout
---                    android:layout_width="match_parent"
---                    android:layout_height="wrap_content"
---                    android:orientation="horizontal"
---                    android:padding="8dp"
---                    android:id="@+id/search_bar">
--+            <LinearLayout
--+                android:layout_width="match_parent"
--+                android:layout_height="wrap_content"
--+                android:orientation="horizontal"
--+                android:id="@+id/search_bar">
-- 
---                    <ImageButton
---                        android:id="@+id/search_icon"
---                        android:layout_width="32dp"
---                        android:layout_height="32dp"
---                        android:src="@drawable/ic_search"
---                        android:tint="@color/black"
---                        android:layout_gravity="center_vertical"
---                        android:layout_marginEnd="8dp"
---                        android:background="@color/white"/>
---
---                    <EditText
---                        android:id="@+id/search_input"
---                        android:layout_width="0dp"
---                        android:layout_height="wrap_content"
---                        android:layout_weight="1"
---                        android:hint="@string/search"
---                        android:background="@null"
---                        android:padding="8dp"
---                        android:textColor="@android:color/black"
---                        android:textColorHint="@android:color/darker_gray" />
---                </LinearLayout>
---            </androidx.cardview.widget.CardView>
--+                <androidx.appcompat.widget.SearchView
--+                    android:id="@+id/search_input"
--+                    android:layout_width="match_parent"
--+                    android:layout_height="wrap_content"
--+                    android:background="@drawable/search_view_bg"
--+                    app:iconifiedByDefault="false"
--+                    app:queryHint="Tìm kiếm sản phẩm, cửa hàng"/>
--+            </LinearLayout>
--+        </androidx.cardview.widget.CardView>
-- 
---            <ImageButton
---                android:id="@+id/filter_icon"
---                android:layout_width="32dp"
---                android:layout_height="32dp"
---                android:layout_gravity="center_vertical"
---                android:layout_marginStart="10dp"
---                android:layout_marginEnd="4dp"
---                android:background="@color/green"
---                android:src="@drawable/filter"
---                app:tint="@color/black" />
---
---        </LinearLayout>
--+        <!-- Filter Button -->
--+        <ImageButton
--+            android:id="@+id/filter_icon"
--+            android:layout_width="32dp"
--+            android:layout_height="32dp"
--+            android:layout_gravity="center_vertical"
--+            android:layout_marginStart="10dp"
--+            android:layout_marginEnd="4dp"
--+            android:background="@color/green"
--+            android:src="@drawable/filter"
--+            app:tint="@color/black" />
--+    </LinearLayout>
-- 
---        <LinearLayout
---            android:id="@+id/ln1"
---            android:layout_width="match_parent"
---            android:layout_height="wrap_content"
---            android:layout_below="@id/header"
---            android:layout_marginTop="16dp"
---            android:orientation="vertical">
--+    <TextView
--+        android:layout_width="wrap_content"
--+        android:layout_height="wrap_content"
--+        android:id="@+id/tvNoResult"
--+        android:layout_centerInParent="true"
--+        android:text="@string/no_reslut"
--+        android:visibility="gone"
--+        android:textSize="20sp"/>
--+
--+    <LinearLayout
--+        android:id="@+id/ln1"
--+        android:layout_width="match_parent"
--+        android:layout_height="wrap_content"
--+        android:layout_below="@id/header"
--+        android:layout_marginTop="16dp"
--+        android:orientation="vertical">
-- 
---            <TextView
---                android:id="@+id/textView3"
---                android:layout_width="wrap_content"
---                android:layout_height="wrap_content"
---                android:textSize="20sp"
---                android:layout_marginStart="24dp"
---                android:textStyle="bold"
---                android:textColor="#272727"
---                android:fontFamily="@font/circular_std"
---                android:text="@string/t_m_theo_danh_m_c" />
--+        <TextView
--+            android:id="@+id/textView3"
--+            android:layout_width="wrap_content"
--+            android:layout_height="wrap_content"
--+            android:textSize="20sp"
--+            android:layout_marginStart="24dp"
--+            android:textStyle="bold"
--+            android:textColor="#272727"
--+            android:fontFamily="@font/circular_std"
--+            android:text="@string/t_m_theo_danh_m_c" />
-- 
---            <ScrollView
---                android:id="@+id/sc"
---                android:layout_width="match_parent"
---                android:layout_marginTop="8dp"
---                android:layout_height="wrap_content">
--+        <ScrollView
--+            android:id="@+id/sc"
--+            android:layout_width="match_parent"
--+            android:layout_marginTop="8dp"
--+            android:layout_height="wrap_content">
-- 
---                <androidx.recyclerview.widget.RecyclerView
---                    android:id="@+id/rvCategories"
---                    android:layout_width="match_parent"
---                    android:layout_height="wrap_content"
---                    >
---
---                </androidx.recyclerview.widget.RecyclerView>
---            </ScrollView>
---        </LinearLayout>
--+            <androidx.recyclerview.widget.RecyclerView
--+                android:id="@+id/rvCategories"
--+                android:layout_width="match_parent"
--+                android:layout_height="wrap_content"/>
--+        </ScrollView>
--+
--+    </LinearLayout>
-- 
---        <ScrollView
---            android:id="@+id/sc2"
---            android:layout_width="match_parent"
---            android:layout_height="wrap_content"
---            android:layout_marginTop="24dp"
---            android:layout_below="@id/ln1"
---            android:visibility="@{search.isProductsEmpty() ? View.VISIBLE : View.GONE}">
---
---            <androidx.recyclerview.widget.RecyclerView
---                android:id="@+id/rvProducts"
---                android:layout_width="match_parent"
---                android:layout_height="wrap_content"
---            />
---        </ScrollView>
--+    <!-- Products Section -->
--+    <ScrollView
--+        android:id="@+id/sc2"
--+        android:layout_width="match_parent"
--+        android:layout_height="match_parent"
--+        android:layout_marginTop="24dp"
--+        android:layout_below="@id/header"
--+        android:visibility="gone">
--+        <androidx.recyclerview.widget.RecyclerView
--+            android:id="@+id/rvProducts"
--+            android:layout_width="match_parent"
--+            android:layout_height="0dp" />
--+    </ScrollView>
-- 
---        <TextView
---            android:id="@+id/tvNotFound"
---            android:layout_width="wrap_content"
---            android:layout_height="wrap_content"
---            android:layout_below="@id/sc2"
---            android:layout_centerHorizontal="true"
---            android:layout_marginTop="20dp"
---            android:visibility="@{search.isProductsEmpty() ? View.VISIBLE : View.GONE}"
---            android:text="Không tìm thấy kết quả đã nhập" />
---
---
---    </RelativeLayout>
---</layout>
--\ No newline at end of file
--+</RelativeLayout>
--Index: app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.viewmodel;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.Transformations;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\n\r\nimport java.util.List;\r\n\r\npublic class SearchViewModel extends ViewModel {\r\n    private String inputText;\r\n    private MutableLiveData<List<Category>> categories;\r\n    private MutableLiveData<List<Product>> products=new MutableLiveData<>();\r\n\r\n    public void setCategories(List<Category> categories) {\r\n        this.categories.setValue(categories);\r\n    }\r\n\r\n    public void setProducts(List<Product> products) {\r\n        this.products.setValue(products);\r\n    }\r\n\r\n    public LiveData<Boolean> isProductsEmpty(){\r\n        return Transformations.map(products, List::isEmpty);\r\n    }\r\n}\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java
----- a/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/java/com/example/agrimart/viewmodel/SearchViewModel.java	(date 1731152693410)
--@@ -1,29 +1,83 @@
-- package com.example.agrimart.viewmodel;
-- 
--+import android.util.Log;
--+
-- import androidx.lifecycle.LiveData;
-- import androidx.lifecycle.MutableLiveData;
---import androidx.lifecycle.Transformations;
-- import androidx.lifecycle.ViewModel;
-- 
---import com.example.agrimart.data.model.Category;
-- import com.example.agrimart.data.model.Product;
--+import com.example.agrimart.data.model.Store;
--+import com.google.firebase.firestore.FirebaseFirestore;
-- 
--+import java.text.Normalizer;
--+import java.util.ArrayList;
-- import java.util.List;
-- 
-- public class SearchViewModel extends ViewModel {
---    private String inputText;
---    private MutableLiveData<List<Category>> categories;
---    private MutableLiveData<List<Product>> products=new MutableLiveData<>();
--+
--+    private MutableLiveData<List<Product>> filteredProducts = new MutableLiveData<>(new ArrayList<>());
--+    private MutableLiveData<List<Store>> filteredStores = new MutableLiveData<>(new ArrayList<>());
--+
--+    public LiveData<List<Product>> getFilteredProducts() {
--+        return filteredProducts;
--+    }
-- 
---    public void setCategories(List<Category> categories) {
---        this.categories.setValue(categories);
--+    public LiveData<List<Store>> getFilteredStores() {
--+        return filteredStores;
--     }
-- 
---    public void setProducts(List<Product> products) {
---        this.products.setValue(products);
--+    private String normalizeString(String input) {
--+        String normalized = Normalizer.normalize(input, Normalizer.Form.NFD);
--+        return normalized.replaceAll("[\\p{InCombiningDiacriticalMarks}]", "").toLowerCase();
--     }
-- 
---    public LiveData<Boolean> isProductsEmpty(){
---        return Transformations.map(products, List::isEmpty);
--+
--+    public void searchProductsByName(String query) {
--+        FirebaseFirestore db = FirebaseFirestore.getInstance();
--+        String normalizedQuery = normalizeString(query);
--+        db.collection("products")
--+                .orderBy("normalizedName")
--+                .startAt(normalizedQuery)
--+                .endAt(normalizedQuery + "\uf8ff")
--+                .get()
--+                .addOnCompleteListener(task -> {
--+                    if (task.isSuccessful()) {
--+                        List<Product> products = task.getResult().toObjects(Product.class);
--+                        if (!products.isEmpty()) {
--+                            filteredProducts.setValue(products);
--+                        } else {
--+                            filteredProducts.setValue(new ArrayList<>());
--+                        }
--+                    } else {
--+                        filteredProducts.setValue(new ArrayList<>());
--+                    }
--+                });
--     }
---}
--+
--+    public void searchStoresByProductName(String query) {
--+        FirebaseFirestore db = FirebaseFirestore.getInstance();
--+        db.collection("users")
--+                .orderBy("store_name")
--+                .startAt(query)
--+                .endAt(query + "\uf8ff")
--+                .get()
--+                .addOnCompleteListener(task -> {
--+                    if (task.isSuccessful()) {
--+                        List<Store> stores = task.getResult().toObjects(Store.class);
--+                        if (!stores.isEmpty()) {
--+                            filteredStores.setValue(stores);
--+                        } else {
--+                            filteredStores.setValue(new ArrayList<>());
--+                        }
--+                    } else {
--+                        filteredStores.setValue(new ArrayList<>());
--+                    }
--+                });
--+    }
--+
--+    public void searchAll(String query) {
--+        searchProductsByName(query);
--+        searchStoresByProductName(query);
--+    }
--+}
--\ No newline at end of file
--Index: app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Category;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.ActivitySearchBinding;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\nimport com.example.agrimart.viewmodel.SearchViewModel;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class SearchActivity extends AppCompatActivity {\r\n\r\n    SearchViewModel searchViewModel;\r\n    ActivitySearchBinding binding;\r\n    List<Category> categories = new ArrayList<>();\r\n    CategoryAdapter categoryAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        searchViewModel = new ViewModelProvider(this).get(SearchViewModel.class);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_search);\r\n        binding.setSearch(searchViewModel);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(binding.getRoot());\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(this, R.color.green));\r\n        }\r\n\r\n        categoryAdapter = new CategoryAdapter(categories);\r\n        binding.rvCategories.setLayoutManager(new GridLayoutManager(this, 4));\r\n        binding.rvCategories.setAdapter(categoryAdapter);\r\n        getCategories();\r\n\r\n        List<Product> products = new ArrayList<>();\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding.rvProducts.setLayoutManager(new GridLayoutManager(this, 2));\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n\r\n        ProductAdapter productAdapter = new ProductAdapter(products, product -> {\r\n            Intent intent = new Intent(this, ProductDetailActivity.class);\r\n            startActivity(intent);\r\n        });\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n        searchViewModel.setProducts(products);\r\n    }\r\n\r\n    private void getCategories() {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        List<Category> categories = new ArrayList<>();\r\n        db.collection(\"categories\")\r\n                .get().addOnCompleteListener(task -> {\r\n            if (task.isSuccessful()) {\r\n                categories.addAll(task.getResult().toObjects(Category.class));\r\n                this.categories.addAll(categories);\r\n                categoryAdapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n    }\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java b/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java
----- a/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/SearchActivity.java	(date 1731152665428)
--@@ -1,20 +1,22 @@
-- package com.example.agrimart.ui.Homepage;
-- 
--+import android.content.Context;
-- import android.content.Intent;
-- import android.os.Bundle;
---import android.util.Log;
--+import android.view.View;
-- import android.view.Window;
-- import android.view.WindowManager;
--+import android.view.inputmethod.InputMethodManager;
--+import android.widget.ImageButton;
--+import android.widget.LinearLayout;
--+import android.widget.ScrollView;
--+import android.widget.TextView;
-- 
---import androidx.activity.EdgeToEdge;
-- import androidx.appcompat.app.AppCompatActivity;
-- import androidx.core.content.ContextCompat;
---import androidx.core.graphics.Insets;
---import androidx.core.view.ViewCompat;
---import androidx.core.view.WindowInsetsCompat;
---import androidx.databinding.DataBindingUtil;
-- import androidx.lifecycle.ViewModelProvider;
-- import androidx.recyclerview.widget.GridLayoutManager;
--+import androidx.recyclerview.widget.RecyclerView;
-- 
-- import com.example.agrimart.R;
-- import com.example.agrimart.SpacesItemDecoration;
--@@ -22,7 +24,6 @@
-- import com.example.agrimart.adapter.ProductAdapter;
-- import com.example.agrimart.data.model.Category;
-- import com.example.agrimart.data.model.Product;
---import com.example.agrimart.databinding.ActivitySearchBinding;
-- import com.example.agrimart.ui.ProductPage.ProductDetailActivity;
-- import com.example.agrimart.viewmodel.SearchViewModel;
-- import com.google.firebase.firestore.FirebaseFirestore;
--@@ -32,24 +33,32 @@
-- 
-- public class SearchActivity extends AppCompatActivity {
-- 
---    SearchViewModel searchViewModel;
---    ActivitySearchBinding binding;
---    List<Category> categories = new ArrayList<>();
---    CategoryAdapter categoryAdapter;
--+    private SearchViewModel searchViewModel;
--+    private ProductAdapter productAdapter;
--+    private List<Category> categories = new ArrayList<>();
--+    private CategoryAdapter categoryAdapter;
--+    private List<Product> products = new ArrayList<>();
--+    private RecyclerView rvCategories, rvProducts;
--+    private androidx.appcompat.widget.SearchView searchInput;
--+    private TextView tvNoReslut;
--+    private LinearLayout ln1;
--+    private ScrollView sc2;
-- 
--     @Override
--     protected void onCreate(Bundle savedInstanceState) {
--         super.onCreate(savedInstanceState);
---        searchViewModel = new ViewModelProvider(this).get(SearchViewModel.class);
---        binding = DataBindingUtil.setContentView(this, R.layout.activity_search);
---        binding.setSearch(searchViewModel);
---        EdgeToEdge.enable(this);
---        setContentView(binding.getRoot());
---        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {
---            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());
---            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
---            return insets;
---        });
--+        setContentView(R.layout.activity_search);
--+
--+        ImageButton btnBack = findViewById(R.id.btnBack);
--+        tvNoReslut = findViewById(R.id.tvNoResult);
--+        tvNoReslut.setVisibility(View.GONE);
--+        rvCategories = findViewById(R.id.rvCategories);
--+        rvProducts = findViewById(R.id.rvProducts);
--+        searchInput = findViewById(R.id.search_input);
--+        ln1 = findViewById(R.id.ln1);
--+        sc2 = findViewById(R.id.sc2);
--+
--+        tvNoReslut.setVisibility(View.GONE);
-- 
--         if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.LOLLIPOP) {
--             Window window = getWindow();
--@@ -58,33 +67,76 @@
--         }
-- 
--         categoryAdapter = new CategoryAdapter(categories);
---        binding.rvCategories.setLayoutManager(new GridLayoutManager(this, 4));
---        binding.rvCategories.setAdapter(categoryAdapter);
--+        rvCategories.setLayoutManager(new GridLayoutManager(this, 4));
--+        rvCategories.setAdapter(categoryAdapter);
--         getCategories();
-- 
---        List<Product> products = new ArrayList<>();
--+        searchViewModel = new ViewModelProvider(this).get(SearchViewModel.class);
--+
--         int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);
---        binding.rvProducts.setLayoutManager(new GridLayoutManager(this, 2));
---        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
--+        rvProducts.setLayoutManager(new GridLayoutManager(this, 2));
--+        rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
-- 
---        ProductAdapter productAdapter = new ProductAdapter(products, product -> {
---            Intent intent = new Intent(this, ProductDetailActivity.class);
---            startActivity(intent);
--+        productAdapter = new ProductAdapter(products, product -> {
--+            try {
--+                Intent intent = new Intent(SearchActivity.this, ProductDetailActivity.class);
--+                intent.putExtra("product", product);
--+                intent.putExtra("storeId", product.getStoreId());
--+                startActivity(intent);
--+            } catch (Exception e) {
--+                e.printStackTrace();
--+            }
--+        });
--+        rvProducts.setAdapter(productAdapter);
--+
--+        searchViewModel.getFilteredProducts().observe(this, filteredProducts -> {
--+            if (searchInput.getQuery().length() > 0) {
--+                if (filteredProducts != null && !filteredProducts.isEmpty()) {
--+
--+                    products.clear();
--+                    products.addAll(filteredProducts);
--+                    productAdapter.notifyDataSetChanged();
--+
--+                    tvNoReslut.setVisibility(View.GONE);
--+                    rvProducts.setVisibility(View.VISIBLE);
--+                } else {
--+                    rvProducts.setVisibility(View.GONE);
--+                    tvNoReslut.setVisibility(View.VISIBLE);
--+                }
--+            } else {
--+                tvNoReslut.setVisibility(View.GONE);
--+                rvProducts.setVisibility(View.GONE);
--+            }
--         });
---        binding.rvProducts.setAdapter(productAdapter);
---        searchViewModel.setProducts(products);
--+
--+        searchInput.setOnQueryTextListener(new androidx.appcompat.widget.SearchView.OnQueryTextListener() {
--+            @Override
--+            public boolean onQueryTextSubmit(String query) {
--+                searchViewModel.searchProductsByName(query);
--+                ln1.setVisibility(View.GONE);
--+                sc2.setVisibility(View.VISIBLE);
--+                tvNoReslut.setVisibility(View.GONE);
--+                return true;
--+            }
--+
--+            @Override
--+            public boolean onQueryTextChange(String newText) {
--+                return false;
--+            }
--+        });
--+
--+        btnBack.setOnClickListener(v -> finish());
--     }
-- 
--     private void getCategories() {
--         FirebaseFirestore db = FirebaseFirestore.getInstance();
---        List<Category> categories = new ArrayList<>();
--         db.collection("categories")
--+                .orderBy("id")
--                 .get().addOnCompleteListener(task -> {
---            if (task.isSuccessful()) {
---                categories.addAll(task.getResult().toObjects(Category.class));
---                this.categories.addAll(categories);
---                categoryAdapter.notifyDataSetChanged();
---            }
---        });
--+                    if (task.isSuccessful()) {
--+                        categories.addAll(task.getResult().toObjects(Category.class));
--+                        categoryAdapter.notifyDataSetChanged();
--+                    }
--+                });
--     }
-- }
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ /dev/null	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--@@ -1,736 +0,0 @@
---Index: app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.viewmodel;\r\n\r\nimport android.app.Application;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.lifecycle.AndroidViewModel;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class SignUpViewModel extends AndroidViewModel {\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseFirestore firestore;\r\n    private MutableLiveData<Boolean> signUpSuccess;\r\n    private MutableLiveData<Boolean> emailVerificationSent;\r\n\r\n    public SignUpViewModel(@NonNull Application application) {\r\n        super(application);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        firestore = FirebaseFirestore.getInstance();\r\n        signUpSuccess = new MutableLiveData<>();\r\n        emailVerificationSent = new MutableLiveData<>();\r\n    }\r\n\r\n    public MutableLiveData<Boolean> getSignUpSuccess() {\r\n        return signUpSuccess;\r\n    }\r\n\r\n    public MutableLiveData<Boolean> getEmailVerificationSent() {\r\n        return emailVerificationSent;\r\n    }\r\n\r\n    public void signUpWithEmail(String email, String password) {\r\n        mAuth.createUserWithEmailAndPassword(email, password)\r\n            .addOnCompleteListener(task -> {\r\n                if (task.isSuccessful()) {\r\n                    FirebaseUser user = mAuth.getCurrentUser();\r\n                    if (user != null) {\r\n                        sendEmailVerification(user);\r\n                    }\r\n                    signUpSuccess.setValue(true);\r\n                } else {\r\n                    signUpSuccess.setValue(false);\r\n                }\r\n            });\r\n    }\r\n\r\n    public void sendEmailVerification(FirebaseUser user) { // Changed to public\r\n        user.sendEmailVerification()\r\n            .addOnCompleteListener(task -> {\r\n                if (task.isSuccessful()) {\r\n                    emailVerificationSent.setValue(true);\r\n                } else {\r\n                    emailVerificationSent.setValue(false);\r\n                }\r\n            });\r\n    }\r\n\r\n    public void saveUserToFirestore(FirebaseUser firebaseUser) {\r\n        firestore.collection(\"users\").document(firebaseUser.getUid())\r\n            .get()\r\n            .addOnSuccessListener(documentSnapshot -> {\r\n                String role = \"customer\";\r\n                if (documentSnapshot.exists() && documentSnapshot.contains(\"role\")) {\r\n                    role = documentSnapshot.getString(\"role\");\r\n                }\r\n\r\n                Map<String, Object> userMap = new HashMap<>();\r\n                userMap.put(\"userId\", firebaseUser.getUid());\r\n                userMap.put(\"role\", role);\r\n                if (firebaseUser.getDisplayName() != null) {\r\n                    userMap.put(\"fullName\", firebaseUser.getDisplayName());\r\n                }\r\n                if (firebaseUser.getEmail() != null) {\r\n                    userMap.put(\"email\", firebaseUser.getEmail());\r\n                }\r\n                if (firebaseUser.getPhoneNumber() != null) {\r\n                    userMap.put(\"phoneNumber\", firebaseUser.getPhoneNumber());\r\n                }\r\n                userMap.put(\"createdAt\", new Date());\r\n                userMap.put(\"updatedAt\", new Date());\r\n\r\n                firestore.collection(\"users\").document(firebaseUser.getUid())\r\n                    .set(userMap)\r\n                    .addOnSuccessListener(aVoid -> {\r\n                    })\r\n                    .addOnFailureListener(e -> {\r\n                    });\r\n            })\r\n            .addOnFailureListener(e -> {\r\n            });\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java b/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java
------ a/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/viewmodel/SignUpViewModel.java	(date 1730453351683)
---@@ -1,10 +1,13 @@
--- package com.example.agrimart.viewmodel;
--- 
--- import android.app.Application;
---+import android.widget.Toast;
---+
--- import androidx.annotation.NonNull;
--- import androidx.lifecycle.AndroidViewModel;
--- import androidx.lifecycle.MutableLiveData;
--- import com.google.firebase.auth.FirebaseAuth;
---+import com.google.firebase.auth.FirebaseAuthUserCollisionException;
--- import com.google.firebase.auth.FirebaseUser;
--- import com.google.firebase.firestore.FirebaseFirestore;
--- 
---@@ -34,64 +37,68 @@
---         return emailVerificationSent;
---     }
--- 
----    public void signUpWithEmail(String email, String password) {
---+    public void signUpWithEmail(String email, String password, String fullName) {
---         mAuth.createUserWithEmailAndPassword(email, password)
----            .addOnCompleteListener(task -> {
----                if (task.isSuccessful()) {
----                    FirebaseUser user = mAuth.getCurrentUser();
----                    if (user != null) {
----                        sendEmailVerification(user);
----                    }
----                    signUpSuccess.setValue(true);
----                } else {
----                    signUpSuccess.setValue(false);
----                }
----            });
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        FirebaseUser user = mAuth.getCurrentUser();
---+                        if (user != null) {
---+                            sendEmailVerification(user);
---+                            saveUserToFirestore(user, fullName);
---+                        }
---+                        signUpSuccess.setValue(true);
---+                    } else {
---+                        if (task.getException() instanceof FirebaseAuthUserCollisionException) {
---+                            Toast.makeText(getApplication(), "Email đã tồn tại", Toast.LENGTH_SHORT).show();
---+                        } else {
---+                            signUpSuccess.setValue(false);
---+                        }
---+                    }
---+                });
---     }
--- 
----    public void sendEmailVerification(FirebaseUser user) { // Changed to public
---+    public void sendEmailVerification(FirebaseUser user) {
---         user.sendEmailVerification()
----            .addOnCompleteListener(task -> {
----                if (task.isSuccessful()) {
----                    emailVerificationSent.setValue(true);
----                } else {
----                    emailVerificationSent.setValue(false);
----                }
----            });
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        emailVerificationSent.setValue(true);
---+                    } else {
---+                        emailVerificationSent.setValue(false);
---+                    }
---+                });
---     }
--- 
----    public void saveUserToFirestore(FirebaseUser firebaseUser) {
---+    public void saveUserToFirestore(FirebaseUser firebaseUser, String fullName) {
---         firestore.collection("users").document(firebaseUser.getUid())
----            .get()
----            .addOnSuccessListener(documentSnapshot -> {
----                String role = "customer";
----                if (documentSnapshot.exists() && documentSnapshot.contains("role")) {
----                    role = documentSnapshot.getString("role");
----                }
---+                .get()
---+                .addOnSuccessListener(documentSnapshot -> {
---+                    String role = "customer";
---+                    if (documentSnapshot.exists() && documentSnapshot.contains("role")) {
---+                        role = documentSnapshot.getString("role");
---+                    }
--- 
----                Map<String, Object> userMap = new HashMap<>();
----                userMap.put("userId", firebaseUser.getUid());
----                userMap.put("role", role);
----                if (firebaseUser.getDisplayName() != null) {
----                    userMap.put("fullName", firebaseUser.getDisplayName());
----                }
----                if (firebaseUser.getEmail() != null) {
----                    userMap.put("email", firebaseUser.getEmail());
----                }
----                if (firebaseUser.getPhoneNumber() != null) {
----                    userMap.put("phoneNumber", firebaseUser.getPhoneNumber());
----                }
----                userMap.put("createdAt", new Date());
----                userMap.put("updatedAt", new Date());
---+                    Map<String, Object> userMap = new HashMap<>();
---+                    userMap.put("userId", firebaseUser.getUid());
---+                    userMap.put("role", role);
---+                    userMap.put("fullName", fullName);
---+                    if (firebaseUser.getEmail() != null) {
---+                        userMap.put("email", firebaseUser.getEmail());
---+                    }
---+                    if (firebaseUser.getPhoneNumber() != null) {
---+                        userMap.put("phoneNumber", firebaseUser.getPhoneNumber());
---+                    }
---+                    userMap.put("createdAt", new Date());
---+                    userMap.put("updatedAt", new Date());
--- 
----                firestore.collection("users").document(firebaseUser.getUid())
----                    .set(userMap)
----                    .addOnSuccessListener(aVoid -> {
----                    })
----                    .addOnFailureListener(e -> {
----                    });
----            })
----            .addOnFailureListener(e -> {
----            });
---+                    firestore.collection("users").document(firebaseUser.getUid())
---+                            .set(userMap)
---+                            .addOnSuccessListener(aVoid -> {
---+                            })
---+                            .addOnFailureListener(e -> {
---+                            });
---+                })
---+                .addOnFailureListener(e -> {
---+                });
---     }
---+
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/utils/Valid.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.utils;\r\n\r\nimport android.widget.TextView;\r\nimport android.util.Patterns;\r\n\r\npublic class Valid {\r\n    public static boolean isValidEmail(String email) {\r\n        return !email.isEmpty() && Patterns.EMAIL_ADDRESS.matcher(email).matches();\r\n    }\r\n\r\n    public static boolean isValidPassword(String password) {\r\n        return !password.isEmpty() && password.length() >= 8 && password.matches(\".*[A-Z].*\") && password.matches(\".*\\\\d.*\");\r\n    }\r\n\r\n    public static boolean isValidName(String name) {\r\n        return !name.isEmpty() && name.length() >= 3 && !name.matches(\".*\\\\d.*\");\r\n    }\r\n\r\n    public static boolean validateInputs(String email, String password, String name, TextView tvEmailError, TextView tvPasswordError, TextView tvNameError) {\r\n        boolean isValid = true;\r\n\r\n        if (!isValidEmail(email)) {\r\n            tvEmailError.setText(\"Email không hợp lệ\");\r\n            isValid = false;\r\n        } else {\r\n            tvEmailError.setText(\"\");\r\n        }\r\n\r\n        if (!isValidPassword(password)) {\r\n            tvPasswordError.setText(\"Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa và số\");\r\n            isValid = false;\r\n        } else {\r\n            tvPasswordError.setText(\"\");\r\n        }\r\n\r\n        if (!isValidName(name)) {\r\n            tvNameError.setText(\"Tên phải có ít nhất 3 ký tự và không được chứa số\");\r\n            isValid = false;\r\n        } else {\r\n            tvNameError.setText(\"\");\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/utils/Valid.java b/app/src/main/java/com/example/agrimart/utils/Valid.java
------ a/app/src/main/java/com/example/agrimart/utils/Valid.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/utils/Valid.java	(date 1730455032461)
---@@ -16,30 +16,7 @@
---         return !name.isEmpty() && name.length() >= 3 && !name.matches(".*\\d.*");
---     }
--- 
----    public static boolean validateInputs(String email, String password, String name, TextView tvEmailError, TextView tvPasswordError, TextView tvNameError) {
----        boolean isValid = true;
----
----        if (!isValidEmail(email)) {
----            tvEmailError.setText("Email không hợp lệ");
----            isValid = false;
----        } else {
----            tvEmailError.setText("");
----        }
----
----        if (!isValidPassword(password)) {
----            tvPasswordError.setText("Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa và số");
----            isValid = false;
----        } else {
----            tvPasswordError.setText("");
----        }
----
----        if (!isValidName(name)) {
----            tvNameError.setText("Tên phải có ít nhất 3 ký tự và không được chứa số");
----            isValid = false;
----        } else {
----            tvNameError.setText("");
----        }
----
----        return isValid;
----    }
----}
---\ No newline at end of file
---+    public static boolean isPasswordMatching(String password, String confirmPassword) {
---+        return password.equals(confirmPassword);
---+    }
---+}
---Index: app/src/main/res/layout/activity_forgot_password.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main1\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/white\"\r\n    tools:context=\".ui.Account.ForgotPasswordActivity\">\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/btn_back\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:background=\"@color/white\"\r\n        android:src=\"@drawable/chevron_left\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.077\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView2\"\r\n        style=\"@style/title\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"96dp\"\r\n        android:fontFamily=\"@font/gabarito\"\r\n        android:text=\"Đặt lại mật khẩu\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.15\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <com.google.android.material.textfield.TextInputLayout\r\n        android:id=\"@+id/textInputLayout2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"30dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView2\"\r\n        app:boxBackgroundColor=\"@color/white\"\r\n        app:startIconDrawable=\"@drawable/telephone\"\r\n        app:boxBackgroundMode=\"outline\">\r\n\r\n        <com.google.android.material.textfield.TextInputEditText\r\n            android:id=\"@+id/edtPhoneNumber\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:background=\"@null\"\r\n            android:hint=\"Nhập số điện thoại của bạn\"\r\n            android:inputType=\"phone\" />\r\n    </com.google.android.material.textfield.TextInputLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_continue\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"36dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"Tiếp tục\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.905\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textInputLayout2\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/activity_forgot_password.xml b/app/src/main/res/layout/activity_forgot_password.xml
------ a/app/src/main/res/layout/activity_forgot_password.xml	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/res/layout/activity_forgot_password.xml	(date 1730450605012)
---@@ -45,16 +45,16 @@
---         app:layout_constraintStart_toStartOf="parent"
---         app:layout_constraintTop_toBottomOf="@+id/textView2"
---         app:boxBackgroundColor="@color/white"
----        app:startIconDrawable="@drawable/telephone"
---+        app:startIconDrawable="@drawable/email"
---         app:boxBackgroundMode="outline">
--- 
---         <com.google.android.material.textfield.TextInputEditText
----            android:id="@+id/edtPhoneNumber"
---+            android:id="@+id/edtEmail"
---             android:layout_width="match_parent"
---             android:layout_height="wrap_content"
---             android:background="@null"
----            android:hint="Nhập số điện thoại của bạn"
----            android:inputType="phone" />
---+            android:hint="Nhập email của bạn"
---+            android:inputType="textEmailAddress" />
---     </com.google.android.material.textfield.TextInputLayout>
--- 
---     <Button
---Index: app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageButton;\r\n\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\n\r\nimport com.example.agrimart.R;\r\n\r\npublic class ForgotPasswordActivity extends AppCompatActivity {\r\n    Button btnContinue;\r\n    ImageButton btnBack;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_forgot_password);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        addControls();\r\n        addEvents();\r\n    }\r\n\r\n    public void addControls() {\r\n        btnContinue = findViewById(R.id.btn_continue);\r\n        btnBack = findViewById(R.id.btn_back);\r\n    }\r\n\r\n    public void addEvents() {\r\n        btnContinue.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(ForgotPasswordActivity.this, EnterOTPActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        btnBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/ForgotPasswordActivity.java	(date 1730438788971)
---@@ -4,7 +4,9 @@
--- import android.os.Bundle;
--- import android.view.View;
--- import android.widget.Button;
---+import android.widget.EditText;
--- import android.widget.ImageButton;
---+import android.widget.Toast;
--- 
--- import androidx.activity.EdgeToEdge;
--- import androidx.appcompat.app.AppCompatActivity;
---@@ -13,10 +15,13 @@
--- import androidx.core.view.WindowInsetsCompat;
--- 
--- import com.example.agrimart.R;
---+import com.google.firebase.auth.FirebaseAuth;
--- 
--- public class ForgotPasswordActivity extends AppCompatActivity {
---     Button btnContinue;
---     ImageButton btnBack;
---+    EditText edtEmail;
---+    private FirebaseAuth mAuth;
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---         super.onCreate(savedInstanceState);
---@@ -27,7 +32,7 @@
---             v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);
---             return insets;
---         });
----
---+        mAuth = FirebaseAuth.getInstance();
---     }
--- 
---     @Override
---@@ -40,14 +45,20 @@
---     public void addControls() {
---         btnContinue = findViewById(R.id.btn_continue);
---         btnBack = findViewById(R.id.btn_back);
---+        edtEmail = findViewById(R.id.edtEmail);
---     }
--- 
---     public void addEvents() {
---         btnContinue.setOnClickListener(new View.OnClickListener() {
---             @Override
---             public void onClick(View v) {
----                Intent intent = new Intent(ForgotPasswordActivity.this, EnterOTPActivity.class);
----                startActivity(intent);
---+                String email = edtEmail.getText().toString().trim();
---+                if (email.isEmpty()) {
---+                    Toast.makeText(ForgotPasswordActivity.this, "Hãy nhập email của bạn", Toast.LENGTH_SHORT).show();
---+                } else {
---+                    sendPasswordResetEmail(email);
---+                    finish();
---+                }
---             }
---         });
---         btnBack.setOnClickListener(new View.OnClickListener() {
---@@ -59,5 +70,15 @@
--- 
---     }
--- 
---+    private void sendPasswordResetEmail(String email) {
---+        mAuth.sendPasswordResetEmail(email)
---+                .addOnCompleteListener(task -> {
---+                    if (task.isSuccessful()) {
---+                        Toast.makeText(ForgotPasswordActivity.this, "Email đặt lại mật khẩu đã được gửi", Toast.LENGTH_SHORT).show();
---+                    } else {
---+                        Toast.makeText(ForgotPasswordActivity.this, "Gửi email thất bại", Toast.LENGTH_SHORT).show();
---+                    }
---+                });
---+    }
--- 
--- }
---\ No newline at end of file
---Index: app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.utils.Valid;\r\nimport com.example.agrimart.viewmodel.SignUpViewModel;\r\n\r\npublic class SignUpActivity extends AppCompatActivity {\r\n    private EditText edtEmail, edtPassword, edtName;\r\n    private TextView tvEmailError, tvPasswordError, tvNameError;\r\n    private Button btnSignUp;\r\n    private ImageButton btnBack;\r\n    private TextView tvHaveAccount;\r\n    private ProgressBar progressBar;\r\n\r\n    private SignUpViewModel viewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_up);\r\n\r\n        initViews();\r\n        initViewModel();\r\n    }\r\n\r\n    private void initViews() {\r\n        edtEmail = findViewById(R.id.edtEmail);\r\n        edtPassword = findViewById(R.id.edtPassword);\r\n        edtName = findViewById(R.id.edtUsername);\r\n        tvEmailError = findViewById(R.id.tvEmailError);\r\n        tvPasswordError = findViewById(R.id.tvPasswordError);\r\n        tvNameError = findViewById(R.id.tvNameError);\r\n        btnSignUp = findViewById(R.id.btn_signin);\r\n        btnBack = findViewById(R.id.btn_back);\r\n        tvHaveAccount = findViewById(R.id.haveAccount);\r\n        progressBar = findViewById(R.id.progressBar);\r\n    }\r\n\r\n    private void initViewModel() {\r\n        viewModel = new ViewModelProvider(this).get(SignUpViewModel.class);\r\n\r\n        viewModel.getSignUpSuccess().observe(this, success -> {\r\n            if (success) {\r\n                Toast.makeText(this, \"Đăng ký thành công. Vui lòng kiểm tra email để xác nhận tài khoản.\", Toast.LENGTH_SHORT).show();\r\n                startActivity(new Intent(SignUpActivity.this, VerifyActivity.class));\r\n                finish();\r\n            } else {\r\n                Toast.makeText(this, \"Lỗi khi đăng ký\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        viewModel.getEmailVerificationSent().observe(this, sent -> {\r\n            if (sent) {\r\n                Toast.makeText(this, \"Mail xác nhận đã được gửi đến email của bạn\", Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, \"Lỗi khi gửi mail\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        btnSignUp.setOnClickListener(v -> {\r\n            String email = edtEmail.getText().toString().trim();\r\n            String password = edtPassword.getText().toString().trim();\r\n            String name = edtName.getText().toString().trim();\r\n            if (Valid.validateInputs(email, password, name, tvEmailError, tvPasswordError, tvNameError)) {\r\n                viewModel.signUpWithEmail(email, password);\r\n            } else {\r\n                Toast.makeText(this, \"Thông tin không hợp lệ\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        tvHaveAccount.setOnClickListener(v -> {\r\n            Intent intent = new Intent(SignUpActivity.this, SignInActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        btnBack.setOnClickListener(v -> finish());\r\n    }\r\n}\r\n
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/SignUpActivity.java	(date 1730455099523)
---@@ -2,6 +2,8 @@
--- 
--- import android.content.Intent;
--- import android.os.Bundle;
---+import android.util.Patterns;
---+import android.view.View;
--- import android.widget.Button;
--- import android.widget.EditText;
--- import android.widget.ImageButton;
---@@ -17,8 +19,8 @@
--- import com.example.agrimart.viewmodel.SignUpViewModel;
--- 
--- public class SignUpActivity extends AppCompatActivity {
----    private EditText edtEmail, edtPassword, edtName;
----    private TextView tvEmailError, tvPasswordError, tvNameError;
---+    private EditText edtEmail, edtPassword, edtName, edtConfirmPassword;
---+    private TextView tvEmailError, tvPasswordError, tvNameError, tvConfirmPasswordError;
---     private Button btnSignUp;
---     private ImageButton btnBack;
---     private TextView tvHaveAccount;
---@@ -31,24 +33,26 @@
---         super.onCreate(savedInstanceState);
---         setContentView(R.layout.activity_sign_up);
--- 
----        initViews();
----        initViewModel();
---+        addControls();
---+        addEvents();
---     }
--- 
----    private void initViews() {
---+    private void addControls() {
---         edtEmail = findViewById(R.id.edtEmail);
---         edtPassword = findViewById(R.id.edtPassword);
---         edtName = findViewById(R.id.edtUsername);
---+        edtConfirmPassword = findViewById(R.id.edtConfirmPassword);
---         tvEmailError = findViewById(R.id.tvEmailError);
---         tvPasswordError = findViewById(R.id.tvPasswordError);
---         tvNameError = findViewById(R.id.tvNameError);
---+        tvConfirmPasswordError = findViewById(R.id.tvConfirmPasswordError);
---         btnSignUp = findViewById(R.id.btn_signin);
---         btnBack = findViewById(R.id.btn_back);
---         tvHaveAccount = findViewById(R.id.haveAccount);
---         progressBar = findViewById(R.id.progressBar);
---     }
--- 
----    private void initViewModel() {
---+    private void addEvents() {
---         viewModel = new ViewModelProvider(this).get(SignUpViewModel.class);
--- 
---         viewModel.getSignUpSuccess().observe(this, success -> {
---@@ -61,20 +65,14 @@
---             }
---         });
--- 
----        viewModel.getEmailVerificationSent().observe(this, sent -> {
----            if (sent) {
----                Toast.makeText(this, "Mail xác nhận đã được gửi đến email của bạn", Toast.LENGTH_SHORT).show();
----            } else {
----                Toast.makeText(this, "Lỗi khi gửi mail", Toast.LENGTH_SHORT).show();
----            }
----        });
----
---         btnSignUp.setOnClickListener(v -> {
----            String email = edtEmail.getText().toString().trim();
----            String password = edtPassword.getText().toString().trim();
----            String name = edtName.getText().toString().trim();
----            if (Valid.validateInputs(email, password, name, tvEmailError, tvPasswordError, tvNameError)) {
----                viewModel.signUpWithEmail(email, password);
---+            if (validateInputs()) {
---+                progressBar.setVisibility(View.VISIBLE);
---+                String email = edtEmail.getText().toString().trim();
---+                String password = edtPassword.getText().toString().trim();
---+                String name = edtName.getText().toString().trim();
---+
---+                viewModel.signUpWithEmail(email, password, name);
---             } else {
---                 Toast.makeText(this, "Thông tin không hợp lệ", Toast.LENGTH_SHORT).show();
---             }
---@@ -87,4 +85,61 @@
--- 
---         btnBack.setOnClickListener(v -> finish());
---     }
---+
---+    private boolean validateInputs() {
---+        boolean isValid = true;
---+
---+        tvEmailError.setVisibility(View.GONE);
---+        tvPasswordError.setVisibility(View.GONE);
---+        tvNameError.setVisibility(View.GONE);
---+        tvConfirmPasswordError.setVisibility(View.GONE);
---+
---+        String email = edtEmail.getText().toString().trim();
---+        String password = edtPassword.getText().toString().trim();
---+        String confirmPassword = edtConfirmPassword.getText().toString().trim();
---+        String name = edtName.getText().toString().trim();
---+
---+        if (email.isEmpty()) {
---+            tvEmailError.setText("Email không được để trống");
---+            tvEmailError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (!Patterns.EMAIL_ADDRESS.matcher(email).matches()) {
---+            tvEmailError.setText("Email không hợp lệ");
---+            tvEmailError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        if (password.isEmpty()) {
---+            tvPasswordError.setText("Mật khẩu không được để trống");
---+            tvPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (password.length() < 8 || !password.matches(".*[A-Z].*") || !password.matches(".*\\d.*")) {
---+            tvPasswordError.setText("Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa và số");
---+            tvPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        if (confirmPassword.isEmpty()) {
---+            tvConfirmPasswordError.setText("Không được để trống");
---+            tvConfirmPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (!confirmPassword.equals(password)) {
---+            tvConfirmPasswordError.setText("Mật khẩu xác nhận không khớp");
---+            tvConfirmPasswordError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        if (name.isEmpty()) {
---+            tvNameError.setText("Tên không được để trống");
---+            tvNameError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        } else if (name.length() < 3 || name.matches(".*\\d.*")) {
---+            tvNameError.setText("Tên phải có ít nhất 3 ký tự và không được chứa số");
---+            tvNameError.setVisibility(View.VISIBLE);
---+            isValid = false;
---+        }
---+
---+        return isValid;
---+    }
---+
--- }
---Index: app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.MainActivity;\r\nimport com.example.agrimart.viewmodel.SignInViewModel;\r\nimport com.facebook.AccessToken;\r\nimport com.facebook.CallbackManager;\r\nimport com.facebook.FacebookCallback;\r\nimport com.facebook.FacebookException;\r\nimport com.facebook.FacebookSdk;\r\nimport com.facebook.login.LoginManager;\r\nimport com.facebook.login.LoginResult;\r\nimport com.facebook.login.widget.LoginButton;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\nimport com.google.android.gms.common.api.ApiException;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthCredential;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.auth.FacebookAuthProvider;\r\nimport com.google.firebase.auth.GoogleAuthProvider;\r\n\r\npublic class SignInActivity extends AppCompatActivity {\r\n    private static final String TAG = \"SignInActivity\";\r\n    private SignInViewModel signInViewModel;\r\n    private ActivityResultLauncher<Intent> googleSignInLauncher;\r\n    private GoogleSignInOptions gso;\r\n    private SharedPreferences sharedPreferences;\r\n    private FirebaseAuth mAuth;\r\n    private CallbackManager callbackManager;\r\n\r\n    private TextView tvDonthaveAccount;\r\n    private TextView forgotPass;\r\n    private Button btnSignIn;\r\n    private Button btnSignInGoogle, btnSignInFacebook;\r\n    private TextView edtEmail, edtPassword;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_in);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);\r\n            return insets;\r\n        });\r\n\r\n        sharedPreferences = getSharedPreferences(\"user_prefs\", MODE_PRIVATE);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        if (sharedPreferences.getBoolean(\"is_logged_in\", false)) {\r\n            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n            if (currentUser != null) {\r\n                navigateToMain();\r\n                return;\r\n            }\r\n        }\r\n\r\n        signInViewModel = new ViewModelProvider(this).get(SignInViewModel.class);\r\n\r\n        gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n            .requestIdToken(getString(R.string.default_web_client_id))\r\n            .requestEmail()\r\n            .build();\r\n\r\n        googleSignInLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            result -> {\r\n                if (result.getResultCode() == RESULT_OK) {\r\n                    Intent data = result.getData();\r\n                    Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n                    try {\r\n                        GoogleSignInAccount account = task.getResult(ApiException.class);\r\n                        handleGoogleAccessToken(account);\r\n                    } catch (ApiException e) {\r\n                        Toast.makeText(this, \"Đăng nhập thất bại\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } else {\r\n                    Toast.makeText(this, \"Đăng nhập bị từ chối\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\n        FacebookSdk.sdkInitialize(getApplicationContext());\r\n        callbackManager = CallbackManager.Factory.create();\r\n\r\n        addControls();\r\n        addEvents();\r\n    }\r\n\r\n    public void addControls() {\r\n        tvDonthaveAccount = findViewById(R.id.dontHaveAccount);\r\n        forgotPass = findViewById(R.id.forgotPassword);\r\n        btnSignIn = findViewById(R.id.btnSignIn);\r\n        btnSignInGoogle = findViewById(R.id.btnSignInGoogle);\r\n        edtEmail = findViewById(R.id.edtEmail);\r\n        edtPassword = findViewById(R.id.edtPassword);\r\n        btnSignInFacebook = findViewById(R.id.btnSignInFacebook);\r\n    }\r\n\r\n    public void addEvents() {\r\n        tvDonthaveAccount.setOnClickListener(v -> {\r\n            Intent intent = new Intent(SignInActivity.this, SignUpActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        forgotPass.setOnClickListener(v -> {\r\n            Intent intent = new Intent(SignInActivity.this, ForgotPasswordActivity.class);\r\n            startActivity(intent);\r\n        });\r\n\r\n        btnSignIn.setOnClickListener(v -> {\r\n            String email = edtEmail.getText().toString().trim();\r\n            String password = edtPassword.getText().toString().trim();\r\n            if (!email.isEmpty() && !password.isEmpty()) {\r\n                signInViewModel.signInWithEmail(email, password, this::navigateToMain);\r\n            } else {\r\n                Toast.makeText(SignInActivity.this, \"Email hoặc mật khẩu không hợp lệ\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        btnSignInGoogle.setOnClickListener(v -> {\r\n            Intent signInIntent = GoogleSignIn.getClient(this, gso).getSignInIntent();\r\n            googleSignInLauncher.launch(signInIntent);\r\n        });\r\n\r\n        btnSignInFacebook.setOnClickListener(v -> {\r\n            LoginButton loginButton = new LoginButton(this);\r\n            loginButton.setPermissions(\"email\", \"public_profile\");\r\n            loginButton.registerCallback(callbackManager, new FacebookCallback<LoginResult>() {\r\n                @Override\r\n                public void onSuccess(LoginResult loginResult) {\r\n                    handleFacebookAccessToken(loginResult.getAccessToken());\r\n                }\r\n\r\n                @Override\r\n                public void onCancel() {\r\n                    Toast.makeText(SignInActivity.this, \"Facebook login canceled\", Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                @Override\r\n                public void onError(FacebookException error) {\r\n                    Toast.makeText(SignInActivity.this, \"Facebook login failed\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n            loginButton.performClick();\r\n        });\r\n    }\r\n\r\n    private boolean isUserDataExists() {\r\n        String email = sharedPreferences.getString(\"user_email\", null);\r\n        return email != null;\r\n    }\r\n\r\n    private void saveUserData(FirebaseUser user) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"user_email\", user.getEmail());\r\n        editor.putString(\"user_name\", user.getDisplayName());\r\n        editor.apply();\r\n    }\r\n\r\n    private void handleGoogleAccessToken(GoogleSignInAccount account) {\r\n        AuthCredential credential = GoogleAuthProvider.getCredential(account.getIdToken(), null);\r\n        signInViewModel.signInWithGoogle(credential, () -> {\r\n            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n            if (user != null) {\r\n                if (!isUserDataExists()) {\r\n                    saveUserData(user);\r\n                }\r\n                setLoginState(true);\r\n            } else {\r\n            }\r\n            navigateToMain();\r\n        });\r\n    }\r\n\r\nprivate void handleFacebookAccessToken(AccessToken token) {\r\n    AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());\r\n    signInViewModel.signInWithFacebook(credential, () -> {\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (user != null) {\r\n            if (!isUserDataExists()) {\r\n                saveUserData(user);\r\n            }\r\n            setLoginState(true);\r\n        } else {\r\n            Log.w(TAG, \"Facebook login successful but user is null\");\r\n        }\r\n        navigateToMain();\r\n    });\r\n}\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        callbackManager.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n    private void navigateToMain() {\r\n        Intent intent = new Intent(SignInActivity.this, MainActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    public void signOutFromFacebook() {\r\n    LoginManager.getInstance().logOut();\r\n    FirebaseAuth.getInstance().signOut();\r\n    setLoginState(false);\r\n    navigateToSignIn();\r\n}\r\n\r\n    private void navigateToSignIn() {\r\n        Intent intent = new Intent(SignInActivity.this, SignInActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    private void setLoginState(boolean isLoggedIn) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putBoolean(\"is_logged_in\", isLoggedIn);\r\n        editor.apply();\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/SignInActivity.java	(date 1730455530347)
---@@ -77,26 +77,26 @@
---         signInViewModel = new ViewModelProvider(this).get(SignInViewModel.class);
--- 
---         gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)
----            .requestIdToken(getString(R.string.default_web_client_id))
----            .requestEmail()
----            .build();
---+                .requestIdToken(getString(R.string.default_web_client_id))
---+                .requestEmail()
---+                .build();
--- 
---         googleSignInLauncher = registerForActivityResult(
----            new ActivityResultContracts.StartActivityForResult(),
----            result -> {
----                if (result.getResultCode() == RESULT_OK) {
----                    Intent data = result.getData();
----                    Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);
----                    try {
----                        GoogleSignInAccount account = task.getResult(ApiException.class);
----                        handleGoogleAccessToken(account);
----                    } catch (ApiException e) {
----                        Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
----                    }
----                } else {
----                    Toast.makeText(this, "Đăng nhập bị từ chối", Toast.LENGTH_SHORT).show();
----                }
----            });
---+                new ActivityResultContracts.StartActivityForResult(),
---+                result -> {
---+                    if (result.getResultCode() == RESULT_OK) {
---+                        Intent data = result.getData();
---+                        Task<GoogleSignInAccount> task = GoogleSignIn.getSignedInAccountFromIntent(data);
---+                        try {
---+                            GoogleSignInAccount account = task.getResult(ApiException.class);
---+                            handleGoogleAccessToken(account);
---+                        } catch (ApiException e) {
---+                            Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---+                        }
---+                    } else {
---+                        Toast.makeText(this, "Đăng nhập bị từ chối", Toast.LENGTH_SHORT).show();
---+                    }
---+                });
--- 
---         FacebookSdk.sdkInitialize(getApplicationContext());
---         callbackManager = CallbackManager.Factory.create();
---@@ -130,7 +130,7 @@
---             String email = edtEmail.getText().toString().trim();
---             String password = edtPassword.getText().toString().trim();
---             if (!email.isEmpty() && !password.isEmpty()) {
----                signInViewModel.signInWithEmail(email, password, this::navigateToMain);
---+                signInViewModel.signInWithEmail(email, password, () -> checkEmailVerification(true));
---             } else {
---                 Toast.makeText(SignInActivity.this, "Email hoặc mật khẩu không hợp lệ", Toast.LENGTH_SHORT).show();
---             }
---@@ -148,22 +148,40 @@
---                 @Override
---                 public void onSuccess(LoginResult loginResult) {
---                     handleFacebookAccessToken(loginResult.getAccessToken());
---+                    Toast.makeText(SignInActivity.this, "Đăng nhập thành công", Toast.LENGTH_SHORT).show();
---                 }
--- 
---                 @Override
---                 public void onCancel() {
----                    Toast.makeText(SignInActivity.this, "Facebook login canceled", Toast.LENGTH_SHORT).show();
---+                    Toast.makeText(SignInActivity.this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---                 }
--- 
---                 @Override
---                 public void onError(FacebookException error) {
----                    Toast.makeText(SignInActivity.this, "Facebook login failed", Toast.LENGTH_SHORT).show();
---+                    Toast.makeText(SignInActivity.this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---                 }
---             });
---             loginButton.performClick();
---         });
---     }
--- 
---+    private void checkEmailVerification(boolean isEmailSignIn) {
---+        FirebaseUser user = mAuth.getCurrentUser();
---+        if (user != null) {
---+            if (!isEmailSignIn || user.isEmailVerified()) {
---+                navigateToMain();
---+            } else {
---+                Toast.makeText(SignInActivity.this, "Vui lòng xác thực email của bạn trước khi đăng nhập", Toast.LENGTH_SHORT).show();
---+                signOut();
---+            }
---+        }
---+    }
---+
---+    private void signOut() {
---+        mAuth.signOut();
---+        setLoginState(false);
---+    }
---+
---     private boolean isUserDataExists() {
---         String email = sharedPreferences.getString("user_email", null);
---         return email != null;
---@@ -183,29 +201,30 @@
---             if (user != null) {
---                 if (!isUserDataExists()) {
---                     saveUserData(user);
---+                    Toast.makeText(this, "Đăng nhập thành công", Toast.LENGTH_SHORT).show();
---                 }
----                setLoginState(true);
---+                checkEmailVerification(false);
---             } else {
---+                Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---             }
----            navigateToMain();
---         });
---     }
--- 
----private void handleFacebookAccessToken(AccessToken token) {
----    AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());
----    signInViewModel.signInWithFacebook(credential, () -> {
----        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
----        if (user != null) {
----            if (!isUserDataExists()) {
----                saveUserData(user);
----            }
----            setLoginState(true);
----        } else {
----            Log.w(TAG, "Facebook login successful but user is null");
----        }
----        navigateToMain();
----    });
----}
---+    private void handleFacebookAccessToken(AccessToken token) {
---+        AuthCredential credential = FacebookAuthProvider.getCredential(token.getToken());
---+        signInViewModel.signInWithFacebook(credential, () -> {
---+            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
---+            if (user != null) {
---+                if (!isUserDataExists()) {
---+                    saveUserData(user);
---+                    Toast.makeText(this, "Đăng nhập thành công", Toast.LENGTH_SHORT).show();
---+                }
---+                checkEmailVerification(false);
---+            } else {
---+                Toast.makeText(this, "Đăng nhập thất bại", Toast.LENGTH_SHORT).show();
---+            }
---+        });
---+    }
--- 
---     @Override
---     protected void onActivityResult(int requestCode, int resultCode, Intent data) {
---@@ -218,23 +237,10 @@
---         startActivity(intent);
---         finish();
---     }
----
----    public void signOutFromFacebook() {
----    LoginManager.getInstance().logOut();
----    FirebaseAuth.getInstance().signOut();
----    setLoginState(false);
----    navigateToSignIn();
----}
----
----    private void navigateToSignIn() {
----        Intent intent = new Intent(SignInActivity.this, SignInActivity.class);
----        startActivity(intent);
----        finish();
----    }
--- 
---     private void setLoginState(boolean isLoggedIn) {
---         SharedPreferences.Editor editor = sharedPreferences.edit();
---         editor.putBoolean("is_logged_in", isLoggedIn);
---         editor.apply();
---     }
----}
---\ No newline at end of file
---+}
---Index: app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui.Account;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.MainActivity;\r\nimport com.example.agrimart.viewmodel.SignUpViewModel;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class VerifyActivity extends AppCompatActivity {\r\n    private SignUpViewModel viewModel;\r\n    private FirebaseAuth mAuth;\r\n    private Handler handler;\r\n    private Runnable checkEmailVerifiedRunnable;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_verify);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        viewModel = new ViewModelProvider(this).get(SignUpViewModel.class);\r\n        handler = new Handler();\r\n\r\n        Button btnResendEmail = findViewById(R.id.btnResendEmail);\r\n        Button btnBackToLogin = findViewById(R.id.btnBackToLogin);\r\n\r\n        btnResendEmail.setOnClickListener(v -> {\r\n            FirebaseUser user = mAuth.getCurrentUser();\r\n            if (user != null) {\r\n                viewModel.sendEmailVerification(user);\r\n                Toast.makeText(this, \"Email xác nhận đã được gửi lại\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        btnBackToLogin.setOnClickListener(v -> {\r\n            startActivity(new Intent(VerifyActivity.this, SignInActivity.class));\r\n            finish();\r\n        });\r\n\r\n        checkEmailVerification();\r\n    }\r\n\r\n    private void checkEmailVerification() {\r\n        checkEmailVerifiedRunnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                FirebaseUser user = mAuth.getCurrentUser();\r\n                if (user != null) {\r\n                    user.reload().addOnCompleteListener(task -> {\r\n                        if (user.isEmailVerified()) {\r\n                            viewModel.saveUserToFirestore(user);\r\n                            Toast.makeText(VerifyActivity.this, \"Đăng kí thành công\", Toast.LENGTH_SHORT).show();\r\n                            startActivity(new Intent(VerifyActivity.this, MainActivity.class));\r\n                            finish();\r\n                        } else {\r\n                            handler.postDelayed(checkEmailVerifiedRunnable, 3000);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        handler.post(checkEmailVerifiedRunnable);\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        handler.removeCallbacks(checkEmailVerifiedRunnable);\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java b/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/Account/VerifyActivity.java	(date 1730452246225)
---@@ -20,6 +20,7 @@
---     private FirebaseAuth mAuth;
---     private Handler handler;
---     private Runnable checkEmailVerifiedRunnable;
---+    private String fullname;
--- 
---     @Override
---     protected void onCreate(Bundle savedInstanceState) {
---@@ -33,6 +34,8 @@
---         Button btnResendEmail = findViewById(R.id.btnResendEmail);
---         Button btnBackToLogin = findViewById(R.id.btnBackToLogin);
--- 
---+        fullname = getIntent().getStringExtra("fullname");
---+
---         btnResendEmail.setOnClickListener(v -> {
---             FirebaseUser user = mAuth.getCurrentUser();
---             if (user != null) {
---@@ -57,7 +60,7 @@
---                 if (user != null) {
---                     user.reload().addOnCompleteListener(task -> {
---                         if (user.isEmailVerified()) {
----                            viewModel.saveUserToFirestore(user);
---+                            viewModel.saveUserToFirestore(user, fullname);
---                             Toast.makeText(VerifyActivity.this, "Đăng kí thành công", Toast.LENGTH_SHORT).show();
---                             startActivity(new Intent(VerifyActivity.this, MainActivity.class));
---                             finish();
---Index: app/src/main/java/com/example/agrimart/ui/MainActivity.java
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+>package com.example.agrimart.ui;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport androidx.activity.EdgeToEdge;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.graphics.Insets;\r\nimport androidx.core.view.ViewCompat;\r\nimport androidx.core.view.WindowInsetsCompat;\r\nimport androidx.fragment.app.Fragment;\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.ui.Account.SignInActivity;\r\nimport com.example.agrimart.ui.Cart.CartFragment;\r\nimport com.example.agrimart.ui.Explore.ExploreFragment;\r\nimport com.example.agrimart.ui.Homepage.HomeFragment;\r\nimport com.example.agrimart.ui.MyProfile.MyProfileFragment;\r\nimport com.example.agrimart.ui.Notification.NotificationFragment;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private SharedPreferences sharedPreferences;\r\n    private FirebaseAuth mAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        EdgeToEdge.enable(this);\r\n        setContentView(R.layout.activity_main);\r\n        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main1), (v, insets) -> {\r\n            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());\r\n            v.setPadding(systemBars.left, systemBars.top, systemBars.right, 0);\r\n            return insets;\r\n        });\r\n\r\n        sharedPreferences = getSharedPreferences(\"user_prefs\", MODE_PRIVATE);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        if (sharedPreferences.getBoolean(\"is_logged_in\", false)) {\r\n            FirebaseUser currentUser = mAuth.getCurrentUser();\r\n            if (currentUser != null) {\r\n                navigateToHome();\r\n                fetchUserRoleAndSave(currentUser);\r\n            } else {\r\n                clearLoginState();\r\n                navigateToLogin();\r\n            }\r\n        } else {\r\n            navigateToLogin();\r\n        }\r\n\r\n        BottomNavigationView bottomNavigationView = findViewById(R.id.bottomNavigation);\r\n        bottomNavigationView.setOnNavigationItemSelectedListener(this::onNavigationItemSelected);\r\n\r\n        if (savedInstanceState == null) {\r\n            loadFragment(new HomeFragment());\r\n            bottomNavigationView.setSelectedItemId(R.id.home);\r\n        }\r\n    }\r\n\r\n    private void navigateToHome() {\r\n        loadFragment(new HomeFragment());\r\n    }\r\n\r\n    private void navigateToLogin() {\r\n        Intent intent = new Intent(MainActivity.this, SignInActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n\r\n    private void clearLoginState() {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.clear();\r\n        editor.apply();\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n\r\n    private boolean onNavigationItemSelected(MenuItem item) {\r\n        Fragment selectedFragment = null;\r\n\r\n        if (item.getItemId() == R.id.home) {\r\n            selectedFragment = new HomeFragment();\r\n        } else if (item.getItemId() == R.id.category) {\r\n            selectedFragment = new ExploreFragment();\r\n        } else if (item.getItemId() == R.id.notification) {\r\n            selectedFragment = new NotificationFragment();\r\n        } else if (item.getItemId() == R.id.profile) {\r\n            selectedFragment = new MyProfileFragment();\r\n        } else if (item.getItemId() == R.id.cart) {\r\n            selectedFragment = new CartFragment();\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n        if (selectedFragment != null) {\r\n            loadFragment(selectedFragment);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private void fetchUserRoleAndSave(FirebaseUser user) {\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        DocumentReference docRef = db.collection(\"users\").document(user.getUid());\r\n        docRef.get().addOnSuccessListener(documentSnapshot -> {\r\n            if (documentSnapshot.exists()) {\r\n                String role = documentSnapshot.getString(\"role\");\r\n                if (role != null) {\r\n                    saveUserToSharedPreferences(role);\r\n                }\r\n            }\r\n        }).addOnFailureListener(e -> {\r\n        });\r\n    }\r\n\r\n    private void saveUserToSharedPreferences(String role) {\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(\"user_role\", role);\r\n        editor.apply();\r\n    }\r\n}
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/java/com/example/agrimart/ui/MainActivity.java b/app/src/main/java/com/example/agrimart/ui/MainActivity.java
------ a/app/src/main/java/com/example/agrimart/ui/MainActivity.java	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/java/com/example/agrimart/ui/MainActivity.java	(date 1730377522637)
---@@ -46,7 +46,7 @@
---             FirebaseUser currentUser = mAuth.getCurrentUser();
---             if (currentUser != null) {
---                 navigateToHome();
----                fetchUserRoleAndSave(currentUser);
---+                getUserRole(currentUser);
---             } else {
---                 clearLoginState();
---                 navigateToLogin();
---@@ -110,7 +110,7 @@
---         return true;
---     }
--- 
----    private void fetchUserRoleAndSave(FirebaseUser user) {
---+    private void getUserRole(FirebaseUser user) {
---         FirebaseFirestore db = FirebaseFirestore.getInstance();
---         DocumentReference docRef = db.collection("users").document(user.getUid());
---         docRef.get().addOnSuccessListener(documentSnapshot -> {
---Index: app/src/main/res/values/strings.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><resources>\r\n    <string name=\"app_name\">AgriMart</string>\r\n    <string name=\"categories\">Danh mục sản phẩm</string>\r\n    <string name=\"see_all\">Xem thêm</string>\r\n    <string name=\"top_selling\">Bán chạy nhất</string>\r\n    <string name=\"home\">Trang chủ</string>\r\n    <string name=\"profile\">Tôi</string>\r\n    <string name=\"order\">Order</string>\r\n    <string name=\"newsfeed\">Tin mới</string>\r\n    <string name=\"post\">Đăng bài</string>\r\n    <string name=\"cart\">Giỏ hàng</string>\r\n    <string name=\"ng_b_n\">Đăng bán</string>\r\n    <string name=\"cho\">Chợ</string>\r\n    <string name=\"search_hint\">tim kiem san pham</string>\r\n    <string name=\"search\">Tìm kiếm sản phẩm</string>\r\n    <string name=\"ng_nh_p\">Đăng nhập</string>\r\n    <string name=\"ch_a_c_t_i_kho_n\"><u>Chưa có tài khoản?</u></string>\r\n    <string name=\"m_t_kh_u\">Mật khẩu</string>\r\n    <string name=\"continue_with_google\"> Đăng nhập bằng Google</string>\r\n    <string name=\"dang_ky\">Chưa có tài khoản? <b>Đăng ký</b></string>\r\n    <string name=\"c_t_i_kho_n\"><u>Đã có tài khoản?</u></string>\r\n    <string name=\"ng_k_b_ng_s_i_n_tho_i\">Đăng ký bằng số điện thoại</string>\r\n    <string name=\"ng_k_b_ng_email\">Đăng ký bằng email</string>\r\n    <string name=\"qu_n_m_t_kh_u\">Quên mật khẩu?</string>\r\n    <string name=\"nh_p_email_ho_c_s_i_n_tho_i\">Nhập email hoặc số điện thoại</string>\r\n    <string name=\"sodienthoai\">Số điện thoại</string>\r\n    <string name=\"g_i_l_i\"><u>Gửi lại</u></string>\r\n\r\n\r\n    <!-- PostProduct -->\r\n    <string name=\"nh_p_s_l_ng_c_n_b_n\">Your desired text here</string>\r\n    <string name=\"desc_vegetable\">Rau củ quả</string>\r\n    <string name=\"desc_fruit\">Trái cây</string>\r\n    <string name=\"desc_meat_eggs\">Trứng, thịt</string>\r\n    <string name=\"desc_milk\">Sữa, bơ, phô mai</string>\r\n    <string name=\"desc_sweets\">Bánh kẹo</string>\r\n    <string name=\"nh_s_n_ph_m_th_c_t\">Ảnh sản phẩm thực tế</string>\r\n    <string name=\"th_m_nh\">Thêm ảnh</string>\r\n    <string name=\"todo\">TODO</string>\r\n    <string name=\"t_n_s_n_ph_m\">Tên sản phẩm</string>\r\n    <string name=\"c_i_t_n_n_i_l_n_t_t_c_s_gi_p_ch_r_t_nhi_u_y\">Cái tên nói lên tất cả sẽ giúp ích rất nhiều đấy</string>\r\n    <string name=\"m_t_s_n_ph_m\">Mô tả sản phẩm</string>\r\n    <string name=\"m_t_o_n_v_n_m_t_y_s_gi_p_s_n_ph_m_c_a_b_n_b_n_d_h_n\">Một đoạn văn mô tả đầy đủ sẽ giúp sản phẩm của bạn bán dễ hơn</string>\r\n    <string name=\"ph_n_lo_i_s_n_ph_m\">Phân loại sản phẩm</string>\r\n    <string name=\"rau_c\">Rau củ</string>\r\n    <string name=\"tr_i_c_y\">Trái cây</string>\r\n    <string name=\"th_t_tr_ng\">Thịt, Trứng</string>\r\n    <string name=\"s_a_b_ph_mai\">Sữa, bơ, phô mai</string>\r\n    <string name=\"ng_t\">Đồ ngọt</string>\r\n    <string name=\"ti_p_t_c\">Tiếp tục</string>\r\n    <string name=\"gi_b_n\">Giá bán</string>\r\n    <string name=\"n_v\">Đơn vị </string>\r\n    <string name=\"hi_n_c\">Hiện có</string>\r\n    <string name=\"nh_p_gi_b_n\">Nhập giá bán</string>\r\n    <string name=\"nh_p_n_v_kg_ch_c_c_i\">Nhập đơn vị (kg, chục, cái)</string>\r\n    <string name=\"_200kg\">200kg</string>\r\n    <string name=\"s_u_ri_ng_lan_t_a\">Sầu riêng lan tỏa</string>\r\n    <string name=\"_20_ng_i_ang_h_i\">20 người đang hỏi</string>\r\n    <string name=\"dang_san_pham\">ĐĂNG SẢN PHẨM</string>\r\n    <string name=\"frash_fruits_vegetable\"><![CDATA[Frash Fruits & Vegetable]]></string>\r\n    <string name=\"add_cart\">Thêm vào giỏ hàng</string>\r\n    <string name=\"product_name\">Tên sản phẩm</string>\r\n    <string name=\"price\">50.000đ</string>\r\n    <string name=\"address\">123 Lê Trọng Tấn, Quận Tân Phú, TP.HCM</string>\r\n    <string name=\"description\">Mô tả chi tiết</string>\r\n    <string name=\"descriptions\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</string>\r\n    <string name=\"user_review\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</string>\r\n    <string name=\"my_cart\">Giỏ hàng</string>\r\n    <string name=\"notification_time\">1 phút trước</string>\r\n    <string name=\"notification_message\">Khánh vừa đặt mua sản phẩm của bạn: Chuối nhà trồng...</string>\r\n    <string name=\"cate\">Gian hàng</string>\r\n    <string name=\"t_m_theo_danh_m_c\">Tìm theo danh mục</string>\r\n    <string name=\"thong_bao\">Thông báo</string>\r\n    <string name=\"n_h_ng\">Đơn hàng</string>\r\n    <string name=\"_0\">0</string>\r\n    <string name=\"ch_l_y_h_ng\">Chờ lấy hàng</string>\r\n    <string name=\"n_h_y\">Đơn hủy</string>\r\n    <string name=\"tr_h_ng_ho_n_ti_n\">Trả hàng/Hoàn tiền</string>\r\n\r\n    <string-array name=\"filter_options\">\r\n        <item>Sort by Price</item>\r\n        <item>Newest</item>\r\n        <item>Oldest</item>\r\n    </string-array>\r\n\r\n    <style name=\"TabTextAppearance\" parent=\"TextAppearance.Design.Tab\">\r\n        <item name=\"android:textSize\">16sp</item>\r\n        <item name=\"android:textColor\">@color/black</item>\r\n        <item name=\"android:textStyle\">bold</item>\r\n    </style>\r\n\r\n    <string name=\"default_web_client_id\">689266518488-dggpokj3cbc4t7hoa53j2vsa6vt59qi4.apps.googleusercontent.com</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n    <string name=\"email\">Email</string>\r\n\r\n    //facebook\r\n    <string name=\"loginwithfacebook\">Đăng nhập bằng Facebook</string>\r\n    <string name=\"facebook_app_id\">456355280794721</string>\r\n    <string name=\"fb_login_protocol_scheme\">fb456355280794721</string>\r\n    <string name=\"facebook_client_token\">fbc7722b3ad7a34dbf443766e81403c1</string>\r\n    <string name=\"facebook_app_secret\">239308944b7f4f13d8ed33f56b79c7cc</string>\r\n    <!-- Strings used for fragments for navigation -->\r\n    <string name=\"first_fragment_label\">First Fragment</string>\r\n    <string name=\"second_fragment_label\">Second Fragment</string>\r\n    <string name=\"next\">Next</string>\r\n    <string name=\"previous\">Previous</string>\r\n\r\n    <string name=\"lorem_ipsum\">\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam in scelerisque sem. Mauris\r\n        volutpat, dolor id interdum ullamcorper, risus dolor egestas lectus, sit amet mattis purus\r\n        dui nec risus. Maecenas non sodales nisi, vel dictum dolor. Class aptent taciti sociosqu ad\r\n        litora torquent per conubia nostra, per inceptos himenaeos. Suspendisse blandit eleifend\r\n        diam, vel rutrum tellus vulputate quis. Aliquam eget libero aliquet, imperdiet nisl a,\r\n        ornare ex. Sed rhoncus est ut libero porta lobortis. Fusce in dictum tellus.\\n\\n\r\n        Suspendisse interdum ornare ante. Aliquam nec cursus lorem. Morbi id magna felis. Vivamus\r\n        egestas, est a condimentum egestas, turpis nisl iaculis ipsum, in dictum tellus dolor sed\r\n        neque. Morbi tellus erat, dapibus ut sem a, iaculis tincidunt dui. Interdum et malesuada\r\n        fames ac ante ipsum primis in faucibus. Curabitur et eros porttitor, ultricies urna vitae,\r\n        molestie nibh. Phasellus at commodo eros, non aliquet metus. Sed maximus nisl nec dolor\r\n        bibendum, vel congue leo egestas.\\n\\n\r\n        Sed interdum tortor nibh, in sagittis risus mollis quis. Curabitur mi odio, condimentum sit\r\n        amet auctor at, mollis non turpis. Nullam pretium libero vestibulum, finibus orci vel,\r\n        molestie quam. Fusce blandit tincidunt nulla, quis sollicitudin libero facilisis et. Integer\r\n        interdum nunc ligula, et fermentum metus hendrerit id. Vestibulum lectus felis, dictum at\r\n        lacinia sit amet, tristique id quam. Cras eu consequat dui. Suspendisse sodales nunc ligula,\r\n        in lobortis sem porta sed. Integer id ultrices magna, in luctus elit. Sed a pellentesque\r\n        est.\\n\\n\r\n        Aenean nunc velit, lacinia sed dolor sed, ultrices viverra nulla. Etiam a venenatis nibh.\r\n        Morbi laoreet, tortor sed facilisis varius, nibh orci rhoncus nulla, id elementum leo dui\r\n        non lorem. Nam mollis ipsum quis auctor varius. Quisque elementum eu libero sed commodo. In\r\n        eros nisl, imperdiet vel imperdiet et, scelerisque a mauris. Pellentesque varius ex nunc,\r\n        quis imperdiet eros placerat ac. Duis finibus orci et est auctor tincidunt. Sed non viverra\r\n        ipsum. Nunc quis augue egestas, cursus lorem at, molestie sem. Morbi a consectetur ipsum, a\r\n        placerat diam. Etiam vulputate dignissim convallis. Integer faucibus mauris sit amet finibus\r\n        convallis.\\n\\n\r\n        Phasellus in aliquet mi. Pellentesque habitant morbi tristique senectus et netus et\r\n        malesuada fames ac turpis egestas. In volutpat arcu ut felis sagittis, in finibus massa\r\n        gravida. Pellentesque id tellus orci. Integer dictum, lorem sed efficitur ullamcorper,\r\n        libero justo consectetur ipsum, in mollis nisl ex sed nisl. Donec maximus ullamcorper\r\n        sodales. Praesent bibendum rhoncus tellus nec feugiat. In a ornare nulla. Donec rhoncus\r\n        libero vel nunc consequat, quis tincidunt nisl eleifend. Cras bibendum enim a justo luctus\r\n        vestibulum. Fusce dictum libero quis erat maximus, vitae volutpat diam dignissim.\r\n    </string>\r\n</resources>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
------ a/app/src/main/res/values/strings.xml	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/res/values/strings.xml	(date 1730448311644)
---@@ -142,4 +142,5 @@
---         libero vel nunc consequat, quis tincidunt nisl eleifend. Cras bibendum enim a justo luctus
---         vestibulum. Fusce dictum libero quis erat maximus, vitae volutpat diam dignissim.
---     </string>
---+    <string name="verify">Email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký.</string>
--- </resources>
---\ No newline at end of file
---Index: app/src/main/res/layout/activity_verify.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/main\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".ui.Account.VerifyActivity\">\r\n\r\n    <TextView\r\n        android:id=\"@+id/tvVerifyTitle\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        android:text=\"Xác nhận Email\"\r\n        android:textSize=\"24sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/tvVerifyMessage\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"16dp\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:text=\"Một email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký.\"\r\n        android:textSize=\"16sp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tvVerifyTitle\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btnResendEmail\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"24dp\"\r\n        android:text=\"Gửi lại email\"\r\n        android:backgroundTint=\"@color/green\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/tvVerifyMessage\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/btnBackToLogin\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"12dp\"\r\n        android:backgroundTint=\"@color/green\"\r\n        android:text=\"Quay lại đăng nhập\"\r\n        app:cornerRadius=\"24dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/btnResendEmail\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/app/src/main/res/layout/activity_verify.xml b/app/src/main/res/layout/activity_verify.xml
------ a/app/src/main/res/layout/activity_verify.xml	(revision 6a809528d747061069ce0672a9c8a28c130149ba)
---+++ b/app/src/main/res/layout/activity_verify.xml	(date 1730448311653)
---@@ -26,7 +26,7 @@
---         android:layout_marginTop="16dp"
---         android:layout_marginStart="24dp"
---         android:layout_marginEnd="24dp"
----        android:text="Một email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký."
---+        android:text="@string/verify"
---         android:textSize="16sp"
---         app:layout_constraintEnd_toEndOf="parent"
---         app:layout_constraintStart_toStartOf="parent"
--Index: app/src/main/res/layout/fragment_search.xml
--===================================================================
--diff --git a/app/src/main/res/layout/fragment_search.xml b/app/src/main/res/layout/fragment_search.xml
--deleted file mode 100644
----- a/app/src/main/res/layout/fragment_search.xml	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ /dev/null	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--@@ -1,25 +0,0 @@
---<?xml version="1.0" encoding="utf-8"?>
---<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
---    xmlns:tools="http://schemas.android.com/tools"
---    android:layout_width="match_parent"
---    android:layout_height="match_parent"
---    tools:context=".ui.Homepage.SearchActivity" >
---
---
---    <ScrollView
---        android:id="@+id/sc"
---        android:layout_width="match_parent"
---        android:layout_height="900dp"
---        android:layout_marginTop="25dp">
---
---        <androidx.recyclerview.widget.RecyclerView
---            android:id="@+id/rvCategories"
---            android:layout_width="match_parent"
---            android:layout_height="wrap_content"
---        >
---
---        </androidx.recyclerview.widget.RecyclerView>
---    </ScrollView>
---
---
---</RelativeLayout>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM__Changes_.xml	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ /dev/null	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--@@ -1,9 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]" date="1730455722172" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/1/2024 5:08 PM [Changes]" />
---  <binary>
---    <option name="BEFORE_PATH" />
---    <option name="AFTER_PATH" value="app/src/main/res/drawable/email.png" />
---    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_1_2024_5_08_PM_[Changes]/email.png" />
---  </binary>
---</changelist>
--\ No newline at end of file
--Index: app/src/main/res/layout/item_product.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\r\n\r\n    <data>\r\n        <variable\r\n            name=\"product\"\r\n            type=\"com.example.agrimart.data.model.Product\" />\r\n    </data>\r\n\r\n    <androidx.cardview.widget.CardView\r\n        android:layout_width=\"173dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        app:cardCornerRadius=\"8dp\"\r\n        app:cardElevation=\"4dp\"\r\n        android:layout_margin=\"8dp\"\r\n        android:clipToPadding=\"false\">\r\n\r\n        <ImageView\r\n            android:id=\"@+id/imgPro\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"146dp\"\r\n            android:scaleType=\"centerCrop\"\r\n            android:src=\"@drawable/banana\" />\r\n\r\n        <RelativeLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/imgPro\"\r\n            android:padding=\"8dp\"\r\n            android:layout_marginTop=\"146dp\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/tvName\"\r\n                android:layout_width=\"129dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginTop=\"12dp\"\r\n                android:textSize=\"20sp\"\r\n                android:textColor=\"#333333\"\r\n                android:letterSpacing=\"0.01\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:ellipsize=\"end\"\r\n                android:maxLines=\"1\"\r\n                android:textStyle=\"bold\" />\r\n\r\n            <TextView\r\n                android:id=\"@+id/tvPrice\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_below=\"@id/tvName\"\r\n                android:textSize=\"18sp\"\r\n                android:layout_marginStart=\"15dp\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:textColor=\"#F44336\"\r\n                android:fontFamily=\"@font/gabarito\"\r\n                android:letterSpacing=\"0.01\" />\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/imageButton\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:background=\"@color/transparent\"\r\n                android:layout_below=\"@id/tvName\"\r\n                android:layout_alignParentEnd=\"true\"\r\n                android:layout_marginTop=\"8dp\"\r\n                android:layout_marginEnd=\"16dp\"\r\n                app:srcCompat=\"@drawable/ic_plus_1\" />\r\n\r\n        </RelativeLayout>\r\n\r\n    </androidx.cardview.widget.CardView>\r\n</layout>\r\n
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/item_product.xml b/app/src/main/res/layout/item_product.xml
----- a/app/src/main/res/layout/item_product.xml	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/res/layout/item_product.xml	(date 1730999241288)
--@@ -9,11 +9,9 @@
--     </data>
-- 
--     <androidx.cardview.widget.CardView
---        android:layout_width="173dp"
--+        android:layout_width="190dp"
--         android:layout_height="wrap_content"
---        app:cardCornerRadius="8dp"
---        app:cardElevation="4dp"
---        android:layout_margin="8dp"
--+        app:cardCornerRadius="5dp"
--         android:clipToPadding="false">
-- 
--         <ImageView
--@@ -38,10 +36,9 @@
--                 android:textSize="20sp"
--                 android:textColor="#333333"
--                 android:letterSpacing="0.01"
---                android:layout_marginStart="15dp"
--+                android:layout_marginStart="5dp"
--                 android:ellipsize="end"
---                android:maxLines="1"
---                android:textStyle="bold" />
--+                android:maxLines="1"/>
-- 
--             <TextView
--                 android:id="@+id/tvPrice"
--@@ -49,23 +46,12 @@
--                 android:layout_height="wrap_content"
--                 android:layout_below="@id/tvName"
--                 android:textSize="18sp"
---                android:layout_marginStart="15dp"
--+                android:layout_marginStart="8dp"
--                 android:layout_marginTop="8dp"
--                 android:textColor="#F44336"
--                 android:fontFamily="@font/gabarito"
--                 android:letterSpacing="0.01" />
-- 
---            <ImageButton
---                android:id="@+id/imageButton"
---                android:layout_width="wrap_content"
---                android:layout_height="wrap_content"
---                android:background="@color/transparent"
---                android:layout_below="@id/tvName"
---                android:layout_alignParentEnd="true"
---                android:layout_marginTop="8dp"
---                android:layout_marginEnd="16dp"
---                app:srcCompat="@drawable/ic_plus_1" />
---
--         </RelativeLayout>
-- 
--     </androidx.cardview.widget.CardView>
--Index: app/src/main/res/layout/carousel_item.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/carousel_item.xml b/app/src/main/res/layout/carousel_item.xml
--new file mode 100644
----- /dev/null	(date 1730996897074)
--+++ b/app/src/main/res/layout/carousel_item.xml	(date 1730996897074)
--@@ -0,0 +1,20 @@
--+<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
--+    android:layout_width="match_parent"
--+    android:layout_height="match_parent"
--+    xmlns:app="http://schemas.android.com/apk/res-auto"
--+    android:layout_margin="10dp">
--+
--+    <androidx.cardview.widget.CardView
--+        android:layout_width="match_parent"
--+        android:layout_height="match_parent"
--+        app:cardCornerRadius="16dp"
--+        app:cardElevation="8dp"
--+        android:layout_gravity="center">
--+
--+        <ImageView
--+            android:id="@+id/carousel_image"
--+            android:layout_width="match_parent"
--+            android:layout_height="match_parent"
--+            android:scaleType="centerCrop"/>
--+    </androidx.cardview.widget.CardView>
--+</FrameLayout>
--\ No newline at end of file
--Index: app/src/main/java/com/example/agrimart/adapter/CarouselAdapter.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/adapter/CarouselAdapter.java b/app/src/main/java/com/example/agrimart/adapter/CarouselAdapter.java
--new file mode 100644
----- /dev/null	(date 1730995639109)
--+++ b/app/src/main/java/com/example/agrimart/adapter/CarouselAdapter.java	(date 1730995639109)
--@@ -0,0 +1,51 @@
--+package com.example.agrimart.adapter;
--+
--+import android.view.LayoutInflater;
--+import android.view.View;
--+import android.view.ViewGroup;
--+import android.widget.ImageView;
--+
--+import androidx.annotation.NonNull;
--+import androidx.recyclerview.widget.RecyclerView;
--+
--+import com.bumptech.glide.Glide;
--+import com.example.agrimart.R;
--+
--+import java.util.List;
--+
--+public class CarouselAdapter extends RecyclerView.Adapter<CarouselAdapter.CarouselViewHolder> {
--+    private List<String> carouselItems;
--+
--+    public CarouselAdapter(List<String> carouselItems) {
--+        this.carouselItems = carouselItems;
--+    }
--+
--+    @NonNull
--+    @Override
--+    public CarouselViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
--+        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.carousel_item, parent, false);
--+        return new CarouselViewHolder(view);
--+    }
--+
--+    @Override
--+    public void onBindViewHolder(@NonNull CarouselViewHolder holder, int position) {
--+        String imageUrl = carouselItems.get(position);
--+        Glide.with(holder.itemView.getContext())
--+                .load(imageUrl)
--+                .into(holder.imageView);
--+    }
--+
--+    @Override
--+    public int getItemCount() {
--+        return carouselItems.size();
--+    }
--+
--+    static class CarouselViewHolder extends RecyclerView.ViewHolder {
--+        ImageView imageView;
--+
--+        public CarouselViewHolder(@NonNull View itemView) {
--+            super(itemView);
--+            imageView = itemView.findViewById(R.id.carousel_image);
--+        }
--+    }
--+}
--\ No newline at end of file
--Index: app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+>package com.example.agrimart.ui.Homepage;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.databinding.DataBindingUtil;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.GridLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.agrimart.R;\r\nimport com.example.agrimart.SpacesItemDecoration;\r\nimport com.example.agrimart.adapter.CategoryAdapter;\r\nimport com.example.agrimart.adapter.EndlessRecyclerViewScrollListener;\r\nimport com.example.agrimart.adapter.ProductAdapter;\r\nimport com.example.agrimart.data.model.Product;\r\nimport com.example.agrimart.databinding.FragmentHomeBinding;\r\nimport com.example.agrimart.ui.ProductPage.ProductDetailActivity;\r\nimport com.example.agrimart.viewmodel.HomeFragmentViewModel;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment {\r\n    private static final String TAG = \"HomeFragment\";\r\n    ImageButton btnSearch;\r\n    TextView search;\r\n    HomeFragmentViewModel viewModel;\r\n    FragmentHomeBinding binding;\r\n    EndlessRecyclerViewScrollListener scrollListener;\r\n    private int totalPages;\r\n    private int currentPage = 1;\r\n    private List<Product> products=new ArrayList<>();\r\n    private DocumentSnapshot lastVisible;\r\n    ProductAdapter productAdapter;\r\n    private boolean isLoading = false;\r\n\r\n    public HomeFragment() {\r\n\r\n    }\r\n\r\n    public static HomeFragment newInstance() {\r\n        return new HomeFragment();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        db.collection(\"products\")\r\n                .get()\r\n                .addOnCompleteListener(task -> {\r\n                    if (task.isSuccessful()) {\r\n                        totalPages= (task.getResult().size()/10)+1;\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_home, container, false);\r\n        viewModel = new ViewModelProvider(this).get(HomeFragmentViewModel.class);\r\n\r\n        int spacingInPixels = getResources().getDimensionPixelSize(R.dimen.spacing);\r\n        binding.setViewmodel(viewModel);\r\n        View view = binding.getRoot();\r\n\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\r\n            Window window = getActivity().getWindow();\r\n            window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n            window.setStatusBarColor(ContextCompat.getColor(getActivity(), R.color.green));\r\n        }\r\n\r\n        viewModel.getData();\r\n        viewModel.getFirstProducts();\r\n\r\n        viewModel.categories.observe(getViewLifecycleOwner(), categories -> {\r\n            if (categories != null) {\r\n                CategoryAdapter categoryAdapter = new CategoryAdapter(categories);\r\n                binding.rvCategories.setAdapter(categoryAdapter);\r\n                binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));\r\n                Log.d(TAG, \"Categories loaded: \" + categories.size());\r\n            }\r\n        });\r\n\r\n//        viewModel.products.observe(getViewLifecycleOwner(), products -> {\r\n//            if (products != null) {\r\n//                productAdapter = new ProductAdapter(products, product -> {\r\n//                    try {\r\n//                        Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n//                        intent.putExtra(\"product\", product);\r\n//                        intent.putExtra(\"storeId\", product.getStoreId());\r\n//                        startActivity(intent);\r\n//                    } catch (Exception e) {\r\n//\r\n//                    }\r\n//                });\r\n//                GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(), 2);\r\n//                binding.rvProducts.setLayoutManager(gridLayoutManager);\r\n//                binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n//                binding.rvProducts.setAdapter(productAdapter);\r\n//\r\n//            }\r\n//        });\r\n        getFirstProducts();\r\n        productAdapter= new ProductAdapter(products, product -> {\r\n            try {\r\n                Intent intent = new Intent(getContext(), ProductDetailActivity.class);\r\n                intent.putExtra(\"product\", product);\r\n                intent.putExtra(\"storeId\", product.getStoreId());\r\n                startActivity(intent);\r\n            } catch (Exception e) {\r\n\r\n            }\r\n        });\r\n        GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(), 2);\r\n        binding.rvProducts.setLayoutManager(gridLayoutManager);\r\n        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));\r\n        binding.rvProducts.setAdapter(productAdapter);\r\n\r\n\r\n        binding.seeAll1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                getMoreProducts();\r\n            }\r\n        });\r\n\r\n\r\n\r\n        binding.scrollView.setOnScrollChangeListener(new View.OnScrollChangeListener() {\r\n            @Override\r\n            public void onScrollChange(View view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {\r\n                int scrollViewHeight = binding.scrollView.getChildAt(0).getMeasuredHeight();\r\n                int scrollViewVisibleHeight = binding.scrollView.getHeight();\r\n\r\n                if (scrollY + scrollViewVisibleHeight >= scrollViewHeight) {\r\n\r\n                    if (!isLoading) {\r\n                        isLoading = true;\r\n                        binding.seeAll1.setVisibility(View.VISIBLE);\r\n\r\n                        new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                getMoreProducts();\r\n                            }\r\n                        }, 2000);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        addControls(view);\r\n        addEvents();\r\n\r\n\r\n        return view;\r\n    }\r\n\r\n    private void addEvents() {\r\n        btnSearch.setOnClickListener(v -> {\r\n            Intent intent = new Intent(getActivity(), SearchActivity.class);\r\n            getActivity().startActivity(intent);\r\n        });\r\n\r\n        search.setOnClickListener(v -> {\r\n            Intent intent = new Intent(getContext(), SearchActivity.class);\r\n            startActivity(intent);\r\n        });\r\n    }\r\n\r\n    private void addControls(View view) {\r\n        btnSearch = view.findViewById(R.id.search_icon);\r\n        search = view.findViewById(R.id.search_input);\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        getActivity().getSupportFragmentManager().beginTransaction()\r\n                .replace(R.id.fragment_container, fragment)\r\n                .commit();\r\n    }\r\n    public void getFirstProducts(){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        Query first= db.collection(\"products\")\r\n                .orderBy(\"product_id\")\r\n                .limit(10);\r\n\r\n        first.get()\r\n                .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                        List<Product> productList = queryDocumentSnapshots.toObjects(Product.class);\r\n                        products.addAll(productList);\r\n                        productAdapter.notifyDataSetChanged();\r\n\r\n                        lastVisible=queryDocumentSnapshots.getDocuments()\r\n                                .get(queryDocumentSnapshots.size()-1);\r\n                    }\r\n                });\r\n    }\r\n\r\n    public void getMoreProducts(){\r\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n        Query next= db.collection(\"products\")\r\n                .orderBy(\"product_id\")\r\n                .startAfter(lastVisible)\r\n                .limit(10);\r\n\r\n        next.get()\r\n                .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {\r\n                    @Override\r\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n\r\n                        List<Product> newList = queryDocumentSnapshots.toObjects(Product.class);\r\n\r\n                        products.addAll(newList);\r\n                        productAdapter.notifyDataSetChanged();\r\n                        isLoading=false;\r\n\r\n                        if(!newList.isEmpty()){\r\n                            lastVisible=queryDocumentSnapshots.getDocuments()\r\n                                    .get(queryDocumentSnapshots.size()-1);\r\n                        }\r\n                        currentPage+=1;\r\n                        if(currentPage==totalPages){\r\n                            binding.seeAll1.setVisibility(View.GONE);\r\n                        }\r\n\r\n                    }\r\n                });\r\n    }\r\n\r\n\r\n}
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java
----- a/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/java/com/example/agrimart/ui/Homepage/HomeFragment.java	(date 1730998129768)
--@@ -5,16 +5,17 @@
-- import android.os.Bundle;
-- import androidx.annotation.NonNull;
-- import androidx.core.content.ContextCompat;
--+import androidx.core.widget.NestedScrollView;
-- import androidx.databinding.DataBindingUtil;
-- import androidx.fragment.app.Fragment;
---import androidx.lifecycle.MutableLiveData;
-- import androidx.lifecycle.ViewModelProvider;
-- import androidx.recyclerview.widget.GridLayoutManager;
--+import androidx.recyclerview.widget.LinearLayoutManager;
-- import androidx.recyclerview.widget.RecyclerView;
--+import androidx.viewpager2.widget.ViewPager2;
-- 
-- import android.os.Handler;
-- import android.os.Looper;
---import android.util.Log;
-- import android.view.LayoutInflater;
-- import android.view.View;
-- import android.view.ViewGroup;
--@@ -25,18 +26,16 @@
-- 
-- import com.example.agrimart.R;
-- import com.example.agrimart.SpacesItemDecoration;
--+import com.example.agrimart.adapter.CarouselAdapter;
-- import com.example.agrimart.adapter.CategoryAdapter;
---import com.example.agrimart.adapter.EndlessRecyclerViewScrollListener;
-- import com.example.agrimart.adapter.ProductAdapter;
-- import com.example.agrimart.data.model.Product;
-- import com.example.agrimart.databinding.FragmentHomeBinding;
-- import com.example.agrimart.ui.ProductPage.ProductDetailActivity;
-- import com.example.agrimart.viewmodel.HomeFragmentViewModel;
---import com.google.android.gms.tasks.OnSuccessListener;
-- import com.google.firebase.firestore.DocumentSnapshot;
-- import com.google.firebase.firestore.FirebaseFirestore;
-- import com.google.firebase.firestore.Query;
---import com.google.firebase.firestore.QuerySnapshot;
-- 
-- import java.util.ArrayList;
-- import java.util.List;
--@@ -47,35 +46,17 @@
--     TextView search;
--     HomeFragmentViewModel viewModel;
--     FragmentHomeBinding binding;
---    EndlessRecyclerViewScrollListener scrollListener;
--     private int totalPages;
--     private int currentPage = 1;
---    private List<Product> products=new ArrayList<>();
--+    private List<Product> products = new ArrayList<>();
--     private DocumentSnapshot lastVisible;
---    ProductAdapter productAdapter;
--     private boolean isLoading = false;
---
---    public HomeFragment() {
---
---    }
---
---    public static HomeFragment newInstance() {
---        return new HomeFragment();
---    }
---
---    @Override
---    public void onCreate(Bundle savedInstanceState) {
---        super.onCreate(savedInstanceState);
---        FirebaseFirestore db = FirebaseFirestore.getInstance();
---        db.collection("products")
---                .get()
---                .addOnCompleteListener(task -> {
---                    if (task.isSuccessful()) {
---                        totalPages= (task.getResult().size()/10)+1;
---                    }
---                });
---    }
---
--+    private ViewPager2 carouselViewPager;
--+    private CarouselAdapter carouselAdapter;
--+    private Handler carouselHandler;
--+    private Runnable carouselRunnable;
--+    private RecyclerView rvProducts;
--+    private ProductAdapter productAdapter;
-- 
--     @Override
--     public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
--@@ -99,85 +80,73 @@
--             if (categories != null) {
--                 CategoryAdapter categoryAdapter = new CategoryAdapter(categories);
--                 binding.rvCategories.setAdapter(categoryAdapter);
---                binding.rvCategories.setLayoutManager(new GridLayoutManager(getContext(), 4));
---                Log.d(TAG, "Categories loaded: " + categories.size());
--+                LinearLayoutManager layoutManager = new LinearLayoutManager(getContext(), LinearLayoutManager.HORIZONTAL, false);
--+                binding.rvCategories.setLayoutManager(layoutManager);
--             }
--         });
-- 
---//        viewModel.products.observe(getViewLifecycleOwner(), products -> {
---//            if (products != null) {
---//                productAdapter = new ProductAdapter(products, product -> {
---//                    try {
---//                        Intent intent = new Intent(getContext(), ProductDetailActivity.class);
---//                        intent.putExtra("product", product);
---//                        intent.putExtra("storeId", product.getStoreId());
---//                        startActivity(intent);
---//                    } catch (Exception e) {
---//
---//                    }
---//                });
---//                GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(), 2);
---//                binding.rvProducts.setLayoutManager(gridLayoutManager);
---//                binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
---//                binding.rvProducts.setAdapter(productAdapter);
---//
---//            }
---//        });
--+        carouselViewPager = view.findViewById(R.id.carousel_viewpager);
--+        carouselAdapter = new CarouselAdapter(getCarouselItems());
--+        carouselViewPager.setAdapter(carouselAdapter);
--+
--+        carouselHandler = new Handler(Looper.getMainLooper());
--+        carouselRunnable = new Runnable() {
--+            @Override
--+            public void run() {
--+                int currentItem = carouselViewPager.getCurrentItem();
--+                int nextItem = (currentItem + 1) % carouselAdapter.getItemCount();
--+                carouselViewPager.setCurrentItem(nextItem, true);
--+                carouselHandler.postDelayed(this, 10000); // 10 seconds delay
--+            }
--+        };
--+        carouselHandler.postDelayed(carouselRunnable, 10000);
--+
--         getFirstProducts();
---        productAdapter= new ProductAdapter(products, product -> {
--+        productAdapter = new ProductAdapter(products, product -> {
--             try {
--                 Intent intent = new Intent(getContext(), ProductDetailActivity.class);
--                 intent.putExtra("product", product);
--                 intent.putExtra("storeId", product.getStoreId());
--                 startActivity(intent);
--             } catch (Exception e) {
---
--+                e.printStackTrace();
--             }
--         });
--+        rvProducts = view.findViewById(R.id.rvProducts);
--         GridLayoutManager gridLayoutManager = new GridLayoutManager(getContext(), 2);
---        binding.rvProducts.setLayoutManager(gridLayoutManager);
---        binding.rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
---        binding.rvProducts.setAdapter(productAdapter);
---
--+        rvProducts.setLayoutManager(gridLayoutManager);
--+        rvProducts.addItemDecoration(new SpacesItemDecoration(spacingInPixels));
--+        rvProducts.setAdapter(productAdapter);
-- 
---        binding.seeAll1.setOnClickListener(new View.OnClickListener() {
---            @Override
---            public void onClick(View view) {
---                getMoreProducts();
---            }
---        });
--+        binding.seeAll1.setOnClickListener(view1 -> getMoreProducts());
-- 
---
---
---        binding.scrollView.setOnScrollChangeListener(new View.OnScrollChangeListener() {
---            @Override
---            public void onScrollChange(View view, int scrollX, int scrollY, int oldScrollX, int oldScrollY) {
---                int scrollViewHeight = binding.scrollView.getChildAt(0).getMeasuredHeight();
---                int scrollViewVisibleHeight = binding.scrollView.getHeight();
--+        binding.scrollView.setOnScrollChangeListener((NestedScrollView.OnScrollChangeListener) (view12, scrollX, scrollY, oldScrollX, oldScrollY) -> {
--+            int scrollViewHeight = binding.scrollView.getChildAt(0).getMeasuredHeight();
--+            int scrollViewVisibleHeight = binding.scrollView.getHeight();
-- 
---                if (scrollY + scrollViewVisibleHeight >= scrollViewHeight) {
---
---                    if (!isLoading) {
---                        isLoading = true;
---                        binding.seeAll1.setVisibility(View.VISIBLE);
--+            if (scrollY + scrollViewVisibleHeight >= scrollViewHeight) {
--+                if (!isLoading) {
--+                    isLoading = true;
--+                    binding.seeAll1.setVisibility(View.VISIBLE);
-- 
---                        new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {
---                            @Override
---                            public void run() {
---                                getMoreProducts();
---                            }
---                        }, 2000);
---                    }
--+                    new Handler(Looper.getMainLooper()).postDelayed(this::getMoreProducts, 2000);
--                 }
--             }
--         });
--         addControls(view);
--         addEvents();
-- 
---
--         return view;
--     }
-- 
--+    private List<String> getCarouselItems() {
--+        List<String> items = new ArrayList<>();
--+        items.add("https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/categories%2Fgiavi.jpg?alt=media&token=3670aa28-c5ff-483c-bf9a-3325bf48ce9c");
--+        items.add("https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/categories%2Fgiavi.jpg?alt=media&token=3670aa28-c5ff-483c-bf9a-3325bf48ce9c");
--+        items.add("https://firebasestorage.googleapis.com/v0/b/agri-mart-2342e.appspot.com/o/categories%2Fgiavi.jpg?alt=media&token=3670aa28-c5ff-483c-bf9a-3325bf48ce9c");
--+        return items;
--+    }
--+
--     private void addEvents() {
--         btnSearch.setOnClickListener(v -> {
--             Intent intent = new Intent(getActivity(), SearchActivity.class);
--@@ -200,56 +169,47 @@
--                 .replace(R.id.fragment_container, fragment)
--                 .commit();
--     }
---    public void getFirstProducts(){
--+
--+    public void getFirstProducts() {
--         FirebaseFirestore db = FirebaseFirestore.getInstance();
---        Query first= db.collection("products")
--+        Query first = db.collection("products")
--                 .orderBy("product_id")
--                 .limit(10);
-- 
--         first.get()
---                .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {
---                    @Override
---                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {
---                        List<Product> productList = queryDocumentSnapshots.toObjects(Product.class);
---                        products.addAll(productList);
---                        productAdapter.notifyDataSetChanged();
--+                .addOnSuccessListener(queryDocumentSnapshots -> {
--+                    List<Product> productList = queryDocumentSnapshots.toObjects(Product.class);
--+                    products.addAll(productList);
--+                    productAdapter.notifyDataSetChanged();
-- 
---                        lastVisible=queryDocumentSnapshots.getDocuments()
---                                .get(queryDocumentSnapshots.size()-1);
---                    }
--+                    lastVisible = queryDocumentSnapshots.getDocuments()
--+                            .get(queryDocumentSnapshots.size() - 1);
--                 });
--     }
-- 
---    public void getMoreProducts(){
--+    public void getMoreProducts() {
--         FirebaseFirestore db = FirebaseFirestore.getInstance();
---        Query next= db.collection("products")
--+        Query next = db.collection("products")
--                 .orderBy("product_id")
--                 .startAfter(lastVisible)
--                 .limit(10);
-- 
--         next.get()
---                .addOnSuccessListener(new OnSuccessListener<QuerySnapshot>() {
---                    @Override
---                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {
---
---                        List<Product> newList = queryDocumentSnapshots.toObjects(Product.class);
--+                .addOnSuccessListener(queryDocumentSnapshots -> {
--+                    List<Product> newList = queryDocumentSnapshots.toObjects(Product.class);
-- 
---                        products.addAll(newList);
---                        productAdapter.notifyDataSetChanged();
---                        isLoading=false;
--+                    products.addAll(newList);
--+                    productAdapter.notifyDataSetChanged();
--+                    isLoading = false;
-- 
---                        if(!newList.isEmpty()){
---                            lastVisible=queryDocumentSnapshots.getDocuments()
---                                    .get(queryDocumentSnapshots.size()-1);
---                        }
---                        currentPage+=1;
---                        if(currentPage==totalPages){
---                            binding.seeAll1.setVisibility(View.GONE);
---                        }
---
--+                    if (!newList.isEmpty()) {
--+                        lastVisible = queryDocumentSnapshots.getDocuments()
--+                                .get(queryDocumentSnapshots.size() - 1);
--+                    }
--+                    currentPage += 1;
--+                    if (currentPage == totalPages) {
--+                        binding.seeAll1.setVisibility(View.GONE);
--                     }
--                 });
--     }
---
---
-- }
--\ No newline at end of file
--Index: app/src/main/res/values/strings.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><resources>\r\n    <string name=\"app_name\">AgriMart</string>\r\n    <string name=\"categories\">Danh mục sản phẩm</string>\r\n    <string name=\"see_all\">Xem thêm</string>\r\n    <string name=\"top_selling\">Bán chạy nhất</string>\r\n    <string name=\"home\">Trang chủ</string>\r\n    <string name=\"profile\">Tôi</string>\r\n    <string name=\"order\">Order</string>\r\n    <string name=\"newsfeed\">Tin mới</string>\r\n    <string name=\"post\">Đăng bài</string>\r\n    <string name=\"cart\">Giỏ hàng</string>\r\n    <string name=\"ng_b_n\">Đăng bán</string>\r\n    <string name=\"cho\">Chợ</string>\r\n    <string name=\"search_hint\">tim kiem san pham</string>\r\n    <string name=\"search\">Tìm kiếm sản phẩm</string>\r\n    <string name=\"ng_nh_p\">Đăng nhập</string>\r\n    <string name=\"ch_a_c_t_i_kho_n\"><u>Chưa có tài khoản?</u></string>\r\n    <string name=\"m_t_kh_u\">Mật khẩu</string>\r\n    <string name=\"continue_with_google\"> Đăng nhập bằng Google</string>\r\n    <string name=\"dang_ky\">Chưa có tài khoản? <b>Đăng ký</b></string>\r\n    <string name=\"c_t_i_kho_n\"><u>Đã có tài khoản?</u></string>\r\n    <string name=\"ng_k_b_ng_s_i_n_tho_i\">Đăng ký bằng số điện thoại</string>\r\n    <string name=\"ng_k_b_ng_email\">Đăng ký bằng email</string>\r\n    <string name=\"qu_n_m_t_kh_u\">Quên mật khẩu?</string>\r\n    <string name=\"nh_p_email_ho_c_s_i_n_tho_i\">Nhập email hoặc số điện thoại</string>\r\n    <string name=\"sodienthoai\">Số điện thoại</string>\r\n    <string name=\"g_i_l_i\"><u>Gửi lại</u></string>\r\n\r\n\r\n    <!-- PostProduct -->\r\n    <string name=\"nh_p_s_l_ng_c_n_b_n\">Your desired text here</string>\r\n    <string name=\"desc_vegetable\">Rau củ quả</string>\r\n    <string name=\"desc_fruit\">Trái cây</string>\r\n    <string name=\"desc_meat_eggs\">Trứng, thịt</string>\r\n    <string name=\"desc_milk\">Sữa, bơ, phô mai</string>\r\n    <string name=\"desc_sweets\">Bánh kẹo</string>\r\n    <string name=\"nh_s_n_ph_m_th_c_t\">Ảnh sản phẩm thực tế</string>\r\n    <string name=\"th_m_nh\">Thêm ảnh</string>\r\n    <string name=\"todo\">TODO</string>\r\n    <string name=\"t_n_s_n_ph_m\">Tên sản phẩm</string>\r\n    <string name=\"c_i_t_n_n_i_l_n_t_t_c_s_gi_p_ch_r_t_nhi_u_y\">Cái tên nói lên tất cả sẽ giúp ích rất nhiều đấy</string>\r\n    <string name=\"m_t_s_n_ph_m\">Mô tả sản phẩm</string>\r\n    <string name=\"m_t_o_n_v_n_m_t_y_s_gi_p_s_n_ph_m_c_a_b_n_b_n_d_h_n\">Một đoạn văn mô tả đầy đủ sẽ giúp sản phẩm của bạn bán dễ hơn</string>\r\n    <string name=\"ph_n_lo_i_s_n_ph_m\">Phân loại sản phẩm</string>\r\n    <string name=\"rau_c\">Rau củ</string>\r\n    <string name=\"tr_i_c_y\">Trái cây</string>\r\n    <string name=\"th_t_tr_ng\">Thịt, Trứng</string>\r\n    <string name=\"s_a_b_ph_mai\">Sữa, bơ, phô mai</string>\r\n    <string name=\"ng_t\">Đồ ngọt</string>\r\n    <string name=\"ti_p_t_c\">Tiếp tục</string>\r\n    <string name=\"gi_b_n\">Giá bán</string>\r\n    <string name=\"n_v\">Đơn vị </string>\r\n    <string name=\"hi_n_c\">Hiện có</string>\r\n    <string name=\"nh_p_gi_b_n\">Nhập giá bán</string>\r\n    <string name=\"nh_p_n_v_kg_ch_c_c_i\">Nhập đơn vị (kg, chục, cái)</string>\r\n    <string name=\"_200kg\">200kg</string>\r\n    <string name=\"s_u_ri_ng_lan_t_a\">Sầu riêng lan tỏa</string>\r\n    <string name=\"_20_ng_i_ang_h_i\">20 người đang hỏi</string>\r\n    <string name=\"dang_san_pham\">ĐĂNG SẢN PHẨM</string>\r\n    <string name=\"frash_fruits_vegetable\"><![CDATA[Frash Fruits & Vegetable]]></string>\r\n    <string name=\"add_cart\">Thêm vào giỏ hàng</string>\r\n    <string name=\"product_name\">Tên sản phẩm</string>\r\n    <string name=\"price\">50.000đ</string>\r\n    <string name=\"address\">123 Lê Trọng Tấn, Quận Tân Phú, TP.HCM</string>\r\n    <string name=\"description\">Mô tả chi tiết</string>\r\n    <string name=\"descriptions\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</string>\r\n    <string name=\"user_review\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</string>\r\n    <string name=\"my_cart\">Giỏ hàng</string>\r\n    <string name=\"notification_time\">1 phút trước</string>\r\n    <string name=\"notification_message\">Khánh vừa đặt mua sản phẩm của bạn: Chuối nhà trồng...</string>\r\n    <string name=\"cate\">Gian hàng</string>\r\n    <string name=\"t_m_theo_danh_m_c\">Tìm theo danh mục</string>\r\n    <string name=\"thong_bao\">Thông báo</string>\r\n    <string name=\"n_h_ng\">Đơn hàng</string>\r\n    <string name=\"_0\">0</string>\r\n    <string name=\"ch_l_y_h_ng\">Chờ lấy hàng</string>\r\n    <string name=\"n_h_y\">Đơn hủy</string>\r\n    <string name=\"tr_h_ng_ho_n_ti_n\">Trả hàng/Hoàn tiền</string>\r\n\r\n    <string-array name=\"filter_options\">\r\n        <item>Sort by Price</item>\r\n        <item>Newest</item>\r\n        <item>Oldest</item>\r\n    </string-array>\r\n\r\n    <style name=\"TabTextAppearance\" parent=\"TextAppearance.Design.Tab\">\r\n        <item name=\"android:textSize\">16sp</item>\r\n        <item name=\"android:textColor\">@color/black</item>\r\n        <item name=\"android:textStyle\">bold</item>\r\n    </style>\r\n\r\n    <string name=\"default_web_client_id\">689266518488-dggpokj3cbc4t7hoa53j2vsa6vt59qi4.apps.googleusercontent.com</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n    <string name=\"email\">Email</string>\r\n\r\n    //facebook\r\n    <string name=\"loginwithfacebook\">Đăng nhập bằng Facebook</string>\r\n    <string name=\"facebook_app_id\">456355280794721</string>\r\n    <string name=\"fb_login_protocol_scheme\">fb456355280794721</string>\r\n    <string name=\"facebook_client_token\">fbc7722b3ad7a34dbf443766e81403c1</string>\r\n    <string name=\"facebook_app_secret\">239308944b7f4f13d8ed33f56b79c7cc</string>\r\n    <!-- Strings used for fragments for navigation -->\r\n    <string name=\"first_fragment_label\">First Fragment</string>\r\n    <string name=\"second_fragment_label\">Second Fragment</string>\r\n    <string name=\"next\">Next</string>\r\n    <string name=\"previous\">Previous</string>\r\n\r\n    <string name=\"lorem_ipsum\">\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam in scelerisque sem. Mauris\r\n        volutpat, dolor id interdum ullamcorper, risus dolor egestas lectus, sit amet mattis purus\r\n        dui nec risus. Maecenas non sodales nisi, vel dictum dolor. Class aptent taciti sociosqu ad\r\n        litora torquent per conubia nostra, per inceptos himenaeos. Suspendisse blandit eleifend\r\n        diam, vel rutrum tellus vulputate quis. Aliquam eget libero aliquet, imperdiet nisl a,\r\n        ornare ex. Sed rhoncus est ut libero porta lobortis. Fusce in dictum tellus.\\n\\n\r\n        Suspendisse interdum ornare ante. Aliquam nec cursus lorem. Morbi id magna felis. Vivamus\r\n        egestas, est a condimentum egestas, turpis nisl iaculis ipsum, in dictum tellus dolor sed\r\n        neque. Morbi tellus erat, dapibus ut sem a, iaculis tincidunt dui. Interdum et malesuada\r\n        fames ac ante ipsum primis in faucibus. Curabitur et eros porttitor, ultricies urna vitae,\r\n        molestie nibh. Phasellus at commodo eros, non aliquet metus. Sed maximus nisl nec dolor\r\n        bibendum, vel congue leo egestas.\\n\\n\r\n        Sed interdum tortor nibh, in sagittis risus mollis quis. Curabitur mi odio, condimentum sit\r\n        amet auctor at, mollis non turpis. Nullam pretium libero vestibulum, finibus orci vel,\r\n        molestie quam. Fusce blandit tincidunt nulla, quis sollicitudin libero facilisis et. Integer\r\n        interdum nunc ligula, et fermentum metus hendrerit id. Vestibulum lectus felis, dictum at\r\n        lacinia sit amet, tristique id quam. Cras eu consequat dui. Suspendisse sodales nunc ligula,\r\n        in lobortis sem porta sed. Integer id ultrices magna, in luctus elit. Sed a pellentesque\r\n        est.\\n\\n\r\n        Aenean nunc velit, lacinia sed dolor sed, ultrices viverra nulla. Etiam a venenatis nibh.\r\n        Morbi laoreet, tortor sed facilisis varius, nibh orci rhoncus nulla, id elementum leo dui\r\n        non lorem. Nam mollis ipsum quis auctor varius. Quisque elementum eu libero sed commodo. In\r\n        eros nisl, imperdiet vel imperdiet et, scelerisque a mauris. Pellentesque varius ex nunc,\r\n        quis imperdiet eros placerat ac. Duis finibus orci et est auctor tincidunt. Sed non viverra\r\n        ipsum. Nunc quis augue egestas, cursus lorem at, molestie sem. Morbi a consectetur ipsum, a\r\n        placerat diam. Etiam vulputate dignissim convallis. Integer faucibus mauris sit amet finibus\r\n        convallis.\\n\\n\r\n        Phasellus in aliquet mi. Pellentesque habitant morbi tristique senectus et netus et\r\n        malesuada fames ac turpis egestas. In volutpat arcu ut felis sagittis, in finibus massa\r\n        gravida. Pellentesque id tellus orci. Integer dictum, lorem sed efficitur ullamcorper,\r\n        libero justo consectetur ipsum, in mollis nisl ex sed nisl. Donec maximus ullamcorper\r\n        sodales. Praesent bibendum rhoncus tellus nec feugiat. In a ornare nulla. Donec rhoncus\r\n        libero vel nunc consequat, quis tincidunt nisl eleifend. Cras bibendum enim a justo luctus\r\n        vestibulum. Fusce dictum libero quis erat maximus, vitae volutpat diam dignissim.\r\n    </string>\r\n    <string name=\"verify\">Email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký.</string>\r\n    <string name=\"new_product\">Mới nhất</string>\r\n</resources>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
----- a/app/src/main/res/values/strings.xml	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/res/values/strings.xml	(date 1731060991275)
--@@ -144,4 +144,6 @@
--     </string>
--     <string name="verify">Email xác nhận đã được gửi đến địa chỉ email của bạn. Vui lòng kiểm tra email và nhấn vào liên kết xác nhận để hoàn tất đăng ký.</string>
--     <string name="new_product">Mới nhất</string>
--+    <string name="goi_y">Gợi ý cho bạn</string>
--+    <string name="no_reslut">Không tìm thấy kết quả đã nhập</string>
-- </resources>
--\ No newline at end of file
--Index: app/src/main/res/layout/item_store.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/item_store.xml b/app/src/main/res/layout/item_store.xml
--new file mode 100644
----- /dev/null	(date 1731057112469)
--+++ b/app/src/main/res/layout/item_store.xml	(date 1731057112469)
--@@ -0,0 +1,38 @@
--+<?xml version="1.0" encoding="utf-8"?>
--+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
--+    android:layout_width="match_parent"
--+    android:layout_height="wrap_content"
--+    android:orientation="vertical"
--+    android:padding="16dp">
--+
--+    <!-- Store information -->
--+    <LinearLayout
--+        android:layout_width="match_parent"
--+        android:layout_height="wrap_content"
--+        android:orientation="horizontal"
--+        android:gravity="center_vertical">
--+
--+        <ImageView
--+            android:id="@+id/store_image"
--+            android:layout_width="40dp"
--+            android:layout_height="40dp"
--+            android:layout_marginEnd="12dp"
--+            android:src="@drawable/user"
--+            android:scaleType="centerCrop"/>
--+
--+        <TextView
--+            android:id="@+id/store_name"
--+            android:layout_width="wrap_content"
--+            android:layout_height="wrap_content"
--+            android:textSize="18sp"
--+            android:textColor="@android:color/black"
--+            android:text="Store Name" />
--+    </LinearLayout>
--+
--+    <androidx.recyclerview.widget.RecyclerView
--+        android:id="@+id/rv_products"
--+        android:layout_width="match_parent"
--+        android:layout_height="wrap_content"
--+        android:layout_marginTop="8dp"/>
--+
--+</LinearLayout>
--\ No newline at end of file
--Index: app/src/main/java/com/example/agrimart/adapter/StoreAdapter.java
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/java/com/example/agrimart/adapter/StoreAdapter.java b/app/src/main/java/com/example/agrimart/adapter/StoreAdapter.java
--new file mode 100644
----- /dev/null	(date 1731057259677)
--+++ b/app/src/main/java/com/example/agrimart/adapter/StoreAdapter.java	(date 1731057259677)
--@@ -0,0 +1,66 @@
--+package com.example.agrimart.adapter;
--+
--+import android.view.LayoutInflater;
--+import android.view.View;
--+import android.view.ViewGroup;
--+import android.widget.TextView;
--+
--+import androidx.annotation.NonNull;
--+import androidx.recyclerview.widget.LinearLayoutManager;
--+import androidx.recyclerview.widget.RecyclerView;
--+
--+import com.example.agrimart.R;
--+import com.example.agrimart.data.model.Store;
--+
--+import java.util.List;
--+
--+public class StoreAdapter extends RecyclerView.Adapter<StoreAdapter.StoreViewHolder> {
--+
--+    private List<Store> stores;
--+    private OnStoreClickListener onStoreClickListener;
--+
--+    public StoreAdapter(List<Store> stores, OnStoreClickListener onStoreClickListener) {
--+        this.stores = stores;
--+        this.onStoreClickListener = onStoreClickListener;
--+    }
--+
--+    @NonNull
--+    @Override
--+    public StoreViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
--+        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_store, parent, false);
--+        return new StoreViewHolder(view);
--+    }
--+
--+    @Override
--+    public void onBindViewHolder(@NonNull StoreViewHolder holder, int position) {
--+        Store store = stores.get(position);
--+        holder.storeName.setText(store.getName());
--+        holder.itemView.setOnClickListener(v -> onStoreClickListener.onStoreClick(store));
--+
--+        ProductAdapter productAdapter = new ProductAdapter(store.getProducts(), product -> {
--+
--+        });
--+        holder.rvProducts.setLayoutManager(new LinearLayoutManager(holder.itemView.getContext(), LinearLayoutManager.HORIZONTAL, false));
--+        holder.rvProducts.setAdapter(productAdapter);
--+    }
--+
--+    @Override
--+    public int getItemCount() {
--+        return stores.size();
--+    }
--+
--+    public interface OnStoreClickListener {
--+        void onStoreClick(Store store);
--+    }
--+
--+    static class StoreViewHolder extends RecyclerView.ViewHolder {
--+        TextView storeName;
--+        RecyclerView rvProducts;
--+
--+        StoreViewHolder(@NonNull View itemView) {
--+            super(itemView);
--+            storeName = itemView.findViewById(R.id.store_name);
--+            rvProducts = itemView.findViewById(R.id.rv_products);
--+        }
--+    }
--+}
--\ No newline at end of file
--Index: app/src/main/res/layout/category_item_1.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:layout_width=\"173dp\"\r\n    android:layout_height=\"189dp\"\r\n    android:background=\"@drawable/bg_category_1\">\r\n\r\n    <ImageView\r\n        android:id=\"@+id/imgCate\"\r\n        android:layout_width=\"111dp\"\r\n        android:layout_height=\"74dp\"\r\n        android:scaleType=\"centerCrop\"\r\n        android:layout_centerHorizontal=\"true\"\r\n        android:layout_marginTop=\"28dp\"\r\n        app:srcCompat=\"@drawable/frash_fruits\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/tvName\"\r\n        android:layout_width=\"93dp\"\r\n        android:layout_height=\"44dp\"\r\n        android:layout_below=\"@id/imgCate\"\r\n        android:layout_centerHorizontal=\"true\"\r\n        android:layout_marginTop=\"27dp\"\r\n        android:ellipsize=\"end\"\r\n        android:gravity=\"center\"\r\n        android:textColor=\"#181725\"\r\n        android:textSize=\"16sp\"\r\n        android:letterSpacing=\"0.01\"\r\n        android:text=\"@string/frash_fruits_vegetable\" />\r\n</RelativeLayout>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/category_item_1.xml b/app/src/main/res/layout/category_item_1.xml
----- a/app/src/main/res/layout/category_item_1.xml	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/res/layout/category_item_1.xml	(date 1730995327100)
--@@ -1,30 +1,37 @@
---<?xml version="1.0" encoding="utf-8"?>
-- <RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
--     xmlns:app="http://schemas.android.com/apk/res-auto"
---    android:layout_width="173dp"
---    android:layout_height="189dp"
---    android:background="@drawable/bg_category_1">
--+    android:layout_width="100dp"
--+    android:layout_height="120dp">
--+
-- 
---    <ImageView
---        android:id="@+id/imgCate"
---        android:layout_width="111dp"
---        android:layout_height="74dp"
---        android:scaleType="centerCrop"
---        android:layout_centerHorizontal="true"
---        android:layout_marginTop="28dp"
---        app:srcCompat="@drawable/frash_fruits" />
--+    <RelativeLayout
--+        android:layout_width="match_parent"
--+        android:layout_height="match_parent"
--+        android:padding="8dp"
--+        android:layout_margin="1dp"
--+        android:background="@color/white">
--+
--+        <de.hdodenhof.circleimageview.CircleImageView
--+            android:id="@+id/imgCate"
--+            android:layout_width="60dp"
--+            android:layout_height="60dp"
--+            android:layout_marginTop="8dp"
--+            android:scaleType="centerCrop"
--+            android:src="@drawable/vegetable"
--+            android:layout_centerHorizontal="true"
--+            app:civ_circle_background_color="@color/white" />
-- 
---    <TextView
---        android:id="@+id/tvName"
---        android:layout_width="93dp"
---        android:layout_height="44dp"
---        android:layout_below="@id/imgCate"
---        android:layout_centerHorizontal="true"
---        android:layout_marginTop="27dp"
---        android:ellipsize="end"
---        android:gravity="center"
---        android:textColor="#181725"
---        android:textSize="16sp"
---        android:letterSpacing="0.01"
---        android:text="@string/frash_fruits_vegetable" />
--+        <TextView
--+            android:id="@+id/tvName"
--+            android:layout_width="wrap_content"
--+            android:layout_height="wrap_content"
--+            android:layout_marginTop="4dp"
--+            android:text="@string/rau_c"
--+            android:textColor="#181725"
--+            android:layout_centerHorizontal="true"
--+            android:textSize="14sp"
--+            android:layout_below="@id/imgCate"
--+            android:textStyle="bold" />
--+    </RelativeLayout>
--+
-- </RelativeLayout>
--\ No newline at end of file
--Index: app/src/main/res/layout/fragment_home.xml
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<layout xmlns:tools=\"http://schemas.android.com/tools\"\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\r\n\r\n    <data>\r\n        <variable\r\n            name=\"viewmodel\"\r\n            type=\"com.example.agrimart.viewmodel.HomeFragmentViewModel\" />\r\n    </data>\r\n    <RelativeLayout\r\n        android:id=\"@+id/main1\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n\r\n        tools:context=\".ui.Homepage.HomeFragment\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:id=\"@+id/header\"\r\n            android:background=\"@color/green\"\r\n            android:orientation=\"horizontal\"\r\n            android:padding=\"16dp\">\r\n            <RelativeLayout\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:id=\"@+id/top\">\r\n\r\n            </RelativeLayout>\r\n\r\n            <androidx.cardview.widget.CardView\r\n                android:id=\"@+id/search_card\"\r\n                android:layout_width=\"0dp\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"1\"\r\n                app:cardCornerRadius=\"8dp\"\r\n                app:cardElevation=\"4dp\">\r\n\r\n                <LinearLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:orientation=\"horizontal\"\r\n                    android:padding=\"8dp\"\r\n                    android:id=\"@+id/search_bar\">\r\n\r\n                    <ImageButton\r\n                        android:id=\"@+id/search_icon\"\r\n                        android:layout_width=\"32dp\"\r\n                        android:layout_height=\"32dp\"\r\n                        android:src=\"@drawable/ic_search\"\r\n                        android:tint=\"@color/black\"\r\n                        android:layout_gravity=\"center_vertical\"\r\n                        android:layout_marginEnd=\"8dp\"\r\n                        android:background=\"@color/white\"/>\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/search_input\"\r\n                        android:layout_width=\"0dp\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_weight=\"1\"\r\n                        android:hint=\"@string/search\"\r\n                        android:background=\"@null\"\r\n                        android:padding=\"8dp\"\r\n                        android:textColor=\"@android:color/black\"\r\n                        android:textColorHint=\"@android:color/darker_gray\" />\r\n                </LinearLayout>\r\n            </androidx.cardview.widget.CardView>\r\n\r\n            <ImageButton\r\n                android:id=\"@+id/notification_icon\"\r\n                android:layout_width=\"32dp\"\r\n                android:layout_height=\"32dp\"\r\n                android:layout_gravity=\"center_vertical\"\r\n                android:layout_marginStart=\"10dp\"\r\n                android:layout_marginEnd=\"4dp\"\r\n                android:background=\"@color/green\"\r\n                android:src=\"@drawable/message\"\r\n                android:tint=\"@color/black\" />\r\n        </LinearLayout>\r\n\r\n        <androidx.core.widget.NestedScrollView\r\n            android:id=\"@+id/scroll_view\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_below=\"@id/header\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:orientation=\"vertical\"\r\n                android:layout_marginTop=\"10dp\">\r\n\r\n                <RelativeLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\">\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/categories\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_marginStart=\"24dp\"\r\n                        android:fontFamily=\"@font/circular_std\"\r\n                        android:text=\"@string/categories\"\r\n                        android:textColor=\"#272727\"\r\n                        android:textSize=\"20sp\"\r\n                        android:textStyle=\"bold\" />\r\n\r\n                    <TextView\r\n                        android:id=\"@+id/see_all\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:layout_alignParentEnd=\"true\"\r\n                        android:layout_marginEnd=\"23dp\"\r\n                        android:fontFamily=\"@font/circular_std\"\r\n                        android:text=\"@string/see_all\"\r\n                        android:textColor=\"@color/black\"\r\n                        android:textSize=\"14sp\" />\r\n                </RelativeLayout>\r\n\r\n                <androidx.recyclerview.widget.RecyclerView\r\n                    android:id=\"@+id/rvCategories\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:padding=\"8dp\"\r\n                    android:clipToPadding=\"false\" />\r\n                <RelativeLayout\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\">\r\n                    <TextView\r\n                        android:id=\"@+id/top_selling\"\r\n                        android:layout_width=\"wrap_content\"\r\n                        android:layout_height=\"wrap_content\"\r\n                        android:textSize=\"20sp\"\r\n                        android:text=\"@string/new_product\"\r\n                        android:layout_marginTop=\"24dp\"\r\n                        android:textColor=\"#272727\"\r\n                        android:fontFamily=\"@font/gabarito\"\r\n                        android:layout_marginStart=\"24dp\" />\r\n\r\n\r\n                </RelativeLayout>\r\n\r\n                <androidx.recyclerview.widget.RecyclerView\r\n                    android:id=\"@+id/rvProducts\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"10dp\"\r\n                    android:nestedScrollingEnabled=\"false\"\r\n                    android:padding=\"10dp\"/>\r\n                <TextView\r\n                    android:id=\"@+id/see_all1\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:textSize=\"14sp\"\r\n                    android:layout_marginTop=\"16dp\"\r\n                    android:fontFamily=\"@font/circular_std\"\r\n                    android:text=\"Đang tải...\"\r\n                    android:layout_gravity=\"center\"\r\n                    android:padding=\"8dp\"\r\n                    android:textColor=\"@color/black\" />\r\n\r\n            </LinearLayout>\r\n        </androidx.core.widget.NestedScrollView>\r\n    </RelativeLayout>\r\n</layout>
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/app/src/main/res/layout/fragment_home.xml b/app/src/main/res/layout/fragment_home.xml
----- a/app/src/main/res/layout/fragment_home.xml	(revision ce0170f819d965cecddf9d194d0b2e9db7a32c7f)
--+++ b/app/src/main/res/layout/fragment_home.xml	(date 1730998742605)
--@@ -12,7 +12,6 @@
--         android:id="@+id/main1"
--         android:layout_width="match_parent"
--         android:layout_height="match_parent"
---
--         tools:context=".ui.Homepage.HomeFragment">
-- 
--         <LinearLayout
--@@ -26,7 +25,6 @@
--                 android:layout_width="wrap_content"
--                 android:layout_height="wrap_content"
--                 android:id="@+id/top">
---
--             </RelativeLayout>
-- 
--             <androidx.cardview.widget.CardView
--@@ -88,12 +86,18 @@
--             <LinearLayout
--                 android:layout_width="match_parent"
--                 android:layout_height="wrap_content"
---                android:orientation="vertical"
---                android:layout_marginTop="10dp">
--+                android:orientation="vertical">
--+
--+                <androidx.viewpager2.widget.ViewPager2
--+                    android:id="@+id/carousel_viewpager"
--+                    android:layout_width="match_parent"
--+                    android:layout_height="200dp"
--+                    android:layout_below="@id/header"/>
-- 
--                 <RelativeLayout
--                     android:layout_width="match_parent"
---                    android:layout_height="wrap_content">
--+                    android:layout_height="wrap_content"
--+                    android:layout_marginTop="10dp">
-- 
--                     <TextView
--                         android:id="@+id/categories"
--@@ -105,17 +109,6 @@
--                         android:textColor="#272727"
--                         android:textSize="20sp"
--                         android:textStyle="bold" />
---
---                    <TextView
---                        android:id="@+id/see_all"
---                        android:layout_width="wrap_content"
---                        android:layout_height="wrap_content"
---                        android:layout_alignParentEnd="true"
---                        android:layout_marginEnd="23dp"
---                        android:fontFamily="@font/circular_std"
---                        android:text="@string/see_all"
---                        android:textColor="@color/black"
---                        android:textSize="14sp" />
--                 </RelativeLayout>
-- 
--                 <androidx.recyclerview.widget.RecyclerView
--@@ -125,6 +118,7 @@
--                     android:layout_marginTop="10dp"
--                     android:padding="8dp"
--                     android:clipToPadding="false" />
--+
--                 <RelativeLayout
--                     android:layout_width="match_parent"
--                     android:layout_height="wrap_content">
--@@ -133,7 +127,7 @@
--                         android:layout_width="wrap_content"
--                         android:layout_height="wrap_content"
--                         android:textSize="20sp"
---                        android:text="@string/new_product"
--+                        android:text="Dành riêng cho bạn"
--                         android:layout_marginTop="24dp"
--                         android:textColor="#272727"
--                         android:fontFamily="@font/gabarito"
-Index: app/src/main/res/menu/menu.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/app/src/main/res/menu/menu.xml b/app/src/main/res/menu/menu.xml
-new file mode 100644
---- /dev/null	(date 1731747085099)
-+++ b/app/src/main/res/menu/menu.xml	(date 1731747085099)
-@@ -0,0 +1,15 @@
-+<!-- res/menu/menu_product_detail.xml -->
-+<menu xmlns:android="http://schemas.android.com/apk/res/android">
-+    <item
-+        android:id="@+id/action_report"
-+        android:title="Báo cáo sản phẩm"
-+        android:orderInCategory="100"
-+        android:icon="@drawable/error"
-+        android:showAsAction="never" />
-+    <item
-+        android:id="@+id/action_home"
-+        android:title="Trở về trang chủ"
-+        android:icon="@drawable/home"
-+        android:orderInCategory="101"
-+        android:showAsAction="never" />
-+</menu>
-\ No newline at end of file
